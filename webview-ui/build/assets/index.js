const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index4.js","assets/is-plan-event-enabled.js","assets/index6.js"])))=>i.map(i=>d[i]);
var MB=Object.defineProperty;var NB=(r,e,t)=>e in r?MB(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var pr=(r,e,t)=>NB(r,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();var xg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qm(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function LB(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}),t}var H1={exports:{}},m0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CA;function jB(){if(CA)return m0;CA=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var s in i)s!=="key"&&(a[s]=i[s])}else a=i;return i=a.ref,{$$typeof:r,type:n,key:o,ref:i!==void 0?i:null,props:a}}return m0.Fragment=e,m0.jsx=t,m0.jsxs=t,m0}var AA;function BB(){return AA||(AA=1,H1.exports=jB()),H1.exports}var np=BB(),V1={exports:{}},Nn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RA;function FB(){if(RA)return Nn;RA=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),l=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),f=Symbol.iterator;function d(se){return se===null||typeof se!="object"?null:(se=f&&se[f]||se["@@iterator"],typeof se=="function"?se:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,m={};function w(se,ce,pe){this.props=se,this.context=ce,this.refs=m,this.updater=pe||v}w.prototype.isReactComponent={},w.prototype.setState=function(se,ce){if(typeof se!="object"&&typeof se!="function"&&se!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,se,ce,"setState")},w.prototype.forceUpdate=function(se){this.updater.enqueueForceUpdate(this,se,"forceUpdate")};function b(){}b.prototype=w.prototype;function y(se,ce,pe){this.props=se,this.context=ce,this.refs=m,this.updater=pe||v}var _=y.prototype=new b;_.constructor=y,p(_,w.prototype),_.isPureReactComponent=!0;var S=Array.isArray,A={H:null,A:null,T:null,S:null,V:null},D=Object.prototype.hasOwnProperty;function R(se,ce,pe,Pe,de,ge){return pe=ge.ref,{$$typeof:r,type:se,key:ce,ref:pe!==void 0?pe:null,props:ge}}function k(se,ce){return R(se.type,ce,void 0,void 0,void 0,se.props)}function j(se){return typeof se=="object"&&se!==null&&se.$$typeof===r}function F(se){var ce={"=":"=0",":":"=2"};return"$"+se.replace(/[=:]/g,function(pe){return ce[pe]})}var z=/\/+/g;function q(se,ce){return typeof se=="object"&&se!==null&&se.key!=null?F(""+se.key):ce.toString(36)}function $(){}function K(se){switch(se.status){case"fulfilled":return se.value;case"rejected":throw se.reason;default:switch(typeof se.status=="string"?se.then($,$):(se.status="pending",se.then(function(ce){se.status==="pending"&&(se.status="fulfilled",se.value=ce)},function(ce){se.status==="pending"&&(se.status="rejected",se.reason=ce)})),se.status){case"fulfilled":return se.value;case"rejected":throw se.reason}}throw se}function oe(se,ce,pe,Pe,de){var ge=typeof se;(ge==="undefined"||ge==="boolean")&&(se=null);var Ce=!1;if(se===null)Ce=!0;else switch(ge){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(se.$$typeof){case r:case e:Ce=!0;break;case c:return Ce=se._init,oe(Ce(se._payload),ce,pe,Pe,de)}}if(Ce)return de=de(se),Ce=Pe===""?"."+q(se,0):Pe,S(de)?(pe="",Ce!=null&&(pe=Ce.replace(z,"$&/")+"/"),oe(de,ce,pe,"",function(ke){return ke})):de!=null&&(j(de)&&(de=k(de,pe+(de.key==null||se&&se.key===de.key?"":(""+de.key).replace(z,"$&/")+"/")+Ce)),ce.push(de)),1;Ce=0;var Ne=Pe===""?".":Pe+":";if(S(se))for(var De=0;De<se.length;De++)Pe=se[De],ge=Ne+q(Pe,De),Ce+=oe(Pe,ce,pe,ge,de);else if(De=d(se),typeof De=="function")for(se=De.call(se),De=0;!(Pe=se.next()).done;)Pe=Pe.value,ge=Ne+q(Pe,De++),Ce+=oe(Pe,ce,pe,ge,de);else if(ge==="object"){if(typeof se.then=="function")return oe(K(se),ce,pe,Pe,de);throw ce=String(se),Error("Objects are not valid as a React child (found: "+(ce==="[object Object]"?"object with keys {"+Object.keys(se).join(", ")+"}":ce)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function J(se,ce,pe){if(se==null)return se;var Pe=[],de=0;return oe(se,Pe,"","",function(ge){return ce.call(pe,ge,de++)}),Pe}function re(se){if(se._status===-1){var ce=se._result;ce=ce(),ce.then(function(pe){(se._status===0||se._status===-1)&&(se._status=1,se._result=pe)},function(pe){(se._status===0||se._status===-1)&&(se._status=2,se._result=pe)}),se._status===-1&&(se._status=0,se._result=ce)}if(se._status===1)return se._result.default;throw se._result}var ae=typeof reportError=="function"?reportError:function(se){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ce=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof se=="object"&&se!==null&&typeof se.message=="string"?String(se.message):String(se),error:se});if(!window.dispatchEvent(ce))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",se);return}console.error(se)};function ve(){}return Nn.Children={map:J,forEach:function(se,ce,pe){J(se,function(){ce.apply(this,arguments)},pe)},count:function(se){var ce=0;return J(se,function(){ce++}),ce},toArray:function(se){return J(se,function(ce){return ce})||[]},only:function(se){if(!j(se))throw Error("React.Children.only expected to receive a single React element child.");return se}},Nn.Component=w,Nn.Fragment=t,Nn.Profiler=i,Nn.PureComponent=y,Nn.StrictMode=n,Nn.Suspense=u,Nn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,Nn.__COMPILER_RUNTIME={__proto__:null,c:function(se){return A.H.useMemoCache(se)}},Nn.cache=function(se){return function(){return se.apply(null,arguments)}},Nn.cloneElement=function(se,ce,pe){if(se==null)throw Error("The argument must be a React element, but you passed "+se+".");var Pe=p({},se.props),de=se.key,ge=void 0;if(ce!=null)for(Ce in ce.ref!==void 0&&(ge=void 0),ce.key!==void 0&&(de=""+ce.key),ce)!D.call(ce,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&ce.ref===void 0||(Pe[Ce]=ce[Ce]);var Ce=arguments.length-2;if(Ce===1)Pe.children=pe;else if(1<Ce){for(var Ne=Array(Ce),De=0;De<Ce;De++)Ne[De]=arguments[De+2];Pe.children=Ne}return R(se.type,de,void 0,void 0,ge,Pe)},Nn.createContext=function(se){return se={$$typeof:o,_currentValue:se,_currentValue2:se,_threadCount:0,Provider:null,Consumer:null},se.Provider=se,se.Consumer={$$typeof:a,_context:se},se},Nn.createElement=function(se,ce,pe){var Pe,de={},ge=null;if(ce!=null)for(Pe in ce.key!==void 0&&(ge=""+ce.key),ce)D.call(ce,Pe)&&Pe!=="key"&&Pe!=="__self"&&Pe!=="__source"&&(de[Pe]=ce[Pe]);var Ce=arguments.length-2;if(Ce===1)de.children=pe;else if(1<Ce){for(var Ne=Array(Ce),De=0;De<Ce;De++)Ne[De]=arguments[De+2];de.children=Ne}if(se&&se.defaultProps)for(Pe in Ce=se.defaultProps,Ce)de[Pe]===void 0&&(de[Pe]=Ce[Pe]);return R(se,ge,void 0,void 0,null,de)},Nn.createRef=function(){return{current:null}},Nn.forwardRef=function(se){return{$$typeof:s,render:se}},Nn.isValidElement=j,Nn.lazy=function(se){return{$$typeof:c,_payload:{_status:-1,_result:se},_init:re}},Nn.memo=function(se,ce){return{$$typeof:l,type:se,compare:ce===void 0?null:ce}},Nn.startTransition=function(se){var ce=A.T,pe={};A.T=pe;try{var Pe=se(),de=A.S;de!==null&&de(pe,Pe),typeof Pe=="object"&&Pe!==null&&typeof Pe.then=="function"&&Pe.then(ve,ae)}catch(ge){ae(ge)}finally{A.T=ce}},Nn.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},Nn.use=function(se){return A.H.use(se)},Nn.useActionState=function(se,ce,pe){return A.H.useActionState(se,ce,pe)},Nn.useCallback=function(se,ce){return A.H.useCallback(se,ce)},Nn.useContext=function(se){return A.H.useContext(se)},Nn.useDebugValue=function(){},Nn.useDeferredValue=function(se,ce){return A.H.useDeferredValue(se,ce)},Nn.useEffect=function(se,ce,pe){var Pe=A.H;if(typeof pe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Pe.useEffect(se,ce)},Nn.useId=function(){return A.H.useId()},Nn.useImperativeHandle=function(se,ce,pe){return A.H.useImperativeHandle(se,ce,pe)},Nn.useInsertionEffect=function(se,ce){return A.H.useInsertionEffect(se,ce)},Nn.useLayoutEffect=function(se,ce){return A.H.useLayoutEffect(se,ce)},Nn.useMemo=function(se,ce){return A.H.useMemo(se,ce)},Nn.useOptimistic=function(se,ce){return A.H.useOptimistic(se,ce)},Nn.useReducer=function(se,ce,pe){return A.H.useReducer(se,ce,pe)},Nn.useRef=function(se){return A.H.useRef(se)},Nn.useState=function(se){return A.H.useState(se)},Nn.useSyncExternalStore=function(se,ce,pe){return A.H.useSyncExternalStore(se,ce,pe)},Nn.useTransition=function(){return A.H.useTransition()},Nn.version="19.1.0",Nn}var PA;function r2(){return PA||(PA=1,V1.exports=FB()),V1.exports}var _i=r2();const UB=Qm(_i);var $1={exports:{}},b0={},W1={exports:{}},Y1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DA;function zB(){return DA||(DA=1,function(r){function e(J,re){var ae=J.length;J.push(re);e:for(;0<ae;){var ve=ae-1>>>1,se=J[ve];if(0<i(se,re))J[ve]=re,J[ae]=se,ae=ve;else break e}}function t(J){return J.length===0?null:J[0]}function n(J){if(J.length===0)return null;var re=J[0],ae=J.pop();if(ae!==re){J[0]=ae;e:for(var ve=0,se=J.length,ce=se>>>1;ve<ce;){var pe=2*(ve+1)-1,Pe=J[pe],de=pe+1,ge=J[de];if(0>i(Pe,ae))de<se&&0>i(ge,Pe)?(J[ve]=ge,J[de]=ae,ve=de):(J[ve]=Pe,J[pe]=ae,ve=pe);else if(de<se&&0>i(ge,ae))J[ve]=ge,J[de]=ae,ve=de;else break e}}return re}function i(J,re){var ae=J.sortIndex-re.sortIndex;return ae!==0?ae:J.id-re.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();r.unstable_now=function(){return o.now()-s}}var u=[],l=[],c=1,f=null,d=3,v=!1,p=!1,m=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function S(J){for(var re=t(l);re!==null;){if(re.callback===null)n(l);else if(re.startTime<=J)n(l),re.sortIndex=re.expirationTime,e(u,re);else break;re=t(l)}}function A(J){if(m=!1,S(J),!p)if(t(u)!==null)p=!0,D||(D=!0,q());else{var re=t(l);re!==null&&oe(A,re.startTime-J)}}var D=!1,R=-1,k=5,j=-1;function F(){return w?!0:!(r.unstable_now()-j<k)}function z(){if(w=!1,D){var J=r.unstable_now();j=J;var re=!0;try{e:{p=!1,m&&(m=!1,y(R),R=-1),v=!0;var ae=d;try{t:{for(S(J),f=t(u);f!==null&&!(f.expirationTime>J&&F());){var ve=f.callback;if(typeof ve=="function"){f.callback=null,d=f.priorityLevel;var se=ve(f.expirationTime<=J);if(J=r.unstable_now(),typeof se=="function"){f.callback=se,S(J),re=!0;break t}f===t(u)&&n(u),S(J)}else n(u);f=t(u)}if(f!==null)re=!0;else{var ce=t(l);ce!==null&&oe(A,ce.startTime-J),re=!1}}break e}finally{f=null,d=ae,v=!1}re=void 0}}finally{re?q():D=!1}}}var q;if(typeof _=="function")q=function(){_(z)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,K=$.port2;$.port1.onmessage=z,q=function(){K.postMessage(null)}}else q=function(){b(z,0)};function oe(J,re){R=b(function(){J(r.unstable_now())},re)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(J){J.callback=null},r.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<J?Math.floor(1e3/J):5},r.unstable_getCurrentPriorityLevel=function(){return d},r.unstable_next=function(J){switch(d){case 1:case 2:case 3:var re=3;break;default:re=d}var ae=d;d=re;try{return J()}finally{d=ae}},r.unstable_requestPaint=function(){w=!0},r.unstable_runWithPriority=function(J,re){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ae=d;d=J;try{return re()}finally{d=ae}},r.unstable_scheduleCallback=function(J,re,ae){var ve=r.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?ve+ae:ve):ae=ve,J){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=ae+se,J={id:c++,callback:re,priorityLevel:J,startTime:ae,expirationTime:se,sortIndex:-1},ae>ve?(J.sortIndex=ae,e(l,J),t(u)===null&&J===t(l)&&(m?(y(R),R=-1):m=!0,oe(A,ae-ve))):(J.sortIndex=se,e(u,J),p||v||(p=!0,D||(D=!0,q()))),J},r.unstable_shouldYield=F,r.unstable_wrapCallback=function(J){var re=d;return function(){var ae=d;d=re;try{return J.apply(this,arguments)}finally{d=ae}}}}(Y1)),Y1}var IA;function qB(){return IA||(IA=1,W1.exports=zB()),W1.exports}var X1={exports:{}},sc={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kA;function GB(){if(kA)return sc;kA=1;var r=r2();function e(u){var l="https://react.dev/errors/"+u;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)l+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+u+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(u,l,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:f==null?null:""+f,children:u,containerInfo:l,implementation:c}}var o=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function s(u,l){if(u==="font")return"";if(typeof l=="string")return l==="use-credentials"?l:""}return sc.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,sc.createPortal=function(u,l){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)throw Error(e(299));return a(u,l,null,c)},sc.flushSync=function(u){var l=o.T,c=n.p;try{if(o.T=null,n.p=2,u)return u()}finally{o.T=l,n.p=c,n.d.f()}},sc.preconnect=function(u,l){typeof u=="string"&&(l?(l=l.crossOrigin,l=typeof l=="string"?l==="use-credentials"?l:"":void 0):l=null,n.d.C(u,l))},sc.prefetchDNS=function(u){typeof u=="string"&&n.d.D(u)},sc.preinit=function(u,l){if(typeof u=="string"&&l&&typeof l.as=="string"){var c=l.as,f=s(c,l.crossOrigin),d=typeof l.integrity=="string"?l.integrity:void 0,v=typeof l.fetchPriority=="string"?l.fetchPriority:void 0;c==="style"?n.d.S(u,typeof l.precedence=="string"?l.precedence:void 0,{crossOrigin:f,integrity:d,fetchPriority:v}):c==="script"&&n.d.X(u,{crossOrigin:f,integrity:d,fetchPriority:v,nonce:typeof l.nonce=="string"?l.nonce:void 0})}},sc.preinitModule=function(u,l){if(typeof u=="string")if(typeof l=="object"&&l!==null){if(l.as==null||l.as==="script"){var c=s(l.as,l.crossOrigin);n.d.M(u,{crossOrigin:c,integrity:typeof l.integrity=="string"?l.integrity:void 0,nonce:typeof l.nonce=="string"?l.nonce:void 0})}}else l==null&&n.d.M(u)},sc.preload=function(u,l){if(typeof u=="string"&&typeof l=="object"&&l!==null&&typeof l.as=="string"){var c=l.as,f=s(c,l.crossOrigin);n.d.L(u,c,{crossOrigin:f,integrity:typeof l.integrity=="string"?l.integrity:void 0,nonce:typeof l.nonce=="string"?l.nonce:void 0,type:typeof l.type=="string"?l.type:void 0,fetchPriority:typeof l.fetchPriority=="string"?l.fetchPriority:void 0,referrerPolicy:typeof l.referrerPolicy=="string"?l.referrerPolicy:void 0,imageSrcSet:typeof l.imageSrcSet=="string"?l.imageSrcSet:void 0,imageSizes:typeof l.imageSizes=="string"?l.imageSizes:void 0,media:typeof l.media=="string"?l.media:void 0})}},sc.preloadModule=function(u,l){if(typeof u=="string")if(l){var c=s(l.as,l.crossOrigin);n.d.m(u,{as:typeof l.as=="string"&&l.as!=="script"?l.as:void 0,crossOrigin:c,integrity:typeof l.integrity=="string"?l.integrity:void 0})}else n.d.m(u)},sc.requestFormReset=function(u){n.d.r(u)},sc.unstable_batchedUpdates=function(u,l){return u(l)},sc.useFormState=function(u,l,c){return o.H.useFormState(u,l,c)},sc.useFormStatus=function(){return o.H.useHostTransitionStatus()},sc.version="19.1.0",sc}var MA;function HB(){if(MA)return X1.exports;MA=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),X1.exports=GB(),X1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NA;function VB(){if(NA)return b0;NA=1;var r=qB(),e=r2(),t=HB();function n(h){var g="https://react.dev/errors/"+h;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+h+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function a(h){var g=h,T=h;if(h.alternate)for(;g.return;)g=g.return;else{h=g;do g=h,(g.flags&4098)!==0&&(T=g.return),h=g.return;while(h)}return g.tag===3?T:null}function o(h){if(h.tag===13){var g=h.memoizedState;if(g===null&&(h=h.alternate,h!==null&&(g=h.memoizedState)),g!==null)return g.dehydrated}return null}function s(h){if(a(h)!==h)throw Error(n(188))}function u(h){var g=h.alternate;if(!g){if(g=a(h),g===null)throw Error(n(188));return g!==h?null:h}for(var T=h,M=g;;){var H=T.return;if(H===null)break;var Z=H.alternate;if(Z===null){if(M=H.return,M!==null){T=M;continue}break}if(H.child===Z.child){for(Z=H.child;Z;){if(Z===T)return s(H),h;if(Z===M)return s(H),g;Z=Z.sibling}throw Error(n(188))}if(T.return!==M.return)T=H,M=Z;else{for(var he=!1,Ae=H.child;Ae;){if(Ae===T){he=!0,T=H,M=Z;break}if(Ae===M){he=!0,M=H,T=Z;break}Ae=Ae.sibling}if(!he){for(Ae=Z.child;Ae;){if(Ae===T){he=!0,T=Z,M=H;break}if(Ae===M){he=!0,M=Z,T=H;break}Ae=Ae.sibling}if(!he)throw Error(n(189))}}if(T.alternate!==M)throw Error(n(190))}if(T.tag!==3)throw Error(n(188));return T.stateNode.current===T?h:g}function l(h){var g=h.tag;if(g===5||g===26||g===27||g===6)return h;for(h=h.child;h!==null;){if(g=l(h),g!==null)return g;h=h.sibling}return null}var c=Object.assign,f=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),y=Symbol.for("react.consumer"),_=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function q(h){return h===null||typeof h!="object"?null:(h=z&&h[z]||h["@@iterator"],typeof h=="function"?h:null)}var $=Symbol.for("react.client.reference");function K(h){if(h==null)return null;if(typeof h=="function")return h.$$typeof===$?null:h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case p:return"Fragment";case w:return"Profiler";case m:return"StrictMode";case A:return"Suspense";case D:return"SuspenseList";case j:return"Activity"}if(typeof h=="object")switch(h.$$typeof){case v:return"Portal";case _:return(h.displayName||"Context")+".Provider";case y:return(h._context.displayName||"Context")+".Consumer";case S:var g=h.render;return h=h.displayName,h||(h=g.displayName||g.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case R:return g=h.displayName||null,g!==null?g:K(h.type)||"Memo";case k:g=h._payload,h=h._init;try{return K(h(g))}catch{}}return null}var oe=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},ve=[],se=-1;function ce(h){return{current:h}}function pe(h){0>se||(h.current=ve[se],ve[se]=null,se--)}function Pe(h,g){se++,ve[se]=h.current,h.current=g}var de=ce(null),ge=ce(null),Ce=ce(null),Ne=ce(null);function De(h,g){switch(Pe(Ce,g),Pe(ge,h),Pe(de,null),g.nodeType){case 9:case 11:h=(h=g.documentElement)&&(h=h.namespaceURI)?ki(h):0;break;default:if(h=g.tagName,g=g.namespaceURI)g=ki(g),h=Ia(g,h);else switch(h){case"svg":h=1;break;case"math":h=2;break;default:h=0}}pe(de),Pe(de,h)}function ke(){pe(de),pe(ge),pe(Ce)}function _e(h){h.memoizedState!==null&&Pe(Ne,h);var g=de.current,T=Ia(g,h.type);g!==T&&(Pe(ge,h),Pe(de,T))}function Ie(h){ge.current===h&&(pe(de),pe(ge)),Ne.current===h&&(pe(Ne),lr._currentValue=ae)}var Ge=Object.prototype.hasOwnProperty,Qe=r.unstable_scheduleCallback,ot=r.unstable_cancelCallback,Tt=r.unstable_shouldYield,zt=r.unstable_requestPaint,pt=r.unstable_now,Q=r.unstable_getCurrentPriorityLevel,ne=r.unstable_ImmediatePriority,fe=r.unstable_UserBlockingPriority,Ue=r.unstable_NormalPriority,qe=r.unstable_LowPriority,We=r.unstable_IdlePriority,ft=r.log,Ht=r.unstable_setDisableYieldValue,Et=null,Se=null;function Ke(h){if(typeof ft=="function"&&Ht(h),Se&&typeof Se.setStrictMode=="function")try{Se.setStrictMode(Et,h)}catch{}}var ht=Math.clz32?Math.clz32:er,ct=Math.log,xt=Math.LN2;function er(h){return h>>>=0,h===0?32:31-(ct(h)/xt|0)|0}var Rt=256,Jt=4194304;function mr(h){var g=h&42;if(g!==0)return g;switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return h&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return h}}function Mr(h,g,T){var M=h.pendingLanes;if(M===0)return 0;var H=0,Z=h.suspendedLanes,he=h.pingedLanes;h=h.warmLanes;var Ae=M&134217727;return Ae!==0?(M=Ae&~Z,M!==0?H=mr(M):(he&=Ae,he!==0?H=mr(he):T||(T=Ae&~h,T!==0&&(H=mr(T))))):(Ae=M&~Z,Ae!==0?H=mr(Ae):he!==0?H=mr(he):T||(T=M&~h,T!==0&&(H=mr(T)))),H===0?0:g!==0&&g!==H&&(g&Z)===0&&(Z=H&-H,T=g&-g,Z>=T||Z===32&&(T&4194048)!==0)?g:H}function cr(h,g){return(h.pendingLanes&~(h.suspendedLanes&~h.pingedLanes)&g)===0}function Fr(h,g){switch(h){case 1:case 2:case 4:case 8:case 64:return g+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dr(){var h=Rt;return Rt<<=1,(Rt&4194048)===0&&(Rt=256),h}function Cr(){var h=Jt;return Jt<<=1,(Jt&62914560)===0&&(Jt=4194304),h}function On(h){for(var g=[],T=0;31>T;T++)g.push(h);return g}function Rn(h,g){h.pendingLanes|=g,g!==268435456&&(h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0)}function Ha(h,g,T,M,H,Z){var he=h.pendingLanes;h.pendingLanes=T,h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0,h.expiredLanes&=T,h.entangledLanes&=T,h.errorRecoveryDisabledLanes&=T,h.shellSuspendCounter=0;var Ae=h.entanglements,$e=h.expirationTimes,dt=h.hiddenUpdates;for(T=he&~T;0<T;){var kt=31-ht(T),Ut=1<<kt;Ae[kt]=0,$e[kt]=-1;var bt=dt[kt];if(bt!==null)for(dt[kt]=null,kt=0;kt<bt.length;kt++){var yt=bt[kt];yt!==null&&(yt.lane&=-536870913)}T&=~Ut}M!==0&&ni(h,M,0),Z!==0&&H===0&&h.tag!==0&&(h.suspendedLanes|=Z&~(he&~g))}function ni(h,g,T){h.pendingLanes|=g,h.suspendedLanes&=~g;var M=31-ht(g);h.entangledLanes|=g,h.entanglements[M]=h.entanglements[M]|1073741824|T&4194090}function Vn(h,g){var T=h.entangledLanes|=g;for(h=h.entanglements;T;){var M=31-ht(T),H=1<<M;H&g|h[M]&g&&(h[M]|=g),T&=~H}}function ii(h){switch(h){case 2:h=1;break;case 8:h=4;break;case 32:h=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:h=128;break;case 268435456:h=134217728;break;default:h=0}return h}function ui(h){return h&=-h,2<h?8<h?(h&134217727)!==0?32:268435456:8:2}function ji(){var h=re.p;return h!==0?h:(h=window.event,h===void 0?32:oa(h.type))}function la(h,g){var T=re.p;try{return re.p=h,g()}finally{re.p=T}}var ca=Math.random().toString(36).slice(2),Pn="__reactFiber$"+ca,ai="__reactProps$"+ca,fa="__reactContainer$"+ca,po="__reactEvents$"+ca,Qi="__reactListeners$"+ca,Wr="__reactHandles$"+ca,zn="__reactResources$"+ca,Na="__reactMarker$"+ca;function wa(h){delete h[Pn],delete h[ai],delete h[po],delete h[Qi],delete h[Wr]}function Va(h){var g=h[Pn];if(g)return g;for(var T=h.parentNode;T;){if(g=T[fa]||T[Pn]){if(T=g.alternate,g.child!==null||T!==null&&T.child!==null)for(h=dm(h);h!==null;){if(T=h[Pn])return T;h=dm(h)}return g}h=T,T=h.parentNode}return null}function Fs(h){if(h=h[Pn]||h[fa]){var g=h.tag;if(g===5||g===6||g===13||g===26||g===27||g===3)return h}return null}function $a(h){var g=h.tag;if(g===5||g===26||g===27||g===6)return h.stateNode;throw Error(n(33))}function ko(h){var g=h[zn];return g||(g=h[zn]={hoistableStyles:new Map,hoistableScripts:new Map}),g}function Bi(h){h[Na]=!0}var Us=new Set,lf={};function go(h,g){Oi(h,g),Oi(h+"Capture",g)}function Oi(h,g){for(lf[h]=g,h=0;h<g.length;h++)Us.add(g[h])}var iu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mo={},wi={};function ha(h){return Ge.call(wi,h)?!0:Ge.call(Mo,h)?!1:iu.test(h)?wi[h]=!0:(Mo[h]=!0,!1)}function Nr(h,g,T){if(ha(g))if(T===null)h.removeAttribute(g);else{switch(typeof T){case"undefined":case"function":case"symbol":h.removeAttribute(g);return;case"boolean":var M=g.toLowerCase().slice(0,5);if(M!=="data-"&&M!=="aria-"){h.removeAttribute(g);return}}h.setAttribute(g,""+T)}}function La(h,g,T){if(T===null)h.removeAttribute(g);else{switch(typeof T){case"undefined":case"function":case"symbol":case"boolean":h.removeAttribute(g);return}h.setAttribute(g,""+T)}}function da(h,g,T,M){if(M===null)h.removeAttribute(T);else{switch(typeof M){case"undefined":case"function":case"symbol":case"boolean":h.removeAttribute(T);return}h.setAttributeNS(g,T,""+M)}}var Tn,gn;function Ji(h){if(Tn===void 0)try{throw Error()}catch(T){var g=T.stack.trim().match(/\n( *(at )?)/);Tn=g&&g[1]||"",gn=-1<T.stack.indexOf(`
    at`)?" (<anonymous>)":-1<T.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Tn+h+gn}var fl=!1;function Gf(h,g){if(!h||fl)return"";fl=!0;var T=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var M={DetermineComponentFrameRoot:function(){try{if(g){var Ut=function(){throw Error()};if(Object.defineProperty(Ut.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ut,[])}catch(yt){var bt=yt}Reflect.construct(h,[],Ut)}else{try{Ut.call()}catch(yt){bt=yt}h.call(Ut.prototype)}}else{try{throw Error()}catch(yt){bt=yt}(Ut=h())&&typeof Ut.catch=="function"&&Ut.catch(function(){})}}catch(yt){if(yt&&bt&&typeof yt.stack=="string")return[yt.stack,bt.stack]}return[null,null]}};M.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var H=Object.getOwnPropertyDescriptor(M.DetermineComponentFrameRoot,"name");H&&H.configurable&&Object.defineProperty(M.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var Z=M.DetermineComponentFrameRoot(),he=Z[0],Ae=Z[1];if(he&&Ae){var $e=he.split(`
`),dt=Ae.split(`
`);for(H=M=0;M<$e.length&&!$e[M].includes("DetermineComponentFrameRoot");)M++;for(;H<dt.length&&!dt[H].includes("DetermineComponentFrameRoot");)H++;if(M===$e.length||H===dt.length)for(M=$e.length-1,H=dt.length-1;1<=M&&0<=H&&$e[M]!==dt[H];)H--;for(;1<=M&&0<=H;M--,H--)if($e[M]!==dt[H]){if(M!==1||H!==1)do if(M--,H--,0>H||$e[M]!==dt[H]){var kt=`
`+$e[M].replace(" at new "," at ");return h.displayName&&kt.includes("<anonymous>")&&(kt=kt.replace("<anonymous>",h.displayName)),kt}while(1<=M&&0<=H);break}}}finally{fl=!1,Error.prepareStackTrace=T}return(T=h?h.displayName||h.name:"")?Ji(T):""}function gc(h){switch(h.tag){case 26:case 27:case 5:return Ji(h.type);case 16:return Ji("Lazy");case 13:return Ji("Suspense");case 19:return Ji("SuspenseList");case 0:case 15:return Gf(h.type,!1);case 11:return Gf(h.type.render,!1);case 1:return Gf(h.type,!0);case 31:return Ji("Activity");default:return""}}function Th(h){try{var g="";do g+=gc(h),h=h.return;while(h);return g}catch(T){return`
Error generating stack: `+T.message+`
`+T.stack}}function Xn(h){switch(typeof h){case"bigint":case"boolean":case"number":case"string":case"undefined":return h;case"object":return h;default:return""}}function yc(h){var g=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(g==="checkbox"||g==="radio")}function Wo(h){var g=yc(h)?"checked":"value",T=Object.getOwnPropertyDescriptor(h.constructor.prototype,g),M=""+h[g];if(!h.hasOwnProperty(g)&&typeof T<"u"&&typeof T.get=="function"&&typeof T.set=="function"){var H=T.get,Z=T.set;return Object.defineProperty(h,g,{configurable:!0,get:function(){return H.call(this)},set:function(he){M=""+he,Z.call(this,he)}}),Object.defineProperty(h,g,{enumerable:T.enumerable}),{getValue:function(){return M},setValue:function(he){M=""+he},stopTracking:function(){h._valueTracker=null,delete h[g]}}}}function hl(h){h._valueTracker||(h._valueTracker=Wo(h))}function cf(h){if(!h)return!1;var g=h._valueTracker;if(!g)return!0;var T=g.getValue(),M="";return h&&(M=yc(h)?h.checked?"true":"false":h.value),h=M,h!==T?(g.setValue(h),!0):!1}function Ta(h){if(h=h||(typeof document<"u"?document:void 0),typeof h>"u")return null;try{return h.activeElement||h.body}catch{return h.body}}var dl=/[\n"\\]/g;function Wa(h){return h.replace(dl,function(g){return"\\"+g.charCodeAt(0).toString(16)+" "})}function ff(h,g,T,M,H,Z,he,Ae){h.name="",he!=null&&typeof he!="function"&&typeof he!="symbol"&&typeof he!="boolean"?h.type=he:h.removeAttribute("type"),g!=null?he==="number"?(g===0&&h.value===""||h.value!=g)&&(h.value=""+Xn(g)):h.value!==""+Xn(g)&&(h.value=""+Xn(g)):he!=="submit"&&he!=="reset"||h.removeAttribute("value"),g!=null?hn(h,he,Xn(g)):T!=null?hn(h,he,Xn(T)):M!=null&&h.removeAttribute("value"),H==null&&Z!=null&&(h.defaultChecked=!!Z),H!=null&&(h.checked=H&&typeof H!="function"&&typeof H!="symbol"),Ae!=null&&typeof Ae!="function"&&typeof Ae!="symbol"&&typeof Ae!="boolean"?h.name=""+Xn(Ae):h.removeAttribute("name")}function Hf(h,g,T,M,H,Z,he,Ae){if(Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"&&(h.type=Z),g!=null||T!=null){if(!(Z!=="submit"&&Z!=="reset"||g!=null))return;T=T!=null?""+Xn(T):"",g=g!=null?""+Xn(g):T,Ae||g===h.value||(h.value=g),h.defaultValue=g}M=M??H,M=typeof M!="function"&&typeof M!="symbol"&&!!M,h.checked=Ae?h.checked:!!M,h.defaultChecked=!!M,he!=null&&typeof he!="function"&&typeof he!="symbol"&&typeof he!="boolean"&&(h.name=he)}function hn(h,g,T){g==="number"&&Ta(h.ownerDocument)===h||h.defaultValue===""+T||(h.defaultValue=""+T)}function ro(h,g,T,M){if(h=h.options,g){g={};for(var H=0;H<T.length;H++)g["$"+T[H]]=!0;for(T=0;T<h.length;T++)H=g.hasOwnProperty("$"+h[T].value),h[T].selected!==H&&(h[T].selected=H),H&&M&&(h[T].defaultSelected=!0)}else{for(T=""+Xn(T),g=null,H=0;H<h.length;H++){if(h[H].value===T){h[H].selected=!0,M&&(h[H].defaultSelected=!0);return}g!==null||h[H].disabled||(g=h[H])}g!==null&&(g.selected=!0)}}function No(h,g,T){if(g!=null&&(g=""+Xn(g),g!==h.value&&(h.value=g),T==null)){h.defaultValue!==g&&(h.defaultValue=g);return}h.defaultValue=T!=null?""+Xn(T):""}function Vf(h,g,T,M){if(g==null){if(M!=null){if(T!=null)throw Error(n(92));if(oe(M)){if(1<M.length)throw Error(n(93));M=M[0]}T=M}T==null&&(T=""),g=T}T=Xn(g),h.defaultValue=T,M=h.textContent,M===T&&M!==""&&M!==null&&(h.value=M)}function fr(h,g){if(g){var T=h.firstChild;if(T&&T===h.lastChild&&T.nodeType===3){T.nodeValue=g;return}}h.textContent=g}var mc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $f(h,g,T){var M=g.indexOf("--")===0;T==null||typeof T=="boolean"||T===""?M?h.setProperty(g,""):g==="float"?h.cssFloat="":h[g]="":M?h.setProperty(g,T):typeof T!="number"||T===0||mc.has(g)?g==="float"?h.cssFloat=T:h[g]=(""+T).trim():h[g]=T+"px"}function au(h,g,T){if(g!=null&&typeof g!="object")throw Error(n(62));if(h=h.style,T!=null){for(var M in T)!T.hasOwnProperty(M)||g!=null&&g.hasOwnProperty(M)||(M.indexOf("--")===0?h.setProperty(M,""):M==="float"?h.cssFloat="":h[M]="");for(var H in g)M=g[H],g.hasOwnProperty(H)&&T[H]!==M&&$f(h,H,M)}else for(var Z in g)g.hasOwnProperty(Z)&&$f(h,Z,g[Z])}function Fl(h){if(h.indexOf("-")===-1)return!1;switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ps=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yo(h){return kn.test(""+h)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":h}var bc=null;function Ch(h){return h=h.target||h.srcElement||window,h.correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var vl=null,_c=null;function Ah(h){var g=Fs(h);if(g&&(h=g.stateNode)){var T=h[ai]||null;e:switch(h=g.stateNode,g.type){case"input":if(ff(h,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name),g=T.name,T.type==="radio"&&g!=null){for(T=h;T.parentNode;)T=T.parentNode;for(T=T.querySelectorAll('input[name="'+Wa(""+g)+'"][type="radio"]'),g=0;g<T.length;g++){var M=T[g];if(M!==h&&M.form===h.form){var H=M[ai]||null;if(!H)throw Error(n(90));ff(M,H.value,H.defaultValue,H.defaultValue,H.checked,H.defaultChecked,H.type,H.name)}}for(g=0;g<T.length;g++)M=T[g],M.form===h.form&&cf(M)}break e;case"textarea":No(h,T.value,T.defaultValue);break e;case"select":g=T.value,g!=null&&ro(h,!!T.multiple,g,!1)}}}var wc=!1;function Ul(h,g,T){if(wc)return h(g,T);wc=!0;try{var M=h(g);return M}finally{if(wc=!1,(vl!==null||_c!==null)&&(nv(),vl&&(g=vl,h=_c,_c=vl=null,Ah(g),h)))for(g=0;g<h.length;g++)Ah(h[g])}}function zs(h,g){var T=h.stateNode;if(T===null)return null;var M=T[ai]||null;if(M===null)return null;T=M[g];e:switch(g){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(M=!M.disabled)||(h=h.type,M=!(h==="button"||h==="input"||h==="select"||h==="textarea")),h=!M;break e;default:h=!1}if(h)return null;if(T&&typeof T!="function")throw Error(n(231,g,typeof T));return T}var no=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ec=!1;if(no)try{var zl={};Object.defineProperty(zl,"passive",{get:function(){Ec=!0}}),window.addEventListener("test",zl,zl),window.removeEventListener("test",zl,zl)}catch{Ec=!1}var ou=null,xc=null,ku=null;function hf(){if(ku)return ku;var h,g=xc,T=g.length,M,H="value"in ou?ou.value:ou.textContent,Z=H.length;for(h=0;h<T&&g[h]===H[h];h++);var he=T-h;for(M=1;M<=he&&g[T-M]===H[Z-M];M++);return ku=H.slice(h,1<M?1-M:void 0)}function $n(h){var g=h.keyCode;return"charCode"in h?(h=h.charCode,h===0&&g===13&&(h=13)):h=g,h===10&&(h=13),32<=h||h===13?h:0}function tn(){return!0}function Wf(){return!1}function Ca(h){function g(T,M,H,Z,he){this._reactName=T,this._targetInst=H,this.type=M,this.nativeEvent=Z,this.target=he,this.currentTarget=null;for(var Ae in h)h.hasOwnProperty(Ae)&&(T=h[Ae],this[Ae]=T?T(Z):Z[Ae]);return this.isDefaultPrevented=(Z.defaultPrevented!=null?Z.defaultPrevented:Z.returnValue===!1)?tn:Wf,this.isPropagationStopped=Wf,this}return c(g.prototype,{preventDefault:function(){this.defaultPrevented=!0;var T=this.nativeEvent;T&&(T.preventDefault?T.preventDefault():typeof T.returnValue!="unknown"&&(T.returnValue=!1),this.isDefaultPrevented=tn)},stopPropagation:function(){var T=this.nativeEvent;T&&(T.stopPropagation?T.stopPropagation():typeof T.cancelBubble!="unknown"&&(T.cancelBubble=!0),this.isPropagationStopped=tn)},persist:function(){},isPersistent:tn}),g}var pl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},su=Ca(pl),gs=c({},pl,{view:0,detail:0}),bv=Ca(gs),Yf,gl,li,Sc=c({},gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ao,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==li&&(li&&h.type==="mousemove"?(Yf=h.screenX-li.screenX,gl=h.screenY-li.screenY):gl=Yf=0,li=h),Yf)},movementY:function(h){return"movementY"in h?h.movementY:gl}}),yo=Ca(Sc),Oc=c({},Sc,{dataTransfer:0}),Rh=Ca(Oc),io=c({},gs,{relatedTarget:0}),Fi=Ca(io),Mu=c({},pl,{animationName:0,elapsedTime:0,pseudoElement:0}),Nu=Ca(Mu),uu=c({},pl,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),Ct=Ca(uu),Lt=c({},pl,{data:0}),Nt=Ca(Lt),vr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ln={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ya(h){var g=this.nativeEvent;return g.getModifierState?g.getModifierState(h):(h=Ln[h])?!!g[h]:!1}function ao(){return Ya}var ci=c({},gs,{key:function(h){if(h.key){var g=vr[h.key]||h.key;if(g!=="Unidentified")return g}return h.type==="keypress"?(h=$n(h),h===13?"Enter":String.fromCharCode(h)):h.type==="keydown"||h.type==="keyup"?Pr[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ao,charCode:function(h){return h.type==="keypress"?$n(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?$n(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),Sd=Ca(ci),ea=c({},Sc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ea=Ca(ea),Ph=c({},gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ao}),Zp=Ca(Ph),df=c({},pl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xf=Ca(df),vf=c({},Sc,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),jn=Ca(vf),Dh=c({},pl,{newState:0,oldState:0}),Tc=Ca(Dh),ql=[9,13,27,32],Ih=no&&"CompositionEvent"in window,Lu=null;no&&"documentMode"in document&&(Lu=document.documentMode);var Od=no&&"TextEvent"in window&&!Lu,yl=no&&(!Ih||Lu&&8<Lu&&11>=Lu),ju=" ",Kf=!1;function cp(h,g){switch(h){case"keyup":return ql.indexOf(g.keyCode)!==-1;case"keydown":return g.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cc(h){return h=h.detail,typeof h=="object"&&"data"in h?h.data:null}var Gl=!1;function fp(h,g){switch(h){case"compositionend":return Cc(g);case"keypress":return g.which!==32?null:(Kf=!0,ju);case"textInput":return h=g.data,h===ju&&Kf?null:h;default:return null}}function Td(h,g){if(Gl)return h==="compositionend"||!Ih&&cp(h,g)?(h=hf(),ku=xc=ou=null,Gl=!1,h):null;switch(h){case"paste":return null;case"keypress":if(!(g.ctrlKey||g.altKey||g.metaKey)||g.ctrlKey&&g.altKey){if(g.char&&1<g.char.length)return g.char;if(g.which)return String.fromCharCode(g.which)}return null;case"compositionend":return yl&&g.locale!=="ko"?null:g.data;default:return null}}var Xo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ac(h){var g=h&&h.nodeName&&h.nodeName.toLowerCase();return g==="input"?!!Xo[h.type]:g==="textarea"}function Bu(h,g,T,M){vl?_c?_c.push(M):_c=[M]:vl=M,g=cg(g,"onChange"),0<g.length&&(T=new su("onChange","change",null,T,M),h.push({event:T,listeners:g}))}var Rc=null,kh=null;function Qp(h){ly(h,0)}function mo(h){var g=$a(h);if(cf(g))return h}function Cd(h,g){if(h==="change")return g}var Ad=!1;if(no){var Zf;if(no){var Hl="oninput"in document;if(!Hl){var _v=document.createElement("div");_v.setAttribute("oninput","return;"),Hl=typeof _v.oninput=="function"}Zf=Hl}else Zf=!1;Ad=Zf&&(!document.documentMode||9<document.documentMode)}function Ko(){Rc&&(Rc.detachEvent("onpropertychange",bo),kh=Rc=null)}function bo(h){if(h.propertyName==="value"&&mo(kh)){var g=[];Bu(g,kh,h,Ch(h)),Ul(Qp,g)}}function Ti(h,g,T){h==="focusin"?(Ko(),Rc=g,kh=T,Rc.attachEvent("onpropertychange",bo)):h==="focusout"&&Ko()}function ta(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return mo(kh)}function wv(h,g){if(h==="click")return mo(g)}function Wg(h,g){if(h==="input"||h==="change")return mo(g)}function Jp(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var qs=typeof Object.is=="function"?Object.is:Jp;function Er(h,g){if(qs(h,g))return!0;if(typeof h!="object"||h===null||typeof g!="object"||g===null)return!1;var T=Object.keys(h),M=Object.keys(g);if(T.length!==M.length)return!1;for(M=0;M<T.length;M++){var H=T[M];if(!Ge.call(g,H)||!qs(h[H],g[H]))return!1}return!0}function _o(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function ra(h,g){var T=_o(h);h=0;for(var M;T;){if(T.nodeType===3){if(M=h+T.textContent.length,h<=g&&M>=g)return{node:T,offset:g-h};h=M}e:{for(;T;){if(T.nextSibling){T=T.nextSibling;break e}T=T.parentNode}T=void 0}T=_o(T)}}function pf(h,g){return h&&g?h===g?!0:h&&h.nodeType===3?!1:g&&g.nodeType===3?pf(h,g.parentNode):"contains"in h?h.contains(g):h.compareDocumentPosition?!!(h.compareDocumentPosition(g)&16):!1:!1}function Qf(h){h=h!=null&&h.ownerDocument!=null&&h.ownerDocument.defaultView!=null?h.ownerDocument.defaultView:window;for(var g=Ta(h.document);g instanceof h.HTMLIFrameElement;){try{var T=typeof g.contentWindow.location.href=="string"}catch{T=!1}if(T)h=g.contentWindow;else break;g=Ta(h.document)}return g}function gf(h){var g=h&&h.nodeName&&h.nodeName.toLowerCase();return g&&(g==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||g==="textarea"||h.contentEditable==="true")}var Rd=no&&"documentMode"in document&&11>=document.documentMode,Fu=null,Pc=null,ut=null,It=!1;function mt(h,g,T){var M=T.window===T?T.document:T.nodeType===9?T:T.ownerDocument;It||Fu==null||Fu!==Ta(M)||(M=Fu,"selectionStart"in M&&gf(M)?M={start:M.selectionStart,end:M.selectionEnd}:(M=(M.ownerDocument&&M.ownerDocument.defaultView||window).getSelection(),M={anchorNode:M.anchorNode,anchorOffset:M.anchorOffset,focusNode:M.focusNode,focusOffset:M.focusOffset}),ut&&Er(ut,M)||(ut=M,M=cg(Pc,"onSelect"),0<M.length&&(g=new su("onSelect","select",null,g,T),h.push({event:g,listeners:M}),g.target=Fu)))}function yr(h,g){var T={};return T[h.toLowerCase()]=g.toLowerCase(),T["Webkit"+h]="webkit"+g,T["Moz"+h]="moz"+g,T}var Ir={animationend:yr("Animation","AnimationEnd"),animationiteration:yr("Animation","AnimationIteration"),animationstart:yr("Animation","AnimationStart"),transitionrun:yr("Transition","TransitionRun"),transitionstart:yr("Transition","TransitionStart"),transitioncancel:yr("Transition","TransitionCancel"),transitionend:yr("Transition","TransitionEnd")},_n={},xa={};no&&(xa=document.createElement("div").style,"AnimationEvent"in window||(delete Ir.animationend.animation,delete Ir.animationiteration.animation,delete Ir.animationstart.animation),"TransitionEvent"in window||delete Ir.transitionend.transition);function xe(h){if(_n[h])return _n[h];if(!Ir[h])return h;var g=Ir[h],T;for(T in g)if(g.hasOwnProperty(T)&&T in xa)return _n[h]=g[T];return h}var ml=xe("animationend"),Pd=xe("animationiteration"),na=xe("animationstart"),yn=xe("transitionrun"),Dc=xe("transitionstart"),Gs=xe("transitioncancel"),oo=xe("transitionend"),Uu=new Map,on="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");on.push("scrollEnd");function zu(h,g){Uu.set(h,g),go(g,[h])}var Dd=new WeakMap;function va(h,g){if(typeof h=="object"&&h!==null){var T=Dd.get(h);return T!==void 0?T:(g={value:h,source:g,stack:Th(g)},Dd.set(h,g),g)}return{value:h,source:g,stack:Th(g)}}var Hs=[],yf=0,Jf=0;function bl(){for(var h=yf,g=Jf=yf=0;g<h;){var T=Hs[g];Hs[g++]=null;var M=Hs[g];Hs[g++]=null;var H=Hs[g];Hs[g++]=null;var Z=Hs[g];if(Hs[g++]=null,M!==null&&H!==null){var he=M.pending;he===null?H.next=H:(H.next=he.next,he.next=H),M.pending=H}Z!==0&&mf(T,H,Z)}}function ln(h,g,T,M){Hs[yf++]=h,Hs[yf++]=g,Hs[yf++]=T,Hs[yf++]=M,Jf|=M,h.lanes|=M,h=h.alternate,h!==null&&(h.lanes|=M)}function Ic(h,g,T,M){return ln(h,g,T,M),ms(h)}function ys(h,g){return ln(h,null,null,g),ms(h)}function mf(h,g,T){h.lanes|=T;var M=h.alternate;M!==null&&(M.lanes|=T);for(var H=!1,Z=h.return;Z!==null;)Z.childLanes|=T,M=Z.alternate,M!==null&&(M.childLanes|=T),Z.tag===22&&(h=Z.stateNode,h===null||h._visibility&1||(H=!0)),h=Z,Z=Z.return;return h.tag===3?(Z=h.stateNode,H&&g!==null&&(H=31-ht(T),h=Z.hiddenUpdates,M=h[H],M===null?h[H]=[g]:M.push(g),g.lane=T|536870912),Z):null}function ms(h){if(50<qo)throw qo=0,Xg=null,Error(n(185));for(var g=h.return;g!==null;)h=g,g=h.return;return h.tag===3?h.stateNode:null}var so={};function eh(h,g,T,M){this.tag=h,this.key=T,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lo(h,g,T,M){return new eh(h,g,T,M)}function qu(h){return h=h.prototype,!(!h||!h.isReactComponent)}function Aa(h,g){var T=h.alternate;return T===null?(T=Lo(h.tag,g,h.key,h.mode),T.elementType=h.elementType,T.type=h.type,T.stateNode=h.stateNode,T.alternate=h,h.alternate=T):(T.pendingProps=g,T.type=h.type,T.flags=0,T.subtreeFlags=0,T.deletions=null),T.flags=h.flags&65011712,T.childLanes=h.childLanes,T.lanes=h.lanes,T.child=h.child,T.memoizedProps=h.memoizedProps,T.memoizedState=h.memoizedState,T.updateQueue=h.updateQueue,g=h.dependencies,T.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},T.sibling=h.sibling,T.index=h.index,T.ref=h.ref,T.refCleanup=h.refCleanup,T}function Zo(h,g){h.flags&=65011714;var T=h.alternate;return T===null?(h.childLanes=0,h.lanes=g,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=T.childLanes,h.lanes=T.lanes,h.child=T.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=T.memoizedProps,h.memoizedState=T.memoizedState,h.updateQueue=T.updateQueue,h.type=T.type,g=T.dependencies,h.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext}),h}function Id(h,g,T,M,H,Z){var he=0;if(M=h,typeof h=="function")qu(h)&&(he=1);else if(typeof h=="string")he=sr(h,T,de.current)?26:h==="html"||h==="head"||h==="body"?27:5;else e:switch(h){case j:return h=Lo(31,T,g,H),h.elementType=j,h.lanes=Z,h;case p:return _l(T.children,H,Z,g);case m:he=8,H|=24;break;case w:return h=Lo(12,T,g,H|2),h.elementType=w,h.lanes=Z,h;case A:return h=Lo(13,T,g,H),h.elementType=A,h.lanes=Z,h;case D:return h=Lo(19,T,g,H),h.elementType=D,h.lanes=Z,h;default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case b:case _:he=10;break e;case y:he=9;break e;case S:he=11;break e;case R:he=14;break e;case k:he=16,M=null;break e}he=29,T=Error(n(130,h===null?"null":typeof h,"")),M=null}return g=Lo(he,T,g,H),g.elementType=h,g.type=M,g.lanes=Z,g}function _l(h,g,T,M){return h=Lo(7,h,M,g),h.lanes=T,h}function kd(h,g,T){return h=Lo(6,h,null,g),h.lanes=T,h}function Ci(h,g,T){return g=Lo(4,h.children!==null?h.children:[],h.key,g),g.lanes=T,g.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},g}var Gu=[],kc=0,lu=null,bf=0,Qo=[],Xa=0,Ui=null,wn=1,Hu="";function cu(h,g){Gu[kc++]=bf,Gu[kc++]=lu,lu=h,bf=g}function Md(h,g,T){Qo[Xa++]=wn,Qo[Xa++]=Hu,Qo[Xa++]=Ui,Ui=h;var M=wn;h=Hu;var H=32-ht(M)-1;M&=~(1<<H),T+=1;var Z=32-ht(g)+H;if(30<Z){var he=H-H%5;Z=(M&(1<<he)-1).toString(32),M>>=he,H-=he,wn=1<<32-ht(g)+H|T<<H|M,Hu=Z+h}else wn=1<<Z|T<<H|M,Hu=h}function Vl(h){h.return!==null&&(cu(h,1),Md(h,1,0))}function wl(h){for(;h===lu;)lu=Gu[--kc],Gu[kc]=null,bf=Gu[--kc],Gu[kc]=null;for(;h===Ui;)Ui=Qo[--Xa],Qo[Xa]=null,Hu=Qo[--Xa],Qo[Xa]=null,wn=Qo[--Xa],Qo[Xa]=null}var zi=null,fi=null,mn=!1,Vu=null,Jo=!1,El=Error(n(519));function es(h){var g=Error(n(418,""));throw Wl(va(g,h)),El}function hp(h){var g=h.stateNode,T=h.type,M=h.memoizedProps;switch(g[Pn]=h,g[ai]=M,T){case"dialog":An("cancel",g),An("close",g);break;case"iframe":case"object":case"embed":An("load",g);break;case"video":case"audio":for(T=0;T<sv.length;T++)An(sv[T],g);break;case"source":An("error",g);break;case"img":case"image":case"link":An("error",g),An("load",g);break;case"details":An("toggle",g);break;case"input":An("invalid",g),Hf(g,M.value,M.defaultValue,M.checked,M.defaultChecked,M.type,M.name,!0),hl(g);break;case"select":An("invalid",g);break;case"textarea":An("invalid",g),Vf(g,M.value,M.defaultValue,M.children),hl(g)}T=M.children,typeof T!="string"&&typeof T!="number"&&typeof T!="bigint"||g.textContent===""+T||M.suppressHydrationWarning===!0||Kv(g.textContent,T)?(M.popover!=null&&(An("beforetoggle",g),An("toggle",g)),M.onScroll!=null&&An("scroll",g),M.onScrollEnd!=null&&An("scrollend",g),M.onClick!=null&&(g.onclick=fg),g=!0):g=!1,g||es(h)}function Ev(h){for(zi=h.return;zi;)switch(zi.tag){case 5:case 13:Jo=!1;return;case 27:case 3:Jo=!0;return;default:zi=zi.return}}function $l(h){if(h!==zi)return!1;if(!mn)return Ev(h),mn=!0,!1;var g=h.tag,T;if((T=g!==3&&g!==27)&&((T=g===5)&&(T=h.type,T=!(T!=="form"&&T!=="button")||ur(h.type,h.memoizedProps)),T=!T),T&&fi&&es(h),Ev(h),g===13){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(n(317));e:{for(h=h.nextSibling,g=0;h;){if(h.nodeType===8)if(T=h.data,T==="/$"){if(g===0){fi=Ml(h.nextSibling);break e}g--}else T!=="$"&&T!=="$!"&&T!=="$?"||g++;h=h.nextSibling}fi=null}}else g===27?(g=fi,tu(h.type)?(h=kp,kp=null,fi=h):fi=g):fi=zi?Ml(h.stateNode.nextSibling):null;return!0}function _f(){fi=zi=null,mn=!1}function th(){var h=Vu;return h!==null&&(Oa===null?Oa=h:Oa.push.apply(Oa,h),Vu=null),h}function Wl(h){Vu===null?Vu=[h]:Vu.push(h)}var bs=ce(null),_s=null,Re=null;function ws(h,g,T){Pe(bs,g._currentValue),g._currentValue=T}function ts(h){h._currentValue=bs.current,pe(bs)}function Lr(h,g,T){for(;h!==null;){var M=h.alternate;if((h.childLanes&g)!==g?(h.childLanes|=g,M!==null&&(M.childLanes|=g)):M!==null&&(M.childLanes&g)!==g&&(M.childLanes|=g),h===T)break;h=h.return}}function sn(h,g,T,M){var H=h.child;for(H!==null&&(H.return=h);H!==null;){var Z=H.dependencies;if(Z!==null){var he=H.child;Z=Z.firstContext;e:for(;Z!==null;){var Ae=Z;Z=H;for(var $e=0;$e<g.length;$e++)if(Ae.context===g[$e]){Z.lanes|=T,Ae=Z.alternate,Ae!==null&&(Ae.lanes|=T),Lr(Z.return,T,h),M||(he=null);break e}Z=Ae.next}}else if(H.tag===18){if(he=H.return,he===null)throw Error(n(341));he.lanes|=T,Z=he.alternate,Z!==null&&(Z.lanes|=T),Lr(he,T,h),he=null}else he=H.child;if(he!==null)he.return=H;else for(he=H;he!==null;){if(he===h){he=null;break}if(H=he.sibling,H!==null){H.return=he.return,he=H;break}he=he.return}H=he}}function Mc(h,g,T,M){h=null;for(var H=g,Z=!1;H!==null;){if(!Z){if((H.flags&524288)!==0)Z=!0;else if((H.flags&262144)!==0)break}if(H.tag===10){var he=H.alternate;if(he===null)throw Error(n(387));if(he=he.memoizedProps,he!==null){var Ae=H.type;qs(H.pendingProps.value,he.value)||(h!==null?h.push(Ae):h=[Ae])}}else if(H===Ne.current){if(he=H.alternate,he===null)throw Error(n(387));he.memoizedState.memoizedState!==H.memoizedState.memoizedState&&(h!==null?h.push(lr):h=[lr])}H=H.return}h!==null&&sn(g,h,T,M),g.flags|=262144}function Yl(h){for(h=h.firstContext;h!==null;){if(!qs(h.context._currentValue,h.memoizedValue))return!0;h=h.next}return!1}function xl(h){_s=h,Re=null,h=h.dependencies,h!==null&&(h.firstContext=null)}function qi(h){return fu(_s,h)}function xv(h,g){return _s===null&&xl(h),fu(h,g)}function fu(h,g){var T=g._currentValue;if(g={context:g,memoizedValue:T,next:null},Re===null){if(h===null)throw Error(n(308));Re=g,h.dependencies={lanes:0,firstContext:g},h.flags|=524288}else Re=Re.next=g;return T}var eg=typeof AbortController<"u"?AbortController:function(){var h=[],g=this.signal={aborted:!1,addEventListener:function(T,M){h.push(M)}};this.abort=function(){g.aborted=!0,h.forEach(function(T){return T()})}},Nd=r.unstable_scheduleCallback,rh=r.unstable_NormalPriority,oi={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ld(){return{controller:new eg,data:new Map,refCount:0}}function jo(h){h.refCount--,h.refCount===0&&Nd(rh,function(){h.controller.abort()})}var xr=null,Mh=0,ja=0,Ba=null;function hu(h,g){if(xr===null){var T=xr=[];Mh=0,ja=Dp(),Ba={status:"pending",value:void 0,then:function(M){T.push(M)}}}return Mh++,g.then(Nh,Nh),g}function Nh(){if(--Mh===0&&xr!==null){Ba!==null&&(Ba.status="fulfilled");var h=xr;xr=null,ja=0,Ba=null;for(var g=0;g<h.length;g++)(0,h[g])()}}function tg(h,g){var T=[],M={status:"pending",value:null,reason:null,then:function(H){T.push(H)}};return h.then(function(){M.status="fulfilled",M.value=g;for(var H=0;H<T.length;H++)(0,T[H])(g)},function(H){for(M.status="rejected",M.reason=H,H=0;H<T.length;H++)(0,T[H])(void 0)}),M}var wf=J.S;J.S=function(h,g){typeof g=="object"&&g!==null&&typeof g.then=="function"&&hu(h,g),wf!==null&&wf(h,g)};var $u=ce(null);function wo(){var h=$u.current;return h!==null?h:ir.pooledCache}function Sv(h,g){g===null?Pe($u,$u.current):Pe($u,g.pool)}function Vs(){var h=wo();return h===null?null:{parent:oi._currentValue,pool:h}}var Bo=Error(n(460)),Ef=Error(n(474)),Nc=Error(n(542)),nh={then:function(){}};function dp(h){return h=h.status,h==="fulfilled"||h==="rejected"}function Lc(){}function jd(h,g,T){switch(T=h[T],T===void 0?h.push(g):T!==g&&(g.then(Lc,Lc),g=T),g.status){case"fulfilled":return g.value;case"rejected":throw h=g.reason,Lh(h),h;default:if(typeof g.status=="string")g.then(Lc,Lc);else{if(h=ir,h!==null&&100<h.shellSuspendCounter)throw Error(n(482));h=g,h.status="pending",h.then(function(M){if(g.status==="pending"){var H=g;H.status="fulfilled",H.value=M}},function(M){if(g.status==="pending"){var H=g;H.status="rejected",H.reason=M}})}switch(g.status){case"fulfilled":return g.value;case"rejected":throw h=g.reason,Lh(h),h}throw uo=g,Bo}}var uo=null;function Wu(){if(uo===null)throw Error(n(459));var h=uo;return uo=null,h}function Lh(h){if(h===Bo||h===Nc)throw Error(n(483))}var Es=!1;function Yu(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xf(h,g){h=h.updateQueue,g.updateQueue===h&&(g.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,callbacks:null})}function Eo(h){return{lane:h,tag:0,payload:null,callback:null,next:null}}function $s(h,g,T){var M=h.updateQueue;if(M===null)return null;if(M=M.shared,(tr&2)!==0){var H=M.pending;return H===null?g.next=g:(g.next=H.next,H.next=g),M.pending=g,g=ms(h),mf(h,null,T),g}return ln(h,M,g,T),ms(h)}function du(h,g,T){if(g=g.updateQueue,g!==null&&(g=g.shared,(T&4194048)!==0)){var M=g.lanes;M&=h.pendingLanes,T|=M,g.lanes=T,Vn(h,T)}}function vu(h,g){var T=h.updateQueue,M=h.alternate;if(M!==null&&(M=M.updateQueue,T===M)){var H=null,Z=null;if(T=T.firstBaseUpdate,T!==null){do{var he={lane:T.lane,tag:T.tag,payload:T.payload,callback:null,next:null};Z===null?H=Z=he:Z=Z.next=he,T=T.next}while(T!==null);Z===null?H=Z=g:Z=Z.next=g}else H=Z=g;T={baseState:M.baseState,firstBaseUpdate:H,lastBaseUpdate:Z,shared:M.shared,callbacks:M.callbacks},h.updateQueue=T;return}h=T.lastBaseUpdate,h===null?T.firstBaseUpdate=g:h.next=g,T.lastBaseUpdate=g}var ih=!1;function xs(){if(ih){var h=Ba;if(h!==null)throw h}}function xo(h,g,T,M){ih=!1;var H=h.updateQueue;Es=!1;var Z=H.firstBaseUpdate,he=H.lastBaseUpdate,Ae=H.shared.pending;if(Ae!==null){H.shared.pending=null;var $e=Ae,dt=$e.next;$e.next=null,he===null?Z=dt:he.next=dt,he=$e;var kt=h.alternate;kt!==null&&(kt=kt.updateQueue,Ae=kt.lastBaseUpdate,Ae!==he&&(Ae===null?kt.firstBaseUpdate=dt:Ae.next=dt,kt.lastBaseUpdate=$e))}if(Z!==null){var Ut=H.baseState;he=0,kt=dt=$e=null,Ae=Z;do{var bt=Ae.lane&-536870913,yt=bt!==Ae.lane;if(yt?(Pt&bt)===bt:(M&bt)===bt){bt!==0&&bt===ja&&(ih=!0),kt!==null&&(kt=kt.next={lane:0,tag:Ae.tag,payload:Ae.payload,callback:null,next:null});e:{var kr=h,Rr=Ae;bt=g;var Bn=T;switch(Rr.tag){case 1:if(kr=Rr.payload,typeof kr=="function"){Ut=kr.call(Bn,Ut,bt);break e}Ut=kr;break e;case 3:kr.flags=kr.flags&-65537|128;case 0:if(kr=Rr.payload,bt=typeof kr=="function"?kr.call(Bn,Ut,bt):kr,bt==null)break e;Ut=c({},Ut,bt);break e;case 2:Es=!0}}bt=Ae.callback,bt!==null&&(h.flags|=64,yt&&(h.flags|=8192),yt=H.callbacks,yt===null?H.callbacks=[bt]:yt.push(bt))}else yt={lane:bt,tag:Ae.tag,payload:Ae.payload,callback:Ae.callback,next:null},kt===null?(dt=kt=yt,$e=Ut):kt=kt.next=yt,he|=bt;if(Ae=Ae.next,Ae===null){if(Ae=H.shared.pending,Ae===null)break;yt=Ae,Ae=yt.next,yt.next=null,H.lastBaseUpdate=yt,H.shared.pending=null}}while(!0);kt===null&&($e=Ut),H.baseState=$e,H.firstBaseUpdate=dt,H.lastBaseUpdate=kt,Z===null&&(H.shared.lanes=0),Sr|=he,h.lanes=he,h.memoizedState=Ut}}function Bd(h,g){if(typeof h!="function")throw Error(n(191,h));h.call(g)}function jh(h,g){var T=h.callbacks;if(T!==null)for(h.callbacks=null,h=0;h<T.length;h++)Bd(T[h],g)}var lo=ce(null),jc=ce(0);function Xu(h,g){h=un,Pe(jc,h),Pe(lo,g),un=h|g.baseLanes}function Bh(){Pe(jc,un),Pe(lo,lo.current)}function Bc(){un=jc.current,pe(lo),pe(jc)}var Ku=0,cn=null,En=null,bn=null,Fc=!1,Sl=!1,Ka=!1,rs=0,Xl=0,ns=null,Ov=0;function xn(){throw Error(n(321))}function Kl(h,g){if(g===null)return!1;for(var T=0;T<g.length&&T<h.length;T++)if(!qs(h[T],g[T]))return!1;return!0}function Ur(h,g,T,M,H,Z){return Ku=Z,cn=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,J.H=h===null||h.memoizedState===null?Pf:Mv,Ka=!1,Z=T(M,H),Ka=!1,Sl&&(Z=Fh(g,T,M,H)),Zl(h),Z}function Zl(h){J.H=oh;var g=En!==null&&En.next!==null;if(Ku=0,bn=En=cn=null,Fc=!1,Xl=0,ns=null,g)throw Error(n(300));h===null||Da||(h=h.dependencies,h!==null&&Yl(h)&&(Da=!0))}function Fh(h,g,T,M){cn=h;var H=0;do{if(Sl&&(ns=null),Xl=0,Sl=!1,25<=H)throw Error(n(301));if(H+=1,bn=En=null,h.updateQueue!=null){var Z=h.updateQueue;Z.lastEffect=null,Z.events=null,Z.stores=null,Z.memoCache!=null&&(Z.memoCache.index=0)}J.H=ng,Z=g(T,M)}while(Sl);return Z}function Uc(){var h=J.H,g=h.useState()[0];return g=typeof g.then=="function"?Ra(g):g,h=h.useState()[0],(En!==null?En.memoizedState:null)!==h&&(cn.flags|=1024),g}function Fd(){var h=rs!==0;return rs=0,h}function zc(h,g,T){g.updateQueue=h.updateQueue,g.flags&=-2053,h.lanes&=~T}function hi(h){if(Fc){for(h=h.memoizedState;h!==null;){var g=h.queue;g!==null&&(g.pending=null),h=h.next}Fc=!1}Ku=0,bn=En=cn=null,Sl=!1,Xl=rs=0,ns=null}function Fo(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bn===null?cn.memoizedState=bn=h:bn=bn.next=h,bn}function Gi(){if(En===null){var h=cn.alternate;h=h!==null?h.memoizedState:null}else h=En.next;var g=bn===null?cn.memoizedState:bn.next;if(g!==null)bn=g,En=h;else{if(h===null)throw cn.alternate===null?Error(n(467)):Error(n(310));En=h,h={memoizedState:En.memoizedState,baseState:En.baseState,baseQueue:En.baseQueue,queue:En.queue,next:null},bn===null?cn.memoizedState=bn=h:bn=bn.next=h}return bn}function qc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ra(h){var g=Xl;return Xl+=1,ns===null&&(ns=[]),h=jd(ns,h,g),g=cn,(bn===null?g.memoizedState:bn.next)===null&&(g=g.alternate,J.H=g===null||g.memoizedState===null?Pf:Mv),h}function co(h){if(h!==null&&typeof h=="object"){if(typeof h.then=="function")return Ra(h);if(h.$$typeof===_)return qi(h)}throw Error(n(438,String(h)))}function Fa(h){var g=null,T=cn.updateQueue;if(T!==null&&(g=T.memoCache),g==null){var M=cn.alternate;M!==null&&(M=M.updateQueue,M!==null&&(M=M.memoCache,M!=null&&(g={data:M.data.map(function(H){return H.slice()}),index:0})))}if(g==null&&(g={data:[],index:0}),T===null&&(T=qc(),cn.updateQueue=T),T.memoCache=g,T=g.data[g.index],T===void 0)for(T=g.data[g.index]=Array(h),M=0;M<h;M++)T[M]=F;return g.index++,T}function Ss(h,g){return typeof g=="function"?g(h):g}function Tv(h){var g=Gi();return Ol(g,En,h)}function Ol(h,g,T){var M=h.queue;if(M===null)throw Error(n(311));M.lastRenderedReducer=T;var H=h.baseQueue,Z=M.pending;if(Z!==null){if(H!==null){var he=H.next;H.next=Z.next,Z.next=he}g.baseQueue=H=Z,M.pending=null}if(Z=h.baseState,H===null)h.memoizedState=Z;else{g=H.next;var Ae=he=null,$e=null,dt=g,kt=!1;do{var Ut=dt.lane&-536870913;if(Ut!==dt.lane?(Pt&Ut)===Ut:(Ku&Ut)===Ut){var bt=dt.revertLane;if(bt===0)$e!==null&&($e=$e.next={lane:0,revertLane:0,action:dt.action,hasEagerState:dt.hasEagerState,eagerState:dt.eagerState,next:null}),Ut===ja&&(kt=!0);else if((Ku&bt)===bt){dt=dt.next,bt===ja&&(kt=!0);continue}else Ut={lane:0,revertLane:dt.revertLane,action:dt.action,hasEagerState:dt.hasEagerState,eagerState:dt.eagerState,next:null},$e===null?(Ae=$e=Ut,he=Z):$e=$e.next=Ut,cn.lanes|=bt,Sr|=bt;Ut=dt.action,Ka&&T(Z,Ut),Z=dt.hasEagerState?dt.eagerState:T(Z,Ut)}else bt={lane:Ut,revertLane:dt.revertLane,action:dt.action,hasEagerState:dt.hasEagerState,eagerState:dt.eagerState,next:null},$e===null?(Ae=$e=bt,he=Z):$e=$e.next=bt,cn.lanes|=Ut,Sr|=Ut;dt=dt.next}while(dt!==null&&dt!==g);if($e===null?he=Z:$e.next=Ae,!qs(Z,h.memoizedState)&&(Da=!0,kt&&(T=Ba,T!==null)))throw T;h.memoizedState=Z,h.baseState=he,h.baseQueue=$e,M.lastRenderedState=Z}return H===null&&(M.lanes=0),[h.memoizedState,M.dispatch]}function Cv(h){var g=Gi(),T=g.queue;if(T===null)throw Error(n(311));T.lastRenderedReducer=h;var M=T.dispatch,H=T.pending,Z=g.memoizedState;if(H!==null){T.pending=null;var he=H=H.next;do Z=h(Z,he.action),he=he.next;while(he!==H);qs(Z,g.memoizedState)||(Da=!0),g.memoizedState=Z,g.baseQueue===null&&(g.baseState=Z),T.lastRenderedState=Z}return[Z,M]}function pu(h,g,T){var M=cn,H=Gi(),Z=mn;if(Z){if(T===void 0)throw Error(n(407));T=T()}else T=g();var he=!qs((En||H).memoizedState,T);he&&(H.memoizedState=T,Da=!0),H=H.queue;var Ae=Ql.bind(null,M,H,h);if(Vh(2048,8,Ae,[h]),H.getSnapshot!==g||he||bn!==null&&bn.memoizedState.tag&1){if(M.flags|=2048,Tf(9,zd(),vp.bind(null,M,H,T,g),null),ir===null)throw Error(n(349));Z||(Ku&124)!==0||Uh(M,g,T)}return T}function Uh(h,g,T){h.flags|=16384,h={getSnapshot:g,value:T},g=cn.updateQueue,g===null?(g=qc(),cn.updateQueue=g,g.stores=[h]):(T=g.stores,T===null?g.stores=[h]:T.push(h))}function vp(h,g,T,M){g.value=T,g.getSnapshot=M,Ud(g)&&Sf(h)}function Ql(h,g,T){return T(function(){Ud(g)&&Sf(h)})}function Ud(h){var g=h.getSnapshot;h=h.value;try{var T=g();return!qs(h,T)}catch{return!0}}function Sf(h){var g=ys(h,2);g!==null&&Qs(g,h,2)}function zh(h){var g=Fo();if(typeof h=="function"){var T=h;if(h=T(),Ka){Ke(!0);try{T()}finally{Ke(!1)}}}return g.memoizedState=g.baseState=h,g.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ss,lastRenderedState:h},g}function Zu(h,g,T,M){return h.baseState=T,Ol(h,En,typeof M=="function"?M:Ss)}function pp(h,g,T,M,H){if(Zh(h))throw Error(n(485));if(h=g.action,h!==null){var Z={payload:H,action:h,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(he){Z.listeners.push(he)}};J.T!==null?T(!0):Z.isTransition=!1,M(Z),T=g.pending,T===null?(Z.next=g.pending=Z,qh(g,Z)):(Z.next=T.next,g.pending=T.next=Z)}}function qh(h,g){var T=g.action,M=g.payload,H=h.state;if(g.isTransition){var Z=J.T,he={};J.T=he;try{var Ae=T(H,M),$e=J.S;$e!==null&&$e(he,Ae),Gc(h,g,Ae)}catch(dt){Gh(h,g,dt)}finally{J.T=Z}}else try{Z=T(H,M),Gc(h,g,Z)}catch(dt){Gh(h,g,dt)}}function Gc(h,g,T){T!==null&&typeof T=="object"&&typeof T.then=="function"?T.then(function(M){Av(h,g,M)},function(M){return Gh(h,g,M)}):Av(h,g,T)}function Av(h,g,T){g.status="fulfilled",g.value=T,Pa(g),h.state=T,g=h.pending,g!==null&&(T=g.next,T===g?h.pending=null:(T=T.next,g.next=T,qh(h,T)))}function Gh(h,g,T){var M=h.pending;if(h.pending=null,M!==null){M=M.next;do g.status="rejected",g.reason=T,Pa(g),g=g.next;while(g!==M)}h.action=null}function Pa(h){h=h.listeners;for(var g=0;g<h.length;g++)(0,h[g])()}function Jl(h,g){return g}function Rv(h,g){if(mn){var T=ir.formState;if(T!==null){e:{var M=cn;if(mn){if(fi){t:{for(var H=fi,Z=Jo;H.nodeType!==8;){if(!Z){H=null;break t}if(H=Ml(H.nextSibling),H===null){H=null;break t}}Z=H.data,H=Z==="F!"||Z==="F"?H:null}if(H){fi=Ml(H.nextSibling),M=H.data==="F!";break e}}es(M)}M=!1}M&&(g=T[0])}}return T=Fo(),T.memoizedState=T.baseState=g,M={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jl,lastRenderedState:g},T.queue=M,T=Iv.bind(null,cn,M),M.dispatch=T,M=zh(!1),Z=Rf.bind(null,cn,!1,M.queue),M=Fo(),H={state:g,dispatch:null,action:h,pending:null},M.queue=H,T=pp.bind(null,cn,H,Z,T),H.dispatch=T,M.memoizedState=h,[g,T,!1]}function Of(h){var g=Gi();return Pv(g,En,h)}function Pv(h,g,T){if(g=Ol(h,g,Jl)[0],h=Tv(Ss)[0],typeof g=="object"&&g!==null&&typeof g.then=="function")try{var M=Ra(g)}catch(he){throw he===Bo?Nc:he}else M=g;g=Gi();var H=g.queue,Z=H.dispatch;return T!==g.memoizedState&&(cn.flags|=2048,Tf(9,zd(),gp.bind(null,H,T),null)),[M,Z,h]}function gp(h,g){h.action=g}function Yr(h){var g=Gi(),T=En;if(T!==null)return Pv(g,T,h);Gi(),g=g.memoizedState,T=Gi();var M=T.queue.dispatch;return T.memoizedState=h,[g,M,!1]}function Tf(h,g,T,M){return h={tag:h,create:T,deps:M,inst:g,next:null},g=cn.updateQueue,g===null&&(g=qc(),cn.updateQueue=g),T=g.lastEffect,T===null?g.lastEffect=h.next=h:(M=T.next,T.next=h,h.next=M,g.lastEffect=h),h}function zd(){return{destroy:void 0,resource:void 0}}function Cf(){return Gi().memoizedState}function Hh(h,g,T,M){var H=Fo();M=M===void 0?null:M,cn.flags|=h,H.memoizedState=Tf(1|g,zd(),T,M)}function Vh(h,g,T,M){var H=Gi();M=M===void 0?null:M;var Z=H.memoizedState.inst;En!==null&&M!==null&&Kl(M,En.memoizedState.deps)?H.memoizedState=Tf(g,Z,T,M):(cn.flags|=h,H.memoizedState=Tf(1|g,Z,T,M))}function $h(h,g){Hh(8390656,8,h,g)}function pa(h,g){Vh(2048,8,h,g)}function yp(h,g){return Vh(4,2,h,g)}function Wh(h,g){return Vh(4,4,h,g)}function qd(h,g){if(typeof g=="function"){h=h();var T=g(h);return function(){typeof T=="function"?T():g(null)}}if(g!=null)return h=h(),g.current=h,function(){g.current=null}}function Yh(h,g,T){T=T!=null?T.concat([h]):null,Vh(4,4,qd.bind(null,g,h),T)}function Dv(){}function Ws(h,g){var T=Gi();g=g===void 0?null:g;var M=T.memoizedState;return g!==null&&Kl(g,M[1])?M[0]:(T.memoizedState=[h,g],h)}function Hc(h,g){var T=Gi();g=g===void 0?null:g;var M=T.memoizedState;if(g!==null&&Kl(g,M[1]))return M[0];if(M=h(),Ka){Ke(!0);try{h()}finally{Ke(!1)}}return T.memoizedState=[M,g],M}function Tl(h,g,T){return T===void 0||(Ku&1073741824)!==0?h.memoizedState=g:(h.memoizedState=T,h=Kg(),cn.lanes|=h,Sr|=h,T)}function Gd(h,g,T,M){return qs(T,g)?T:lo.current!==null?(h=Tl(h,T,M),qs(h,g)||(Da=!0),h):(Ku&42)===0?(Da=!0,h.memoizedState=T):(h=Kg(),cn.lanes|=h,Sr|=h,g)}function Hd(h,g,T,M,H){var Z=re.p;re.p=Z!==0&&8>Z?Z:8;var he=J.T,Ae={};J.T=Ae,Rf(h,!1,g,T);try{var $e=H(),dt=J.S;if(dt!==null&&dt(Ae,$e),$e!==null&&typeof $e=="object"&&typeof $e.then=="function"){var kt=tg($e,M);Cl(h,g,kt,jr(h))}else Cl(h,g,M,jr(h))}catch(Ut){Cl(h,g,{then:function(){},status:"rejected",reason:Ut},jr())}finally{re.p=Z,J.T=he}}function Af(){}function Xh(h,g,T,M){if(h.tag!==5)throw Error(n(476));var H=Kh(h).queue;Hd(h,H,g,ae,T===null?Af:function(){return ah(h),T(M)})}function Kh(h){var g=h.memoizedState;if(g!==null)return g;g={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ss,lastRenderedState:ae},next:null};var T={};return g.next={memoizedState:T,baseState:T,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ss,lastRenderedState:T},next:null},h.memoizedState=g,h=h.alternate,h!==null&&(h.memoizedState=g),g}function ah(h){var g=Kh(h).next.queue;Cl(h,g,{},jr())}function Za(){return qi(lr)}function Qu(){return Gi().memoizedState}function Vd(){return Gi().memoizedState}function ec(h){for(var g=h.return;g!==null;){switch(g.tag){case 24:case 3:var T=jr();h=Eo(T);var M=$s(g,h,T);M!==null&&(Qs(M,g,T),du(M,g,T)),g={cache:Ld()},h.payload=g;return}g=g.return}}function rg(h,g,T){var M=jr();T={lane:M,revertLane:0,action:T,hasEagerState:!1,eagerState:null,next:null},Zh(h)?$d(g,T):(T=Ic(h,g,T,M),T!==null&&(Qs(T,h,M),kv(T,g,M)))}function Iv(h,g,T){var M=jr();Cl(h,g,T,M)}function Cl(h,g,T,M){var H={lane:M,revertLane:0,action:T,hasEagerState:!1,eagerState:null,next:null};if(Zh(h))$d(g,H);else{var Z=h.alternate;if(h.lanes===0&&(Z===null||Z.lanes===0)&&(Z=g.lastRenderedReducer,Z!==null))try{var he=g.lastRenderedState,Ae=Z(he,T);if(H.hasEagerState=!0,H.eagerState=Ae,qs(Ae,he))return ln(h,g,H,0),ir===null&&bl(),!1}catch{}finally{}if(T=Ic(h,g,H,M),T!==null)return Qs(T,h,M),kv(T,g,M),!0}return!1}function Rf(h,g,T,M){if(M={lane:2,revertLane:Dp(),action:M,hasEagerState:!1,eagerState:null,next:null},Zh(h)){if(g)throw Error(n(479))}else g=Ic(h,T,M,2),g!==null&&Qs(g,h,2)}function Zh(h){var g=h.alternate;return h===cn||g!==null&&g===cn}function $d(h,g){Sl=Fc=!0;var T=h.pending;T===null?g.next=g:(g.next=T.next,T.next=g),h.pending=g}function kv(h,g,T){if((T&4194048)!==0){var M=g.lanes;M&=h.pendingLanes,T|=M,g.lanes=T,Vn(h,T)}}var oh={readContext:qi,use:co,useCallback:xn,useContext:xn,useEffect:xn,useImperativeHandle:xn,useLayoutEffect:xn,useInsertionEffect:xn,useMemo:xn,useReducer:xn,useRef:xn,useState:xn,useDebugValue:xn,useDeferredValue:xn,useTransition:xn,useSyncExternalStore:xn,useId:xn,useHostTransitionStatus:xn,useFormState:xn,useActionState:xn,useOptimistic:xn,useMemoCache:xn,useCacheRefresh:xn},Pf={readContext:qi,use:co,useCallback:function(h,g){return Fo().memoizedState=[h,g===void 0?null:g],h},useContext:qi,useEffect:$h,useImperativeHandle:function(h,g,T){T=T!=null?T.concat([h]):null,Hh(4194308,4,qd.bind(null,g,h),T)},useLayoutEffect:function(h,g){return Hh(4194308,4,h,g)},useInsertionEffect:function(h,g){Hh(4,2,h,g)},useMemo:function(h,g){var T=Fo();g=g===void 0?null:g;var M=h();if(Ka){Ke(!0);try{h()}finally{Ke(!1)}}return T.memoizedState=[M,g],M},useReducer:function(h,g,T){var M=Fo();if(T!==void 0){var H=T(g);if(Ka){Ke(!0);try{T(g)}finally{Ke(!1)}}}else H=g;return M.memoizedState=M.baseState=H,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:H},M.queue=h,h=h.dispatch=rg.bind(null,cn,h),[M.memoizedState,h]},useRef:function(h){var g=Fo();return h={current:h},g.memoizedState=h},useState:function(h){h=zh(h);var g=h.queue,T=Iv.bind(null,cn,g);return g.dispatch=T,[h.memoizedState,T]},useDebugValue:Dv,useDeferredValue:function(h,g){var T=Fo();return Tl(T,h,g)},useTransition:function(){var h=zh(!1);return h=Hd.bind(null,cn,h.queue,!0,!1),Fo().memoizedState=h,[!1,h]},useSyncExternalStore:function(h,g,T){var M=cn,H=Fo();if(mn){if(T===void 0)throw Error(n(407));T=T()}else{if(T=g(),ir===null)throw Error(n(349));(Pt&124)!==0||Uh(M,g,T)}H.memoizedState=T;var Z={value:T,getSnapshot:g};return H.queue=Z,$h(Ql.bind(null,M,Z,h),[h]),M.flags|=2048,Tf(9,zd(),vp.bind(null,M,Z,T,g),null),T},useId:function(){var h=Fo(),g=ir.identifierPrefix;if(mn){var T=Hu,M=wn;T=(M&~(1<<32-ht(M)-1)).toString(32)+T,g=""+g+"R"+T,T=rs++,0<T&&(g+="H"+T.toString(32)),g+=""}else T=Ov++,g=""+g+"r"+T.toString(32)+"";return h.memoizedState=g},useHostTransitionStatus:Za,useFormState:Rv,useActionState:Rv,useOptimistic:function(h){var g=Fo();g.memoizedState=g.baseState=h;var T={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return g.queue=T,g=Rf.bind(null,cn,!0,T),T.dispatch=g,[h,g]},useMemoCache:Fa,useCacheRefresh:function(){return Fo().memoizedState=ec.bind(null,cn)}},Mv={readContext:qi,use:co,useCallback:Ws,useContext:qi,useEffect:pa,useImperativeHandle:Yh,useInsertionEffect:yp,useLayoutEffect:Wh,useMemo:Hc,useReducer:Tv,useRef:Cf,useState:function(){return Tv(Ss)},useDebugValue:Dv,useDeferredValue:function(h,g){var T=Gi();return Gd(T,En.memoizedState,h,g)},useTransition:function(){var h=Tv(Ss)[0],g=Gi().memoizedState;return[typeof h=="boolean"?h:Ra(h),g]},useSyncExternalStore:pu,useId:Qu,useHostTransitionStatus:Za,useFormState:Of,useActionState:Of,useOptimistic:function(h,g){var T=Gi();return Zu(T,En,h,g)},useMemoCache:Fa,useCacheRefresh:Vd},ng={readContext:qi,use:co,useCallback:Ws,useContext:qi,useEffect:pa,useImperativeHandle:Yh,useInsertionEffect:yp,useLayoutEffect:Wh,useMemo:Hc,useReducer:Cv,useRef:Cf,useState:function(){return Cv(Ss)},useDebugValue:Dv,useDeferredValue:function(h,g){var T=Gi();return En===null?Tl(T,h,g):Gd(T,En.memoizedState,h,g)},useTransition:function(){var h=Cv(Ss)[0],g=Gi().memoizedState;return[typeof h=="boolean"?h:Ra(h),g]},useSyncExternalStore:pu,useId:Qu,useHostTransitionStatus:Za,useFormState:Yr,useActionState:Yr,useOptimistic:function(h,g){var T=Gi();return En!==null?Zu(T,En,h,g):(T.baseState=h,[h,T.queue.dispatch])},useMemoCache:Fa,useCacheRefresh:Vd},ga=null,is=0;function Qh(h){var g=is;return is+=1,ga===null&&(ga=[]),jd(ga,h,g)}function Vc(h,g){g=g.props.ref,h.ref=g!==void 0?g:null}function Df(h,g){throw g.$$typeof===f?Error(n(525)):(h=Object.prototype.toString.call(g),Error(n(31,h==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":h)))}function Al(h){var g=h._init;return g(h._payload)}function mp(h){function g(vt,rt){if(h){var wt=vt.deletions;wt===null?(vt.deletions=[rt],vt.flags|=16):wt.push(rt)}}function T(vt,rt){if(!h)return null;for(;rt!==null;)g(vt,rt),rt=rt.sibling;return null}function M(vt){for(var rt=new Map;vt!==null;)vt.key!==null?rt.set(vt.key,vt):rt.set(vt.index,vt),vt=vt.sibling;return rt}function H(vt,rt){return vt=Aa(vt,rt),vt.index=0,vt.sibling=null,vt}function Z(vt,rt,wt){return vt.index=wt,h?(wt=vt.alternate,wt!==null?(wt=wt.index,wt<rt?(vt.flags|=67108866,rt):wt):(vt.flags|=67108866,rt)):(vt.flags|=1048576,rt)}function he(vt){return h&&vt.alternate===null&&(vt.flags|=67108866),vt}function Ae(vt,rt,wt,Mt){return rt===null||rt.tag!==6?(rt=kd(wt,vt.mode,Mt),rt.return=vt,rt):(rt=H(rt,wt),rt.return=vt,rt)}function $e(vt,rt,wt,Mt){var wr=wt.type;return wr===p?kt(vt,rt,wt.props.children,Mt,wt.key):rt!==null&&(rt.elementType===wr||typeof wr=="object"&&wr!==null&&wr.$$typeof===k&&Al(wr)===rt.type)?(rt=H(rt,wt.props),Vc(rt,wt),rt.return=vt,rt):(rt=Id(wt.type,wt.key,wt.props,null,vt.mode,Mt),Vc(rt,wt),rt.return=vt,rt)}function dt(vt,rt,wt,Mt){return rt===null||rt.tag!==4||rt.stateNode.containerInfo!==wt.containerInfo||rt.stateNode.implementation!==wt.implementation?(rt=Ci(wt,vt.mode,Mt),rt.return=vt,rt):(rt=H(rt,wt.children||[]),rt.return=vt,rt)}function kt(vt,rt,wt,Mt,wr){return rt===null||rt.tag!==7?(rt=_l(wt,vt.mode,Mt,wr),rt.return=vt,rt):(rt=H(rt,wt),rt.return=vt,rt)}function Ut(vt,rt,wt){if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return rt=kd(""+rt,vt.mode,wt),rt.return=vt,rt;if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case d:return wt=Id(rt.type,rt.key,rt.props,null,vt.mode,wt),Vc(wt,rt),wt.return=vt,wt;case v:return rt=Ci(rt,vt.mode,wt),rt.return=vt,rt;case k:var Mt=rt._init;return rt=Mt(rt._payload),Ut(vt,rt,wt)}if(oe(rt)||q(rt))return rt=_l(rt,vt.mode,wt,null),rt.return=vt,rt;if(typeof rt.then=="function")return Ut(vt,Qh(rt),wt);if(rt.$$typeof===_)return Ut(vt,xv(vt,rt),wt);Df(vt,rt)}return null}function bt(vt,rt,wt,Mt){var wr=rt!==null?rt.key:null;if(typeof wt=="string"&&wt!==""||typeof wt=="number"||typeof wt=="bigint")return wr!==null?null:Ae(vt,rt,""+wt,Mt);if(typeof wt=="object"&&wt!==null){switch(wt.$$typeof){case d:return wt.key===wr?$e(vt,rt,wt,Mt):null;case v:return wt.key===wr?dt(vt,rt,wt,Mt):null;case k:return wr=wt._init,wt=wr(wt._payload),bt(vt,rt,wt,Mt)}if(oe(wt)||q(wt))return wr!==null?null:kt(vt,rt,wt,Mt,null);if(typeof wt.then=="function")return bt(vt,rt,Qh(wt),Mt);if(wt.$$typeof===_)return bt(vt,rt,xv(vt,wt),Mt);Df(vt,wt)}return null}function yt(vt,rt,wt,Mt,wr){if(typeof Mt=="string"&&Mt!==""||typeof Mt=="number"||typeof Mt=="bigint")return vt=vt.get(wt)||null,Ae(rt,vt,""+Mt,wr);if(typeof Mt=="object"&&Mt!==null){switch(Mt.$$typeof){case d:return vt=vt.get(Mt.key===null?wt:Mt.key)||null,$e(rt,vt,Mt,wr);case v:return vt=vt.get(Mt.key===null?wt:Mt.key)||null,dt(rt,vt,Mt,wr);case k:var Fn=Mt._init;return Mt=Fn(Mt._payload),yt(vt,rt,wt,Mt,wr)}if(oe(Mt)||q(Mt))return vt=vt.get(wt)||null,kt(rt,vt,Mt,wr,null);if(typeof Mt.then=="function")return yt(vt,rt,wt,Qh(Mt),wr);if(Mt.$$typeof===_)return yt(vt,rt,wt,xv(rt,Mt),wr);Df(rt,Mt)}return null}function kr(vt,rt,wt,Mt){for(var wr=null,Fn=null,qr=rt,Jr=rt=0,nu=null;qr!==null&&Jr<wt.length;Jr++){qr.index>Jr?(nu=qr,qr=null):nu=qr.sibling;var mi=bt(vt,qr,wt[Jr],Mt);if(mi===null){qr===null&&(qr=nu);break}h&&qr&&mi.alternate===null&&g(vt,qr),rt=Z(mi,rt,Jr),Fn===null?wr=mi:Fn.sibling=mi,Fn=mi,qr=nu}if(Jr===wt.length)return T(vt,qr),mn&&cu(vt,Jr),wr;if(qr===null){for(;Jr<wt.length;Jr++)qr=Ut(vt,wt[Jr],Mt),qr!==null&&(rt=Z(qr,rt,Jr),Fn===null?wr=qr:Fn.sibling=qr,Fn=qr);return mn&&cu(vt,Jr),wr}for(qr=M(qr);Jr<wt.length;Jr++)nu=yt(qr,vt,Jr,wt[Jr],Mt),nu!==null&&(h&&nu.alternate!==null&&qr.delete(nu.key===null?Jr:nu.key),rt=Z(nu,rt,Jr),Fn===null?wr=nu:Fn.sibling=nu,Fn=nu);return h&&qr.forEach(function(Qv){return g(vt,Qv)}),mn&&cu(vt,Jr),wr}function Rr(vt,rt,wt,Mt){if(wt==null)throw Error(n(151));for(var wr=null,Fn=null,qr=rt,Jr=rt=0,nu=null,mi=wt.next();qr!==null&&!mi.done;Jr++,mi=wt.next()){qr.index>Jr?(nu=qr,qr=null):nu=qr.sibling;var Qv=bt(vt,qr,mi.value,Mt);if(Qv===null){qr===null&&(qr=nu);break}h&&qr&&Qv.alternate===null&&g(vt,qr),rt=Z(Qv,rt,Jr),Fn===null?wr=Qv:Fn.sibling=Qv,Fn=Qv,qr=nu}if(mi.done)return T(vt,qr),mn&&cu(vt,Jr),wr;if(qr===null){for(;!mi.done;Jr++,mi=wt.next())mi=Ut(vt,mi.value,Mt),mi!==null&&(rt=Z(mi,rt,Jr),Fn===null?wr=mi:Fn.sibling=mi,Fn=mi);return mn&&cu(vt,Jr),wr}for(qr=M(qr);!mi.done;Jr++,mi=wt.next())mi=yt(qr,vt,Jr,mi.value,Mt),mi!==null&&(h&&mi.alternate!==null&&qr.delete(mi.key===null?Jr:mi.key),rt=Z(mi,rt,Jr),Fn===null?wr=mi:Fn.sibling=mi,Fn=mi);return h&&qr.forEach(function(z1){return g(vt,z1)}),mn&&cu(vt,Jr),wr}function Bn(vt,rt,wt,Mt){if(typeof wt=="object"&&wt!==null&&wt.type===p&&wt.key===null&&(wt=wt.props.children),typeof wt=="object"&&wt!==null){switch(wt.$$typeof){case d:e:{for(var wr=wt.key;rt!==null;){if(rt.key===wr){if(wr=wt.type,wr===p){if(rt.tag===7){T(vt,rt.sibling),Mt=H(rt,wt.props.children),Mt.return=vt,vt=Mt;break e}}else if(rt.elementType===wr||typeof wr=="object"&&wr!==null&&wr.$$typeof===k&&Al(wr)===rt.type){T(vt,rt.sibling),Mt=H(rt,wt.props),Vc(Mt,wt),Mt.return=vt,vt=Mt;break e}T(vt,rt);break}else g(vt,rt);rt=rt.sibling}wt.type===p?(Mt=_l(wt.props.children,vt.mode,Mt,wt.key),Mt.return=vt,vt=Mt):(Mt=Id(wt.type,wt.key,wt.props,null,vt.mode,Mt),Vc(Mt,wt),Mt.return=vt,vt=Mt)}return he(vt);case v:e:{for(wr=wt.key;rt!==null;){if(rt.key===wr)if(rt.tag===4&&rt.stateNode.containerInfo===wt.containerInfo&&rt.stateNode.implementation===wt.implementation){T(vt,rt.sibling),Mt=H(rt,wt.children||[]),Mt.return=vt,vt=Mt;break e}else{T(vt,rt);break}else g(vt,rt);rt=rt.sibling}Mt=Ci(wt,vt.mode,Mt),Mt.return=vt,vt=Mt}return he(vt);case k:return wr=wt._init,wt=wr(wt._payload),Bn(vt,rt,wt,Mt)}if(oe(wt))return kr(vt,rt,wt,Mt);if(q(wt)){if(wr=q(wt),typeof wr!="function")throw Error(n(150));return wt=wr.call(wt),Rr(vt,rt,wt,Mt)}if(typeof wt.then=="function")return Bn(vt,rt,Qh(wt),Mt);if(wt.$$typeof===_)return Bn(vt,rt,xv(vt,wt),Mt);Df(vt,wt)}return typeof wt=="string"&&wt!==""||typeof wt=="number"||typeof wt=="bigint"?(wt=""+wt,rt!==null&&rt.tag===6?(T(vt,rt.sibling),Mt=H(rt,wt),Mt.return=vt,vt=Mt):(T(vt,rt),Mt=kd(wt,vt.mode,Mt),Mt.return=vt,vt=Mt),he(vt)):T(vt,rt)}return function(vt,rt,wt,Mt){try{is=0;var wr=Bn(vt,rt,wt,Mt);return ga=null,wr}catch(qr){if(qr===Bo||qr===Nc)throw qr;var Fn=Lo(29,qr,null,vt.mode);return Fn.lanes=Mt,Fn.return=vt,Fn}finally{}}}var gu=mp(!0),Ju=mp(!1),Uo=ce(null),as=null;function Os(h){var g=h.alternate;Pe(Sa,Sa.current&1),Pe(Uo,h),as===null&&(g===null||lo.current!==null||g.memoizedState!==null)&&(as=h)}function Wd(h){if(h.tag===22){if(Pe(Sa,Sa.current),Pe(Uo,h),as===null){var g=h.alternate;g!==null&&g.memoizedState!==null&&(as=h)}}else tc()}function tc(){Pe(Sa,Sa.current),Pe(Uo,Uo.current)}function ia(h){pe(Uo),as===h&&(as=null),pe(Sa)}var Sa=ce(0);function rc(h){for(var g=h;g!==null;){if(g.tag===13){var T=g.memoizedState;if(T!==null&&(T=T.dehydrated,T===null||T.data==="$?"||xu(T)))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if((g.flags&128)!==0)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===h)break;for(;g.sibling===null;){if(g.return===null||g.return===h)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}function os(h,g,T,M){g=h.memoizedState,T=T(M,g),T=T==null?g:c({},g,T),h.memoizedState=T,h.lanes===0&&(h.updateQueue.baseState=T)}var Xr={enqueueSetState:function(h,g,T){h=h._reactInternals;var M=jr(),H=Eo(M);H.payload=g,T!=null&&(H.callback=T),g=$s(h,H,M),g!==null&&(Qs(g,h,M),du(g,h,M))},enqueueReplaceState:function(h,g,T){h=h._reactInternals;var M=jr(),H=Eo(M);H.tag=1,H.payload=g,T!=null&&(H.callback=T),g=$s(h,H,M),g!==null&&(Qs(g,h,M),du(g,h,M))},enqueueForceUpdate:function(h,g){h=h._reactInternals;var T=jr(),M=Eo(T);M.tag=2,g!=null&&(M.callback=g),g=$s(h,M,T),g!==null&&(Qs(g,h,T),du(g,h,T))}};function Jh(h,g,T,M,H,Z,he){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(M,Z,he):g.prototype&&g.prototype.isPureReactComponent?!Er(T,M)||!Er(H,Z):!0}function ss(h,g,T,M){h=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(T,M),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(T,M),g.state!==h&&Xr.enqueueReplaceState(g,g.state,null)}function Kn(h,g){var T=g;if("ref"in g){T={};for(var M in g)M!=="ref"&&(T[M]=g[M])}if(h=h.defaultProps){T===g&&(T=c({},T));for(var H in h)T[H]===void 0&&(T[H]=h[H])}return T}var Ua=typeof reportError=="function"?reportError:function(h){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var g=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof h=="object"&&h!==null&&typeof h.message=="string"?String(h.message):String(h),error:h});if(!window.dispatchEvent(g))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",h);return}console.error(h)};function Nv(h){Ua(h)}function If(h){console.error(h)}function yu(h){Ua(h)}function $c(h,g){try{var T=h.onUncaughtError;T(g.value,{componentStack:g.stack})}catch(M){setTimeout(function(){throw M})}}function Ts(h,g,T){try{var M=h.onCaughtError;M(T.value,{componentStack:T.stack,errorBoundary:g.tag===1?g.stateNode:null})}catch(H){setTimeout(function(){throw H})}}function Ai(h,g,T){return T=Eo(T),T.tag=3,T.payload={element:null},T.callback=function(){$c(h,g)},T}function Ri(h){return h=Eo(h),h.tag=3,h}function Yd(h,g,T,M){var H=T.type.getDerivedStateFromError;if(typeof H=="function"){var Z=M.value;h.payload=function(){return H(Z)},h.callback=function(){Ts(g,T,M)}}var he=T.stateNode;he!==null&&typeof he.componentDidCatch=="function"&&(h.callback=function(){Ts(g,T,M),typeof H!="function"&&(ac===null?ac=new Set([this]):ac.add(this));var Ae=M.stack;this.componentDidCatch(M.value,{componentStack:Ae!==null?Ae:""})})}function Lv(h,g,T,M,H){if(T.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){if(g=T.alternate,g!==null&&Mc(g,T,H,!0),T=Uo.current,T!==null){switch(T.tag){case 13:return as===null?$v():T.alternate===null&&hr===0&&(hr=3),T.flags&=-257,T.flags|=65536,T.lanes=H,M===nh?T.flags|=16384:(g=T.updateQueue,g===null?T.updateQueue=new Set([M]):g.add(M),sg(h,M,H)),!1;case 22:return T.flags|=65536,M===nh?T.flags|=16384:(g=T.updateQueue,g===null?(g={transitions:null,markerInstances:null,retryQueue:new Set([M])},T.updateQueue=g):(T=g.retryQueue,T===null?g.retryQueue=new Set([M]):T.add(M)),sg(h,M,H)),!1}throw Error(n(435,T.tag))}return sg(h,M,H),$v(),!1}if(mn)return g=Uo.current,g!==null?((g.flags&65536)===0&&(g.flags|=256),g.flags|=65536,g.lanes=H,M!==El&&(h=Error(n(422),{cause:M}),Wl(va(h,T)))):(M!==El&&(g=Error(n(423),{cause:M}),Wl(va(g,T))),h=h.current.alternate,h.flags|=65536,H&=-H,h.lanes|=H,M=va(M,T),H=Ai(h.stateNode,M,H),vu(h,H),hr!==4&&(hr=2)),!1;var Z=Error(n(520),{cause:M});if(Z=va(Z,T),Ja===null?Ja=[Z]:Ja.push(Z),hr!==4&&(hr=2),g===null)return!0;M=va(M,T),T=g;do{switch(T.tag){case 3:return T.flags|=65536,h=H&-H,T.lanes|=h,h=Ai(T.stateNode,M,h),vu(T,h),!1;case 1:if(g=T.type,Z=T.stateNode,(T.flags&128)===0&&(typeof g.getDerivedStateFromError=="function"||Z!==null&&typeof Z.componentDidCatch=="function"&&(ac===null||!ac.has(Z))))return T.flags|=65536,H&=-H,T.lanes|=H,H=Ri(H),Yd(H,h,T,M),vu(T,H),!1}T=T.return}while(T!==null);return!1}var sh=Error(n(461)),Da=!1;function di(h,g,T,M){g.child=h===null?Ju(g,null,T,M):gu(g,h.child,T,M)}function uh(h,g,T,M,H){T=T.render;var Z=g.ref;if("ref"in M){var he={};for(var Ae in M)Ae!=="ref"&&(he[Ae]=M[Ae])}else he=M;return xl(g),M=Ur(h,g,T,he,Z,H),Ae=Fd(),h!==null&&!Da?(zc(h,g,H),Rl(h,g,H)):(mn&&Ae&&Vl(g),g.flags|=1,di(h,g,M,H),g.child)}function us(h,g,T,M,H){if(h===null){var Z=T.type;return typeof Z=="function"&&!qu(Z)&&Z.defaultProps===void 0&&T.compare===null?(g.tag=15,g.type=Z,el(h,g,Z,M,H)):(h=Id(T.type,null,M,g,g.mode,H),h.ref=g.ref,h.return=g,g.child=h)}if(Z=h.child,!Pl(h,H)){var he=Z.memoizedProps;if(T=T.compare,T=T!==null?T:Er,T(he,M)&&h.ref===g.ref)return Rl(h,g,H)}return g.flags|=1,h=Aa(Z,M),h.ref=g.ref,h.return=g,g.child=h}function el(h,g,T,M,H){if(h!==null){var Z=h.memoizedProps;if(Er(Z,M)&&h.ref===g.ref)if(Da=!1,g.pendingProps=M=Z,Pl(h,H))(h.flags&131072)!==0&&(Da=!0);else return g.lanes=h.lanes,Rl(h,g,H)}return Cs(h,g,T,M,H)}function Xd(h,g,T){var M=g.pendingProps,H=M.children,Z=h!==null?h.memoizedState:null;if(M.mode==="hidden"){if((g.flags&128)!==0){if(M=Z!==null?Z.baseLanes|T:T,h!==null){for(H=g.child=h.child,Z=0;H!==null;)Z=Z|H.lanes|H.childLanes,H=H.sibling;g.childLanes=Z&~M}else g.childLanes=0,g.child=null;return lh(h,g,M,T)}if((T&536870912)!==0)g.memoizedState={baseLanes:0,cachePool:null},h!==null&&Sv(g,Z!==null?Z.cachePool:null),Z!==null?Xu(g,Z):Bh(),Wd(g);else return g.lanes=g.childLanes=536870912,lh(h,g,Z!==null?Z.baseLanes|T:T,T)}else Z!==null?(Sv(g,Z.cachePool),Xu(g,Z),tc(),g.memoizedState=null):(h!==null&&Sv(g,null),Bh(),tc());return di(h,g,H,T),g.child}function lh(h,g,T,M){var H=wo();return H=H===null?null:{parent:oi._currentValue,pool:H},g.memoizedState={baseLanes:T,cachePool:H},h!==null&&Sv(g,null),Bh(),Wd(g),h!==null&&Mc(h,g,M,!0),null}function Vt(h,g){var T=g.ref;if(T===null)h!==null&&h.ref!==null&&(g.flags|=4194816);else{if(typeof T!="function"&&typeof T!="object")throw Error(n(284));(h===null||h.ref!==T)&&(g.flags|=4194816)}}function Cs(h,g,T,M,H){return xl(g),T=Ur(h,g,T,M,void 0,H),M=Fd(),h!==null&&!Da?(zc(h,g,H),Rl(h,g,H)):(mn&&M&&Vl(g),g.flags|=1,di(h,g,T,H),g.child)}function rn(h,g,T,M,H,Z){return xl(g),g.updateQueue=null,T=Fh(g,M,T,H),Zl(h),M=Fd(),h!==null&&!Da?(zc(h,g,Z),Rl(h,g,Z)):(mn&&M&&Vl(g),g.flags|=1,di(h,g,T,Z),g.child)}function nc(h,g,T,M,H){if(xl(g),g.stateNode===null){var Z=so,he=T.contextType;typeof he=="object"&&he!==null&&(Z=qi(he)),Z=new T(M,Z),g.memoizedState=Z.state!==null&&Z.state!==void 0?Z.state:null,Z.updater=Xr,g.stateNode=Z,Z._reactInternals=g,Z=g.stateNode,Z.props=M,Z.state=g.memoizedState,Z.refs={},Yu(g),he=T.contextType,Z.context=typeof he=="object"&&he!==null?qi(he):so,Z.state=g.memoizedState,he=T.getDerivedStateFromProps,typeof he=="function"&&(os(g,T,he,M),Z.state=g.memoizedState),typeof T.getDerivedStateFromProps=="function"||typeof Z.getSnapshotBeforeUpdate=="function"||typeof Z.UNSAFE_componentWillMount!="function"&&typeof Z.componentWillMount!="function"||(he=Z.state,typeof Z.componentWillMount=="function"&&Z.componentWillMount(),typeof Z.UNSAFE_componentWillMount=="function"&&Z.UNSAFE_componentWillMount(),he!==Z.state&&Xr.enqueueReplaceState(Z,Z.state,null),xo(g,M,Z,H),xs(),Z.state=g.memoizedState),typeof Z.componentDidMount=="function"&&(g.flags|=4194308),M=!0}else if(h===null){Z=g.stateNode;var Ae=g.memoizedProps,$e=Kn(T,Ae);Z.props=$e;var dt=Z.context,kt=T.contextType;he=so,typeof kt=="object"&&kt!==null&&(he=qi(kt));var Ut=T.getDerivedStateFromProps;kt=typeof Ut=="function"||typeof Z.getSnapshotBeforeUpdate=="function",Ae=g.pendingProps!==Ae,kt||typeof Z.UNSAFE_componentWillReceiveProps!="function"&&typeof Z.componentWillReceiveProps!="function"||(Ae||dt!==he)&&ss(g,Z,M,he),Es=!1;var bt=g.memoizedState;Z.state=bt,xo(g,M,Z,H),xs(),dt=g.memoizedState,Ae||bt!==dt||Es?(typeof Ut=="function"&&(os(g,T,Ut,M),dt=g.memoizedState),($e=Es||Jh(g,T,$e,M,bt,dt,he))?(kt||typeof Z.UNSAFE_componentWillMount!="function"&&typeof Z.componentWillMount!="function"||(typeof Z.componentWillMount=="function"&&Z.componentWillMount(),typeof Z.UNSAFE_componentWillMount=="function"&&Z.UNSAFE_componentWillMount()),typeof Z.componentDidMount=="function"&&(g.flags|=4194308)):(typeof Z.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=M,g.memoizedState=dt),Z.props=M,Z.state=dt,Z.context=he,M=$e):(typeof Z.componentDidMount=="function"&&(g.flags|=4194308),M=!1)}else{Z=g.stateNode,xf(h,g),he=g.memoizedProps,kt=Kn(T,he),Z.props=kt,Ut=g.pendingProps,bt=Z.context,dt=T.contextType,$e=so,typeof dt=="object"&&dt!==null&&($e=qi(dt)),Ae=T.getDerivedStateFromProps,(dt=typeof Ae=="function"||typeof Z.getSnapshotBeforeUpdate=="function")||typeof Z.UNSAFE_componentWillReceiveProps!="function"&&typeof Z.componentWillReceiveProps!="function"||(he!==Ut||bt!==$e)&&ss(g,Z,M,$e),Es=!1,bt=g.memoizedState,Z.state=bt,xo(g,M,Z,H),xs();var yt=g.memoizedState;he!==Ut||bt!==yt||Es||h!==null&&h.dependencies!==null&&Yl(h.dependencies)?(typeof Ae=="function"&&(os(g,T,Ae,M),yt=g.memoizedState),(kt=Es||Jh(g,T,kt,M,bt,yt,$e)||h!==null&&h.dependencies!==null&&Yl(h.dependencies))?(dt||typeof Z.UNSAFE_componentWillUpdate!="function"&&typeof Z.componentWillUpdate!="function"||(typeof Z.componentWillUpdate=="function"&&Z.componentWillUpdate(M,yt,$e),typeof Z.UNSAFE_componentWillUpdate=="function"&&Z.UNSAFE_componentWillUpdate(M,yt,$e)),typeof Z.componentDidUpdate=="function"&&(g.flags|=4),typeof Z.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof Z.componentDidUpdate!="function"||he===h.memoizedProps&&bt===h.memoizedState||(g.flags|=4),typeof Z.getSnapshotBeforeUpdate!="function"||he===h.memoizedProps&&bt===h.memoizedState||(g.flags|=1024),g.memoizedProps=M,g.memoizedState=yt),Z.props=M,Z.state=yt,Z.context=$e,M=kt):(typeof Z.componentDidUpdate!="function"||he===h.memoizedProps&&bt===h.memoizedState||(g.flags|=4),typeof Z.getSnapshotBeforeUpdate!="function"||he===h.memoizedProps&&bt===h.memoizedState||(g.flags|=1024),M=!1)}return Z=M,Vt(h,g),M=(g.flags&128)!==0,Z||M?(Z=g.stateNode,T=M&&typeof T.getDerivedStateFromError!="function"?null:Z.render(),g.flags|=1,h!==null&&M?(g.child=gu(g,h.child,null,H),g.child=gu(g,null,T,H)):di(h,g,T,H),g.memoizedState=Z.state,h=g.child):h=Rl(h,g,H),h}function Ys(h,g,T,M){return _f(),g.flags|=256,di(h,g,T,M),g.child}var ed={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qn(h){return{baseLanes:h,cachePool:Vs()}}function So(h,g,T){return h=h!==null?h.childLanes&~T:0,g&&(h|=Vi),h}function bp(h,g,T){var M=g.pendingProps,H=!1,Z=(g.flags&128)!==0,he;if((he=Z)||(he=h!==null&&h.memoizedState===null?!1:(Sa.current&2)!==0),he&&(H=!0,g.flags&=-129),he=(g.flags&32)!==0,g.flags&=-33,h===null){if(mn){if(H?Os(g):tc(),mn){var Ae=fi,$e;if($e=Ae){e:{for($e=Ae,Ae=Jo;$e.nodeType!==8;){if(!Ae){Ae=null;break e}if($e=Ml($e.nextSibling),$e===null){Ae=null;break e}}Ae=$e}Ae!==null?(g.memoizedState={dehydrated:Ae,treeContext:Ui!==null?{id:wn,overflow:Hu}:null,retryLane:536870912,hydrationErrors:null},$e=Lo(18,null,null,0),$e.stateNode=Ae,$e.return=g,g.child=$e,zi=g,fi=null,$e=!0):$e=!1}$e||es(g)}if(Ae=g.memoizedState,Ae!==null&&(Ae=Ae.dehydrated,Ae!==null))return xu(Ae)?g.lanes=32:g.lanes=536870912,null;ia(g)}return Ae=M.children,M=M.fallback,H?(tc(),H=g.mode,Ae=Kd({mode:"hidden",children:Ae},H),M=_l(M,H,T,null),Ae.return=g,M.return=g,Ae.sibling=M,g.child=Ae,H=g.child,H.memoizedState=qn(T),H.childLanes=So(h,he,T),g.memoizedState=ed,M):(Os(g),td(g,Ae))}if($e=h.memoizedState,$e!==null&&(Ae=$e.dehydrated,Ae!==null)){if(Z)g.flags&256?(Os(g),g.flags&=-257,g=_p(h,g,T)):g.memoizedState!==null?(tc(),g.child=h.child,g.flags|=128,g=null):(tc(),H=M.fallback,Ae=g.mode,M=Kd({mode:"visible",children:M.children},Ae),H=_l(H,Ae,T,null),H.flags|=2,M.return=g,H.return=g,M.sibling=H,g.child=M,gu(g,h.child,null,T),M=g.child,M.memoizedState=qn(T),M.childLanes=So(h,he,T),g.memoizedState=ed,g=H);else if(Os(g),xu(Ae)){if(he=Ae.nextSibling&&Ae.nextSibling.dataset,he)var dt=he.dgst;he=dt,M=Error(n(419)),M.stack="",M.digest=he,Wl({value:M,source:null,stack:null}),g=_p(h,g,T)}else if(Da||Mc(h,g,T,!1),he=(T&h.childLanes)!==0,Da||he){if(he=ir,he!==null&&(M=T&-T,M=(M&42)!==0?1:ii(M),M=(M&(he.suspendedLanes|T))!==0?0:M,M!==0&&M!==$e.retryLane))throw $e.retryLane=M,ys(h,M),Qs(he,h,M),sh;Ae.data==="$?"||$v(),g=_p(h,g,T)}else Ae.data==="$?"?(g.flags|=192,g.child=h.child,g=null):(h=$e.treeContext,fi=Ml(Ae.nextSibling),zi=g,mn=!0,Vu=null,Jo=!1,h!==null&&(Qo[Xa++]=wn,Qo[Xa++]=Hu,Qo[Xa++]=Ui,wn=h.id,Hu=h.overflow,Ui=g),g=td(g,M.children),g.flags|=4096);return g}return H?(tc(),H=M.fallback,Ae=g.mode,$e=h.child,dt=$e.sibling,M=Aa($e,{mode:"hidden",children:M.children}),M.subtreeFlags=$e.subtreeFlags&65011712,dt!==null?H=Aa(dt,H):(H=_l(H,Ae,T,null),H.flags|=2),H.return=g,M.return=g,M.sibling=H,g.child=M,M=H,H=g.child,Ae=h.child.memoizedState,Ae===null?Ae=qn(T):($e=Ae.cachePool,$e!==null?(dt=oi._currentValue,$e=$e.parent!==dt?{parent:dt,pool:dt}:$e):$e=Vs(),Ae={baseLanes:Ae.baseLanes|T,cachePool:$e}),H.memoizedState=Ae,H.childLanes=So(h,he,T),g.memoizedState=ed,M):(Os(g),T=h.child,h=T.sibling,T=Aa(T,{mode:"visible",children:M.children}),T.return=g,T.sibling=null,h!==null&&(he=g.deletions,he===null?(g.deletions=[h],g.flags|=16):he.push(h)),g.child=T,g.memoizedState=null,T)}function td(h,g){return g=Kd({mode:"visible",children:g},h.mode),g.return=h,h.child=g}function Kd(h,g){return h=Lo(22,h,null,g),h.lanes=0,h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},h}function _p(h,g,T){return gu(g,h.child,null,T),h=td(g,g.pendingProps.children),h.flags|=2,g.memoizedState=null,h}function wp(h,g,T){h.lanes|=g;var M=h.alternate;M!==null&&(M.lanes|=g),Lr(h.return,g,T)}function jv(h,g,T,M,H){var Z=h.memoizedState;Z===null?h.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:M,tail:T,tailMode:H}:(Z.isBackwards=g,Z.rendering=null,Z.renderingStartTime=0,Z.last=M,Z.tail=T,Z.tailMode=H)}function Bv(h,g,T){var M=g.pendingProps,H=M.revealOrder,Z=M.tail;if(di(h,g,M.children,T),M=Sa.current,(M&2)!==0)M=M&1|2,g.flags|=128;else{if(h!==null&&(h.flags&128)!==0)e:for(h=g.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&wp(h,T,g);else if(h.tag===19)wp(h,T,g);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===g)break e;for(;h.sibling===null;){if(h.return===null||h.return===g)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}M&=1}switch(Pe(Sa,M),H){case"forwards":for(T=g.child,H=null;T!==null;)h=T.alternate,h!==null&&rc(h)===null&&(H=T),T=T.sibling;T=H,T===null?(H=g.child,g.child=null):(H=T.sibling,T.sibling=null),jv(g,!1,H,T,Z);break;case"backwards":for(T=null,H=g.child,g.child=null;H!==null;){if(h=H.alternate,h!==null&&rc(h)===null){g.child=H;break}h=H.sibling,H.sibling=T,T=H,H=h}jv(g,!0,T,null,Z);break;case"together":jv(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function Rl(h,g,T){if(h!==null&&(g.dependencies=h.dependencies),Sr|=g.lanes,(T&g.childLanes)===0)if(h!==null){if(Mc(h,g,T,!1),(T&g.childLanes)===0)return null}else return null;if(h!==null&&g.child!==h.child)throw Error(n(153));if(g.child!==null){for(h=g.child,T=Aa(h,h.pendingProps),g.child=T,T.return=g;h.sibling!==null;)h=h.sibling,T=T.sibling=Aa(h,h.pendingProps),T.return=g;T.sibling=null}return g.child}function Pl(h,g){return(h.lanes&g)!==0?!0:(h=h.dependencies,!!(h!==null&&Yl(h)))}function zo(h,g,T){switch(g.tag){case 3:De(g,g.stateNode.containerInfo),ws(g,oi,h.memoizedState.cache),_f();break;case 27:case 5:_e(g);break;case 4:De(g,g.stateNode.containerInfo);break;case 10:ws(g,g.type,g.memoizedProps.value);break;case 13:var M=g.memoizedState;if(M!==null)return M.dehydrated!==null?(Os(g),g.flags|=128,null):(T&g.child.childLanes)!==0?bp(h,g,T):(Os(g),h=Rl(h,g,T),h!==null?h.sibling:null);Os(g);break;case 19:var H=(h.flags&128)!==0;if(M=(T&g.childLanes)!==0,M||(Mc(h,g,T,!1),M=(T&g.childLanes)!==0),H){if(M)return Bv(h,g,T);g.flags|=128}if(H=g.memoizedState,H!==null&&(H.rendering=null,H.tail=null,H.lastEffect=null),Pe(Sa,Sa.current),M)break;return null;case 22:case 23:return g.lanes=0,Xd(h,g,T);case 24:ws(g,oi,h.memoizedState.cache)}return Rl(h,g,T)}function Fv(h,g,T){if(h!==null)if(h.memoizedProps!==g.pendingProps)Da=!0;else{if(!Pl(h,T)&&(g.flags&128)===0)return Da=!1,zo(h,g,T);Da=(h.flags&131072)!==0}else Da=!1,mn&&(g.flags&1048576)!==0&&Md(g,bf,g.index);switch(g.lanes=0,g.tag){case 16:e:{h=g.pendingProps;var M=g.elementType,H=M._init;if(M=H(M._payload),g.type=M,typeof M=="function")qu(M)?(h=Kn(M,h),g.tag=1,g=nc(null,g,M,h,T)):(g.tag=0,g=Cs(null,g,M,h,T));else{if(M!=null){if(H=M.$$typeof,H===S){g.tag=11,g=uh(null,g,M,h,T);break e}else if(H===R){g.tag=14,g=us(null,g,M,h,T);break e}}throw g=K(M)||M,Error(n(306,g,""))}}return g;case 0:return Cs(h,g,g.type,g.pendingProps,T);case 1:return M=g.type,H=Kn(M,g.pendingProps),nc(h,g,M,H,T);case 3:e:{if(De(g,g.stateNode.containerInfo),h===null)throw Error(n(387));M=g.pendingProps;var Z=g.memoizedState;H=Z.element,xf(h,g),xo(g,M,null,T);var he=g.memoizedState;if(M=he.cache,ws(g,oi,M),M!==Z.cache&&sn(g,[oi],T,!0),xs(),M=he.element,Z.isDehydrated)if(Z={element:M,isDehydrated:!1,cache:he.cache},g.updateQueue.baseState=Z,g.memoizedState=Z,g.flags&256){g=Ys(h,g,M,T);break e}else if(M!==H){H=va(Error(n(424)),g),Wl(H),g=Ys(h,g,M,T);break e}else{switch(h=g.stateNode.containerInfo,h.nodeType){case 9:h=h.body;break;default:h=h.nodeName==="HTML"?h.ownerDocument.body:h}for(fi=Ml(h.firstChild),zi=g,mn=!0,Vu=null,Jo=!0,T=Ju(g,null,M,T),g.child=T;T;)T.flags=T.flags&-3|4096,T=T.sibling}else{if(_f(),M===H){g=Rl(h,g,T);break e}di(h,g,M,T)}g=g.child}return g;case 26:return Vt(h,g),h===null?(T=Te(g.type,null,g.pendingProps,null))?g.memoizedState=T:mn||(T=g.type,h=g.pendingProps,M=fd(Ce.current).createElement(T),M[Pn]=g,M[ai]=h,Ao(M,T,h),Bi(M),g.stateNode=M):g.memoizedState=Te(g.type,h.memoizedProps,g.pendingProps,h.memoizedState),null;case 27:return _e(g),h===null&&mn&&(M=g.stateNode=vm(g.type,g.pendingProps,Ce.current),zi=g,Jo=!0,H=fi,tu(g.type)?(kp=H,fi=Ml(M.firstChild)):fi=H),di(h,g,g.pendingProps.children,T),Vt(h,g),h===null&&(g.flags|=4194304),g.child;case 5:return h===null&&mn&&((H=M=fi)&&(M=fy(M,g.type,g.pendingProps,Jo),M!==null?(g.stateNode=M,zi=g,fi=Ml(M.firstChild),Jo=!1,H=!0):H=!1),H||es(g)),_e(g),H=g.type,Z=g.pendingProps,he=h!==null?h.memoizedProps:null,M=Z.children,ur(H,Z)?M=null:he!==null&&ur(H,he)&&(g.flags|=32),g.memoizedState!==null&&(H=Ur(h,g,Uc,null,null,T),lr._currentValue=H),Vt(h,g),di(h,g,M,T),g.child;case 6:return h===null&&mn&&((h=T=fi)&&(T=pg(T,g.pendingProps,Jo),T!==null?(g.stateNode=T,zi=g,fi=null,h=!0):h=!1),h||es(g)),null;case 13:return bp(h,g,T);case 4:return De(g,g.stateNode.containerInfo),M=g.pendingProps,h===null?g.child=gu(g,null,M,T):di(h,g,M,T),g.child;case 11:return uh(h,g,g.type,g.pendingProps,T);case 7:return di(h,g,g.pendingProps,T),g.child;case 8:return di(h,g,g.pendingProps.children,T),g.child;case 12:return di(h,g,g.pendingProps.children,T),g.child;case 10:return M=g.pendingProps,ws(g,g.type,M.value),di(h,g,M.children,T),g.child;case 9:return H=g.type._context,M=g.pendingProps.children,xl(g),H=qi(H),M=M(H),g.flags|=1,di(h,g,M,T),g.child;case 14:return us(h,g,g.type,g.pendingProps,T);case 15:return el(h,g,g.type,g.pendingProps,T);case 19:return Bv(h,g,T);case 31:return M=g.pendingProps,T=g.mode,M={mode:M.mode,children:M.children},h===null?(T=Kd(M,T),T.ref=g.ref,g.child=T,T.return=g,g=T):(T=Aa(h.child,M),T.ref=g.ref,g.child=T,T.return=g,g=T),g;case 22:return Xd(h,g,T);case 24:return xl(g),M=qi(oi),h===null?(H=wo(),H===null&&(H=ir,Z=Ld(),H.pooledCache=Z,Z.refCount++,Z!==null&&(H.pooledCacheLanes|=T),H=Z),g.memoizedState={parent:M,cache:H},Yu(g),ws(g,oi,H)):((h.lanes&T)!==0&&(xf(h,g),xo(g,null,null,T),xs()),H=h.memoizedState,Z=g.memoizedState,H.parent!==M?(H={parent:M,cache:M},g.memoizedState=H,g.lanes===0&&(g.memoizedState=g.updateQueue.baseState=H),ws(g,oi,M)):(M=Z.cache,ws(g,oi,M),M!==H.cache&&sn(g,[oi],T,!0))),di(h,g,g.pendingProps.children,T),g.child;case 29:throw g.pendingProps}throw Error(n(156,g.tag))}function Pi(h){h.flags|=4}function dn(h,g){if(g.type!=="stylesheet"||(g.state.loading&4)!==0)h.flags&=-16777217;else if(h.flags|=16777216,!$t(g)){if(g=Uo.current,g!==null&&((Pt&4194048)===Pt?as!==null:(Pt&62914560)!==Pt&&(Pt&536870912)===0||g!==as))throw uo=nh,Ef;h.flags|=8192}}function ch(h,g){g!==null&&(h.flags|=4),h.flags&16384&&(g=h.tag!==22?Cr():536870912,h.lanes|=g,Jn|=g)}function Oo(h,g){if(!mn)switch(h.tailMode){case"hidden":g=h.tail;for(var T=null;g!==null;)g.alternate!==null&&(T=g),g=g.sibling;T===null?h.tail=null:T.sibling=null;break;case"collapsed":T=h.tail;for(var M=null;T!==null;)T.alternate!==null&&(M=T),T=T.sibling;M===null?g||h.tail===null?h.tail=null:h.tail.sibling=null:M.sibling=null}}function Cn(h){var g=h.alternate!==null&&h.alternate.child===h.child,T=0,M=0;if(g)for(var H=h.child;H!==null;)T|=H.lanes|H.childLanes,M|=H.subtreeFlags&65011712,M|=H.flags&65011712,H.return=h,H=H.sibling;else for(H=h.child;H!==null;)T|=H.lanes|H.childLanes,M|=H.subtreeFlags,M|=H.flags,H.return=h,H=H.sibling;return h.subtreeFlags|=M,h.childLanes=T,g}function rd(h,g,T){var M=g.pendingProps;switch(wl(g),g.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cn(g),null;case 1:return Cn(g),null;case 3:return T=g.stateNode,M=null,h!==null&&(M=h.memoizedState.cache),g.memoizedState.cache!==M&&(g.flags|=2048),ts(oi),ke(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),(h===null||h.child===null)&&($l(g)?Pi(g):h===null||h.memoizedState.isDehydrated&&(g.flags&256)===0||(g.flags|=1024,th())),Cn(g),null;case 26:return T=g.memoizedState,h===null?(Pi(g),T!==null?(Cn(g),dn(g,T)):(Cn(g),g.flags&=-16777217)):T?T!==h.memoizedState?(Pi(g),Cn(g),dn(g,T)):(Cn(g),g.flags&=-16777217):(h.memoizedProps!==M&&Pi(g),Cn(g),g.flags&=-16777217),null;case 27:Ie(g),T=Ce.current;var H=g.type;if(h!==null&&g.stateNode!=null)h.memoizedProps!==M&&Pi(g);else{if(!M){if(g.stateNode===null)throw Error(n(166));return Cn(g),null}h=de.current,$l(g)?hp(g):(h=vm(H,M,T),g.stateNode=h,Pi(g))}return Cn(g),null;case 5:if(Ie(g),T=g.type,h!==null&&g.stateNode!=null)h.memoizedProps!==M&&Pi(g);else{if(!M){if(g.stateNode===null)throw Error(n(166));return Cn(g),null}if(h=de.current,$l(g))hp(g);else{switch(H=fd(Ce.current),h){case 1:h=H.createElementNS("http://www.w3.org/2000/svg",T);break;case 2:h=H.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;default:switch(T){case"svg":h=H.createElementNS("http://www.w3.org/2000/svg",T);break;case"math":h=H.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;case"script":h=H.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof M.is=="string"?H.createElement("select",{is:M.is}):H.createElement("select"),M.multiple?h.multiple=!0:M.size&&(h.size=M.size);break;default:h=typeof M.is=="string"?H.createElement(T,{is:M.is}):H.createElement(T)}}h[Pn]=g,h[ai]=M;e:for(H=g.child;H!==null;){if(H.tag===5||H.tag===6)h.appendChild(H.stateNode);else if(H.tag!==4&&H.tag!==27&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===g)break e;for(;H.sibling===null;){if(H.return===null||H.return===g)break e;H=H.return}H.sibling.return=H.return,H=H.sibling}g.stateNode=h;e:switch(Ao(h,T,M),T){case"button":case"input":case"select":case"textarea":h=!!M.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Pi(g)}}return Cn(g),g.flags&=-16777217,null;case 6:if(h&&g.stateNode!=null)h.memoizedProps!==M&&Pi(g);else{if(typeof M!="string"&&g.stateNode===null)throw Error(n(166));if(h=Ce.current,$l(g)){if(h=g.stateNode,T=g.memoizedProps,M=null,H=zi,H!==null)switch(H.tag){case 27:case 5:M=H.memoizedProps}h[Pn]=g,h=!!(h.nodeValue===T||M!==null&&M.suppressHydrationWarning===!0||Kv(h.nodeValue,T)),h||es(g)}else h=fd(h).createTextNode(M),h[Pn]=g,g.stateNode=h}return Cn(g),null;case 13:if(M=g.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(H=$l(g),M!==null&&M.dehydrated!==null){if(h===null){if(!H)throw Error(n(318));if(H=g.memoizedState,H=H!==null?H.dehydrated:null,!H)throw Error(n(317));H[Pn]=g}else _f(),(g.flags&128)===0&&(g.memoizedState=null),g.flags|=4;Cn(g),H=!1}else H=th(),h!==null&&h.memoizedState!==null&&(h.memoizedState.hydrationErrors=H),H=!0;if(!H)return g.flags&256?(ia(g),g):(ia(g),null)}if(ia(g),(g.flags&128)!==0)return g.lanes=T,g;if(T=M!==null,h=h!==null&&h.memoizedState!==null,T){M=g.child,H=null,M.alternate!==null&&M.alternate.memoizedState!==null&&M.alternate.memoizedState.cachePool!==null&&(H=M.alternate.memoizedState.cachePool.pool);var Z=null;M.memoizedState!==null&&M.memoizedState.cachePool!==null&&(Z=M.memoizedState.cachePool.pool),Z!==H&&(M.flags|=2048)}return T!==h&&T&&(g.child.flags|=8192),ch(g,g.updateQueue),Cn(g),null;case 4:return ke(),h===null&&cy(g.stateNode.containerInfo),Cn(g),null;case 10:return ts(g.type),Cn(g),null;case 19:if(pe(Sa),H=g.memoizedState,H===null)return Cn(g),null;if(M=(g.flags&128)!==0,Z=H.rendering,Z===null)if(M)Oo(H,!1);else{if(hr!==0||h!==null&&(h.flags&128)!==0)for(h=g.child;h!==null;){if(Z=rc(h),Z!==null){for(g.flags|=128,Oo(H,!1),h=Z.updateQueue,g.updateQueue=h,ch(g,h),g.subtreeFlags=0,h=T,T=g.child;T!==null;)Zo(T,h),T=T.sibling;return Pe(Sa,Sa.current&1|2),g.child}h=h.sibling}H.tail!==null&&pt()>Zs&&(g.flags|=128,M=!0,Oo(H,!1),g.lanes=4194304)}else{if(!M)if(h=rc(Z),h!==null){if(g.flags|=128,M=!0,h=h.updateQueue,g.updateQueue=h,ch(g,h),Oo(H,!0),H.tail===null&&H.tailMode==="hidden"&&!Z.alternate&&!mn)return Cn(g),null}else 2*pt()-H.renderingStartTime>Zs&&T!==536870912&&(g.flags|=128,M=!0,Oo(H,!1),g.lanes=4194304);H.isBackwards?(Z.sibling=g.child,g.child=Z):(h=H.last,h!==null?h.sibling=Z:g.child=Z,H.last=Z)}return H.tail!==null?(g=H.tail,H.rendering=g,H.tail=g.sibling,H.renderingStartTime=pt(),g.sibling=null,h=Sa.current,Pe(Sa,M?h&1|2:h&1),g):(Cn(g),null);case 22:case 23:return ia(g),Bc(),M=g.memoizedState!==null,h!==null?h.memoizedState!==null!==M&&(g.flags|=8192):M&&(g.flags|=8192),M?(T&536870912)!==0&&(g.flags&128)===0&&(Cn(g),g.subtreeFlags&6&&(g.flags|=8192)):Cn(g),T=g.updateQueue,T!==null&&ch(g,T.retryQueue),T=null,h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(T=h.memoizedState.cachePool.pool),M=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(M=g.memoizedState.cachePool.pool),M!==T&&(g.flags|=2048),h!==null&&pe($u),null;case 24:return T=null,h!==null&&(T=h.memoizedState.cache),g.memoizedState.cache!==T&&(g.flags|=2048),ts(oi),Cn(g),null;case 25:return null;case 30:return null}throw Error(n(156,g.tag))}function Uv(h,g){switch(wl(g),g.tag){case 1:return h=g.flags,h&65536?(g.flags=h&-65537|128,g):null;case 3:return ts(oi),ke(),h=g.flags,(h&65536)!==0&&(h&128)===0?(g.flags=h&-65537|128,g):null;case 26:case 27:case 5:return Ie(g),null;case 13:if(ia(g),h=g.memoizedState,h!==null&&h.dehydrated!==null){if(g.alternate===null)throw Error(n(340));_f()}return h=g.flags,h&65536?(g.flags=h&-65537|128,g):null;case 19:return pe(Sa),null;case 4:return ke(),null;case 10:return ts(g.type),null;case 22:case 23:return ia(g),Bc(),h!==null&&pe($u),h=g.flags,h&65536?(g.flags=h&-65537|128,g):null;case 24:return ts(oi),null;case 25:return null;default:return null}}function zv(h,g){switch(wl(g),g.tag){case 3:ts(oi),ke();break;case 26:case 27:case 5:Ie(g);break;case 4:ke();break;case 13:ia(g);break;case 19:pe(Sa);break;case 10:ts(g.type);break;case 22:case 23:ia(g),Bc(),h!==null&&pe($u);break;case 24:ts(oi)}}function mu(h,g){try{var T=g.updateQueue,M=T!==null?T.lastEffect:null;if(M!==null){var H=M.next;T=H;do{if((T.tag&h)===h){M=void 0;var Z=T.create,he=T.inst;M=Z(),he.destroy=M}T=T.next}while(T!==H)}}catch(Ae){$i(g,g.return,Ae)}}function ls(h,g,T){try{var M=g.updateQueue,H=M!==null?M.lastEffect:null;if(H!==null){var Z=H.next;M=Z;do{if((M.tag&h)===h){var he=M.inst,Ae=he.destroy;if(Ae!==void 0){he.destroy=void 0,H=g;var $e=T,dt=Ae;try{dt()}catch(kt){$i(H,$e,kt)}}}M=M.next}while(M!==Z)}}catch(kt){$i(g,g.return,kt)}}function Zd(h){var g=h.updateQueue;if(g!==null){var T=h.stateNode;try{jh(g,T)}catch(M){$i(h,h.return,M)}}}function Xs(h,g,T){T.props=Kn(h.type,h.memoizedProps),T.state=h.memoizedState;try{T.componentWillUnmount()}catch(M){$i(h,g,M)}}function As(h,g){try{var T=h.ref;if(T!==null){switch(h.tag){case 26:case 27:case 5:var M=h.stateNode;break;case 30:M=h.stateNode;break;default:M=h.stateNode}typeof T=="function"?h.refCleanup=T(M):T.current=M}}catch(H){$i(h,g,H)}}function Dl(h,g){var T=h.ref,M=h.refCleanup;if(T!==null)if(typeof M=="function")try{M()}catch(H){$i(h,g,H)}finally{h.refCleanup=null,h=h.alternate,h!=null&&(h.refCleanup=null)}else if(typeof T=="function")try{T(null)}catch(H){$i(h,g,H)}else T.current=null}function kf(h){var g=h.type,T=h.memoizedProps,M=h.stateNode;try{e:switch(g){case"button":case"input":case"select":case"textarea":T.autoFocus&&M.focus();break e;case"img":T.src?M.src=T.src:T.srcSet&&(M.srcset=T.srcSet)}}catch(H){$i(h,h.return,H)}}function fh(h,g,T){try{var M=h.stateNode;fm(M,h.type,T,g),M[ai]=g}catch(H){$i(h,h.return,H)}}function Wc(h){return h.tag===5||h.tag===3||h.tag===26||h.tag===27&&tu(h.type)||h.tag===4}function Qd(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||Wc(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.tag===27&&tu(h.type)||h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function Jd(h,g,T){var M=h.tag;if(M===5||M===6)h=h.stateNode,g?(T.nodeType===9?T.body:T.nodeName==="HTML"?T.ownerDocument.body:T).insertBefore(h,g):(g=T.nodeType===9?T.body:T.nodeName==="HTML"?T.ownerDocument.body:T,g.appendChild(h),T=T._reactRootContainer,T!=null||g.onclick!==null||(g.onclick=fg));else if(M!==4&&(M===27&&tu(h.type)&&(T=h.stateNode,g=null),h=h.child,h!==null))for(Jd(h,g,T),h=h.sibling;h!==null;)Jd(h,g,T),h=h.sibling}function hh(h,g,T){var M=h.tag;if(M===5||M===6)h=h.stateNode,g?T.insertBefore(h,g):T.appendChild(h);else if(M!==4&&(M===27&&tu(h.type)&&(T=h.stateNode),h=h.child,h!==null))for(hh(h,g,T),h=h.sibling;h!==null;)hh(h,g,T),h=h.sibling}function nd(h){var g=h.stateNode,T=h.memoizedProps;try{for(var M=h.type,H=g.attributes;H.length;)g.removeAttributeNode(H[0]);Ao(g,M,T),g[Pn]=h,g[ai]=T}catch(Z){$i(h,h.return,Z)}}var Rs=!1,Zn=!1,aa=!1,dh=typeof WeakSet=="function"?WeakSet:Set,Qa=null;function Ks(h,g){if(h=h.containerInfo,Wi=vn,h=Qf(h),gf(h)){if("selectionStart"in h)var T={start:h.selectionStart,end:h.selectionEnd};else e:{T=(T=h.ownerDocument)&&T.defaultView||window;var M=T.getSelection&&T.getSelection();if(M&&M.rangeCount!==0){T=M.anchorNode;var H=M.anchorOffset,Z=M.focusNode;M=M.focusOffset;try{T.nodeType,Z.nodeType}catch{T=null;break e}var he=0,Ae=-1,$e=-1,dt=0,kt=0,Ut=h,bt=null;t:for(;;){for(var yt;Ut!==T||H!==0&&Ut.nodeType!==3||(Ae=he+H),Ut!==Z||M!==0&&Ut.nodeType!==3||($e=he+M),Ut.nodeType===3&&(he+=Ut.nodeValue.length),(yt=Ut.firstChild)!==null;)bt=Ut,Ut=yt;for(;;){if(Ut===h)break t;if(bt===T&&++dt===H&&(Ae=he),bt===Z&&++kt===M&&($e=he),(yt=Ut.nextSibling)!==null)break;Ut=bt,bt=Ut.parentNode}Ut=yt}T=Ae===-1||$e===-1?null:{start:Ae,end:$e}}else T=null}T=T||{start:0,end:0}}else T=null;for(dg={focusedElem:h,selectionRange:T},vn=!1,Qa=g;Qa!==null;)if(g=Qa,h=g.child,(g.subtreeFlags&1024)!==0&&h!==null)h.return=g,Qa=h;else for(;Qa!==null;){switch(g=Qa,Z=g.alternate,h=g.flags,g.tag){case 0:break;case 11:case 15:break;case 1:if((h&1024)!==0&&Z!==null){h=void 0,T=g,H=Z.memoizedProps,Z=Z.memoizedState,M=T.stateNode;try{var kr=Kn(T.type,H,T.elementType===T.type);h=M.getSnapshotBeforeUpdate(kr,Z),M.__reactInternalSnapshotBeforeUpdate=h}catch(Rr){$i(T,T.return,Rr)}}break;case 3:if((h&1024)!==0){if(h=g.stateNode.containerInfo,T=h.nodeType,T===9)vg(h);else if(T===1)switch(h.nodeName){case"HEAD":case"HTML":case"BODY":vg(h);break;default:h.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((h&1024)!==0)throw Error(n(163))}if(h=g.sibling,h!==null){h.return=g.return,Qa=h;break}Qa=g.return}}function To(h,g,T){var M=T.flags;switch(T.tag){case 0:case 11:case 15:rl(h,T),M&4&&mu(5,T);break;case 1:if(rl(h,T),M&4)if(h=T.stateNode,g===null)try{h.componentDidMount()}catch(he){$i(T,T.return,he)}else{var H=Kn(T.type,g.memoizedProps);g=g.memoizedState;try{h.componentDidUpdate(H,g,h.__reactInternalSnapshotBeforeUpdate)}catch(he){$i(T,T.return,he)}}M&64&&Zd(T),M&512&&As(T,T.return);break;case 3:if(rl(h,T),M&64&&(h=T.updateQueue,h!==null)){if(g=null,T.child!==null)switch(T.child.tag){case 27:case 5:g=T.child.stateNode;break;case 1:g=T.child.stateNode}try{jh(h,g)}catch(he){$i(T,T.return,he)}}break;case 27:g===null&&M&4&&nd(T);case 26:case 5:rl(h,T),g===null&&M&4&&kf(T),M&512&&As(T,T.return);break;case 12:rl(h,T);break;case 13:rl(h,T),M&4&&xp(h,T),M&64&&(h=T.memoizedState,h!==null&&(h=h.dehydrated,h!==null&&(T=od.bind(null,T),uv(h,T))));break;case 22:if(M=T.memoizedState!==null||Rs,!M){g=g!==null&&g.memoizedState!==null||Zn,H=Rs;var Z=Zn;Rs=M,(Zn=g)&&!Z?ic(h,T,(T.subtreeFlags&8772)!==0):rl(h,T),Rs=H,Zn=Z}break;case 30:break;default:rl(h,T)}}function Ep(h){var g=h.alternate;g!==null&&(h.alternate=null,Ep(g)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(g=h.stateNode,g!==null&&wa(g)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}var Qn=null,cs=!1;function tl(h,g,T){for(T=T.child;T!==null;)id(h,g,T),T=T.sibling}function id(h,g,T){if(Se&&typeof Se.onCommitFiberUnmount=="function")try{Se.onCommitFiberUnmount(Et,T)}catch{}switch(T.tag){case 26:Zn||Dl(T,g),tl(h,g,T),T.memoizedState?T.memoizedState.count--:T.stateNode&&(T=T.stateNode,T.parentNode.removeChild(T));break;case 27:Zn||Dl(T,g);var M=Qn,H=cs;tu(T.type)&&(Qn=T.stateNode,cs=!1),tl(h,g,T),E(T.stateNode),Qn=M,cs=H;break;case 5:Zn||Dl(T,g);case 6:if(M=Qn,H=cs,Qn=null,tl(h,g,T),Qn=M,cs=H,Qn!==null)if(cs)try{(Qn.nodeType===9?Qn.body:Qn.nodeName==="HTML"?Qn.ownerDocument.body:Qn).removeChild(T.stateNode)}catch(Z){$i(T,g,Z)}else try{Qn.removeChild(T.stateNode)}catch(Z){$i(T,g,Z)}break;case 18:Qn!==null&&(cs?(h=Qn,ru(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,T.stateNode),Zc(h)):ru(Qn,T.stateNode));break;case 4:M=Qn,H=cs,Qn=T.stateNode.containerInfo,cs=!0,tl(h,g,T),Qn=M,cs=H;break;case 0:case 11:case 14:case 15:Zn||ls(2,T,g),Zn||ls(4,T,g),tl(h,g,T);break;case 1:Zn||(Dl(T,g),M=T.stateNode,typeof M.componentWillUnmount=="function"&&Xs(T,g,M)),tl(h,g,T);break;case 21:tl(h,g,T);break;case 22:Zn=(M=Zn)||T.memoizedState!==null,tl(h,g,T),Zn=M;break;default:tl(h,g,T)}}function xp(h,g){if(g.memoizedState===null&&(h=g.alternate,h!==null&&(h=h.memoizedState,h!==null&&(h=h.dehydrated,h!==null))))try{Zc(h)}catch(T){$i(g,g.return,T)}}function Yg(h){switch(h.tag){case 13:case 19:var g=h.stateNode;return g===null&&(g=h.stateNode=new dh),g;case 22:return h=h.stateNode,g=h._retryCache,g===null&&(g=h._retryCache=new dh),g;default:throw Error(n(435,h.tag))}}function ev(h,g){var T=Yg(h);g.forEach(function(M){var H=ny.bind(null,h,M);T.has(M)||(T.add(M),M.then(H,H))})}function ya(h,g){var T=g.deletions;if(T!==null)for(var M=0;M<T.length;M++){var H=T[M],Z=h,he=g,Ae=he;e:for(;Ae!==null;){switch(Ae.tag){case 27:if(tu(Ae.type)){Qn=Ae.stateNode,cs=!1;break e}break;case 5:Qn=Ae.stateNode,cs=!1;break e;case 3:case 4:Qn=Ae.stateNode.containerInfo,cs=!0;break e}Ae=Ae.return}if(Qn===null)throw Error(n(160));id(Z,he,H),Qn=null,cs=!1,Z=H.alternate,Z!==null&&(Z.return=null),H.return=null}if(g.subtreeFlags&13878)for(g=g.child;g!==null;)fs(g,h),g=g.sibling}var bu=null;function fs(h,g){var T=h.alternate,M=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:ya(g,h),hs(h),M&4&&(ls(3,h,h.return),mu(3,h),ls(5,h,h.return));break;case 1:ya(g,h),hs(h),M&512&&(Zn||T===null||Dl(T,T.return)),M&64&&Rs&&(h=h.updateQueue,h!==null&&(M=h.callbacks,M!==null&&(T=h.shared.hiddenCallbacks,h.shared.hiddenCallbacks=T===null?M:T.concat(M))));break;case 26:var H=bu;if(ya(g,h),hs(h),M&512&&(Zn||T===null||Dl(T,T.return)),M&4){var Z=T!==null?T.memoizedState:null;if(M=h.memoizedState,T===null)if(M===null)if(h.stateNode===null){e:{M=h.type,T=h.memoizedProps,H=H.ownerDocument||H;t:switch(M){case"title":Z=H.getElementsByTagName("title")[0],(!Z||Z[Na]||Z[Pn]||Z.namespaceURI==="http://www.w3.org/2000/svg"||Z.hasAttribute("itemprop"))&&(Z=H.createElement(M),H.head.insertBefore(Z,H.querySelector("head > title"))),Ao(Z,M,T),Z[Pn]=h,Bi(Z),M=Z;break e;case"link":var he=Kt("link","href",H).get(M+(T.href||""));if(he){for(var Ae=0;Ae<he.length;Ae++)if(Z=he[Ae],Z.getAttribute("href")===(T.href==null||T.href===""?null:T.href)&&Z.getAttribute("rel")===(T.rel==null?null:T.rel)&&Z.getAttribute("title")===(T.title==null?null:T.title)&&Z.getAttribute("crossorigin")===(T.crossOrigin==null?null:T.crossOrigin)){he.splice(Ae,1);break t}}Z=H.createElement(M),Ao(Z,M,T),H.head.appendChild(Z);break;case"meta":if(he=Kt("meta","content",H).get(M+(T.content||""))){for(Ae=0;Ae<he.length;Ae++)if(Z=he[Ae],Z.getAttribute("content")===(T.content==null?null:""+T.content)&&Z.getAttribute("name")===(T.name==null?null:T.name)&&Z.getAttribute("property")===(T.property==null?null:T.property)&&Z.getAttribute("http-equiv")===(T.httpEquiv==null?null:T.httpEquiv)&&Z.getAttribute("charset")===(T.charSet==null?null:T.charSet)){he.splice(Ae,1);break t}}Z=H.createElement(M),Ao(Z,M,T),H.head.appendChild(Z);break;default:throw Error(n(468,M))}Z[Pn]=h,Bi(Z),M=Z}h.stateNode=M}else Ft(H,h.type,h.stateNode);else h.stateNode=lt(H,M,h.memoizedProps);else Z!==M?(Z===null?T.stateNode!==null&&(T=T.stateNode,T.parentNode.removeChild(T)):Z.count--,M===null?Ft(H,h.type,h.stateNode):lt(H,M,h.memoizedProps)):M===null&&h.stateNode!==null&&fh(h,h.memoizedProps,T.memoizedProps)}break;case 27:ya(g,h),hs(h),M&512&&(Zn||T===null||Dl(T,T.return)),T!==null&&M&4&&fh(h,h.memoizedProps,T.memoizedProps);break;case 5:if(ya(g,h),hs(h),M&512&&(Zn||T===null||Dl(T,T.return)),h.flags&32){H=h.stateNode;try{fr(H,"")}catch(yt){$i(h,h.return,yt)}}M&4&&h.stateNode!=null&&(H=h.memoizedProps,fh(h,H,T!==null?T.memoizedProps:H)),M&1024&&(aa=!0);break;case 6:if(ya(g,h),hs(h),M&4){if(h.stateNode===null)throw Error(n(162));M=h.memoizedProps,T=h.stateNode;try{T.nodeValue=M}catch(yt){$i(h,h.return,yt)}}break;case 3:if(jt=null,H=bu,bu=O(g.containerInfo),ya(g,h),bu=H,hs(h),M&4&&T!==null&&T.memoizedState.isDehydrated)try{Zc(g.containerInfo)}catch(yt){$i(h,h.return,yt)}aa&&(aa=!1,qv(h));break;case 4:M=bu,bu=O(h.stateNode.containerInfo),ya(g,h),hs(h),bu=M;break;case 12:ya(g,h),hs(h);break;case 13:ya(g,h),hs(h),h.child.flags&8192&&h.memoizedState!==null!=(T!==null&&T.memoizedState!==null)&&(_u=pt()),M&4&&(M=h.updateQueue,M!==null&&(h.updateQueue=null,ev(h,M)));break;case 22:H=h.memoizedState!==null;var $e=T!==null&&T.memoizedState!==null,dt=Rs,kt=Zn;if(Rs=dt||H,Zn=kt||$e,ya(g,h),Zn=kt,Rs=dt,hs(h),M&8192)e:for(g=h.stateNode,g._visibility=H?g._visibility&-2:g._visibility|1,H&&(T===null||$e||Rs||Zn||Yc(h)),T=null,g=h;;){if(g.tag===5||g.tag===26){if(T===null){$e=T=g;try{if(Z=$e.stateNode,H)he=Z.style,typeof he.setProperty=="function"?he.setProperty("display","none","important"):he.display="none";else{Ae=$e.stateNode;var Ut=$e.memoizedProps.style,bt=Ut!=null&&Ut.hasOwnProperty("display")?Ut.display:null;Ae.style.display=bt==null||typeof bt=="boolean"?"":(""+bt).trim()}}catch(yt){$i($e,$e.return,yt)}}}else if(g.tag===6){if(T===null){$e=g;try{$e.stateNode.nodeValue=H?"":$e.memoizedProps}catch(yt){$i($e,$e.return,yt)}}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===h)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===h)break e;for(;g.sibling===null;){if(g.return===null||g.return===h)break e;T===g&&(T=null),g=g.return}T===g&&(T=null),g.sibling.return=g.return,g=g.sibling}M&4&&(M=h.updateQueue,M!==null&&(T=M.retryQueue,T!==null&&(M.retryQueue=null,ev(h,T))));break;case 19:ya(g,h),hs(h),M&4&&(M=h.updateQueue,M!==null&&(h.updateQueue=null,ev(h,M)));break;case 30:break;case 21:break;default:ya(g,h),hs(h)}}function hs(h){var g=h.flags;if(g&2){try{for(var T,M=h.return;M!==null;){if(Wc(M)){T=M;break}M=M.return}if(T==null)throw Error(n(160));switch(T.tag){case 27:var H=T.stateNode,Z=Qd(h);hh(h,Z,H);break;case 5:var he=T.stateNode;T.flags&32&&(fr(he,""),T.flags&=-33);var Ae=Qd(h);hh(h,Ae,he);break;case 3:case 4:var $e=T.stateNode.containerInfo,dt=Qd(h);Jd(h,dt,$e);break;default:throw Error(n(161))}}catch(kt){$i(h,h.return,kt)}h.flags&=-3}g&4096&&(h.flags&=-4097)}function qv(h){if(h.subtreeFlags&1024)for(h=h.child;h!==null;){var g=h;qv(g),g.tag===5&&g.flags&1024&&g.stateNode.reset(),h=h.sibling}}function rl(h,g){if(g.subtreeFlags&8772)for(g=g.child;g!==null;)To(h,g.alternate,g),g=g.sibling}function Yc(h){for(h=h.child;h!==null;){var g=h;switch(g.tag){case 0:case 11:case 14:case 15:ls(4,g,g.return),Yc(g);break;case 1:Dl(g,g.return);var T=g.stateNode;typeof T.componentWillUnmount=="function"&&Xs(g,g.return,T),Yc(g);break;case 27:E(g.stateNode);case 26:case 5:Dl(g,g.return),Yc(g);break;case 22:g.memoizedState===null&&Yc(g);break;case 30:Yc(g);break;default:Yc(g)}h=h.sibling}}function ic(h,g,T){for(T=T&&(g.subtreeFlags&8772)!==0,g=g.child;g!==null;){var M=g.alternate,H=h,Z=g,he=Z.flags;switch(Z.tag){case 0:case 11:case 15:ic(H,Z,T),mu(4,Z);break;case 1:if(ic(H,Z,T),M=Z,H=M.stateNode,typeof H.componentDidMount=="function")try{H.componentDidMount()}catch(dt){$i(M,M.return,dt)}if(M=Z,H=M.updateQueue,H!==null){var Ae=M.stateNode;try{var $e=H.shared.hiddenCallbacks;if($e!==null)for(H.shared.hiddenCallbacks=null,H=0;H<$e.length;H++)Bd($e[H],Ae)}catch(dt){$i(M,M.return,dt)}}T&&he&64&&Zd(Z),As(Z,Z.return);break;case 27:nd(Z);case 26:case 5:ic(H,Z,T),T&&M===null&&he&4&&kf(Z),As(Z,Z.return);break;case 12:ic(H,Z,T);break;case 13:ic(H,Z,T),T&&he&4&&xp(H,Z);break;case 22:Z.memoizedState===null&&ic(H,Z,T),As(Z,Z.return);break;case 30:break;default:ic(H,Z,T)}g=g.sibling}}function Sp(h,g){var T=null;h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(T=h.memoizedState.cachePool.pool),h=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(h=g.memoizedState.cachePool.pool),h!==T&&(h!=null&&h.refCount++,T!=null&&jo(T))}function Hi(h,g){h=null,g.alternate!==null&&(h=g.alternate.memoizedState.cache),g=g.memoizedState.cache,g!==h&&(g.refCount++,h!=null&&jo(h))}function Il(h,g,T,M){if(g.subtreeFlags&10256)for(g=g.child;g!==null;)Gv(h,g,T,M),g=g.sibling}function Gv(h,g,T,M){var H=g.flags;switch(g.tag){case 0:case 11:case 15:Il(h,g,T,M),H&2048&&mu(9,g);break;case 1:Il(h,g,T,M);break;case 3:Il(h,g,T,M),H&2048&&(h=null,g.alternate!==null&&(h=g.alternate.memoizedState.cache),g=g.memoizedState.cache,g!==h&&(g.refCount++,h!=null&&jo(h)));break;case 12:if(H&2048){Il(h,g,T,M),h=g.stateNode;try{var Z=g.memoizedProps,he=Z.id,Ae=Z.onPostCommit;typeof Ae=="function"&&Ae(he,g.alternate===null?"mount":"update",h.passiveEffectDuration,-0)}catch($e){$i(g,g.return,$e)}}else Il(h,g,T,M);break;case 13:Il(h,g,T,M);break;case 23:break;case 22:Z=g.stateNode,he=g.alternate,g.memoizedState!==null?Z._visibility&2?Il(h,g,T,M):U(h,g):Z._visibility&2?Il(h,g,T,M):(Z._visibility|=2,I(h,g,T,M,(g.subtreeFlags&10256)!==0)),H&2048&&Sp(he,g);break;case 24:Il(h,g,T,M),H&2048&&Hi(g.alternate,g);break;default:Il(h,g,T,M)}}function I(h,g,T,M,H){for(H=H&&(g.subtreeFlags&10256)!==0,g=g.child;g!==null;){var Z=h,he=g,Ae=T,$e=M,dt=he.flags;switch(he.tag){case 0:case 11:case 15:I(Z,he,Ae,$e,H),mu(8,he);break;case 23:break;case 22:var kt=he.stateNode;he.memoizedState!==null?kt._visibility&2?I(Z,he,Ae,$e,H):U(Z,he):(kt._visibility|=2,I(Z,he,Ae,$e,H)),H&&dt&2048&&Sp(he.alternate,he);break;case 24:I(Z,he,Ae,$e,H),H&&dt&2048&&Hi(he.alternate,he);break;default:I(Z,he,Ae,$e,H)}g=g.sibling}}function U(h,g){if(g.subtreeFlags&10256)for(g=g.child;g!==null;){var T=h,M=g,H=M.flags;switch(M.tag){case 22:U(T,M),H&2048&&Sp(M.alternate,M);break;case 24:U(T,M),H&2048&&Hi(M.alternate,M);break;default:U(T,M)}g=g.sibling}}var Y=8192;function le(h){if(h.subtreeFlags&Y)for(h=h.child;h!==null;)me(h),h=h.sibling}function me(h){switch(h.tag){case 26:le(h),h.flags&Y&&h.memoizedState!==null&&Fe(bu,h.memoizedState,h.memoizedProps);break;case 5:le(h);break;case 3:case 4:var g=bu;bu=O(h.stateNode.containerInfo),le(h),bu=g;break;case 22:h.memoizedState===null&&(g=h.alternate,g!==null&&g.memoizedState!==null?(g=Y,Y=16777216,le(h),Y=g):le(h));break;default:le(h)}}function Le(h){var g=h.alternate;if(g!==null&&(h=g.child,h!==null)){g.child=null;do g=h.sibling,h.sibling=null,h=g;while(h!==null)}}function Ze(h){var g=h.deletions;if((h.flags&16)!==0){if(g!==null)for(var T=0;T<g.length;T++){var M=g[T];Qa=M,qt(M,h)}Le(h)}if(h.subtreeFlags&10256)for(h=h.child;h!==null;)nt(h),h=h.sibling}function nt(h){switch(h.tag){case 0:case 11:case 15:Ze(h),h.flags&2048&&ls(9,h,h.return);break;case 3:Ze(h);break;case 12:Ze(h);break;case 22:var g=h.stateNode;h.memoizedState!==null&&g._visibility&2&&(h.return===null||h.return.tag!==13)?(g._visibility&=-3,Ot(h)):Ze(h);break;default:Ze(h)}}function Ot(h){var g=h.deletions;if((h.flags&16)!==0){if(g!==null)for(var T=0;T<g.length;T++){var M=g[T];Qa=M,qt(M,h)}Le(h)}for(h=h.child;h!==null;){switch(g=h,g.tag){case 0:case 11:case 15:ls(8,g,g.return),Ot(g);break;case 22:T=g.stateNode,T._visibility&2&&(T._visibility&=-3,Ot(g));break;default:Ot(g)}h=h.sibling}}function qt(h,g){for(;Qa!==null;){var T=Qa;switch(T.tag){case 0:case 11:case 15:ls(8,T,g);break;case 23:case 22:if(T.memoizedState!==null&&T.memoizedState.cachePool!==null){var M=T.memoizedState.cachePool.pool;M!=null&&M.refCount++}break;case 24:jo(T.memoizedState.cache)}if(M=T.child,M!==null)M.return=T,Qa=M;else e:for(T=h;Qa!==null;){M=Qa;var H=M.sibling,Z=M.return;if(Ep(M),M===T){Qa=null;break e}if(H!==null){H.return=Z,Qa=H;break e}Qa=Z}}}var Gt={getCacheForType:function(h){var g=qi(oi),T=g.data.get(h);return T===void 0&&(T=h(),g.data.set(h,T)),T}},Xt=typeof WeakMap=="function"?WeakMap:Map,tr=0,ir=null,nr=null,Pt=0,Bt=0,_r=null,ar=!1,zr=!1,Vr=!1,un=0,hr=0,Sr=0,Di=0,Ii=0,Vi=0,Jn=0,Ja=null,Oa=null,nl=!1,_u=0,Zs=1/0,wu=null,ac=null,za=0,oc=null,Ps=null,kl=0,tv=0,vh=null,ad=null,qo=0,Xg=null;function jr(){if((tr&2)!==0&&Pt!==0)return Pt&-Pt;if(J.T!==null){var h=ja;return h!==0?h:Dp()}return ji()}function Kg(){Vi===0&&(Vi=(Pt&536870912)===0||mn?Dr():536870912);var h=Uo.current;return h!==null&&(h.flags|=32),Vi}function Qs(h,g,T){(h===ir&&(Bt===2||Bt===9)||h.cancelPendingCommit!==null)&&(Hv(h,0),ph(h,Pt,Vi,!1)),Rn(h,T),((tr&2)===0||h!==ir)&&(h===ir&&((tr&2)===0&&(Di|=T),hr===4&&ph(h,Pt,Vi,!1)),Mf(h))}function ig(h,g,T){if((tr&6)!==0)throw Error(n(327));var M=!T&&(g&124)===0&&(g&h.expiredLanes)===0||cr(h,g),H=M?em(h,g):Zg(h,g,!0),Z=M;do{if(H===0){zr&&!M&&ph(h,g,0,!1);break}else{if(T=h.current.alternate,Z&&!Qy(T)){H=Zg(h,g,!1),Z=!1;continue}if(H===2){if(Z=g,h.errorRecoveryDisabledLanes&Z)var he=0;else he=h.pendingLanes&-536870913,he=he!==0?he:he&536870912?536870912:0;if(he!==0){g=he;e:{var Ae=h;H=Ja;var $e=Ae.current.memoizedState.isDehydrated;if($e&&(Hv(Ae,he).flags|=256),he=Zg(Ae,he,!1),he!==2){if(Vr&&!$e){Ae.errorRecoveryDisabledLanes|=Z,Di|=Z,H=4;break e}Z=Oa,Oa=H,Z!==null&&(Oa===null?Oa=Z:Oa.push.apply(Oa,Z))}H=he}if(Z=!1,H!==2)continue}}if(H===1){Hv(h,0),ph(h,g,0,!0);break}e:{switch(M=h,Z=H,Z){case 0:case 1:throw Error(n(345));case 4:if((g&4194048)!==g)break;case 6:ph(M,g,Vi,!ar);break e;case 2:Oa=null;break;case 3:case 5:break;default:throw Error(n(329))}if((g&62914560)===g&&(H=_u+300-pt(),10<H)){if(ph(M,g,Vi,!ar),Mr(M,0,!0)!==0)break e;M.timeoutHandle=Zv(rv.bind(null,M,T,Oa,wu,nl,g,Vi,Di,Jn,ar,Z,2,-0,0),H);break e}rv(M,T,Oa,wu,nl,g,Vi,Di,Jn,ar,Z,0,-0,0)}}break}while(!0);Mf(h)}function rv(h,g,T,M,H,Z,he,Ae,$e,dt,kt,Ut,bt,yt){if(h.timeoutHandle=-1,Ut=g.subtreeFlags,(Ut&8192||(Ut&16785408)===16785408)&&(Be={stylesheets:null,count:0,unsuspend:je},me(g),Ut=St(),Ut!==null)){h.cancelPendingCommit=Ut(Cp.bind(null,h,g,Z,T,M,H,he,Ae,$e,kt,1,bt,yt)),ph(h,Z,he,!dt);return}Cp(h,g,Z,T,M,H,he,Ae,$e)}function Qy(h){for(var g=h;;){var T=g.tag;if((T===0||T===11||T===15)&&g.flags&16384&&(T=g.updateQueue,T!==null&&(T=T.stores,T!==null)))for(var M=0;M<T.length;M++){var H=T[M],Z=H.getSnapshot;H=H.value;try{if(!qs(Z(),H))return!1}catch{return!1}}if(T=g.child,g.subtreeFlags&16384&&T!==null)T.return=g,g=T;else{if(g===h)break;for(;g.sibling===null;){if(g.return===null||g.return===h)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function ph(h,g,T,M){g&=~Ii,g&=~Di,h.suspendedLanes|=g,h.pingedLanes&=~g,M&&(h.warmLanes|=g),M=h.expirationTimes;for(var H=g;0<H;){var Z=31-ht(H),he=1<<Z;M[Z]=-1,H&=~he}T!==0&&ni(h,T,g)}function nv(){return(tr&6)===0?(ld(0),!1):!0}function iv(){if(nr!==null){if(Bt===0)var h=nr.return;else h=nr,Re=_s=null,hi(h),ga=null,is=0,h=nr;for(;h!==null;)zv(h.alternate,h),h=h.return;nr=null}}function Hv(h,g){var T=h.timeoutHandle;T!==-1&&(h.timeoutHandle=-1,hm(T)),T=h.cancelPendingCommit,T!==null&&(h.cancelPendingCommit=null,T()),iv(),ir=h,nr=T=Aa(h.current,null),Pt=g,Bt=0,_r=null,ar=!1,zr=cr(h,g),Vr=!1,Jn=Vi=Ii=Di=Sr=hr=0,Oa=Ja=null,nl=!1,(g&8)!==0&&(g|=g&32);var M=h.entangledLanes;if(M!==0)for(h=h.entanglements,M&=g;0<M;){var H=31-ht(M),Z=1<<H;g|=h[H],M&=~Z}return un=g,bl(),T}function Vv(h,g){cn=null,J.H=oh,g===Bo||g===Nc?(g=Wu(),Bt=3):g===Ef?(g=Wu(),Bt=4):Bt=g===sh?8:g!==null&&typeof g=="object"&&typeof g.then=="function"?6:1,_r=g,nr===null&&(hr=1,$c(h,va(g,h.current)))}function Op(){var h=J.H;return J.H=oh,h===null?oh:h}function Jy(){var h=J.A;return J.A=Gt,h}function $v(){hr=4,ar||(Pt&4194048)!==Pt&&Uo.current!==null||(zr=!0),(Sr&134217727)===0&&(Di&134217727)===0||ir===null||ph(ir,Pt,Vi,!1)}function Zg(h,g,T){var M=tr;tr|=2;var H=Op(),Z=Jy();(ir!==h||Pt!==g)&&(wu=null,Hv(h,g)),g=!1;var he=hr;e:do try{if(Bt!==0&&nr!==null){var Ae=nr,$e=_r;switch(Bt){case 8:iv(),he=6;break e;case 3:case 2:case 9:case 6:Uo.current===null&&(g=!0);var dt=Bt;if(Bt=0,_r=null,av(h,Ae,$e,dt),T&&zr){he=0;break e}break;default:dt=Bt,Bt=0,_r=null,av(h,Ae,$e,dt)}}Qg(),he=hr;break}catch(kt){Vv(h,kt)}while(!0);return g&&h.shellSuspendCounter++,Re=_s=null,tr=M,J.H=H,J.A=Z,nr===null&&(ir=null,Pt=0,bl()),he}function Qg(){for(;nr!==null;)Jg(nr)}function em(h,g){var T=tr;tr|=2;var M=Op(),H=Jy();ir!==h||Pt!==g?(wu=null,Zs=pt()+500,Hv(h,g)):zr=cr(h,g);e:do try{if(Bt!==0&&nr!==null){g=nr;var Z=_r;t:switch(Bt){case 1:Bt=0,_r=null,av(h,g,Z,1);break;case 2:case 9:if(dp(Z)){Bt=0,_r=null,Tp(g);break}g=function(){Bt!==2&&Bt!==9||ir!==h||(Bt=7),Mf(h)},Z.then(g,g);break e;case 3:Bt=7;break e;case 4:Bt=5;break e;case 7:dp(Z)?(Bt=0,_r=null,Tp(g)):(Bt=0,_r=null,av(h,g,Z,7));break;case 5:var he=null;switch(nr.tag){case 26:he=nr.memoizedState;case 5:case 27:var Ae=nr;if(!he||$t(he)){Bt=0,_r=null;var $e=Ae.sibling;if($e!==null)nr=$e;else{var dt=Ae.return;dt!==null?(nr=dt,ag(dt)):nr=null}break t}}Bt=0,_r=null,av(h,g,Z,5);break;case 6:Bt=0,_r=null,av(h,g,Z,6);break;case 8:iv(),hr=6;break e;default:throw Error(n(462))}}tm();break}catch(kt){Vv(h,kt)}while(!0);return Re=_s=null,J.H=M,J.A=H,tr=T,nr!==null?0:(ir=null,Pt=0,bl(),hr)}function tm(){for(;nr!==null&&!Tt();)Jg(nr)}function Jg(h){var g=Fv(h.alternate,h,un);h.memoizedProps=h.pendingProps,g===null?ag(h):nr=g}function Tp(h){var g=h,T=g.alternate;switch(g.tag){case 15:case 0:g=rn(T,g,g.pendingProps,g.type,void 0,Pt);break;case 11:g=rn(T,g,g.pendingProps,g.type.render,g.ref,Pt);break;case 5:hi(g);default:zv(T,g),g=nr=Zo(g,un),g=Fv(T,g,un)}h.memoizedProps=h.pendingProps,g===null?ag(h):nr=g}function av(h,g,T,M){Re=_s=null,hi(g),ga=null,is=0;var H=g.return;try{if(Lv(h,H,g,T,Pt)){hr=1,$c(h,va(T,h.current)),nr=null;return}}catch(Z){if(H!==null)throw nr=H,Z;hr=1,$c(h,va(T,h.current)),nr=null;return}g.flags&32768?(mn||M===1?h=!0:zr||(Pt&536870912)!==0?h=!1:(ar=h=!0,(M===2||M===9||M===3||M===6)&&(M=Uo.current,M!==null&&M.tag===13&&(M.flags|=16384))),rm(g,h)):ag(g)}function ag(h){var g=h;do{if((g.flags&32768)!==0){rm(g,ar);return}h=g.return;var T=rd(g.alternate,g,un);if(T!==null){nr=T;return}if(g=g.sibling,g!==null){nr=g;return}nr=g=h}while(g!==null);hr===0&&(hr=5)}function rm(h,g){do{var T=Uv(h.alternate,h);if(T!==null){T.flags&=32767,nr=T;return}if(T=h.return,T!==null&&(T.flags|=32768,T.subtreeFlags=0,T.deletions=null),!g&&(h=h.sibling,h!==null)){nr=h;return}nr=h=T}while(h!==null);hr=6,nr=null}function Cp(h,g,T,M,H,Z,he,Ae,$e){h.cancelPendingCommit=null;do og();while(za!==0);if((tr&6)!==0)throw Error(n(327));if(g!==null){if(g===h.current)throw Error(n(177));if(Z=g.lanes|g.childLanes,Z|=Jf,Ha(h,T,Z,he,Ae,$e),h===ir&&(nr=ir=null,Pt=0),Ps=g,oc=h,kl=T,tv=Z,vh=H,ad=M,(g.subtreeFlags&10256)!==0||(g.flags&10256)!==0?(h.callbackNode=null,h.callbackPriority=0,iy(Ue,function(){return om(),null})):(h.callbackNode=null,h.callbackPriority=0),M=(g.flags&13878)!==0,(g.subtreeFlags&13878)!==0||M){M=J.T,J.T=null,H=re.p,re.p=2,he=tr,tr|=4;try{Ks(h,g,T)}finally{tr=he,re.p=H,J.T=M}}za=1,ey(),nm(),im()}}function ey(){if(za===1){za=0;var h=oc,g=Ps,T=(g.flags&13878)!==0;if((g.subtreeFlags&13878)!==0||T){T=J.T,J.T=null;var M=re.p;re.p=2;var H=tr;tr|=4;try{fs(g,h);var Z=dg,he=Qf(h.containerInfo),Ae=Z.focusedElem,$e=Z.selectionRange;if(he!==Ae&&Ae&&Ae.ownerDocument&&pf(Ae.ownerDocument.documentElement,Ae)){if($e!==null&&gf(Ae)){var dt=$e.start,kt=$e.end;if(kt===void 0&&(kt=dt),"selectionStart"in Ae)Ae.selectionStart=dt,Ae.selectionEnd=Math.min(kt,Ae.value.length);else{var Ut=Ae.ownerDocument||document,bt=Ut&&Ut.defaultView||window;if(bt.getSelection){var yt=bt.getSelection(),kr=Ae.textContent.length,Rr=Math.min($e.start,kr),Bn=$e.end===void 0?Rr:Math.min($e.end,kr);!yt.extend&&Rr>Bn&&(he=Bn,Bn=Rr,Rr=he);var vt=ra(Ae,Rr),rt=ra(Ae,Bn);if(vt&&rt&&(yt.rangeCount!==1||yt.anchorNode!==vt.node||yt.anchorOffset!==vt.offset||yt.focusNode!==rt.node||yt.focusOffset!==rt.offset)){var wt=Ut.createRange();wt.setStart(vt.node,vt.offset),yt.removeAllRanges(),Rr>Bn?(yt.addRange(wt),yt.extend(rt.node,rt.offset)):(wt.setEnd(rt.node,rt.offset),yt.addRange(wt))}}}}for(Ut=[],yt=Ae;yt=yt.parentNode;)yt.nodeType===1&&Ut.push({element:yt,left:yt.scrollLeft,top:yt.scrollTop});for(typeof Ae.focus=="function"&&Ae.focus(),Ae=0;Ae<Ut.length;Ae++){var Mt=Ut[Ae];Mt.element.scrollLeft=Mt.left,Mt.element.scrollTop=Mt.top}}vn=!!Wi,dg=Wi=null}finally{tr=H,re.p=M,J.T=T}}h.current=g,za=2}}function nm(){if(za===2){za=0;var h=oc,g=Ps,T=(g.flags&8772)!==0;if((g.subtreeFlags&8772)!==0||T){T=J.T,J.T=null;var M=re.p;re.p=2;var H=tr;tr|=4;try{To(h,g.alternate,g)}finally{tr=H,re.p=M,J.T=T}}za=3}}function im(){if(za===4||za===3){za=0,zt();var h=oc,g=Ps,T=kl,M=ad;(g.subtreeFlags&10256)!==0||(g.flags&10256)!==0?za=5:(za=0,Ps=oc=null,am(h,h.pendingLanes));var H=h.pendingLanes;if(H===0&&(ac=null),ui(T),g=g.stateNode,Se&&typeof Se.onCommitFiberRoot=="function")try{Se.onCommitFiberRoot(Et,g,void 0,(g.current.flags&128)===128)}catch{}if(M!==null){g=J.T,H=re.p,re.p=2,J.T=null;try{for(var Z=h.onRecoverableError,he=0;he<M.length;he++){var Ae=M[he];Z(Ae.value,{componentStack:Ae.stack})}}finally{J.T=g,re.p=H}}(kl&3)!==0&&og(),Mf(h),H=h.pendingLanes,(T&4194090)!==0&&(H&42)!==0?h===Xg?qo++:(qo=0,Xg=h):qo=0,ld(0)}}function am(h,g){(h.pooledCacheLanes&=g)===0&&(g=h.pooledCache,g!=null&&(h.pooledCache=null,jo(g)))}function og(h){return ey(),nm(),im(),om()}function om(){if(za!==5)return!1;var h=oc,g=tv;tv=0;var T=ui(kl),M=J.T,H=re.p;try{re.p=32>T?32:T,J.T=null,T=vh,vh=null;var Z=oc,he=kl;if(za=0,Ps=oc=null,kl=0,(tr&6)!==0)throw Error(n(331));var Ae=tr;if(tr|=4,nt(Z.current),Gv(Z,Z.current,he,T),tr=Ae,ld(0,!1),Se&&typeof Se.onPostCommitFiberRoot=="function")try{Se.onPostCommitFiberRoot(Et,Z)}catch{}return!0}finally{re.p=H,J.T=M,am(h,g)}}function ty(h,g,T){g=va(T,g),g=Ai(h.stateNode,g,2),h=$s(h,g,2),h!==null&&(Rn(h,2),Mf(h))}function $i(h,g,T){if(h.tag===3)ty(h,h,T);else for(;g!==null;){if(g.tag===3){ty(g,h,T);break}else if(g.tag===1){var M=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(ac===null||!ac.has(M))){h=va(T,h),T=Ri(2),M=$s(g,T,2),M!==null&&(Yd(T,M,g,h),Rn(M,2),Mf(M));break}}g=g.return}}function sg(h,g,T){var M=h.pingCache;if(M===null){M=h.pingCache=new Xt;var H=new Set;M.set(g,H)}else H=M.get(g),H===void 0&&(H=new Set,M.set(g,H));H.has(T)||(Vr=!0,H.add(T),h=ry.bind(null,h,g,T),g.then(h,h))}function ry(h,g,T){var M=h.pingCache;M!==null&&M.delete(g),h.pingedLanes|=h.suspendedLanes&T,h.warmLanes&=~T,ir===h&&(Pt&T)===T&&(hr===4||hr===3&&(Pt&62914560)===Pt&&300>pt()-_u?(tr&2)===0&&Hv(h,0):Ii|=T,Jn===Pt&&(Jn=0)),Mf(h)}function ug(h,g){g===0&&(g=Cr()),h=ys(h,g),h!==null&&(Rn(h,g),Mf(h))}function od(h){var g=h.memoizedState,T=0;g!==null&&(T=g.retryLane),ug(h,T)}function ny(h,g){var T=0;switch(h.tag){case 13:var M=h.stateNode,H=h.memoizedState;H!==null&&(T=H.retryLane);break;case 19:M=h.stateNode;break;case 22:M=h.stateNode._retryCache;break;default:throw Error(n(314))}M!==null&&M.delete(g),ug(h,T)}function iy(h,g){return Qe(h,g)}var ov=null,Eu=null,sd=!1,Wv=!1,Ap=!1,ud=0;function Mf(h){h!==Eu&&h.next===null&&(Eu===null?ov=Eu=h:Eu=Eu.next=h),Wv=!0,sd||(sd=!0,Pp())}function ld(h,g){if(!Ap&&Wv){Ap=!0;do for(var T=!1,M=ov;M!==null;){if(h!==0){var H=M.pendingLanes;if(H===0)var Z=0;else{var he=M.suspendedLanes,Ae=M.pingedLanes;Z=(1<<31-ht(42|h)+1)-1,Z&=H&~(he&~Ae),Z=Z&201326741?Z&201326741|1:Z?Z|2:0}Z!==0&&(T=!0,lg(M,Z))}else Z=Pt,Z=Mr(M,M===ir?Z:0,M.cancelPendingCommit!==null||M.timeoutHandle!==-1),(Z&3)===0||cr(M,Z)||(T=!0,lg(M,Z));M=M.next}while(T);Ap=!1}}function Rp(){Yv()}function Yv(){Wv=sd=!1;var h=0;ud!==0&&(il()&&(h=ud),ud=0);for(var g=pt(),T=null,M=ov;M!==null;){var H=M.next,Z=Xv(M,g);Z===0?(M.next=null,T===null?ov=H:T.next=H,H===null&&(Eu=T)):(T=M,(h!==0||(Z&3)!==0)&&(Wv=!0)),M=H}ld(h)}function Xv(h,g){for(var T=h.suspendedLanes,M=h.pingedLanes,H=h.expirationTimes,Z=h.pendingLanes&-62914561;0<Z;){var he=31-ht(Z),Ae=1<<he,$e=H[he];$e===-1?((Ae&T)===0||(Ae&M)!==0)&&(H[he]=Fr(Ae,g)):$e<=g&&(h.expiredLanes|=Ae),Z&=~Ae}if(g=ir,T=Pt,T=Mr(h,h===g?T:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),M=h.callbackNode,T===0||h===g&&(Bt===2||Bt===9)||h.cancelPendingCommit!==null)return M!==null&&M!==null&&ot(M),h.callbackNode=null,h.callbackPriority=0;if((T&3)===0||cr(h,T)){if(g=T&-T,g===h.callbackPriority)return g;switch(M!==null&&ot(M),ui(T)){case 2:case 8:T=fe;break;case 32:T=Ue;break;case 268435456:T=We;break;default:T=Ue}return M=ay.bind(null,h),T=Qe(T,M),h.callbackPriority=g,h.callbackNode=T,g}return M!==null&&M!==null&&ot(M),h.callbackPriority=2,h.callbackNode=null,2}function ay(h,g){if(za!==0&&za!==5)return h.callbackNode=null,h.callbackPriority=0,null;var T=h.callbackNode;if(og()&&h.callbackNode!==T)return null;var M=Pt;return M=Mr(h,h===ir?M:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),M===0?null:(ig(h,M,g),Xv(h,pt()),h.callbackNode!=null&&h.callbackNode===T?ay.bind(null,h):null)}function lg(h,g){if(og())return null;ig(h,g,!0)}function Pp(){xi(function(){(tr&6)!==0?Qe(ne,Rp):Yv()})}function Dp(){return ud===0&&(ud=Dr()),ud}function sm(h){return h==null||typeof h=="symbol"||typeof h=="boolean"?null:typeof h=="function"?h:Yo(""+h)}function um(h,g){var T=g.ownerDocument.createElement("input");return T.name=g.name,T.value=g.value,h.id&&T.setAttribute("form",h.id),g.parentNode.insertBefore(T,g),h=new FormData(h),T.parentNode.removeChild(T),h}function oy(h,g,T,M,H){if(g==="submit"&&T&&T.stateNode===H){var Z=sm((H[ai]||null).action),he=M.submitter;he&&(g=(g=he[ai]||null)?sm(g.formAction):he.getAttribute("formAction"),g!==null&&(Z=g,he=null));var Ae=new su("action","action",null,M,H);h.push({event:Ae,listeners:[{instance:null,listener:function(){if(M.defaultPrevented){if(ud!==0){var $e=he?um(H,he):new FormData(H);Xh(T,{pending:!0,data:$e,method:H.method,action:Z},null,$e)}}else typeof Z=="function"&&(Ae.preventDefault(),$e=he?um(H,he):new FormData(H),Xh(T,{pending:!0,data:$e,method:H.method,action:Z},Z,$e))},currentTarget:H}]})}}for(var sy=0;sy<on.length;sy++){var uy=on[sy],g0=uy.toLowerCase(),Ds=uy[0].toUpperCase()+uy.slice(1);zu(g0,"on"+Ds)}zu(ml,"onAnimationEnd"),zu(Pd,"onAnimationIteration"),zu(na,"onAnimationStart"),zu("dblclick","onDoubleClick"),zu("focusin","onFocus"),zu("focusout","onBlur"),zu(yn,"onTransitionRun"),zu(Dc,"onTransitionStart"),zu(Gs,"onTransitionCancel"),zu(oo,"onTransitionEnd"),Oi("onMouseEnter",["mouseout","mouseover"]),Oi("onMouseLeave",["mouseout","mouseover"]),Oi("onPointerEnter",["pointerout","pointerover"]),Oi("onPointerLeave",["pointerout","pointerover"]),go("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),go("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),go("onBeforeInput",["compositionend","keypress","textInput","paste"]),go("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),go("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),go("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sv));function ly(h,g){g=(g&4)!==0;for(var T=0;T<h.length;T++){var M=h[T],H=M.event;M=M.listeners;e:{var Z=void 0;if(g)for(var he=M.length-1;0<=he;he--){var Ae=M[he],$e=Ae.instance,dt=Ae.currentTarget;if(Ae=Ae.listener,$e!==Z&&H.isPropagationStopped())break e;Z=Ae,H.currentTarget=dt;try{Z(H)}catch(kt){Ua(kt)}H.currentTarget=null,Z=$e}else for(he=0;he<M.length;he++){if(Ae=M[he],$e=Ae.instance,dt=Ae.currentTarget,Ae=Ae.listener,$e!==Z&&H.isPropagationStopped())break e;Z=Ae,H.currentTarget=dt;try{Z(H)}catch(kt){Ua(kt)}H.currentTarget=null,Z=$e}}}}function An(h,g){var T=g[po];T===void 0&&(T=g[po]=new Set);var M=h+"__bubble";T.has(M)||(cd(g,h,2,!1),T.add(M))}function Ip(h,g,T){var M=0;g&&(M|=4),cd(T,h,M,g)}var Js="_reactListening"+Math.random().toString(36).slice(2);function cy(h){if(!h[Js]){h[Js]=!0,Us.forEach(function(T){T!=="selectionchange"&&(y0.has(T)||Ip(T,!1,h),Ip(T,!0,h))});var g=h.nodeType===9?h:h.ownerDocument;g===null||g[Js]||(g[Js]=!0,Ip("selectionchange",!1,g))}}function cd(h,g,T,M){switch(oa(g)){case 2:var H=Wn;break;case 8:H=pi;break;default:H=Yi}T=H.bind(null,g,T,h),H=void 0,!Ec||g!=="touchstart"&&g!=="touchmove"&&g!=="wheel"||(H=!0),M?H!==void 0?h.addEventListener(g,T,{capture:!0,passive:H}):h.addEventListener(g,T,!0):H!==void 0?h.addEventListener(g,T,{passive:H}):h.addEventListener(g,T,!1)}function Xc(h,g,T,M,H){var Z=M;if((g&1)===0&&(g&2)===0&&M!==null)e:for(;;){if(M===null)return;var he=M.tag;if(he===3||he===4){var Ae=M.stateNode.containerInfo;if(Ae===H)break;if(he===4)for(he=M.return;he!==null;){var $e=he.tag;if(($e===3||$e===4)&&he.stateNode.containerInfo===H)return;he=he.return}for(;Ae!==null;){if(he=Va(Ae),he===null)return;if($e=he.tag,$e===5||$e===6||$e===26||$e===27){M=Z=he;continue e}Ae=Ae.parentNode}}M=M.return}Ul(function(){var dt=Z,kt=Ch(T),Ut=[];e:{var bt=Uu.get(h);if(bt!==void 0){var yt=su,kr=h;switch(h){case"keypress":if($n(T)===0)break e;case"keydown":case"keyup":yt=Sd;break;case"focusin":kr="focus",yt=Fi;break;case"focusout":kr="blur",yt=Fi;break;case"beforeblur":case"afterblur":yt=Fi;break;case"click":if(T.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":yt=yo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":yt=Rh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":yt=Zp;break;case ml:case Pd:case na:yt=Nu;break;case oo:yt=Xf;break;case"scroll":case"scrollend":yt=bv;break;case"wheel":yt=jn;break;case"copy":case"cut":case"paste":yt=Ct;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":yt=Ea;break;case"toggle":case"beforetoggle":yt=Tc}var Rr=(g&4)!==0,Bn=!Rr&&(h==="scroll"||h==="scrollend"),vt=Rr?bt!==null?bt+"Capture":null:bt;Rr=[];for(var rt=dt,wt;rt!==null;){var Mt=rt;if(wt=Mt.stateNode,Mt=Mt.tag,Mt!==5&&Mt!==26&&Mt!==27||wt===null||vt===null||(Mt=zs(rt,vt),Mt!=null&&Rr.push(Zr(rt,Mt,wt))),Bn)break;rt=rt.return}0<Rr.length&&(bt=new yt(bt,kr,null,T,kt),Ut.push({event:bt,listeners:Rr}))}}if((g&7)===0){e:{if(bt=h==="mouseover"||h==="pointerover",yt=h==="mouseout"||h==="pointerout",bt&&T!==bc&&(kr=T.relatedTarget||T.fromElement)&&(Va(kr)||kr[fa]))break e;if((yt||bt)&&(bt=kt.window===kt?kt:(bt=kt.ownerDocument)?bt.defaultView||bt.parentWindow:window,yt?(kr=T.relatedTarget||T.toElement,yt=dt,kr=kr?Va(kr):null,kr!==null&&(Bn=a(kr),Rr=kr.tag,kr!==Bn||Rr!==5&&Rr!==27&&Rr!==6)&&(kr=null)):(yt=null,kr=dt),yt!==kr)){if(Rr=yo,Mt="onMouseLeave",vt="onMouseEnter",rt="mouse",(h==="pointerout"||h==="pointerover")&&(Rr=Ea,Mt="onPointerLeave",vt="onPointerEnter",rt="pointer"),Bn=yt==null?bt:$a(yt),wt=kr==null?bt:$a(kr),bt=new Rr(Mt,rt+"leave",yt,T,kt),bt.target=Bn,bt.relatedTarget=wt,Mt=null,Va(kt)===dt&&(Rr=new Rr(vt,rt+"enter",kr,T,kt),Rr.target=wt,Rr.relatedTarget=Bn,Mt=Rr),Bn=Mt,yt&&kr)t:{for(Rr=yt,vt=kr,rt=0,wt=Rr;wt;wt=Co(wt))rt++;for(wt=0,Mt=vt;Mt;Mt=Co(Mt))wt++;for(;0<rt-wt;)Rr=Co(Rr),rt--;for(;0<wt-rt;)vt=Co(vt),wt--;for(;rt--;){if(Rr===vt||vt!==null&&Rr===vt.alternate)break t;Rr=Co(Rr),vt=Co(vt)}Rr=null}else Rr=null;yt!==null&&qa(Ut,bt,yt,Rr,!1),kr!==null&&Bn!==null&&qa(Ut,Bn,kr,Rr,!0)}}e:{if(bt=dt?$a(dt):window,yt=bt.nodeName&&bt.nodeName.toLowerCase(),yt==="select"||yt==="input"&&bt.type==="file")var wr=Cd;else if(Ac(bt))if(Ad)wr=Wg;else{wr=ta;var Fn=Ti}else yt=bt.nodeName,!yt||yt.toLowerCase()!=="input"||bt.type!=="checkbox"&&bt.type!=="radio"?dt&&Fl(dt.elementType)&&(wr=Cd):wr=wv;if(wr&&(wr=wr(h,dt))){Bu(Ut,wr,T,kt);break e}Fn&&Fn(h,bt,dt),h==="focusout"&&dt&&bt.type==="number"&&dt.memoizedProps.value!=null&&hn(bt,"number",bt.value)}switch(Fn=dt?$a(dt):window,h){case"focusin":(Ac(Fn)||Fn.contentEditable==="true")&&(Fu=Fn,Pc=dt,ut=null);break;case"focusout":ut=Pc=Fu=null;break;case"mousedown":It=!0;break;case"contextmenu":case"mouseup":case"dragend":It=!1,mt(Ut,T,kt);break;case"selectionchange":if(Rd)break;case"keydown":case"keyup":mt(Ut,T,kt)}var qr;if(Ih)e:{switch(h){case"compositionstart":var Jr="onCompositionStart";break e;case"compositionend":Jr="onCompositionEnd";break e;case"compositionupdate":Jr="onCompositionUpdate";break e}Jr=void 0}else Gl?cp(h,T)&&(Jr="onCompositionEnd"):h==="keydown"&&T.keyCode===229&&(Jr="onCompositionStart");Jr&&(yl&&T.locale!=="ko"&&(Gl||Jr!=="onCompositionStart"?Jr==="onCompositionEnd"&&Gl&&(qr=hf()):(ou=kt,xc="value"in ou?ou.value:ou.textContent,Gl=!0)),Fn=cg(dt,Jr),0<Fn.length&&(Jr=new Nt(Jr,h,null,T,kt),Ut.push({event:Jr,listeners:Fn}),qr?Jr.data=qr:(qr=Cc(T),qr!==null&&(Jr.data=qr)))),(qr=Od?fp(h,T):Td(h,T))&&(Jr=cg(dt,"onBeforeInput"),0<Jr.length&&(Fn=new Nt("onBeforeInput","beforeinput",null,T,kt),Ut.push({event:Fn,listeners:Jr}),Fn.data=qr)),oy(Ut,h,dt,T,kt)}ly(Ut,g)})}function Zr(h,g,T){return{instance:h,listener:g,currentTarget:T}}function cg(h,g){for(var T=g+"Capture",M=[];h!==null;){var H=h,Z=H.stateNode;if(H=H.tag,H!==5&&H!==26&&H!==27||Z===null||(H=zs(h,T),H!=null&&M.unshift(Zr(h,H,Z)),H=zs(h,g),H!=null&&M.push(Zr(h,H,Z))),h.tag===3)return M;h=h.return}return[]}function Co(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5&&h.tag!==27);return h||null}function qa(h,g,T,M,H){for(var Z=g._reactName,he=[];T!==null&&T!==M;){var Ae=T,$e=Ae.alternate,dt=Ae.stateNode;if(Ae=Ae.tag,$e!==null&&$e===M)break;Ae!==5&&Ae!==26&&Ae!==27||dt===null||($e=dt,H?(dt=zs(T,Z),dt!=null&&he.unshift(Zr(T,dt,$e))):H||(dt=zs(T,Z),dt!=null&&he.push(Zr(T,dt,$e)))),T=T.return}he.length!==0&&h.push({event:g,listeners:he})}var lm=/\r\n?/g,gh=/\u0000|\uFFFD/g;function cm(h){return(typeof h=="string"?h:""+h).replace(lm,`
`).replace(gh,"")}function Kv(h,g){return g=cm(g),cm(h)===g}function fg(){}function Ei(h,g,T,M,H,Z){switch(T){case"children":typeof M=="string"?g==="body"||g==="textarea"&&M===""||fr(h,M):(typeof M=="number"||typeof M=="bigint")&&g!=="body"&&fr(h,""+M);break;case"className":La(h,"class",M);break;case"tabIndex":La(h,"tabindex",M);break;case"dir":case"role":case"viewBox":case"width":case"height":La(h,T,M);break;case"style":au(h,M,Z);break;case"data":if(g!=="object"){La(h,"data",M);break}case"src":case"href":if(M===""&&(g!=="a"||T!=="href")){h.removeAttribute(T);break}if(M==null||typeof M=="function"||typeof M=="symbol"||typeof M=="boolean"){h.removeAttribute(T);break}M=Yo(""+M),h.setAttribute(T,M);break;case"action":case"formAction":if(typeof M=="function"){h.setAttribute(T,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof Z=="function"&&(T==="formAction"?(g!=="input"&&Ei(h,g,"name",H.name,H,null),Ei(h,g,"formEncType",H.formEncType,H,null),Ei(h,g,"formMethod",H.formMethod,H,null),Ei(h,g,"formTarget",H.formTarget,H,null)):(Ei(h,g,"encType",H.encType,H,null),Ei(h,g,"method",H.method,H,null),Ei(h,g,"target",H.target,H,null)));if(M==null||typeof M=="symbol"||typeof M=="boolean"){h.removeAttribute(T);break}M=Yo(""+M),h.setAttribute(T,M);break;case"onClick":M!=null&&(h.onclick=fg);break;case"onScroll":M!=null&&An("scroll",h);break;case"onScrollEnd":M!=null&&An("scrollend",h);break;case"dangerouslySetInnerHTML":if(M!=null){if(typeof M!="object"||!("__html"in M))throw Error(n(61));if(T=M.__html,T!=null){if(H.children!=null)throw Error(n(60));h.innerHTML=T}}break;case"multiple":h.multiple=M&&typeof M!="function"&&typeof M!="symbol";break;case"muted":h.muted=M&&typeof M!="function"&&typeof M!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(M==null||typeof M=="function"||typeof M=="boolean"||typeof M=="symbol"){h.removeAttribute("xlink:href");break}T=Yo(""+M),h.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",T);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":M!=null&&typeof M!="function"&&typeof M!="symbol"?h.setAttribute(T,""+M):h.removeAttribute(T);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":M&&typeof M!="function"&&typeof M!="symbol"?h.setAttribute(T,""):h.removeAttribute(T);break;case"capture":case"download":M===!0?h.setAttribute(T,""):M!==!1&&M!=null&&typeof M!="function"&&typeof M!="symbol"?h.setAttribute(T,M):h.removeAttribute(T);break;case"cols":case"rows":case"size":case"span":M!=null&&typeof M!="function"&&typeof M!="symbol"&&!isNaN(M)&&1<=M?h.setAttribute(T,M):h.removeAttribute(T);break;case"rowSpan":case"start":M==null||typeof M=="function"||typeof M=="symbol"||isNaN(M)?h.removeAttribute(T):h.setAttribute(T,M);break;case"popover":An("beforetoggle",h),An("toggle",h),Nr(h,"popover",M);break;case"xlinkActuate":da(h,"http://www.w3.org/1999/xlink","xlink:actuate",M);break;case"xlinkArcrole":da(h,"http://www.w3.org/1999/xlink","xlink:arcrole",M);break;case"xlinkRole":da(h,"http://www.w3.org/1999/xlink","xlink:role",M);break;case"xlinkShow":da(h,"http://www.w3.org/1999/xlink","xlink:show",M);break;case"xlinkTitle":da(h,"http://www.w3.org/1999/xlink","xlink:title",M);break;case"xlinkType":da(h,"http://www.w3.org/1999/xlink","xlink:type",M);break;case"xmlBase":da(h,"http://www.w3.org/XML/1998/namespace","xml:base",M);break;case"xmlLang":da(h,"http://www.w3.org/XML/1998/namespace","xml:lang",M);break;case"xmlSpace":da(h,"http://www.w3.org/XML/1998/namespace","xml:space",M);break;case"is":Nr(h,"is",M);break;case"innerText":case"textContent":break;default:(!(2<T.length)||T[0]!=="o"&&T[0]!=="O"||T[1]!=="n"&&T[1]!=="N")&&(T=ps.get(T)||T,Nr(h,T,M))}}function hg(h,g,T,M,H,Z){switch(T){case"style":au(h,M,Z);break;case"dangerouslySetInnerHTML":if(M!=null){if(typeof M!="object"||!("__html"in M))throw Error(n(61));if(T=M.__html,T!=null){if(H.children!=null)throw Error(n(60));h.innerHTML=T}}break;case"children":typeof M=="string"?fr(h,M):(typeof M=="number"||typeof M=="bigint")&&fr(h,""+M);break;case"onScroll":M!=null&&An("scroll",h);break;case"onScrollEnd":M!=null&&An("scrollend",h);break;case"onClick":M!=null&&(h.onclick=fg);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!lf.hasOwnProperty(T))e:{if(T[0]==="o"&&T[1]==="n"&&(H=T.endsWith("Capture"),g=T.slice(2,H?T.length-7:void 0),Z=h[ai]||null,Z=Z!=null?Z[T]:null,typeof Z=="function"&&h.removeEventListener(g,Z,H),typeof M=="function")){typeof Z!="function"&&Z!==null&&(T in h?h[T]=null:h.hasAttribute(T)&&h.removeAttribute(T)),h.addEventListener(g,M,H);break e}T in h?h[T]=M:M===!0?h.setAttribute(T,""):Nr(h,T,M)}}}function Ao(h,g,T){switch(g){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":An("error",h),An("load",h);var M=!1,H=!1,Z;for(Z in T)if(T.hasOwnProperty(Z)){var he=T[Z];if(he!=null)switch(Z){case"src":M=!0;break;case"srcSet":H=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,g));default:Ei(h,g,Z,he,T,null)}}H&&Ei(h,g,"srcSet",T.srcSet,T,null),M&&Ei(h,g,"src",T.src,T,null);return;case"input":An("invalid",h);var Ae=Z=he=H=null,$e=null,dt=null;for(M in T)if(T.hasOwnProperty(M)){var kt=T[M];if(kt!=null)switch(M){case"name":H=kt;break;case"type":he=kt;break;case"checked":$e=kt;break;case"defaultChecked":dt=kt;break;case"value":Z=kt;break;case"defaultValue":Ae=kt;break;case"children":case"dangerouslySetInnerHTML":if(kt!=null)throw Error(n(137,g));break;default:Ei(h,g,M,kt,T,null)}}Hf(h,Z,Ae,$e,dt,he,H,!1),hl(h);return;case"select":An("invalid",h),M=he=Z=null;for(H in T)if(T.hasOwnProperty(H)&&(Ae=T[H],Ae!=null))switch(H){case"value":Z=Ae;break;case"defaultValue":he=Ae;break;case"multiple":M=Ae;default:Ei(h,g,H,Ae,T,null)}g=Z,T=he,h.multiple=!!M,g!=null?ro(h,!!M,g,!1):T!=null&&ro(h,!!M,T,!0);return;case"textarea":An("invalid",h),Z=H=M=null;for(he in T)if(T.hasOwnProperty(he)&&(Ae=T[he],Ae!=null))switch(he){case"value":M=Ae;break;case"defaultValue":H=Ae;break;case"children":Z=Ae;break;case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(n(91));break;default:Ei(h,g,he,Ae,T,null)}Vf(h,M,H,Z),hl(h);return;case"option":for($e in T)if(T.hasOwnProperty($e)&&(M=T[$e],M!=null))switch($e){case"selected":h.selected=M&&typeof M!="function"&&typeof M!="symbol";break;default:Ei(h,g,$e,M,T,null)}return;case"dialog":An("beforetoggle",h),An("toggle",h),An("cancel",h),An("close",h);break;case"iframe":case"object":An("load",h);break;case"video":case"audio":for(M=0;M<sv.length;M++)An(sv[M],h);break;case"image":An("error",h),An("load",h);break;case"details":An("toggle",h);break;case"embed":case"source":case"link":An("error",h),An("load",h);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(dt in T)if(T.hasOwnProperty(dt)&&(M=T[dt],M!=null))switch(dt){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,g));default:Ei(h,g,dt,M,T,null)}return;default:if(Fl(g)){for(kt in T)T.hasOwnProperty(kt)&&(M=T[kt],M!==void 0&&hg(h,g,kt,M,T,void 0));return}}for(Ae in T)T.hasOwnProperty(Ae)&&(M=T[Ae],M!=null&&Ei(h,g,Ae,M,T,null))}function fm(h,g,T,M){switch(g){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var H=null,Z=null,he=null,Ae=null,$e=null,dt=null,kt=null;for(yt in T){var Ut=T[yt];if(T.hasOwnProperty(yt)&&Ut!=null)switch(yt){case"checked":break;case"value":break;case"defaultValue":$e=Ut;default:M.hasOwnProperty(yt)||Ei(h,g,yt,null,M,Ut)}}for(var bt in M){var yt=M[bt];if(Ut=T[bt],M.hasOwnProperty(bt)&&(yt!=null||Ut!=null))switch(bt){case"type":Z=yt;break;case"name":H=yt;break;case"checked":dt=yt;break;case"defaultChecked":kt=yt;break;case"value":he=yt;break;case"defaultValue":Ae=yt;break;case"children":case"dangerouslySetInnerHTML":if(yt!=null)throw Error(n(137,g));break;default:yt!==Ut&&Ei(h,g,bt,yt,M,Ut)}}ff(h,he,Ae,$e,dt,kt,Z,H);return;case"select":yt=he=Ae=bt=null;for(Z in T)if($e=T[Z],T.hasOwnProperty(Z)&&$e!=null)switch(Z){case"value":break;case"multiple":yt=$e;default:M.hasOwnProperty(Z)||Ei(h,g,Z,null,M,$e)}for(H in M)if(Z=M[H],$e=T[H],M.hasOwnProperty(H)&&(Z!=null||$e!=null))switch(H){case"value":bt=Z;break;case"defaultValue":Ae=Z;break;case"multiple":he=Z;default:Z!==$e&&Ei(h,g,H,Z,M,$e)}g=Ae,T=he,M=yt,bt!=null?ro(h,!!T,bt,!1):!!M!=!!T&&(g!=null?ro(h,!!T,g,!0):ro(h,!!T,T?[]:"",!1));return;case"textarea":yt=bt=null;for(Ae in T)if(H=T[Ae],T.hasOwnProperty(Ae)&&H!=null&&!M.hasOwnProperty(Ae))switch(Ae){case"value":break;case"children":break;default:Ei(h,g,Ae,null,M,H)}for(he in M)if(H=M[he],Z=T[he],M.hasOwnProperty(he)&&(H!=null||Z!=null))switch(he){case"value":bt=H;break;case"defaultValue":yt=H;break;case"children":break;case"dangerouslySetInnerHTML":if(H!=null)throw Error(n(91));break;default:H!==Z&&Ei(h,g,he,H,M,Z)}No(h,bt,yt);return;case"option":for(var kr in T)if(bt=T[kr],T.hasOwnProperty(kr)&&bt!=null&&!M.hasOwnProperty(kr))switch(kr){case"selected":h.selected=!1;break;default:Ei(h,g,kr,null,M,bt)}for($e in M)if(bt=M[$e],yt=T[$e],M.hasOwnProperty($e)&&bt!==yt&&(bt!=null||yt!=null))switch($e){case"selected":h.selected=bt&&typeof bt!="function"&&typeof bt!="symbol";break;default:Ei(h,g,$e,bt,M,yt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Rr in T)bt=T[Rr],T.hasOwnProperty(Rr)&&bt!=null&&!M.hasOwnProperty(Rr)&&Ei(h,g,Rr,null,M,bt);for(dt in M)if(bt=M[dt],yt=T[dt],M.hasOwnProperty(dt)&&bt!==yt&&(bt!=null||yt!=null))switch(dt){case"children":case"dangerouslySetInnerHTML":if(bt!=null)throw Error(n(137,g));break;default:Ei(h,g,dt,bt,M,yt)}return;default:if(Fl(g)){for(var Bn in T)bt=T[Bn],T.hasOwnProperty(Bn)&&bt!==void 0&&!M.hasOwnProperty(Bn)&&hg(h,g,Bn,void 0,M,bt);for(kt in M)bt=M[kt],yt=T[kt],!M.hasOwnProperty(kt)||bt===yt||bt===void 0&&yt===void 0||hg(h,g,kt,bt,M,yt);return}}for(var vt in T)bt=T[vt],T.hasOwnProperty(vt)&&bt!=null&&!M.hasOwnProperty(vt)&&Ei(h,g,vt,null,M,bt);for(Ut in M)bt=M[Ut],yt=T[Ut],!M.hasOwnProperty(Ut)||bt===yt||bt==null&&yt==null||Ei(h,g,Ut,bt,M,yt)}var Wi=null,dg=null;function fd(h){return h.nodeType===9?h:h.ownerDocument}function ki(h){switch(h){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ia(h,g){if(h===0)switch(g){case"svg":return 1;case"math":return 2;default:return 0}return h===1&&g==="foreignObject"?0:h}function ur(h,g){return h==="textarea"||h==="noscript"||typeof g.children=="string"||typeof g.children=="number"||typeof g.children=="bigint"||typeof g.dangerouslySetInnerHTML=="object"&&g.dangerouslySetInnerHTML!==null&&g.dangerouslySetInnerHTML.__html!=null}var hd=null;function il(){var h=window.event;return h&&h.type==="popstate"?h===hd?!1:(hd=h,!0):(hd=null,!1)}var Zv=typeof setTimeout=="function"?setTimeout:void 0,hm=typeof clearTimeout=="function"?clearTimeout:void 0,Gn=typeof Promise=="function"?Promise:void 0,xi=typeof queueMicrotask=="function"?queueMicrotask:typeof Gn<"u"?function(h){return Gn.resolve(null).then(h).catch(eu)}:Zv;function eu(h){setTimeout(function(){throw h})}function tu(h){return h==="head"}function ru(h,g){var T=g,M=0,H=0;do{var Z=T.nextSibling;if(h.removeChild(T),Z&&Z.nodeType===8)if(T=Z.data,T==="/$"){if(0<M&&8>M){T=M;var he=h.ownerDocument;if(T&1&&E(he.documentElement),T&2&&E(he.body),T&4)for(T=he.head,E(T),he=T.firstChild;he;){var Ae=he.nextSibling,$e=he.nodeName;he[Na]||$e==="SCRIPT"||$e==="STYLE"||$e==="LINK"&&he.rel.toLowerCase()==="stylesheet"||T.removeChild(he),he=Ae}}if(H===0){h.removeChild(Z),Zc(g);return}H--}else T==="$"||T==="$?"||T==="$!"?H++:M=T.charCodeAt(0)-48;else M=0;T=Z}while(T);Zc(g)}function vg(h){var g=h.firstChild;for(g&&g.nodeType===10&&(g=g.nextSibling);g;){var T=g;switch(g=g.nextSibling,T.nodeName){case"HTML":case"HEAD":case"BODY":vg(T),wa(T);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(T.rel.toLowerCase()==="stylesheet")continue}h.removeChild(T)}}function fy(h,g,T,M){for(;h.nodeType===1;){var H=T;if(h.nodeName.toLowerCase()!==g.toLowerCase()){if(!M&&(h.nodeName!=="INPUT"||h.type!=="hidden"))break}else if(M){if(!h[Na])switch(g){case"meta":if(!h.hasAttribute("itemprop"))break;return h;case"link":if(Z=h.getAttribute("rel"),Z==="stylesheet"&&h.hasAttribute("data-precedence"))break;if(Z!==H.rel||h.getAttribute("href")!==(H.href==null||H.href===""?null:H.href)||h.getAttribute("crossorigin")!==(H.crossOrigin==null?null:H.crossOrigin)||h.getAttribute("title")!==(H.title==null?null:H.title))break;return h;case"style":if(h.hasAttribute("data-precedence"))break;return h;case"script":if(Z=h.getAttribute("src"),(Z!==(H.src==null?null:H.src)||h.getAttribute("type")!==(H.type==null?null:H.type)||h.getAttribute("crossorigin")!==(H.crossOrigin==null?null:H.crossOrigin))&&Z&&h.hasAttribute("async")&&!h.hasAttribute("itemprop"))break;return h;default:return h}}else if(g==="input"&&h.type==="hidden"){var Z=H.name==null?null:""+H.name;if(H.type==="hidden"&&h.getAttribute("name")===Z)return h}else return h;if(h=Ml(h.nextSibling),h===null)break}return null}function pg(h,g,T){if(g==="")return null;for(;h.nodeType!==3;)if((h.nodeType!==1||h.nodeName!=="INPUT"||h.type!=="hidden")&&!T||(h=Ml(h.nextSibling),h===null))return null;return h}function xu(h){return h.data==="$!"||h.data==="$?"&&h.ownerDocument.readyState==="complete"}function uv(h,g){var T=h.ownerDocument;if(h.data!=="$?"||T.readyState==="complete")g();else{var M=function(){g(),T.removeEventListener("DOMContentLoaded",M)};T.addEventListener("DOMContentLoaded",M),h._reactRetry=M}}function Ml(h){for(;h!=null;h=h.nextSibling){var g=h.nodeType;if(g===1||g===3)break;if(g===8){if(g=h.data,g==="$"||g==="$!"||g==="$?"||g==="F!"||g==="F")break;if(g==="/$")return null}}return h}var kp=null;function dm(h){h=h.previousSibling;for(var g=0;h;){if(h.nodeType===8){var T=h.data;if(T==="$"||T==="$!"||T==="$?"){if(g===0)return h;g--}else T==="/$"&&g++}h=h.previousSibling}return null}function vm(h,g,T){switch(g=fd(T),h){case"html":if(h=g.documentElement,!h)throw Error(n(452));return h;case"head":if(h=g.head,!h)throw Error(n(453));return h;case"body":if(h=g.body,!h)throw Error(n(454));return h;default:throw Error(n(451))}}function E(h){for(var g=h.attributes;g.length;)h.removeAttributeNode(g[0]);wa(h)}var x=new Map,C=new Set;function O(h){return typeof h.getRootNode=="function"?h.getRootNode():h.nodeType===9?h:h.ownerDocument}var B=re.d;re.d={f:N,r:G,D:ee,C:te,L:ue,m:ye,X:Oe,S:Ee,M:we};function N(){var h=B.f(),g=nv();return h||g}function G(h){var g=Fs(h);g!==null&&g.tag===5&&g.type==="form"?ah(g):B.r(h)}var X=typeof document>"u"?null:document;function W(h,g,T){var M=X;if(M&&typeof g=="string"&&g){var H=Wa(g);H='link[rel="'+h+'"][href="'+H+'"]',typeof T=="string"&&(H+='[crossorigin="'+T+'"]'),C.has(H)||(C.add(H),h={rel:h,crossOrigin:T,href:g},M.querySelector(H)===null&&(g=M.createElement("link"),Ao(g,"link",h),Bi(g),M.head.appendChild(g)))}}function ee(h){B.D(h),W("dns-prefetch",h,null)}function te(h,g){B.C(h,g),W("preconnect",h,g)}function ue(h,g,T){B.L(h,g,T);var M=X;if(M&&h&&g){var H='link[rel="preload"][as="'+Wa(g)+'"]';g==="image"&&T&&T.imageSrcSet?(H+='[imagesrcset="'+Wa(T.imageSrcSet)+'"]',typeof T.imageSizes=="string"&&(H+='[imagesizes="'+Wa(T.imageSizes)+'"]')):H+='[href="'+Wa(h)+'"]';var Z=H;switch(g){case"style":Z=ze(h);break;case"script":Z=tt(h)}x.has(Z)||(h=c({rel:"preload",href:g==="image"&&T&&T.imageSrcSet?void 0:h,as:g},T),x.set(Z,h),M.querySelector(H)!==null||g==="style"&&M.querySelector(He(Z))||g==="script"&&M.querySelector(Je(Z))||(g=M.createElement("link"),Ao(g,"link",h),Bi(g),M.head.appendChild(g)))}}function ye(h,g){B.m(h,g);var T=X;if(T&&h){var M=g&&typeof g.as=="string"?g.as:"script",H='link[rel="modulepreload"][as="'+Wa(M)+'"][href="'+Wa(h)+'"]',Z=H;switch(M){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":Z=tt(h)}if(!x.has(Z)&&(h=c({rel:"modulepreload",href:h},g),x.set(Z,h),T.querySelector(H)===null)){switch(M){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(T.querySelector(Je(Z)))return}M=T.createElement("link"),Ao(M,"link",h),Bi(M),T.head.appendChild(M)}}}function Ee(h,g,T){B.S(h,g,T);var M=X;if(M&&h){var H=ko(M).hoistableStyles,Z=ze(h);g=g||"default";var he=H.get(Z);if(!he){var Ae={loading:0,preload:null};if(he=M.querySelector(He(Z)))Ae.loading=5;else{h=c({rel:"stylesheet",href:h,"data-precedence":g},T),(T=x.get(Z))&&et(h,T);var $e=he=M.createElement("link");Bi($e),Ao($e,"link",h),$e._p=new Promise(function(dt,kt){$e.onload=dt,$e.onerror=kt}),$e.addEventListener("load",function(){Ae.loading|=1}),$e.addEventListener("error",function(){Ae.loading|=2}),Ae.loading|=4,at(he,g,M)}he={type:"stylesheet",instance:he,count:1,state:Ae},H.set(Z,he)}}}function Oe(h,g){B.X(h,g);var T=X;if(T&&h){var M=ko(T).hoistableScripts,H=tt(h),Z=M.get(H);Z||(Z=T.querySelector(Je(H)),Z||(h=c({src:h,async:!0},g),(g=x.get(H))&&gt(h,g),Z=T.createElement("script"),Bi(Z),Ao(Z,"link",h),T.head.appendChild(Z)),Z={type:"script",instance:Z,count:1,state:null},M.set(H,Z))}}function we(h,g){B.M(h,g);var T=X;if(T&&h){var M=ko(T).hoistableScripts,H=tt(h),Z=M.get(H);Z||(Z=T.querySelector(Je(H)),Z||(h=c({src:h,async:!0,type:"module"},g),(g=x.get(H))&&gt(h,g),Z=T.createElement("script"),Bi(Z),Ao(Z,"link",h),T.head.appendChild(Z)),Z={type:"script",instance:Z,count:1,state:null},M.set(H,Z))}}function Te(h,g,T,M){var H=(H=Ce.current)?O(H):null;if(!H)throw Error(n(446));switch(h){case"meta":case"title":return null;case"style":return typeof T.precedence=="string"&&typeof T.href=="string"?(g=ze(T.href),T=ko(H).hoistableStyles,M=T.get(g),M||(M={type:"style",instance:null,count:0,state:null},T.set(g,M)),M):{type:"void",instance:null,count:0,state:null};case"link":if(T.rel==="stylesheet"&&typeof T.href=="string"&&typeof T.precedence=="string"){h=ze(T.href);var Z=ko(H).hoistableStyles,he=Z.get(h);if(he||(H=H.ownerDocument||H,he={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},Z.set(h,he),(Z=H.querySelector(He(h)))&&!Z._p&&(he.instance=Z,he.state.loading=5),x.has(h)||(T={rel:"preload",as:"style",href:T.href,crossOrigin:T.crossOrigin,integrity:T.integrity,media:T.media,hrefLang:T.hrefLang,referrerPolicy:T.referrerPolicy},x.set(h,T),Z||Ve(H,h,T,he.state))),g&&M===null)throw Error(n(528,""));return he}if(g&&M!==null)throw Error(n(529,""));return null;case"script":return g=T.async,T=T.src,typeof T=="string"&&g&&typeof g!="function"&&typeof g!="symbol"?(g=tt(T),T=ko(H).hoistableScripts,M=T.get(g),M||(M={type:"script",instance:null,count:0,state:null},T.set(g,M)),M):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,h))}}function ze(h){return'href="'+Wa(h)+'"'}function He(h){return'link[rel="stylesheet"]['+h+"]"}function Ye(h){return c({},h,{"data-precedence":h.precedence,precedence:null})}function Ve(h,g,T,M){h.querySelector('link[rel="preload"][as="style"]['+g+"]")?M.loading=1:(g=h.createElement("link"),M.preload=g,g.addEventListener("load",function(){return M.loading|=1}),g.addEventListener("error",function(){return M.loading|=2}),Ao(g,"link",T),Bi(g),h.head.appendChild(g))}function tt(h){return'[src="'+Wa(h)+'"]'}function Je(h){return"script[async]"+h}function lt(h,g,T){if(g.count++,g.instance===null)switch(g.type){case"style":var M=h.querySelector('style[data-href~="'+Wa(T.href)+'"]');if(M)return g.instance=M,Bi(M),M;var H=c({},T,{"data-href":T.href,"data-precedence":T.precedence,href:null,precedence:null});return M=(h.ownerDocument||h).createElement("style"),Bi(M),Ao(M,"style",H),at(M,T.precedence,h),g.instance=M;case"stylesheet":H=ze(T.href);var Z=h.querySelector(He(H));if(Z)return g.state.loading|=4,g.instance=Z,Bi(Z),Z;M=Ye(T),(H=x.get(H))&&et(M,H),Z=(h.ownerDocument||h).createElement("link"),Bi(Z);var he=Z;return he._p=new Promise(function(Ae,$e){he.onload=Ae,he.onerror=$e}),Ao(Z,"link",M),g.state.loading|=4,at(Z,T.precedence,h),g.instance=Z;case"script":return Z=tt(T.src),(H=h.querySelector(Je(Z)))?(g.instance=H,Bi(H),H):(M=T,(H=x.get(Z))&&(M=c({},T),gt(M,H)),h=h.ownerDocument||h,H=h.createElement("script"),Bi(H),Ao(H,"link",M),h.head.appendChild(H),g.instance=H);case"void":return null;default:throw Error(n(443,g.type))}else g.type==="stylesheet"&&(g.state.loading&4)===0&&(M=g.instance,g.state.loading|=4,at(M,T.precedence,h));return g.instance}function at(h,g,T){for(var M=T.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),H=M.length?M[M.length-1]:null,Z=H,he=0;he<M.length;he++){var Ae=M[he];if(Ae.dataset.precedence===g)Z=Ae;else if(Z!==H)break}Z?Z.parentNode.insertBefore(h,Z.nextSibling):(g=T.nodeType===9?T.head:T,g.insertBefore(h,g.firstChild))}function et(h,g){h.crossOrigin==null&&(h.crossOrigin=g.crossOrigin),h.referrerPolicy==null&&(h.referrerPolicy=g.referrerPolicy),h.title==null&&(h.title=g.title)}function gt(h,g){h.crossOrigin==null&&(h.crossOrigin=g.crossOrigin),h.referrerPolicy==null&&(h.referrerPolicy=g.referrerPolicy),h.integrity==null&&(h.integrity=g.integrity)}var jt=null;function Kt(h,g,T){if(jt===null){var M=new Map,H=jt=new Map;H.set(T,M)}else H=jt,M=H.get(T),M||(M=new Map,H.set(T,M));if(M.has(h))return M;for(M.set(h,null),T=T.getElementsByTagName(h),H=0;H<T.length;H++){var Z=T[H];if(!(Z[Na]||Z[Pn]||h==="link"&&Z.getAttribute("rel")==="stylesheet")&&Z.namespaceURI!=="http://www.w3.org/2000/svg"){var he=Z.getAttribute(g)||"";he=h+he;var Ae=M.get(he);Ae?Ae.push(Z):M.set(he,[Z])}}return M}function Ft(h,g,T){h=h.ownerDocument||h,h.head.insertBefore(T,g==="title"?h.querySelector("head > title"):null)}function sr(h,g,T){if(T===1||g.itemProp!=null)return!1;switch(h){case"meta":case"title":return!0;case"style":if(typeof g.precedence!="string"||typeof g.href!="string"||g.href==="")break;return!0;case"link":if(typeof g.rel!="string"||typeof g.href!="string"||g.href===""||g.onLoad||g.onError)break;switch(g.rel){case"stylesheet":return h=g.disabled,typeof g.precedence=="string"&&h==null;default:return!0}case"script":if(g.async&&typeof g.async!="function"&&typeof g.async!="symbol"&&!g.onLoad&&!g.onError&&g.src&&typeof g.src=="string")return!0}return!1}function $t(h){return!(h.type==="stylesheet"&&(h.state.loading&3)===0)}var Be=null;function je(){}function Fe(h,g,T){if(Be===null)throw Error(n(475));var M=Be;if(g.type==="stylesheet"&&(typeof T.media!="string"||matchMedia(T.media).matches!==!1)&&(g.state.loading&4)===0){if(g.instance===null){var H=ze(T.href),Z=h.querySelector(He(H));if(Z){h=Z._p,h!==null&&typeof h=="object"&&typeof h.then=="function"&&(M.count++,M=st.bind(M),h.then(M,M)),g.state.loading|=4,g.instance=Z,Bi(Z);return}Z=h.ownerDocument||h,T=Ye(T),(H=x.get(H))&&et(T,H),Z=Z.createElement("link"),Bi(Z);var he=Z;he._p=new Promise(function(Ae,$e){he.onload=Ae,he.onerror=$e}),Ao(Z,"link",T),g.instance=Z}M.stylesheets===null&&(M.stylesheets=new Map),M.stylesheets.set(g,h),(h=g.state.preload)&&(g.state.loading&3)===0&&(M.count++,g=st.bind(M),h.addEventListener("load",g),h.addEventListener("error",g))}}function St(){if(Be===null)throw Error(n(475));var h=Be;return h.stylesheets&&h.count===0&&rr(h,h.stylesheets),0<h.count?function(g){var T=setTimeout(function(){if(h.stylesheets&&rr(h,h.stylesheets),h.unsuspend){var M=h.unsuspend;h.unsuspend=null,M()}},6e4);return h.unsuspend=g,function(){h.unsuspend=null,clearTimeout(T)}}:null}function st(){if(this.count--,this.count===0){if(this.stylesheets)rr(this,this.stylesheets);else if(this.unsuspend){var h=this.unsuspend;this.unsuspend=null,h()}}}var Dt=null;function rr(h,g){h.stylesheets=null,h.unsuspend!==null&&(h.count++,Dt=new Map,g.forEach(dr,h),Dt=null,st.call(h))}function dr(h,g){if(!(g.state.loading&4)){var T=Dt.get(h);if(T)var M=T.get(null);else{T=new Map,Dt.set(h,T);for(var H=h.querySelectorAll("link[data-precedence],style[data-precedence]"),Z=0;Z<H.length;Z++){var he=H[Z];(he.nodeName==="LINK"||he.getAttribute("media")!=="not all")&&(T.set(he.dataset.precedence,he),M=he)}M&&T.set(null,M)}H=g.instance,he=H.getAttribute("data-precedence"),Z=T.get(he)||M,Z===M&&T.set(null,H),T.set(he,H),this.count++,M=st.bind(this),H.addEventListener("load",M),H.addEventListener("error",M),Z?Z.parentNode.insertBefore(H,Z.nextSibling):(h=h.nodeType===9?h.head:h,h.insertBefore(H,h.firstChild)),g.state.loading|=4}}var lr={$$typeof:_,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function Kr(h,g,T,M,H,Z,he,Ae){this.tag=1,this.containerInfo=h,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=On(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=On(0),this.hiddenUpdates=On(null),this.identifierPrefix=M,this.onUncaughtError=H,this.onCaughtError=Z,this.onRecoverableError=he,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ae,this.incompleteTransitions=new Map}function Qr(h,g,T,M,H,Z,he,Ae,$e,dt,kt,Ut){return h=new Kr(h,g,T,he,Ae,$e,dt,Ut),g=1,Z===!0&&(g|=24),Z=Lo(3,null,null,g),h.current=Z,Z.stateNode=h,g=Ld(),g.refCount++,h.pooledCache=g,g.refCount++,Z.memoizedState={element:M,isDehydrated:T,cache:g},Yu(Z),h}function Sn(h){return h?(h=so,h):so}function vi(h,g,T,M,H,Z){H=Sn(H),M.context===null?M.context=H:M.pendingContext=H,M=Eo(g),M.payload={element:T},Z=Z===void 0?null:Z,Z!==null&&(M.callback=Z),T=$s(h,M,g),T!==null&&(Qs(T,h,g),du(T,h,g))}function Mi(h,g){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var T=h.retryLane;h.retryLane=T!==0&&T<g?T:g}}function ei(h,g){Mi(h,g),(h=h.alternate)&&Mi(h,g)}function Dn(h){if(h.tag===13){var g=ys(h,67108864);g!==null&&Qs(g,h,67108864),ei(h,67108864)}}var vn=!0;function Wn(h,g,T,M){var H=J.T;J.T=null;var Z=re.p;try{re.p=2,Yi(h,g,T,M)}finally{re.p=Z,J.T=H}}function pi(h,g,T,M){var H=J.T;J.T=null;var Z=re.p;try{re.p=8,Yi(h,g,T,M)}finally{re.p=Z,J.T=H}}function Yi(h,g,T,M){if(vn){var H=Mn(M);if(H===null)Xc(h,g,M,si,T),Kc(h,M);else if(ma(H,h,g,T,M))M.stopPropagation();else if(Kc(h,M),g&4&&-1<yh.indexOf(h)){for(;H!==null;){var Z=Fs(H);if(Z!==null)switch(Z.tag){case 3:if(Z=Z.stateNode,Z.current.memoizedState.isDehydrated){var he=mr(Z.pendingLanes);if(he!==0){var Ae=Z;for(Ae.pendingLanes|=2,Ae.entangledLanes|=2;he;){var $e=1<<31-ht(he);Ae.entanglements[1]|=$e,he&=~$e}Mf(Z),(tr&6)===0&&(Zs=pt()+500,ld(0))}}break;case 13:Ae=ys(Z,2),Ae!==null&&Qs(Ae,Z,2),nv(),ei(Z,2)}if(Z=Mn(M),Z===null&&Xc(h,g,M,si,T),Z===H)break;H=Z}H!==null&&M.stopPropagation()}else Xc(h,g,M,null,T)}}function Mn(h){return h=Ch(h),Xi(h)}var si=null;function Xi(h){if(si=null,h=Va(h),h!==null){var g=a(h);if(g===null)h=null;else{var T=g.tag;if(T===13){if(h=o(g),h!==null)return h;h=null}else if(T===3){if(g.stateNode.current.memoizedState.isDehydrated)return g.tag===3?g.stateNode.containerInfo:null;h=null}else g!==h&&(h=null)}}return si=h,null}function oa(h){switch(h){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Q()){case ne:return 2;case fe:return 8;case Ue:case qe:return 32;case We:return 268435456;default:return 32}default:return 32}}var sa=!1,pn=null,gi=null,In=null,fo=new Map,Ro=new Map,Is=[],yh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kc(h,g){switch(h){case"focusin":case"focusout":pn=null;break;case"dragenter":case"dragleave":gi=null;break;case"mouseover":case"mouseout":In=null;break;case"pointerover":case"pointerout":fo.delete(g.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ro.delete(g.pointerId)}}function ds(h,g,T,M,H,Z){return h===null||h.nativeEvent!==Z?(h={blockedOn:g,domEventName:T,eventSystemFlags:M,nativeEvent:Z,targetContainers:[H]},g!==null&&(g=Fs(g),g!==null&&Dn(g)),h):(h.eventSystemFlags|=M,g=h.targetContainers,H!==null&&g.indexOf(H)===-1&&g.push(H),h)}function ma(h,g,T,M,H){switch(g){case"focusin":return pn=ds(pn,h,g,T,M,H),!0;case"dragenter":return gi=ds(gi,h,g,T,M,H),!0;case"mouseover":return In=ds(In,h,g,T,M,H),!0;case"pointerover":var Z=H.pointerId;return fo.set(Z,ds(fo.get(Z)||null,h,g,T,M,H)),!0;case"gotpointercapture":return Z=H.pointerId,Ro.set(Z,ds(Ro.get(Z)||null,h,g,T,M,H)),!0}return!1}function yi(h){var g=Va(h.target);if(g!==null){var T=a(g);if(T!==null){if(g=T.tag,g===13){if(g=o(T),g!==null){h.blockedOn=g,la(h.priority,function(){if(T.tag===13){var M=jr();M=ii(M);var H=ys(T,M);H!==null&&Qs(H,T,M),ei(T,M)}});return}}else if(g===3&&T.stateNode.current.memoizedState.isDehydrated){h.blockedOn=T.tag===3?T.stateNode.containerInfo:null;return}}}h.blockedOn=null}function ka(h){if(h.blockedOn!==null)return!1;for(var g=h.targetContainers;0<g.length;){var T=Mn(h.nativeEvent);if(T===null){T=h.nativeEvent;var M=new T.constructor(T.type,T);bc=M,T.target.dispatchEvent(M),bc=null}else return g=Fs(T),g!==null&&Dn(g),h.blockedOn=T,!1;g.shift()}return!0}function ks(h,g,T){ka(h)&&T.delete(g)}function Ms(){sa=!1,pn!==null&&ka(pn)&&(pn=null),gi!==null&&ka(gi)&&(gi=null),In!==null&&ka(In)&&(In=null),fo.forEach(ks),Ro.forEach(ks)}function Su(h,g){h.blockedOn===g&&(h.blockedOn=null,sa||(sa=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ms)))}var Ki=null;function mh(h){Ki!==h&&(Ki=h,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ki===h&&(Ki=null);for(var g=0;g<h.length;g+=3){var T=h[g],M=h[g+1],H=h[g+2];if(typeof M!="function"){if(Xi(M||T)===null)continue;break}var Z=Fs(T);Z!==null&&(h.splice(g,3),g-=3,Xh(Z,{pending:!0,data:H,method:T.method,action:M},M,H))}}))}function Zc(h){function g($e){return Su($e,h)}pn!==null&&Su(pn,h),gi!==null&&Su(gi,h),In!==null&&Su(In,h),fo.forEach(g),Ro.forEach(g);for(var T=0;T<Is.length;T++){var M=Is[T];M.blockedOn===h&&(M.blockedOn=null)}for(;0<Is.length&&(T=Is[0],T.blockedOn===null);)yi(T),T.blockedOn===null&&Is.shift();if(T=(h.ownerDocument||h).$$reactFormReplay,T!=null)for(M=0;M<T.length;M+=3){var H=T[M],Z=T[M+1],he=H[ai]||null;if(typeof Z=="function")he||mh(T);else if(he){var Ae=null;if(Z&&Z.hasAttribute("formAction")){if(H=Z,he=Z[ai]||null)Ae=he.formAction;else if(Xi(H)!==null)continue}else Ae=he.action;typeof Ae=="function"?T[M+1]=Ae:(T.splice(M,3),M-=3),mh(T)}}}function Qc(h){this._internalRoot=h}dd.prototype.render=Qc.prototype.render=function(h){var g=this._internalRoot;if(g===null)throw Error(n(409));var T=g.current,M=jr();vi(T,M,h,g,null,null)},dd.prototype.unmount=Qc.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var g=h.containerInfo;vi(h.current,2,null,h,null,null),nv(),g[fa]=null}};function dd(h){this._internalRoot=h}dd.prototype.unstable_scheduleHydration=function(h){if(h){var g=ji();h={blockedOn:null,target:h,priority:g};for(var T=0;T<Is.length&&g!==0&&g<Is[T].priority;T++);Is.splice(T,0,h),T===0&&yi(h)}};var bh=e.version;if(bh!=="19.1.0")throw Error(n(527,bh,"19.1.0"));re.findDOMNode=function(h){var g=h._reactInternals;if(g===void 0)throw typeof h.render=="function"?Error(n(188)):(h=Object.keys(h).join(","),Error(n(268,h)));return h=u(g),h=h!==null?l(h):null,h=h===null?null:h.stateNode,h};var _h={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jc.isDisabled&&Jc.supportsFiber)try{Et=Jc.inject(_h),Se=Jc}catch{}}return b0.createRoot=function(h,g){if(!i(h))throw Error(n(299));var T=!1,M="",H=Nv,Z=If,he=yu,Ae=null;return g!=null&&(g.unstable_strictMode===!0&&(T=!0),g.identifierPrefix!==void 0&&(M=g.identifierPrefix),g.onUncaughtError!==void 0&&(H=g.onUncaughtError),g.onCaughtError!==void 0&&(Z=g.onCaughtError),g.onRecoverableError!==void 0&&(he=g.onRecoverableError),g.unstable_transitionCallbacks!==void 0&&(Ae=g.unstable_transitionCallbacks)),g=Qr(h,1,!1,null,null,T,M,H,Z,he,Ae,null),h[fa]=g.current,cy(h),new Qc(g)},b0.hydrateRoot=function(h,g,T){if(!i(h))throw Error(n(299));var M=!1,H="",Z=Nv,he=If,Ae=yu,$e=null,dt=null;return T!=null&&(T.unstable_strictMode===!0&&(M=!0),T.identifierPrefix!==void 0&&(H=T.identifierPrefix),T.onUncaughtError!==void 0&&(Z=T.onUncaughtError),T.onCaughtError!==void 0&&(he=T.onCaughtError),T.onRecoverableError!==void 0&&(Ae=T.onRecoverableError),T.unstable_transitionCallbacks!==void 0&&($e=T.unstable_transitionCallbacks),T.formState!==void 0&&(dt=T.formState)),g=Qr(h,1,!0,g,T??null,M,H,Z,he,Ae,$e,dt),g.context=Sn(null),T=g.current,M=jr(),M=ii(M),H=Eo(M),H.callback=null,$s(T,H,M),T=M,g.current.lanes=T,Rn(g,T),Mf(g),h[fa]=g.current,cy(h),new dd(g)},b0.version="19.1.0",b0}var LA;function $B(){if(LA)return $1.exports;LA=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),$1.exports=VB(),$1.exports}var WB=$B();function xC(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function YB(r){if(Array.isArray(r))return r}function XB(r){if(Array.isArray(r))return xC(r)}function Fg(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function KB(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,d3(n.key),n)}}function Ug(r,e,t){return e&&KB(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function dv(r,e){var t=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=n2(r))||e){t&&(r=t);var n=0,i=function(){};return{s:i,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,o=!0,s=!1;return{s:function(){t=t.call(r)},n:function(){var u=t.next();return o=u.done,u},e:function(u){s=!0,a=u},f:function(){try{o||t.return==null||t.return()}finally{if(s)throw a}}}}function f3(r,e,t){return(e=d3(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function ZB(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function QB(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,a,o,s=[],u=!0,l=!1;try{if(a=(t=t.call(r)).next,e===0){if(Object(t)!==t)return;u=!1}else for(;!(u=(n=a.call(t)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function JB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sl(r,e){return YB(r)||QB(r,e)||n2(r,e)||JB()}function h3(r){return XB(r)||ZB(r)||n2(r)||eF()}function tF(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function d3(r){var e=tF(r,"string");return typeof e=="symbol"?e:e+""}function Ru(r){"@babel/helpers - typeof";return Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ru(r)}function n2(r,e){if(r){if(typeof r=="string")return xC(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?xC(r,e):void 0}}var Tu=typeof window>"u"?null:window,jA=Tu?Tu.navigator:null;Tu&&Tu.document;var rF=Ru(""),v3=Ru({}),nF=Ru(function(){}),iF=typeof HTMLElement>"u"?"undefined":Ru(HTMLElement),gb=function(e){return e&&e.instanceString&&Vo(e.instanceString)?e.instanceString():null},$r=function(e){return e!=null&&Ru(e)==rF},Vo=function(e){return e!=null&&Ru(e)===nF},Ga=function(e){return!xh(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},Li=function(e){return e!=null&&Ru(e)===v3&&!Ga(e)&&e.constructor===Object},aF=function(e){return e!=null&&Ru(e)===v3},gr=function(e){return e!=null&&Ru(e)===Ru(1)&&!isNaN(e)},oF=function(e){return gr(e)&&Math.floor(e)===e},I_=function(e){if(iF!=="undefined")return e!=null&&e instanceof HTMLElement},xh=function(e){return yb(e)||p3(e)},yb=function(e){return gb(e)==="collection"&&e._private.single},p3=function(e){return gb(e)==="collection"&&!e._private.single},i2=function(e){return gb(e)==="core"},g3=function(e){return gb(e)==="stylesheet"},sF=function(e){return gb(e)==="event"},Rg=function(e){return e==null?!0:!!(e===""||e.match(/^\s+$/))},uF=function(e){return typeof HTMLElement>"u"?!1:e instanceof HTMLElement},lF=function(e){return Li(e)&&gr(e.x1)&&gr(e.x2)&&gr(e.y1)&&gr(e.y2)},cF=function(e){return aF(e)&&Vo(e.then)},fF=function(){return jA&&jA.userAgent.match(/msie|trident|edge/i)},Gm=function(e,t){t||(t=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var a=[],o=0;o<arguments.length;o++)a.push(arguments[o]);return a.join("$")});var n=function(){var a=this,o=arguments,s,u=t.apply(a,o),l=n.cache;return(s=l[u])||(s=l[u]=e.apply(a,o)),s};return n.cache={},n},a2=Gm(function(r){return r.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),Q_=Gm(function(r){return r.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),y3=Gm(function(r,e){return r+e[0].toUpperCase()+e.substring(1)},function(r,e){return r+"$"+e}),BA=function(e){return Rg(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},Cu="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",hF="rgb[a]?\\(("+Cu+"[%]?)\\s*,\\s*("+Cu+"[%]?)\\s*,\\s*("+Cu+"[%]?)(?:\\s*,\\s*("+Cu+"))?\\)",dF="rgb[a]?\\((?:"+Cu+"[%]?)\\s*,\\s*(?:"+Cu+"[%]?)\\s*,\\s*(?:"+Cu+"[%]?)(?:\\s*,\\s*(?:"+Cu+"))?\\)",vF="hsl[a]?\\(("+Cu+")\\s*,\\s*("+Cu+"[%])\\s*,\\s*("+Cu+"[%])(?:\\s*,\\s*("+Cu+"))?\\)",pF="hsl[a]?\\((?:"+Cu+")\\s*,\\s*(?:"+Cu+"[%])\\s*,\\s*(?:"+Cu+"[%])(?:\\s*,\\s*(?:"+Cu+"))?\\)",gF="\\#[0-9a-fA-F]{3}",yF="\\#[0-9a-fA-F]{6}",m3=function(e,t){return e<t?-1:e>t?1:0},mF=function(e,t){return-1*m3(e,t)},en=Object.assign!=null?Object.assign.bind(Object):function(r){for(var e=arguments,t=1;t<e.length;t++){var n=e[t];if(n!=null)for(var i=Object.keys(n),a=0;a<i.length;a++){var o=i[a];r[o]=n[o]}}return r},bF=function(e){if(!(!(e.length===4||e.length===7)||e[0]!=="#")){var t=e.length===4,n,i,a,o=16;return t?(n=parseInt(e[1]+e[1],o),i=parseInt(e[2]+e[2],o),a=parseInt(e[3]+e[3],o)):(n=parseInt(e[1]+e[2],o),i=parseInt(e[3]+e[4],o),a=parseInt(e[5]+e[6],o)),[n,i,a]}},_F=function(e){var t,n,i,a,o,s,u,l;function c(p,m,w){return w<0&&(w+=1),w>1&&(w-=1),w<1/6?p+(m-p)*6*w:w<1/2?m:w<2/3?p+(m-p)*(2/3-w)*6:p}var f=new RegExp("^"+vF+"$").exec(e);if(f){if(n=parseInt(f[1]),n<0?n=(360- -1*n%360)%360:n>360&&(n=n%360),n/=360,i=parseFloat(f[2]),i<0||i>100||(i=i/100,a=parseFloat(f[3]),a<0||a>100)||(a=a/100,o=f[4],o!==void 0&&(o=parseFloat(o),o<0||o>1)))return;if(i===0)s=u=l=Math.round(a*255);else{var d=a<.5?a*(1+i):a+i-a*i,v=2*a-d;s=Math.round(255*c(v,d,n+1/3)),u=Math.round(255*c(v,d,n)),l=Math.round(255*c(v,d,n-1/3))}t=[s,u,l,o]}return t},wF=function(e){var t,n=new RegExp("^"+hF+"$").exec(e);if(n){t=[];for(var i=[],a=1;a<=3;a++){var o=n[a];if(o[o.length-1]==="%"&&(i[a]=!0),o=parseFloat(o),i[a]&&(o=o/100*255),o<0||o>255)return;t.push(Math.floor(o))}var s=i[1]||i[2]||i[3],u=i[1]&&i[2]&&i[3];if(s&&!u)return;var l=n[4];if(l!==void 0){if(l=parseFloat(l),l<0||l>1)return;t.push(l)}}return t},EF=function(e){return xF[e.toLowerCase()]},b3=function(e){return(Ga(e)?e:null)||EF(e)||bF(e)||wF(e)||_F(e)},xF={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},_3=function(e){for(var t=e.map,n=e.keys,i=n.length,a=0;a<i;a++){var o=n[a];if(Li(o))throw Error("Tried to set map with object key");a<n.length-1?(t[o]==null&&(t[o]={}),t=t[o]):t[o]=e.value}},w3=function(e){for(var t=e.map,n=e.keys,i=n.length,a=0;a<i;a++){var o=n[a];if(Li(o))throw Error("Tried to get map with object key");if(t=t[o],t==null)return t}return t},Nb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mb(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var K1,FA;function bb(){if(FA)return K1;FA=1;function r(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return K1=r,K1}var Z1,UA;function SF(){if(UA)return Z1;UA=1;var r=typeof Nb=="object"&&Nb&&Nb.Object===Object&&Nb;return Z1=r,Z1}var Q1,zA;function J_(){if(zA)return Q1;zA=1;var r=SF(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=r||e||Function("return this")();return Q1=t,Q1}var J1,qA;function OF(){if(qA)return J1;qA=1;var r=J_(),e=function(){return r.Date.now()};return J1=e,J1}var ew,GA;function TF(){if(GA)return ew;GA=1;var r=/\s/;function e(t){for(var n=t.length;n--&&r.test(t.charAt(n)););return n}return ew=e,ew}var tw,HA;function CF(){if(HA)return tw;HA=1;var r=TF(),e=/^\s+/;function t(n){return n&&n.slice(0,r(n)+1).replace(e,"")}return tw=t,tw}var rw,VA;function o2(){if(VA)return rw;VA=1;var r=J_(),e=r.Symbol;return rw=e,rw}var nw,$A;function AF(){if($A)return nw;$A=1;var r=o2(),e=Object.prototype,t=e.hasOwnProperty,n=e.toString,i=r?r.toStringTag:void 0;function a(o){var s=t.call(o,i),u=o[i];try{o[i]=void 0;var l=!0}catch{}var c=n.call(o);return l&&(s?o[i]=u:delete o[i]),c}return nw=a,nw}var iw,WA;function RF(){if(WA)return iw;WA=1;var r=Object.prototype,e=r.toString;function t(n){return e.call(n)}return iw=t,iw}var aw,YA;function E3(){if(YA)return aw;YA=1;var r=o2(),e=AF(),t=RF(),n="[object Null]",i="[object Undefined]",a=r?r.toStringTag:void 0;function o(s){return s==null?s===void 0?i:n:a&&a in Object(s)?e(s):t(s)}return aw=o,aw}var ow,XA;function PF(){if(XA)return ow;XA=1;function r(e){return e!=null&&typeof e=="object"}return ow=r,ow}var sw,KA;function _b(){if(KA)return sw;KA=1;var r=E3(),e=PF(),t="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&r(i)==t}return sw=n,sw}var uw,ZA;function DF(){if(ZA)return uw;ZA=1;var r=CF(),e=bb(),t=_b(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt;function u(l){if(typeof l=="number")return l;if(t(l))return n;if(e(l)){var c=typeof l.valueOf=="function"?l.valueOf():l;l=e(c)?c+"":c}if(typeof l!="string")return l===0?l:+l;l=r(l);var f=a.test(l);return f||o.test(l)?s(l.slice(2),f?2:8):i.test(l)?n:+l}return uw=u,uw}var lw,QA;function IF(){if(QA)return lw;QA=1;var r=bb(),e=OF(),t=DF(),n="Expected a function",i=Math.max,a=Math.min;function o(s,u,l){var c,f,d,v,p,m,w=0,b=!1,y=!1,_=!0;if(typeof s!="function")throw new TypeError(n);u=t(u)||0,r(l)&&(b=!!l.leading,y="maxWait"in l,d=y?i(t(l.maxWait)||0,u):d,_="trailing"in l?!!l.trailing:_);function S($){var K=c,oe=f;return c=f=void 0,w=$,v=s.apply(oe,K),v}function A($){return w=$,p=setTimeout(k,u),b?S($):v}function D($){var K=$-m,oe=$-w,J=u-K;return y?a(J,d-oe):J}function R($){var K=$-m,oe=$-w;return m===void 0||K>=u||K<0||y&&oe>=d}function k(){var $=e();if(R($))return j($);p=setTimeout(k,D($))}function j($){return p=void 0,_&&c?S($):(c=f=void 0,v)}function F(){p!==void 0&&clearTimeout(p),w=0,c=m=f=p=void 0}function z(){return p===void 0?v:j(e())}function q(){var $=e(),K=R($);if(c=arguments,f=this,m=$,K){if(p===void 0)return A(m);if(y)return clearTimeout(p),p=setTimeout(k,u),S(m)}return p===void 0&&(p=setTimeout(k,u)),v}return q.cancel=F,q.flush=z,q}return lw=o,lw}var kF=IF(),wb=mb(kF),cw=Tu?Tu.performance:null,x3=cw&&cw.now?function(){return cw.now()}:function(){return Date.now()},MF=function(){if(Tu){if(Tu.requestAnimationFrame)return function(r){Tu.requestAnimationFrame(r)};if(Tu.mozRequestAnimationFrame)return function(r){Tu.mozRequestAnimationFrame(r)};if(Tu.webkitRequestAnimationFrame)return function(r){Tu.webkitRequestAnimationFrame(r)};if(Tu.msRequestAnimationFrame)return function(r){Tu.msRequestAnimationFrame(r)}}return function(r){r&&setTimeout(function(){r(x3())},1e3/60)}}(),k_=function(e){return MF(e)},Hp=x3,Am=9261,S3=65599,L0=5381,O3=function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Am,n=t,i;i=e.next(),!i.done;)n=n*S3+i.value|0;return n},J0=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Am;return t*S3+e|0},eb=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:L0;return(t<<5)+t+e|0},NF=function(e,t){return e*2097152+t},gg=function(e){return e[0]*2097152+e[1]},Lb=function(e,t){return[J0(e[0],t[0]),eb(e[1],t[1])]},JA=function(e,t){var n={value:0,done:!1},i=0,a=e.length,o={next:function(){return i<a?n.value=e[i++]:n.done=!0,n}};return O3(o,t)},Pg=function(e,t){var n={value:0,done:!1},i=0,a=e.length,o={next:function(){return i<a?n.value=e.charCodeAt(i++):n.done=!0,n}};return O3(o,t)},T3=function(){return LF(arguments)},LF=function(e){for(var t,n=0;n<e.length;n++){var i=e[n];n===0?t=Pg(i):t=Pg(i,t)}return t},eR=!0,jF=console.warn!=null,BF=console.trace!=null,s2=Number.MAX_SAFE_INTEGER||9007199254740991,C3=function(){return!0},M_=function(){return!1},tR=function(){return 0},u2=function(){},Ho=function(e){throw new Error(e)},A3=function(e){if(e!==void 0)eR=!!e;else return eR},_a=function(e){A3()&&(jF?console.warn(e):(console.log(e),BF&&console.trace()))},FF=function(e){return en({},e)},ip=function(e){return e==null?e:Ga(e)?e.slice():Li(e)?FF(e):e},UF=function(e){return e.slice()},R3=function(e,t){for(t=e="";e++<36;t+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return t},zF={},P3=function(){return zF},Pu=function(e){var t=Object.keys(e);return function(n){for(var i={},a=0;a<t.length;a++){var o=t[a],s=n==null?void 0:n[o];i[o]=s===void 0?e[o]:s}return i}},Dg=function(e,t,n){for(var i=e.length-1;i>=0;i--)e[i]===t&&e.splice(i,1)},l2=function(e){e.splice(0,e.length)},qF=function(e,t){for(var n=0;n<t.length;n++){var i=t[n];e.push(i)}},pd=function(e,t,n){return n&&(t=y3(n,t)),e[t]},Bp=function(e,t,n,i){n&&(t=y3(n,t)),e[t]=i},GF=function(){function r(){Fg(this,r),this._obj={}}return Ug(r,[{key:"set",value:function(t,n){return this._obj[t]=n,this}},{key:"delete",value:function(t){return this._obj[t]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(t){return this._obj[t]!==void 0}},{key:"get",value:function(t){return this._obj[t]}}])}(),zp=typeof Map<"u"?Map:GF,HF="undefined",VF=function(){function r(e){if(Fg(this,r),this._obj=Object.create(null),this.size=0,e!=null){var t;e.instanceString!=null&&e.instanceString()===this.instanceString()?t=e.toArray():t=e;for(var n=0;n<t.length;n++)this.add(t[n])}}return Ug(r,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(t){var n=this._obj;n[t]!==1&&(n[t]=1,this.size++)}},{key:"delete",value:function(t){var n=this._obj;n[t]===1&&(n[t]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(t){return this._obj[t]===1}},{key:"toArray",value:function(){var t=this;return Object.keys(this._obj).filter(function(n){return t.has(n)})}},{key:"forEach",value:function(t,n){return this.toArray().forEach(t,n)}}])}(),Jm=(typeof Set>"u"?"undefined":Ru(Set))!==HF?Set:VF,e1=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0||t===void 0||!i2(e)){Ho("An element must have a core reference and parameters set");return}var i=t.group;if(i==null&&(t.data&&t.data.source!=null&&t.data.target!=null?i="edges":i="nodes"),i!=="nodes"&&i!=="edges"){Ho("An element must be of type `nodes` or `edges`; you specified `"+i+"`");return}this.length=1,this[0]=this;var a=this._private={cy:e,single:!0,data:t.data||{},position:t.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:i,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!t.selected,selectable:t.selectable===void 0?!0:!!t.selectable,locked:!!t.locked,grabbed:!1,grabbable:t.grabbable===void 0?!0:!!t.grabbable,pannable:t.pannable===void 0?i==="edges":!!t.pannable,active:!1,classes:new Jm,animation:{current:[],queue:[]},rscratch:{},scratch:t.scratch||{},edges:[],children:[],parent:t.parent&&t.parent.isNode()?t.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(a.position.x==null&&(a.position.x=0),a.position.y==null&&(a.position.y=0),t.renderedPosition){var o=t.renderedPosition,s=e.pan(),u=e.zoom();a.position={x:(o.x-s.x)/u,y:(o.y-s.y)/u}}var l=[];Ga(t.classes)?l=t.classes:$r(t.classes)&&(l=t.classes.split(/\s+/));for(var c=0,f=l.length;c<f;c++){var d=l[c];!d||d===""||a.classes.add(d)}this.createEmitter(),(n===void 0||n)&&this.restore();var v=t.style||t.css;v&&(_a("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(v))},rR=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(n,i,a){var o;Li(n)&&!xh(n)&&(o=n,n=o.roots||o.root,i=o.visit,a=o.directed),a=arguments.length===2&&!Vo(i)?i:a,i=Vo(i)?i:function(){};for(var s=this._private.cy,u=n=$r(n)?this.filter(n):n,l=[],c=[],f={},d={},v={},p=0,m,w=this.byGroup(),b=w.nodes,y=w.edges,_=0;_<u.length;_++){var S=u[_],A=S.id();S.isNode()&&(l.unshift(S),e.bfs&&(v[A]=!0,c.push(S)),d[A]=0)}for(var D=function(){var $=e.bfs?l.shift():l.pop(),K=$.id();if(e.dfs){if(v[K])return 0;v[K]=!0,c.push($)}var oe=d[K],J=f[K],re=J!=null?J.source():null,ae=J!=null?J.target():null,ve=J==null?void 0:$.same(re)?ae[0]:re[0],se;if(se=i($,J,ve,p++,oe),se===!0)return m=$,1;if(se===!1)return 1;for(var ce=$.connectedEdges().filter(function(Ce){return(!a||Ce.source().same($))&&y.has(Ce)}),pe=0;pe<ce.length;pe++){var Pe=ce[pe],de=Pe.connectedNodes().filter(function(Ce){return!Ce.same($)&&b.has(Ce)}),ge=de.id();de.length!==0&&!v[ge]&&(de=de[0],l.push(de),e.bfs&&(v[ge]=!0,c.push(de)),f[ge]=Pe,d[ge]=d[K]+1)}},R;l.length!==0&&(R=D(),!(R!==0&&R===1)););for(var k=s.collection(),j=0;j<c.length;j++){var F=c[j],z=f[F.id()];z!=null&&k.push(z),k.push(F)}return{path:s.collection(k),found:s.collection(m)}}},tb={breadthFirstSearch:rR({bfs:!0}),depthFirstSearch:rR({dfs:!0})};tb.bfs=tb.breadthFirstSearch;tb.dfs=tb.depthFirstSearch;var h_={exports:{}},$F=h_.exports,nR;function WF(){return nR||(nR=1,function(r,e){(function(){var t,n,i,a,o,s,u,l,c,f,d,v,p,m,w;i=Math.floor,f=Math.min,n=function(b,y){return b<y?-1:b>y?1:0},c=function(b,y,_,S,A){var D;if(_==null&&(_=0),A==null&&(A=n),_<0)throw new Error("lo must be non-negative");for(S==null&&(S=b.length);_<S;)D=i((_+S)/2),A(y,b[D])<0?S=D:_=D+1;return[].splice.apply(b,[_,_-_].concat(y)),y},s=function(b,y,_){return _==null&&(_=n),b.push(y),m(b,0,b.length-1,_)},o=function(b,y){var _,S;return y==null&&(y=n),_=b.pop(),b.length?(S=b[0],b[0]=_,w(b,0,y)):S=_,S},l=function(b,y,_){var S;return _==null&&(_=n),S=b[0],b[0]=y,w(b,0,_),S},u=function(b,y,_){var S;return _==null&&(_=n),b.length&&_(b[0],y)<0&&(S=[b[0],y],y=S[0],b[0]=S[1],w(b,0,_)),y},a=function(b,y){var _,S,A,D,R,k;for(y==null&&(y=n),D=(function(){k=[];for(var j=0,F=i(b.length/2);0<=F?j<F:j>F;0<=F?j++:j--)k.push(j);return k}).apply(this).reverse(),R=[],S=0,A=D.length;S<A;S++)_=D[S],R.push(w(b,_,y));return R},p=function(b,y,_){var S;if(_==null&&(_=n),S=b.indexOf(y),S!==-1)return m(b,0,S,_),w(b,S,_)},d=function(b,y,_){var S,A,D,R,k;if(_==null&&(_=n),A=b.slice(0,y),!A.length)return A;for(a(A,_),k=b.slice(y),D=0,R=k.length;D<R;D++)S=k[D],u(A,S,_);return A.sort(_).reverse()},v=function(b,y,_){var S,A,D,R,k,j,F,z,q;if(_==null&&(_=n),y*10<=b.length){if(D=b.slice(0,y).sort(_),!D.length)return D;for(A=D[D.length-1],F=b.slice(y),R=0,j=F.length;R<j;R++)S=F[R],_(S,A)<0&&(c(D,S,0,null,_),D.pop(),A=D[D.length-1]);return D}for(a(b,_),q=[],k=0,z=f(y,b.length);0<=z?k<z:k>z;0<=z?++k:--k)q.push(o(b,_));return q},m=function(b,y,_,S){var A,D,R;for(S==null&&(S=n),A=b[_];_>y;){if(R=_-1>>1,D=b[R],S(A,D)<0){b[_]=D,_=R;continue}break}return b[_]=A},w=function(b,y,_){var S,A,D,R,k;for(_==null&&(_=n),A=b.length,k=y,D=b[y],S=2*y+1;S<A;)R=S+1,R<A&&!(_(b[S],b[R])<0)&&(S=R),b[y]=b[S],y=S,S=2*y+1;return b[y]=D,m(b,k,y,_)},t=function(){b.push=s,b.pop=o,b.replace=l,b.pushpop=u,b.heapify=a,b.updateItem=p,b.nlargest=d,b.nsmallest=v;function b(y){this.cmp=y??n,this.nodes=[]}return b.prototype.push=function(y){return s(this.nodes,y,this.cmp)},b.prototype.pop=function(){return o(this.nodes,this.cmp)},b.prototype.peek=function(){return this.nodes[0]},b.prototype.contains=function(y){return this.nodes.indexOf(y)!==-1},b.prototype.replace=function(y){return l(this.nodes,y,this.cmp)},b.prototype.pushpop=function(y){return u(this.nodes,y,this.cmp)},b.prototype.heapify=function(){return a(this.nodes,this.cmp)},b.prototype.updateItem=function(y){return p(this.nodes,y,this.cmp)},b.prototype.clear=function(){return this.nodes=[]},b.prototype.empty=function(){return this.nodes.length===0},b.prototype.size=function(){return this.nodes.length},b.prototype.clone=function(){var y;return y=new b,y.nodes=this.nodes.slice(0),y},b.prototype.toArray=function(){return this.nodes.slice(0)},b.prototype.insert=b.prototype.push,b.prototype.top=b.prototype.peek,b.prototype.front=b.prototype.peek,b.prototype.has=b.prototype.contains,b.prototype.copy=b.prototype.clone,b}(),function(b,y){return r.exports=y()}(this,function(){return t})}).call($F)}(h_)),h_.exports}var fw,iR;function YF(){return iR||(iR=1,fw=WF()),fw}var XF=YF(),Eb=mb(XF),KF=Pu({root:null,weight:function(e){return 1},directed:!1}),ZF={dijkstra:function(e){if(!Li(e)){var t=arguments;e={root:t[0],weight:t[1],directed:t[2]}}var n=KF(e),i=n.root,a=n.weight,o=n.directed,s=this,u=a,l=$r(i)?this.filter(i)[0]:i[0],c={},f={},d={},v=this.byGroup(),p=v.nodes,m=v.edges;m.unmergeBy(function(oe){return oe.isLoop()});for(var w=function(J){return c[J.id()]},b=function(J,re){c[J.id()]=re,y.updateItem(J)},y=new Eb(function(oe,J){return w(oe)-w(J)}),_=0;_<p.length;_++){var S=p[_];c[S.id()]=S.same(l)?0:1/0,y.push(S)}for(var A=function(J,re){for(var ae=(o?J.edgesTo(re):J.edgesWith(re)).intersect(m),ve=1/0,se,ce=0;ce<ae.length;ce++){var pe=ae[ce],Pe=u(pe);(Pe<ve||!se)&&(ve=Pe,se=pe)}return{edge:se,dist:ve}};y.size()>0;){var D=y.pop(),R=w(D),k=D.id();if(d[k]=R,R!==1/0)for(var j=D.neighborhood().intersect(p),F=0;F<j.length;F++){var z=j[F],q=z.id(),$=A(D,z),K=R+$.dist;K<w(z)&&(b(z,K),f[q]={node:D,edge:$.edge})}}return{distanceTo:function(J){var re=$r(J)?p.filter(J)[0]:J[0];return d[re.id()]},pathTo:function(J){var re=$r(J)?p.filter(J)[0]:J[0],ae=[],ve=re,se=ve.id();if(re.length>0)for(ae.unshift(re);f[se];){var ce=f[se];ae.unshift(ce.edge),ae.unshift(ce.node),ve=ce.node,se=ve.id()}return s.spawn(ae)}}}},QF={kruskal:function(e){e=e||function(_){return 1};for(var t=this.byGroup(),n=t.nodes,i=t.edges,a=n.length,o=new Array(a),s=n,u=function(S){for(var A=0;A<o.length;A++){var D=o[A];if(D.has(S))return A}},l=0;l<a;l++)o[l]=this.spawn(n[l]);for(var c=i.sort(function(_,S){return e(_)-e(S)}),f=0;f<c.length;f++){var d=c[f],v=d.source()[0],p=d.target()[0],m=u(v),w=u(p),b=o[m],y=o[w];m!==w&&(s.merge(d),b.merge(y),o.splice(w,1))}return s}},JF=Pu({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),eU={aStar:function(e){var t=this.cy(),n=JF(e),i=n.root,a=n.goal,o=n.heuristic,s=n.directed,u=n.weight;i=t.collection(i)[0],a=t.collection(a)[0];var l=i.id(),c=a.id(),f={},d={},v={},p=new Eb(function(se,ce){return d[se.id()]-d[ce.id()]}),m=new Jm,w={},b={},y=function(ce,pe){p.push(ce),m.add(pe)},_,S,A=function(){_=p.pop(),S=_.id(),m.delete(S)},D=function(ce){return m.has(ce)};y(i,l),f[l]=0,d[l]=o(i);for(var R=0;p.size()>0;){if(A(),R++,S===c){for(var k=[],j=a,F=c,z=b[F];k.unshift(j),z!=null&&k.unshift(z),j=w[F],j!=null;)F=j.id(),z=b[F];return{found:!0,distance:f[S],path:this.spawn(k),steps:R}}v[S]=!0;for(var q=_._private.edges,$=0;$<q.length;$++){var K=q[$];if(this.hasElementWithId(K.id())&&!(s&&K.data("source")!==S)){var oe=K.source(),J=K.target(),re=oe.id()!==S?oe:J,ae=re.id();if(this.hasElementWithId(ae)&&!v[ae]){var ve=f[S]+u(K);if(!D(ae)){f[ae]=ve,d[ae]=ve+o(re),y(re,ae),w[ae]=_,b[ae]=K;continue}ve<f[ae]&&(f[ae]=ve,d[ae]=ve+o(re),w[ae]=_,b[ae]=K)}}}}return{found:!1,distance:void 0,path:void 0,steps:R}}},tU=Pu({weight:function(e){return 1},directed:!1}),rU={floydWarshall:function(e){for(var t=this.cy(),n=tU(e),i=n.weight,a=n.directed,o=i,s=this.byGroup(),u=s.nodes,l=s.edges,c=u.length,f=c*c,d=function(Pe){return u.indexOf(Pe)},v=function(Pe){return u[Pe]},p=new Array(f),m=0;m<f;m++){var w=m%c,b=(m-w)/c;b===w?p[m]=0:p[m]=1/0}for(var y=new Array(f),_=new Array(f),S=0;S<l.length;S++){var A=l[S],D=A.source()[0],R=A.target()[0];if(D!==R){var k=d(D),j=d(R),F=k*c+j,z=o(A);if(p[F]>z&&(p[F]=z,y[F]=j,_[F]=A),!a){var q=j*c+k;!a&&p[q]>z&&(p[q]=z,y[q]=k,_[q]=A)}}}for(var $=0;$<c;$++)for(var K=0;K<c;K++)for(var oe=K*c+$,J=0;J<c;J++){var re=K*c+J,ae=$*c+J;p[oe]+p[ae]<p[re]&&(p[re]=p[oe]+p[ae],y[re]=y[oe])}var ve=function(Pe){return($r(Pe)?t.filter(Pe):Pe)[0]},se=function(Pe){return d(ve(Pe))},ce={distance:function(Pe,de){var ge=se(Pe),Ce=se(de);return p[ge*c+Ce]},path:function(Pe,de){var ge=se(Pe),Ce=se(de),Ne=v(ge);if(ge===Ce)return Ne.collection();if(y[ge*c+Ce]==null)return t.collection();var De=t.collection(),ke=ge,_e;for(De.merge(Ne);ge!==Ce;)ke=ge,ge=y[ge*c+Ce],_e=_[ke*c+ge],De.merge(_e),De.merge(v(ge));return De}};return ce}},nU=Pu({weight:function(e){return 1},directed:!1,root:null}),iU={bellmanFord:function(e){var t=this,n=nU(e),i=n.weight,a=n.directed,o=n.root,s=i,u=this,l=this.cy(),c=this.byGroup(),f=c.edges,d=c.nodes,v=d.length,p=new zp,m=!1,w=[];o=l.collection(o)[0],f.unmergeBy(function(pt){return pt.isLoop()});for(var b=f.length,y=function(Q){var ne=p.get(Q.id());return ne||(ne={},p.set(Q.id(),ne)),ne},_=function(Q){return($r(Q)?l.$(Q):Q)[0]},S=function(Q){return y(_(Q)).dist},A=function(Q){for(var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o,fe=_(Q),Ue=[],qe=fe;;){if(qe==null)return t.spawn();var We=y(qe),ft=We.edge,Ht=We.pred;if(Ue.unshift(qe[0]),qe.same(ne)&&Ue.length>0)break;ft!=null&&Ue.unshift(ft),qe=Ht}return u.spawn(Ue)},D=0;D<v;D++){var R=d[D],k=y(R);R.same(o)?k.dist=0:k.dist=1/0,k.pred=null,k.edge=null}for(var j=!1,F=function(Q,ne,fe,Ue,qe,We){var ft=Ue.dist+We;ft<qe.dist&&!fe.same(Ue.edge)&&(qe.dist=ft,qe.pred=Q,qe.edge=fe,j=!0)},z=1;z<v;z++){j=!1;for(var q=0;q<b;q++){var $=f[q],K=$.source(),oe=$.target(),J=s($),re=y(K),ae=y(oe);F(K,oe,$,re,ae,J),a||F(oe,K,$,ae,re,J)}if(!j)break}if(j)for(var ve=[],se=0;se<b;se++){var ce=f[se],pe=ce.source(),Pe=ce.target(),de=s(ce),ge=y(pe).dist,Ce=y(Pe).dist;if(ge+de<Ce||!a&&Ce+de<ge)if(m||(_a("Graph contains a negative weight cycle for Bellman-Ford"),m=!0),e.findNegativeWeightCycles!==!1){var Ne=[];ge+de<Ce&&Ne.push(pe),!a&&Ce+de<ge&&Ne.push(Pe);for(var De=Ne.length,ke=0;ke<De;ke++){var _e=Ne[ke],Ie=[_e];Ie.push(y(_e).edge);for(var Ge=y(_e).pred;Ie.indexOf(Ge)===-1;)Ie.push(Ge),Ie.push(y(Ge).edge),Ge=y(Ge).pred;Ie=Ie.slice(Ie.indexOf(Ge));for(var Qe=Ie[0].id(),ot=0,Tt=2;Tt<Ie.length;Tt+=2)Ie[Tt].id()<Qe&&(Qe=Ie[Tt].id(),ot=Tt);Ie=Ie.slice(ot).concat(Ie.slice(0,ot)),Ie.push(Ie[0]);var zt=Ie.map(function(pt){return pt.id()}).join(",");ve.indexOf(zt)===-1&&(w.push(u.spawn(Ie)),ve.push(zt))}}else break}return{distanceTo:S,pathTo:A,hasNegativeWeightCycle:m,negativeWeightCycles:w}}},aU=Math.sqrt(2),oU=function(e,t,n){n.length===0&&Ho("Karger-Stein must be run on a connected (sub)graph");for(var i=n[e],a=i[1],o=i[2],s=t[a],u=t[o],l=n,c=l.length-1;c>=0;c--){var f=l[c],d=f[1],v=f[2];(t[d]===s&&t[v]===u||t[d]===u&&t[v]===s)&&l.splice(c,1)}for(var p=0;p<l.length;p++){var m=l[p];m[1]===u?(l[p]=m.slice(),l[p][1]=s):m[2]===u&&(l[p]=m.slice(),l[p][2]=s)}for(var w=0;w<t.length;w++)t[w]===u&&(t[w]=s);return l},hw=function(e,t,n,i){for(;n>i;){var a=Math.floor(Math.random()*t.length);t=oU(a,e,t),n--}return t},sU={kargerStein:function(){var e=this,t=this.byGroup(),n=t.nodes,i=t.edges;i.unmergeBy(function(ae){return ae.isLoop()});var a=n.length,o=i.length,s=Math.ceil(Math.pow(Math.log(a)/Math.LN2,2)),u=Math.floor(a/aU);if(a<2){Ho("At least 2 nodes are required for Karger-Stein algorithm");return}for(var l=[],c=0;c<o;c++){var f=i[c];l.push([c,n.indexOf(f.source()),n.indexOf(f.target())])}for(var d=1/0,v=[],p=new Array(a),m=new Array(a),w=new Array(a),b=function(ve,se){for(var ce=0;ce<a;ce++)se[ce]=ve[ce]},y=0;y<=s;y++){for(var _=0;_<a;_++)m[_]=_;var S=hw(m,l.slice(),a,u),A=S.slice();b(m,w);var D=hw(m,S,u,2),R=hw(w,A,u,2);D.length<=R.length&&D.length<d?(d=D.length,v=D,b(m,p)):R.length<=D.length&&R.length<d&&(d=R.length,v=R,b(w,p))}for(var k=this.spawn(v.map(function(ae){return i[ae[0]]})),j=this.spawn(),F=this.spawn(),z=p[0],q=0;q<p.length;q++){var $=p[q],K=n[q];$===z?j.merge(K):F.merge(K)}var oe=function(ve){var se=e.spawn();return ve.forEach(function(ce){se.merge(ce),ce.connectedEdges().forEach(function(pe){e.contains(pe)&&!k.contains(pe)&&se.merge(pe)})}),se},J=[oe(j),oe(F)],re={cut:k,components:J,partition1:j,partition2:F};return re}},uU=function(e){return{x:e.x,y:e.y}},t1=function(e,t,n){return{x:e.x*t+n.x,y:e.y*t+n.y}},D3=function(e,t,n){return{x:(e.x-n.x)/t,y:(e.y-n.y)/t}},Rm=function(e){return{x:e[0],y:e[1]}},lU=function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=1/0,a=t;a<n;a++){var o=e[a];isFinite(o)&&(i=Math.min(o,i))}return i},cU=function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=-1/0,a=t;a<n;a++){var o=e[a];isFinite(o)&&(i=Math.max(o,i))}return i},fU=function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=0,a=0,o=t;o<n;o++){var s=e[o];isFinite(s)&&(i+=s,a++)}return i/a},hU=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;i?e=e.slice(t,n):(n<e.length&&e.splice(n,e.length-n),t>0&&e.splice(0,t));for(var s=0,u=e.length-1;u>=0;u--){var l=e[u];o?isFinite(l)||(e[u]=-1/0,s++):e.splice(u,1)}a&&e.sort(function(d,v){return d-v});var c=e.length,f=Math.floor(c/2);return c%2!==0?e[f+1+s]:(e[f-1+s]+e[f+s])/2},dU=function(e){return Math.PI*e/180},jb=function(e,t){return Math.atan2(t,e)-Math.PI/2},c2=Math.log2||function(r){return Math.log(r)/Math.log(2)},I3=function(e){return e>0?1:e<0?-1:0},My=function(e,t){return Math.sqrt(Sy(e,t))},Sy=function(e,t){var n=t.x-e.x,i=t.y-e.y;return n*n+i*i},vU=function(e){for(var t=e.length,n=0,i=0;i<t;i++)n+=e[i];for(var a=0;a<t;a++)e[a]=e[a]/n;return e},al=function(e,t,n,i){return(1-i)*(1-i)*e+2*(1-i)*i*t+i*i*n},Mm=function(e,t,n,i){return{x:al(e.x,t.x,n.x,i),y:al(e.y,t.y,n.y,i)}},pU=function(e,t,n,i){var a={x:t.x-e.x,y:t.y-e.y},o=My(e,t),s={x:a.x/o,y:a.y/o};return n=n??0,i=i??n*o,{x:e.x+s.x*i,y:e.y+s.y*i}},rb=function(e,t,n){return Math.max(e,Math.min(n,t))},Ff=function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},gU=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},yU=function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},mU=function(e,t,n){return{x1:e.x1+t,x2:e.x2+t,y1:e.y1+n,y2:e.y2+n,w:e.w,h:e.h}},k3=function(e,t){e.x1=Math.min(e.x1,t.x1),e.x2=Math.max(e.x2,t.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,t.y1),e.y2=Math.max(e.y2,t.y2),e.h=e.y2-e.y1},bU=function(e,t,n){e.x1=Math.min(e.x1,t),e.x2=Math.max(e.x2,t),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},d_=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=t,e.x2+=t,e.y1-=t,e.y2+=t,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},v_=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],n,i,a,o;if(t.length===1)n=i=a=o=t[0];else if(t.length===2)n=a=t[0],o=i=t[1];else if(t.length===4){var s=sl(t,4);n=s[0],i=s[1],a=s[2],o=s[3]}return e.x1-=o,e.x2+=i,e.y1-=n,e.y2+=a,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},aR=function(e,t){e.x1=t.x1,e.y1=t.y1,e.x2=t.x2,e.y2=t.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},f2=function(e,t){return!(e.x1>t.x2||t.x1>e.x2||e.x2<t.x1||t.x2<e.x1||e.y2<t.y1||t.y2<e.y1||e.y1>t.y2||t.y1>e.y2)},Hm=function(e,t,n){return e.x1<=t&&t<=e.x2&&e.y1<=n&&n<=e.y2},_U=function(e,t){return Hm(e,t.x,t.y)},M3=function(e,t){return Hm(e,t.x1,t.y1)&&Hm(e,t.x2,t.y2)},N3=function(e,t,n,i,a,o,s){var u=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",l=u==="auto"?Ny(a,o):u,c=a/2,f=o/2;l=Math.min(l,c,f);var d=l!==c,v=l!==f,p;if(d){var m=n-c+l-s,w=i-f-s,b=n+c-l+s,y=w;if(p=Sg(e,t,n,i,m,w,b,y,!1),p.length>0)return p}if(v){var _=n+c+s,S=i-f+l-s,A=_,D=i+f-l+s;if(p=Sg(e,t,n,i,_,S,A,D,!1),p.length>0)return p}if(d){var R=n-c+l-s,k=i+f+s,j=n+c-l+s,F=k;if(p=Sg(e,t,n,i,R,k,j,F,!1),p.length>0)return p}if(v){var z=n-c-s,q=i-f+l-s,$=z,K=i+f-l+s;if(p=Sg(e,t,n,i,z,q,$,K,!1),p.length>0)return p}var oe;{var J=n-c+l,re=i-f+l;if(oe=j0(e,t,n,i,J,re,l+s),oe.length>0&&oe[0]<=J&&oe[1]<=re)return[oe[0],oe[1]]}{var ae=n+c-l,ve=i-f+l;if(oe=j0(e,t,n,i,ae,ve,l+s),oe.length>0&&oe[0]>=ae&&oe[1]<=ve)return[oe[0],oe[1]]}{var se=n+c-l,ce=i+f-l;if(oe=j0(e,t,n,i,se,ce,l+s),oe.length>0&&oe[0]>=se&&oe[1]>=ce)return[oe[0],oe[1]]}{var pe=n-c+l,Pe=i+f-l;if(oe=j0(e,t,n,i,pe,Pe,l+s),oe.length>0&&oe[0]<=pe&&oe[1]>=Pe)return[oe[0],oe[1]]}return[]},wU=function(e,t,n,i,a,o,s){var u=s,l=Math.min(n,a),c=Math.max(n,a),f=Math.min(i,o),d=Math.max(i,o);return l-u<=e&&e<=c+u&&f-u<=t&&t<=d+u},EU=function(e,t,n,i,a,o,s,u,l){var c={x1:Math.min(n,s,a)-l,x2:Math.max(n,s,a)+l,y1:Math.min(i,u,o)-l,y2:Math.max(i,u,o)+l};return!(e<c.x1||e>c.x2||t<c.y1||t>c.y2)},xU=function(e,t,n,i){n-=i;var a=t*t-4*e*n;if(a<0)return[];var o=Math.sqrt(a),s=2*e,u=(-t+o)/s,l=(-t-o)/s;return[u,l]},SU=function(e,t,n,i,a){var o=1e-5;e===0&&(e=o),t/=e,n/=e,i/=e;var s,u,l,c,f,d,v,p;if(u=(3*n-t*t)/9,l=-(27*i)+t*(9*n-2*(t*t)),l/=54,s=u*u*u+l*l,a[1]=0,v=t/3,s>0){f=l+Math.sqrt(s),f=f<0?-Math.pow(-f,1/3):Math.pow(f,1/3),d=l-Math.sqrt(s),d=d<0?-Math.pow(-d,1/3):Math.pow(d,1/3),a[0]=-v+f+d,v+=(f+d)/2,a[4]=a[2]=-v,v=Math.sqrt(3)*(-d+f)/2,a[3]=v,a[5]=-v;return}if(a[5]=a[3]=0,s===0){p=l<0?-Math.pow(-l,1/3):Math.pow(l,1/3),a[0]=-v+2*p,a[4]=a[2]=-(p+v);return}u=-u,c=u*u*u,c=Math.acos(l/Math.sqrt(c)),p=2*Math.sqrt(u),a[0]=-v+p*Math.cos(c/3),a[2]=-v+p*Math.cos((c+2*Math.PI)/3),a[4]=-v+p*Math.cos((c+4*Math.PI)/3)},OU=function(e,t,n,i,a,o,s,u){var l=1*n*n-4*n*a+2*n*s+4*a*a-4*a*s+s*s+i*i-4*i*o+2*i*u+4*o*o-4*o*u+u*u,c=1*9*n*a-3*n*n-3*n*s-6*a*a+3*a*s+9*i*o-3*i*i-3*i*u-6*o*o+3*o*u,f=1*3*n*n-6*n*a+n*s-n*e+2*a*a+2*a*e-s*e+3*i*i-6*i*o+i*u-i*t+2*o*o+2*o*t-u*t,d=1*n*a-n*n+n*e-a*e+i*o-i*i+i*t-o*t,v=[];SU(l,c,f,d,v);for(var p=1e-7,m=[],w=0;w<6;w+=2)Math.abs(v[w+1])<p&&v[w]>=0&&v[w]<=1&&m.push(v[w]);m.push(1),m.push(0);for(var b=-1,y,_,S,A=0;A<m.length;A++)y=Math.pow(1-m[A],2)*n+2*(1-m[A])*m[A]*a+m[A]*m[A]*s,_=Math.pow(1-m[A],2)*i+2*(1-m[A])*m[A]*o+m[A]*m[A]*u,S=Math.pow(y-e,2)+Math.pow(_-t,2),b>=0?S<b&&(b=S):b=S;return b},TU=function(e,t,n,i,a,o){var s=[e-n,t-i],u=[a-n,o-i],l=u[0]*u[0]+u[1]*u[1],c=s[0]*s[0]+s[1]*s[1],f=s[0]*u[0]+s[1]*u[1],d=f*f/l;return f<0?c:d>l?(e-a)*(e-a)+(t-o)*(t-o):c-d},Nf=function(e,t,n){for(var i,a,o,s,u,l=0,c=0;c<n.length/2;c++)if(i=n[c*2],a=n[c*2+1],c+1<n.length/2?(o=n[(c+1)*2],s=n[(c+1)*2+1]):(o=n[(c+1-n.length/2)*2],s=n[(c+1-n.length/2)*2+1]),!(i==e&&o==e))if(i>=e&&e>=o||i<=e&&e<=o)u=(e-i)/(o-i)*(s-a)+a,u>t&&l++;else continue;return l%2!==0},Vp=function(e,t,n,i,a,o,s,u,l){var c=new Array(n.length),f;u[0]!=null?(f=Math.atan(u[1]/u[0]),u[0]<0?f=f+Math.PI/2:f=-f-Math.PI/2):f=u;for(var d=Math.cos(-f),v=Math.sin(-f),p=0;p<c.length/2;p++)c[p*2]=o/2*(n[p*2]*d-n[p*2+1]*v),c[p*2+1]=s/2*(n[p*2+1]*d+n[p*2]*v),c[p*2]+=i,c[p*2+1]+=a;var m;if(l>0){var w=L_(c,-l);m=N_(w)}else m=c;return Nf(e,t,m)},CU=function(e,t,n,i,a,o,s,u){for(var l=new Array(n.length*2),c=0;c<u.length;c++){var f=u[c];l[c*4+0]=f.startX,l[c*4+1]=f.startY,l[c*4+2]=f.stopX,l[c*4+3]=f.stopY;var d=Math.pow(f.cx-e,2)+Math.pow(f.cy-t,2);if(d<=Math.pow(f.radius,2))return!0}return Nf(e,t,l)},N_=function(e){for(var t=new Array(e.length/2),n,i,a,o,s,u,l,c,f=0;f<e.length/4;f++){n=e[f*4],i=e[f*4+1],a=e[f*4+2],o=e[f*4+3],f<e.length/4-1?(s=e[(f+1)*4],u=e[(f+1)*4+1],l=e[(f+1)*4+2],c=e[(f+1)*4+3]):(s=e[0],u=e[1],l=e[2],c=e[3]);var d=Sg(n,i,a,o,s,u,l,c,!0);t[f*2]=d[0],t[f*2+1]=d[1]}return t},L_=function(e,t){for(var n=new Array(e.length*2),i,a,o,s,u=0;u<e.length/2;u++){i=e[u*2],a=e[u*2+1],u<e.length/2-1?(o=e[(u+1)*2],s=e[(u+1)*2+1]):(o=e[0],s=e[1]);var l=s-a,c=-(o-i),f=Math.sqrt(l*l+c*c),d=l/f,v=c/f;n[u*4]=i+d*t,n[u*4+1]=a+v*t,n[u*4+2]=o+d*t,n[u*4+3]=s+v*t}return n},AU=function(e,t,n,i,a,o){var s=n-e,u=i-t;s/=a,u/=o;var l=Math.sqrt(s*s+u*u),c=l-1;if(c<0)return[];var f=c/l;return[(n-e)*f+e,(i-t)*f+t]},Ry=function(e,t,n,i,a,o,s){return e-=a,t-=o,e/=n/2+s,t/=i/2+s,e*e+t*t<=1},j0=function(e,t,n,i,a,o,s){var u=[n-e,i-t],l=[e-a,t-o],c=u[0]*u[0]+u[1]*u[1],f=2*(l[0]*u[0]+l[1]*u[1]),d=l[0]*l[0]+l[1]*l[1]-s*s,v=f*f-4*c*d;if(v<0)return[];var p=(-f+Math.sqrt(v))/(2*c),m=(-f-Math.sqrt(v))/(2*c),w=Math.min(p,m),b=Math.max(p,m),y=[];if(w>=0&&w<=1&&y.push(w),b>=0&&b<=1&&y.push(b),y.length===0)return[];var _=y[0]*u[0]+e,S=y[0]*u[1]+t;if(y.length>1){if(y[0]==y[1])return[_,S];var A=y[1]*u[0]+e,D=y[1]*u[1]+t;return[_,S,A,D]}else return[_,S]},dw=function(e,t,n){return t<=e&&e<=n||n<=e&&e<=t?e:e<=t&&t<=n||n<=t&&t<=e?t:n},Sg=function(e,t,n,i,a,o,s,u,l){var c=e-a,f=n-e,d=s-a,v=t-o,p=i-t,m=u-o,w=d*v-m*c,b=f*v-p*c,y=m*f-d*p;if(y!==0){var _=w/y,S=b/y,A=.001,D=0-A,R=1+A;return D<=_&&_<=R&&D<=S&&S<=R?[e+_*f,t+_*p]:l?[e+_*f,t+_*p]:[]}else return w===0||b===0?dw(e,n,s)===s?[s,u]:dw(e,n,a)===a?[a,o]:dw(a,s,n)===n?[n,i]:[]:[]},nb=function(e,t,n,i,a,o,s,u){var l=[],c,f=new Array(n.length),d=!0;o==null&&(d=!1);var v;if(d){for(var p=0;p<f.length/2;p++)f[p*2]=n[p*2]*o+i,f[p*2+1]=n[p*2+1]*s+a;if(u>0){var m=L_(f,-u);v=N_(m)}else v=f}else v=n;for(var w,b,y,_,S=0;S<v.length/2;S++)w=v[S*2],b=v[S*2+1],S<v.length/2-1?(y=v[(S+1)*2],_=v[(S+1)*2+1]):(y=v[0],_=v[1]),c=Sg(e,t,i,a,w,b,y,_),c.length!==0&&l.push(c[0],c[1]);return l},RU=function(e,t,n,i,a,o,s,u,l){var c=[],f,d=new Array(n.length*2);l.forEach(function(y,_){_===0?(d[d.length-2]=y.startX,d[d.length-1]=y.startY):(d[_*4-2]=y.startX,d[_*4-1]=y.startY),d[_*4]=y.stopX,d[_*4+1]=y.stopY,f=j0(e,t,i,a,y.cx,y.cy,y.radius),f.length!==0&&c.push(f[0],f[1])});for(var v=0;v<d.length/4;v++)f=Sg(e,t,i,a,d[v*4],d[v*4+1],d[v*4+2],d[v*4+3],!1),f.length!==0&&c.push(f[0],f[1]);if(c.length>2){for(var p=[c[0],c[1]],m=Math.pow(p[0]-e,2)+Math.pow(p[1]-t,2),w=1;w<c.length/2;w++){var b=Math.pow(c[w*2]-e,2)+Math.pow(c[w*2+1]-t,2);b<=m&&(p[0]=c[w*2],p[1]=c[w*2+1],m=b)}return p}return c},Bb=function(e,t,n){var i=[e[0]-t[0],e[1]-t[1]],a=Math.sqrt(i[0]*i[0]+i[1]*i[1]),o=(a-n)/a;return o<0&&(o=1e-5),[t[0]+o*i[0],t[1]+o*i[1]]},tf=function(e,t){var n=SC(e,t);return n=L3(n),n},L3=function(e){for(var t,n,i=e.length/2,a=1/0,o=1/0,s=-1/0,u=-1/0,l=0;l<i;l++)t=e[2*l],n=e[2*l+1],a=Math.min(a,t),s=Math.max(s,t),o=Math.min(o,n),u=Math.max(u,n);for(var c=2/(s-a),f=2/(u-o),d=0;d<i;d++)t=e[2*d]=e[2*d]*c,n=e[2*d+1]=e[2*d+1]*f,a=Math.min(a,t),s=Math.max(s,t),o=Math.min(o,n),u=Math.max(u,n);if(o<-1)for(var v=0;v<i;v++)n=e[2*v+1]=e[2*v+1]+(-1-o);return e},SC=function(e,t){var n=1/e*2*Math.PI,i=e%2===0?Math.PI/2+n/2:Math.PI/2;i+=t;for(var a=new Array(e*2),o,s=0;s<e;s++)o=s*n+i,a[2*s]=Math.cos(o),a[2*s+1]=Math.sin(-o);return a},Ny=function(e,t){return Math.min(e/4,t/4,8)},j3=function(e,t){return Math.min(e/10,t/10,8)},h2=function(){return 8},PU=function(e,t,n){return[e-2*t+n,2*(t-e),e]},OC=function(e,t){return{heightOffset:Math.min(15,.05*t),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}},DU=Pu({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),IU={pageRank:function(e){for(var t=DU(e),n=t.dampingFactor,i=t.precision,a=t.iterations,o=t.weight,s=this._private.cy,u=this.byGroup(),l=u.nodes,c=u.edges,f=l.length,d=f*f,v=c.length,p=new Array(d),m=new Array(f),w=(1-n)/f,b=0;b<f;b++){for(var y=0;y<f;y++){var _=b*f+y;p[_]=0}m[b]=0}for(var S=0;S<v;S++){var A=c[S],D=A.data("source"),R=A.data("target");if(D!==R){var k=l.indexOfId(D),j=l.indexOfId(R),F=o(A),z=j*f+k;p[z]+=F,m[k]+=F}}for(var q=1/f+w,$=0;$<f;$++)if(m[$]===0)for(var K=0;K<f;K++){var oe=K*f+$;p[oe]=q}else for(var J=0;J<f;J++){var re=J*f+$;p[re]=p[re]/m[$]+w}for(var ae=new Array(f),ve=new Array(f),se,ce=0;ce<f;ce++)ae[ce]=1;for(var pe=0;pe<a;pe++){for(var Pe=0;Pe<f;Pe++)ve[Pe]=0;for(var de=0;de<f;de++)for(var ge=0;ge<f;ge++){var Ce=de*f+ge;ve[de]+=p[Ce]*ae[ge]}vU(ve),se=ae,ae=ve,ve=se;for(var Ne=0,De=0;De<f;De++){var ke=se[De]-ae[De];Ne+=ke*ke}if(Ne<i)break}var _e={rank:function(Ge){return Ge=s.collection(Ge)[0],ae[l.indexOf(Ge)]}};return _e}},oR=Pu({root:null,weight:function(e){return 1},directed:!1,alpha:0}),Nm={degreeCentralityNormalized:function(e){e=oR(e);var t=this.cy(),n=this.nodes(),i=n.length;if(e.directed){for(var c={},f={},d=0,v=0,p=0;p<i;p++){var m=n[p],w=m.id();e.root=m;var b=this.degreeCentrality(e);d<b.indegree&&(d=b.indegree),v<b.outdegree&&(v=b.outdegree),c[w]=b.indegree,f[w]=b.outdegree}return{indegree:function(_){return d==0?0:($r(_)&&(_=t.filter(_)),c[_.id()]/d)},outdegree:function(_){return v===0?0:($r(_)&&(_=t.filter(_)),f[_.id()]/v)}}}else{for(var a={},o=0,s=0;s<i;s++){var u=n[s];e.root=u;var l=this.degreeCentrality(e);o<l.degree&&(o=l.degree),a[u.id()]=l.degree}return{degree:function(_){return o===0?0:($r(_)&&(_=t.filter(_)),a[_.id()]/o)}}}},degreeCentrality:function(e){e=oR(e);var t=this.cy(),n=this,i=e,a=i.root,o=i.weight,s=i.directed,u=i.alpha;if(a=t.collection(a)[0],s){for(var v=a.connectedEdges(),p=v.filter(function(D){return D.target().same(a)&&n.has(D)}),m=v.filter(function(D){return D.source().same(a)&&n.has(D)}),w=p.length,b=m.length,y=0,_=0,S=0;S<p.length;S++)y+=o(p[S]);for(var A=0;A<m.length;A++)_+=o(m[A]);return{indegree:Math.pow(w,1-u)*Math.pow(y,u),outdegree:Math.pow(b,1-u)*Math.pow(_,u)}}else{for(var l=a.connectedEdges().intersection(n),c=l.length,f=0,d=0;d<l.length;d++)f+=o(l[d]);return{degree:Math.pow(c,1-u)*Math.pow(f,u)}}}};Nm.dc=Nm.degreeCentrality;Nm.dcn=Nm.degreeCentralityNormalised=Nm.degreeCentralityNormalized;var sR=Pu({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Lm={closenessCentralityNormalized:function(e){for(var t=sR(e),n=t.harmonic,i=t.weight,a=t.directed,o=this.cy(),s={},u=0,l=this.nodes(),c=this.floydWarshall({weight:i,directed:a}),f=0;f<l.length;f++){for(var d=0,v=l[f],p=0;p<l.length;p++)if(f!==p){var m=c.distance(v,l[p]);n?d+=1/m:d+=m}n||(d=1/d),u<d&&(u=d),s[v.id()]=d}return{closeness:function(b){return u==0?0:($r(b)?b=o.filter(b)[0].id():b=b.id(),s[b]/u)}}},closenessCentrality:function(e){var t=sR(e),n=t.root,i=t.weight,a=t.directed,o=t.harmonic;n=this.filter(n)[0];for(var s=this.dijkstra({root:n,weight:i,directed:a}),u=0,l=this.nodes(),c=0;c<l.length;c++){var f=l[c];if(!f.same(n)){var d=s.distanceTo(f);o?u+=1/d:u+=d}}return o?u:1/u}};Lm.cc=Lm.closenessCentrality;Lm.ccn=Lm.closenessCentralityNormalised=Lm.closenessCentralityNormalized;var kU=Pu({weight:null,directed:!1}),TC={betweennessCentrality:function(e){for(var t=kU(e),n=t.directed,i=t.weight,a=i!=null,o=this.cy(),s=this.nodes(),u={},l={},c=0,f={set:function(_,S){l[_]=S,S>c&&(c=S)},get:function(_){return l[_]}},d=0;d<s.length;d++){var v=s[d],p=v.id();n?u[p]=v.outgoers().nodes():u[p]=v.openNeighborhood().nodes(),f.set(p,0)}for(var m=function(){for(var _=s[w].id(),S=[],A={},D={},R={},k=new Eb(function(de,ge){return R[de]-R[ge]}),j=0;j<s.length;j++){var F=s[j].id();A[F]=[],D[F]=0,R[F]=1/0}for(D[_]=1,R[_]=0,k.push(_);!k.empty();){var z=k.pop();if(S.push(z),a)for(var q=0;q<u[z].length;q++){var $=u[z][q],K=o.getElementById(z),oe=void 0;K.edgesTo($).length>0?oe=K.edgesTo($)[0]:oe=$.edgesTo(K)[0];var J=i(oe);$=$.id(),R[$]>R[z]+J&&(R[$]=R[z]+J,k.nodes.indexOf($)<0?k.push($):k.updateItem($),D[$]=0,A[$]=[]),R[$]==R[z]+J&&(D[$]=D[$]+D[z],A[$].push(z))}else for(var re=0;re<u[z].length;re++){var ae=u[z][re].id();R[ae]==1/0&&(k.push(ae),R[ae]=R[z]+1),R[ae]==R[z]+1&&(D[ae]=D[ae]+D[z],A[ae].push(z))}}for(var ve={},se=0;se<s.length;se++)ve[s[se].id()]=0;for(;S.length>0;){for(var ce=S.pop(),pe=0;pe<A[ce].length;pe++){var Pe=A[ce][pe];ve[Pe]=ve[Pe]+D[Pe]/D[ce]*(1+ve[ce])}ce!=s[w].id()&&f.set(ce,f.get(ce)+ve[ce])}},w=0;w<s.length;w++)m();var b={betweenness:function(_){var S=o.collection(_).id();return f.get(S)},betweennessNormalized:function(_){if(c==0)return 0;var S=o.collection(_).id();return f.get(S)/c}};return b.betweennessNormalised=b.betweennessNormalized,b}};TC.bc=TC.betweennessCentrality;var MU=Pu({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(r){return 1}]}),NU=function(e){return MU(e)},LU=function(e,t){for(var n=0,i=0;i<t.length;i++)n+=t[i](e);return n},jU=function(e,t,n){for(var i=0;i<t;i++)e[i*t+i]=n},B3=function(e,t){for(var n,i=0;i<t;i++){n=0;for(var a=0;a<t;a++)n+=e[a*t+i];for(var o=0;o<t;o++)e[o*t+i]=e[o*t+i]/n}},BU=function(e,t,n){for(var i=new Array(n*n),a=0;a<n;a++){for(var o=0;o<n;o++)i[a*n+o]=0;for(var s=0;s<n;s++)for(var u=0;u<n;u++)i[a*n+u]+=e[a*n+s]*t[s*n+u]}return i},FU=function(e,t,n){for(var i=e.slice(0),a=1;a<n;a++)e=BU(e,i,t);return e},UU=function(e,t,n){for(var i=new Array(t*t),a=0;a<t*t;a++)i[a]=Math.pow(e[a],n);return B3(i,t),i},zU=function(e,t,n,i){for(var a=0;a<n;a++){var o=Math.round(e[a]*Math.pow(10,i))/Math.pow(10,i),s=Math.round(t[a]*Math.pow(10,i))/Math.pow(10,i);if(o!==s)return!1}return!0},qU=function(e,t,n,i){for(var a=[],o=0;o<t;o++){for(var s=[],u=0;u<t;u++)Math.round(e[o*t+u]*1e3)/1e3>0&&s.push(n[u]);s.length!==0&&a.push(i.collection(s))}return a},GU=function(e,t){for(var n=0;n<e.length;n++)if(!t[n]||e[n].id()!==t[n].id())return!1;return!0},HU=function(e){for(var t=0;t<e.length;t++)for(var n=0;n<e.length;n++)t!=n&&GU(e[t],e[n])&&e.splice(n,1);return e},uR=function(e){for(var t=this.nodes(),n=this.edges(),i=this.cy(),a=NU(e),o={},s=0;s<t.length;s++)o[t[s].id()]=s;for(var u=t.length,l=u*u,c=new Array(l),f,d=0;d<l;d++)c[d]=0;for(var v=0;v<n.length;v++){var p=n[v],m=o[p.source().id()],w=o[p.target().id()],b=LU(p,a.attributes);c[m*u+w]+=b,c[w*u+m]+=b}jU(c,u,a.multFactor),B3(c,u);for(var y=!0,_=0;y&&_<a.maxIterations;)y=!1,f=FU(c,u,a.expandFactor),c=UU(f,u,a.inflateFactor),zU(c,f,l,4)||(y=!0),_++;var S=qU(c,u,t,i);return S=HU(S),S},VU={markovClustering:uR,mcl:uR},$U=function(e){return e},F3=function(e,t){return Math.abs(t-e)},lR=function(e,t,n){return e+F3(t,n)},cR=function(e,t,n){return e+Math.pow(n-t,2)},WU=function(e){return Math.sqrt(e)},YU=function(e,t,n){return Math.max(e,F3(t,n))},_0=function(e,t,n,i,a){for(var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:$U,s=i,u,l,c=0;c<e;c++)u=t(c),l=n(c),s=a(s,u,l);return o(s)},Vm={euclidean:function(e,t,n){return e>=2?_0(e,t,n,0,cR,WU):_0(e,t,n,0,lR)},squaredEuclidean:function(e,t,n){return _0(e,t,n,0,cR)},manhattan:function(e,t,n){return _0(e,t,n,0,lR)},max:function(e,t,n){return _0(e,t,n,-1/0,YU)}};Vm["squared-euclidean"]=Vm.squaredEuclidean;Vm.squaredeuclidean=Vm.squaredEuclidean;function r1(r,e,t,n,i,a){var o;return Vo(r)?o=r:o=Vm[r]||Vm.euclidean,e===0&&Vo(r)?o(i,a):o(e,t,n,i,a)}var XU=Pu({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),d2=function(e){return XU(e)},j_=function(e,t,n,i,a){var o=a!=="kMedoids",s=o?function(f){return n[f]}:function(f){return i[f](n)},u=function(d){return i[d](t)},l=n,c=t;return r1(e,i.length,s,u,l,c)},vw=function(e,t,n){for(var i=n.length,a=new Array(i),o=new Array(i),s=new Array(t),u=null,l=0;l<i;l++)a[l]=e.min(n[l]).value,o[l]=e.max(n[l]).value;for(var c=0;c<t;c++){u=[];for(var f=0;f<i;f++)u[f]=Math.random()*(o[f]-a[f])+a[f];s[c]=u}return s},U3=function(e,t,n,i,a){for(var o=1/0,s=0,u=0;u<t.length;u++){var l=j_(n,e,t[u],i,a);l<o&&(o=l,s=u)}return s},z3=function(e,t,n){for(var i=[],a=null,o=0;o<t.length;o++)a=t[o],n[a.id()]===e&&i.push(a);return i},KU=function(e,t,n){return Math.abs(t-e)<=n},ZU=function(e,t,n){for(var i=0;i<e.length;i++)for(var a=0;a<e[i].length;a++){var o=Math.abs(e[i][a]-t[i][a]);if(o>n)return!1}return!0},QU=function(e,t,n){for(var i=0;i<n;i++)if(e===t[i])return!0;return!1},fR=function(e,t){var n=new Array(t);if(e.length<50)for(var i=0;i<t;i++){for(var a=e[Math.floor(Math.random()*e.length)];QU(a,n,i);)a=e[Math.floor(Math.random()*e.length)];n[i]=a}else for(var o=0;o<t;o++)n[o]=e[Math.floor(Math.random()*e.length)];return n},hR=function(e,t,n){for(var i=0,a=0;a<t.length;a++)i+=j_("manhattan",t[a],e,n,"kMedoids");return i},JU=function(e){var t=this.cy(),n=this.nodes(),i=null,a=d2(e),o=new Array(a.k),s={},u;a.testMode?typeof a.testCentroids=="number"?(a.testCentroids,u=vw(n,a.k,a.attributes)):Ru(a.testCentroids)==="object"?u=a.testCentroids:u=vw(n,a.k,a.attributes):u=vw(n,a.k,a.attributes);for(var l=!0,c=0;l&&c<a.maxIterations;){for(var f=0;f<n.length;f++)i=n[f],s[i.id()]=U3(i,u,a.distance,a.attributes,"kMeans");l=!1;for(var d=0;d<a.k;d++){var v=z3(d,n,s);if(v.length!==0){for(var p=a.attributes.length,m=u[d],w=new Array(p),b=new Array(p),y=0;y<p;y++){b[y]=0;for(var _=0;_<v.length;_++)i=v[_],b[y]+=a.attributes[y](i);w[y]=b[y]/v.length,KU(w[y],m[y],a.sensitivityThreshold)||(l=!0)}u[d]=w,o[d]=t.collection(v)}}c++}return o},e6=function(e){var t=this.cy(),n=this.nodes(),i=null,a=d2(e),o=new Array(a.k),s,u={},l,c=new Array(a.k);a.testMode?typeof a.testCentroids=="number"||(Ru(a.testCentroids)==="object"?s=a.testCentroids:s=fR(n,a.k)):s=fR(n,a.k);for(var f=!0,d=0;f&&d<a.maxIterations;){for(var v=0;v<n.length;v++)i=n[v],u[i.id()]=U3(i,s,a.distance,a.attributes,"kMedoids");f=!1;for(var p=0;p<s.length;p++){var m=z3(p,n,u);if(m.length!==0){c[p]=hR(s[p],m,a.attributes);for(var w=0;w<m.length;w++)l=hR(m[w],m,a.attributes),l<c[p]&&(c[p]=l,s[p]=m[w],f=!0);o[p]=t.collection(m)}}d++}return o},t6=function(e,t,n,i,a){for(var o,s,u=0;u<t.length;u++)for(var l=0;l<e.length;l++)i[u][l]=Math.pow(n[u][l],a.m);for(var c=0;c<e.length;c++)for(var f=0;f<a.attributes.length;f++){o=0,s=0;for(var d=0;d<t.length;d++)o+=i[d][c]*a.attributes[f](t[d]),s+=i[d][c];e[c][f]=o/s}},r6=function(e,t,n,i,a){for(var o=0;o<e.length;o++)t[o]=e[o].slice();for(var s,u,l,c=2/(a.m-1),f=0;f<n.length;f++)for(var d=0;d<i.length;d++){s=0;for(var v=0;v<n.length;v++)u=j_(a.distance,i[d],n[f],a.attributes,"cmeans"),l=j_(a.distance,i[d],n[v],a.attributes,"cmeans"),s+=Math.pow(u/l,c);e[d][f]=1/s}},n6=function(e,t,n,i){for(var a=new Array(n.k),o=0;o<a.length;o++)a[o]=[];for(var s,u,l=0;l<t.length;l++){s=-1/0,u=-1;for(var c=0;c<t[0].length;c++)t[l][c]>s&&(s=t[l][c],u=c);a[u].push(e[l])}for(var f=0;f<a.length;f++)a[f]=i.collection(a[f]);return a},dR=function(e){var t=this.cy(),n=this.nodes(),i=d2(e),a,o,s,u,l;u=new Array(n.length);for(var c=0;c<n.length;c++)u[c]=new Array(i.k);s=new Array(n.length);for(var f=0;f<n.length;f++)s[f]=new Array(i.k);for(var d=0;d<n.length;d++){for(var v=0,p=0;p<i.k;p++)s[d][p]=Math.random(),v+=s[d][p];for(var m=0;m<i.k;m++)s[d][m]=s[d][m]/v}o=new Array(i.k);for(var w=0;w<i.k;w++)o[w]=new Array(i.attributes.length);l=new Array(n.length);for(var b=0;b<n.length;b++)l[b]=new Array(i.k);for(var y=!0,_=0;y&&_<i.maxIterations;)y=!1,t6(o,n,s,l,i),r6(s,u,o,n,i),ZU(s,u,i.sensitivityThreshold)||(y=!0),_++;return a=n6(n,s,i,t),{clusters:a,degreeOfMembership:s}},i6={kMeans:JU,kMedoids:e6,fuzzyCMeans:dR,fcm:dR},a6=Pu({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),o6={single:"min",complete:"max"},s6=function(e){var t=a6(e),n=o6[t.linkage];return n!=null&&(t.linkage=n),t},vR=function(e,t,n,i,a){for(var o=0,s=1/0,u,l=a.attributes,c=function(j,F){return r1(a.distance,l.length,function(z){return l[z](j)},function(z){return l[z](F)},j,F)},f=0;f<e.length;f++){var d=e[f].key,v=n[d][i[d]];v<s&&(o=d,s=v)}if(a.mode==="threshold"&&s>=a.threshold||a.mode==="dendrogram"&&e.length===1)return!1;var p=t[o],m=t[i[o]],w;a.mode==="dendrogram"?w={left:p,right:m,key:p.key}:w={value:p.value.concat(m.value),key:p.key},e[p.index]=w,e.splice(m.index,1),t[p.key]=w;for(var b=0;b<e.length;b++){var y=e[b];p.key===y.key?u=1/0:a.linkage==="min"?(u=n[p.key][y.key],n[p.key][y.key]>n[m.key][y.key]&&(u=n[m.key][y.key])):a.linkage==="max"?(u=n[p.key][y.key],n[p.key][y.key]<n[m.key][y.key]&&(u=n[m.key][y.key])):a.linkage==="mean"?u=(n[p.key][y.key]*p.size+n[m.key][y.key]*m.size)/(p.size+m.size):a.mode==="dendrogram"?u=c(y.value,p.value):u=c(y.value[0],p.value[0]),n[p.key][y.key]=n[y.key][p.key]=u}for(var _=0;_<e.length;_++){var S=e[_].key;if(i[S]===p.key||i[S]===m.key){for(var A=S,D=0;D<e.length;D++){var R=e[D].key;n[S][R]<n[S][A]&&(A=R)}i[S]=A}e[_].index=_}return p.key=m.key=p.index=m.index=null,!0},Pm=function(e,t,n){e&&(e.value?t.push(e.value):(e.left&&Pm(e.left,t),e.right&&Pm(e.right,t)))},CC=function(e,t){if(!e)return"";if(e.left&&e.right){var n=CC(e.left,t),i=CC(e.right,t),a=t.add({group:"nodes",data:{id:n+","+i}});return t.add({group:"edges",data:{source:n,target:a.id()}}),t.add({group:"edges",data:{source:i,target:a.id()}}),a.id()}else if(e.value)return e.value.id()},AC=function(e,t,n){if(!e)return[];var i=[],a=[],o=[];return t===0?(e.left&&Pm(e.left,i),e.right&&Pm(e.right,a),o=i.concat(a),[n.collection(o)]):t===1?e.value?[n.collection(e.value)]:(e.left&&Pm(e.left,i),e.right&&Pm(e.right,a),[n.collection(i),n.collection(a)]):e.value?[n.collection(e.value)]:(e.left&&(i=AC(e.left,t-1,n)),e.right&&(a=AC(e.right,t-1,n)),i.concat(a))},pR=function(e){for(var t=this.cy(),n=this.nodes(),i=s6(e),a=i.attributes,o=function(_,S){return r1(i.distance,a.length,function(A){return a[A](_)},function(A){return a[A](S)},_,S)},s=[],u=[],l=[],c=[],f=0;f<n.length;f++){var d={value:i.mode==="dendrogram"?n[f]:[n[f]],key:f,index:f};s[f]=d,c[f]=d,u[f]=[],l[f]=0}for(var v=0;v<s.length;v++)for(var p=0;p<=v;p++){var m=void 0;i.mode==="dendrogram"?m=v===p?1/0:o(s[v].value,s[p].value):m=v===p?1/0:o(s[v].value[0],s[p].value[0]),u[v][p]=m,u[p][v]=m,m<u[v][l[v]]&&(l[v]=p)}for(var w=vR(s,c,u,l,i);w;)w=vR(s,c,u,l,i);var b;return i.mode==="dendrogram"?(b=AC(s[0],i.dendrogramDepth,t),i.addDendrogram&&CC(s[0],t)):(b=new Array(s.length),s.forEach(function(y,_){y.key=y.index=null,b[_]=t.collection(y.value)})),b},u6={hierarchicalClustering:pR,hca:pR},l6=Pu({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),c6=function(e){var t=e.damping,n=e.preference;.5<=t&&t<1||Ho("Damping must range on [0.5, 1).  Got: ".concat(t));var i=["median","mean","min","max"];return i.some(function(a){return a===n})||gr(n)||Ho("Preference must be one of [".concat(i.map(function(a){return"'".concat(a,"'")}).join(", "),"] or a number.  Got: ").concat(n)),l6(e)},f6=function(e,t,n,i){var a=function(s,u){return i[u](s)};return-r1(e,i.length,function(o){return a(t,o)},function(o){return a(n,o)},t,n)},h6=function(e,t){var n=null;return t==="median"?n=hU(e):t==="mean"?n=fU(e):t==="min"?n=lU(e):t==="max"?n=cU(e):n=t,n},d6=function(e,t,n){for(var i=[],a=0;a<e;a++)t[a*e+a]+n[a*e+a]>0&&i.push(a);return i},gR=function(e,t,n){for(var i=[],a=0;a<e;a++){for(var o=-1,s=-1/0,u=0;u<n.length;u++){var l=n[u];t[a*e+l]>s&&(o=l,s=t[a*e+l])}o>0&&i.push(o)}for(var c=0;c<n.length;c++)i[n[c]]=n[c];return i},v6=function(e,t,n){for(var i=gR(e,t,n),a=0;a<n.length;a++){for(var o=[],s=0;s<i.length;s++)i[s]===n[a]&&o.push(s);for(var u=-1,l=-1/0,c=0;c<o.length;c++){for(var f=0,d=0;d<o.length;d++)f+=t[o[d]*e+o[c]];f>l&&(u=c,l=f)}n[a]=o[u]}return i=gR(e,t,n),i},yR=function(e){for(var t=this.cy(),n=this.nodes(),i=c6(e),a={},o=0;o<n.length;o++)a[n[o].id()]=o;var s,u,l,c,f,d;s=n.length,u=s*s,l=new Array(u);for(var v=0;v<u;v++)l[v]=-1/0;for(var p=0;p<s;p++)for(var m=0;m<s;m++)p!==m&&(l[p*s+m]=f6(i.distance,n[p],n[m],i.attributes));c=h6(l,i.preference);for(var w=0;w<s;w++)l[w*s+w]=c;f=new Array(u);for(var b=0;b<u;b++)f[b]=0;d=new Array(u);for(var y=0;y<u;y++)d[y]=0;for(var _=new Array(s),S=new Array(s),A=new Array(s),D=0;D<s;D++)_[D]=0,S[D]=0,A[D]=0;for(var R=new Array(s*i.minIterations),k=0;k<R.length;k++)R[k]=0;var j;for(j=0;j<i.maxIterations;j++){for(var F=0;F<s;F++){for(var z=-1/0,q=-1/0,$=-1,K=0,oe=0;oe<s;oe++)_[oe]=f[F*s+oe],K=d[F*s+oe]+l[F*s+oe],K>=z?(q=z,z=K,$=oe):K>q&&(q=K);for(var J=0;J<s;J++)f[F*s+J]=(1-i.damping)*(l[F*s+J]-z)+i.damping*_[J];f[F*s+$]=(1-i.damping)*(l[F*s+$]-q)+i.damping*_[$]}for(var re=0;re<s;re++){for(var ae=0,ve=0;ve<s;ve++)_[ve]=d[ve*s+re],S[ve]=Math.max(0,f[ve*s+re]),ae+=S[ve];ae-=S[re],S[re]=f[re*s+re],ae+=S[re];for(var se=0;se<s;se++)d[se*s+re]=(1-i.damping)*Math.min(0,ae-S[se])+i.damping*_[se];d[re*s+re]=(1-i.damping)*(ae-S[re])+i.damping*_[re]}for(var ce=0,pe=0;pe<s;pe++){var Pe=d[pe*s+pe]+f[pe*s+pe]>0?1:0;R[j%i.minIterations*s+pe]=Pe,ce+=Pe}if(ce>0&&(j>=i.minIterations-1||j==i.maxIterations-1)){for(var de=0,ge=0;ge<s;ge++){A[ge]=0;for(var Ce=0;Ce<i.minIterations;Ce++)A[ge]+=R[Ce*s+ge];(A[ge]===0||A[ge]===i.minIterations)&&de++}if(de===s)break}}for(var Ne=d6(s,f,d),De=v6(s,l,Ne),ke={},_e=0;_e<Ne.length;_e++)ke[Ne[_e]]=[];for(var Ie=0;Ie<n.length;Ie++){var Ge=a[n[Ie].id()],Qe=De[Ge];Qe!=null&&ke[Qe].push(n[Ie])}for(var ot=new Array(Ne.length),Tt=0;Tt<Ne.length;Tt++)ot[Tt]=t.collection(ke[Ne[Tt]]);return ot},p6={affinityPropagation:yR,ap:yR},g6=Pu({root:void 0,directed:!1}),y6={hierholzer:function(e){if(!Li(e)){var t=arguments;e={root:t[0],directed:t[1]}}var n=g6(e),i=n.root,a=n.directed,o=this,s=!1,u,l,c;i&&(c=$r(i)?this.filter(i)[0].id():i[0].id());var f={},d={};a?o.forEach(function(y){var _=y.id();if(y.isNode()){var S=y.indegree(!0),A=y.outdegree(!0),D=S-A,R=A-S;D==1?u?s=!0:u=_:R==1?l?s=!0:l=_:(R>1||D>1)&&(s=!0),f[_]=[],y.outgoers().forEach(function(k){k.isEdge()&&f[_].push(k.id())})}else d[_]=[void 0,y.target().id()]}):o.forEach(function(y){var _=y.id();if(y.isNode()){var S=y.degree(!0);S%2&&(u?l?s=!0:l=_:u=_),f[_]=[],y.connectedEdges().forEach(function(A){return f[_].push(A.id())})}else d[_]=[y.source().id(),y.target().id()]});var v={found:!1,trail:void 0};if(s)return v;if(l&&u)if(a){if(c&&l!=c)return v;c=l}else{if(c&&l!=c&&u!=c)return v;c||(c=l)}else c||(c=o[0].id());var p=function(_){for(var S=_,A=[_],D,R,k;f[S].length;)D=f[S].shift(),R=d[D][0],k=d[D][1],S!=k?(f[k]=f[k].filter(function(j){return j!=D}),S=k):!a&&S!=R&&(f[R]=f[R].filter(function(j){return j!=D}),S=R),A.unshift(D),A.unshift(S);return A},m=[],w=[];for(w=p(c);w.length!=1;)f[w[0]].length==0?(m.unshift(o.getElementById(w.shift())),m.unshift(o.getElementById(w.shift()))):w=p(w.shift()).concat(w);m.unshift(o.getElementById(w.shift()));for(var b in f)if(f[b].length)return v;return v.found=!0,v.trail=this.spawn(m,!0),v}},Fb=function(){var e=this,t={},n=0,i=0,a=[],o=[],s={},u=function(d,v){for(var p=o.length-1,m=[],w=e.spawn();o[p].x!=d||o[p].y!=v;)m.push(o.pop().edge),p--;m.push(o.pop().edge),m.forEach(function(b){var y=b.connectedNodes().intersection(e);w.merge(b),y.forEach(function(_){var S=_.id(),A=_.connectedEdges().intersection(e);w.merge(_),t[S].cutVertex?w.merge(A.filter(function(D){return D.isLoop()})):w.merge(A)})}),a.push(w)},l=function(d,v,p){d===p&&(i+=1),t[v]={id:n,low:n++,cutVertex:!1};var m=e.getElementById(v).connectedEdges().intersection(e);if(m.size()===0)a.push(e.spawn(e.getElementById(v)));else{var w,b,y,_;m.forEach(function(S){w=S.source().id(),b=S.target().id(),y=w===v?b:w,y!==p&&(_=S.id(),s[_]||(s[_]=!0,o.push({x:v,y,edge:S})),y in t?t[v].low=Math.min(t[v].low,t[y].id):(l(d,y,v),t[v].low=Math.min(t[v].low,t[y].low),t[v].id<=t[y].low&&(t[v].cutVertex=!0,u(v,y))))})}};e.forEach(function(f){if(f.isNode()){var d=f.id();d in t||(i=0,l(d,d),t[d].cutVertex=i>1)}});var c=Object.keys(t).filter(function(f){return t[f].cutVertex}).map(function(f){return e.getElementById(f)});return{cut:e.spawn(c),components:a}},m6={hopcroftTarjanBiconnected:Fb,htbc:Fb,htb:Fb,hopcroftTarjanBiconnectedComponents:Fb},Ub=function(){var e=this,t={},n=0,i=[],a=[],o=e.spawn(e),s=function(l){a.push(l),t[l]={index:n,low:n++,explored:!1};var c=e.getElementById(l).connectedEdges().intersection(e);if(c.forEach(function(m){var w=m.target().id();w!==l&&(w in t||s(w),t[w].explored||(t[l].low=Math.min(t[l].low,t[w].low)))}),t[l].index===t[l].low){for(var f=e.spawn();;){var d=a.pop();if(f.merge(e.getElementById(d)),t[d].low=t[l].index,t[d].explored=!0,d===l)break}var v=f.edgesWith(f),p=f.merge(v);i.push(p),o=o.difference(p)}};return e.forEach(function(u){if(u.isNode()){var l=u.id();l in t||s(l)}}),{cut:o,components:i}},b6={tarjanStronglyConnected:Ub,tsc:Ub,tscc:Ub,tarjanStronglyConnectedComponents:Ub},q3={};[tb,ZF,QF,eU,rU,iU,sU,IU,Nm,Lm,TC,VU,i6,u6,p6,y6,m6,b6].forEach(function(r){en(q3,r)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var G3=0,H3=1,V3=2,pv=function(e){if(!(this instanceof pv))return new pv(e);this.id="Thenable/1.0.7",this.state=G3,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof e=="function"&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};pv.prototype={fulfill:function(e){return mR(this,H3,"fulfillValue",e)},reject:function(e){return mR(this,V3,"rejectReason",e)},then:function(e,t){var n=this,i=new pv;return n.onFulfilled.push(_R(e,i,"fulfill")),n.onRejected.push(_R(t,i,"reject")),$3(n),i.proxy}};var mR=function(e,t,n,i){return e.state===G3&&(e.state=t,e[n]=i,$3(e)),e},$3=function(e){e.state===H3?bR(e,"onFulfilled",e.fulfillValue):e.state===V3&&bR(e,"onRejected",e.rejectReason)},bR=function(e,t,n){if(e[t].length!==0){var i=e[t];e[t]=[];var a=function(){for(var s=0;s<i.length;s++)i[s](n)};typeof setImmediate=="function"?setImmediate(a):setTimeout(a,0)}},_R=function(e,t,n){return function(i){if(typeof e!="function")t[n].call(t,i);else{var a;try{a=e(i)}catch(o){t.reject(o);return}W3(t,a)}}},W3=function(e,t){if(e===t||e.proxy===t){e.reject(new TypeError("cannot resolve promise with itself"));return}var n;if(Ru(t)==="object"&&t!==null||typeof t=="function")try{n=t.then}catch(a){e.reject(a);return}if(typeof n=="function"){var i=!1;try{n.call(t,function(a){i||(i=!0,a===t?e.reject(new TypeError("circular thenable chain")):W3(e,a))},function(a){i||(i=!0,e.reject(a))})}catch(a){i||e.reject(a)}return}e.fulfill(t)};pv.all=function(r){return new pv(function(e,t){for(var n=new Array(r.length),i=0,a=function(u,l){n[u]=l,i++,i===r.length&&e(n)},o=0;o<r.length;o++)(function(s){var u=r[s],l=u!=null&&u.then!=null;if(l)u.then(function(f){a(s,f)},function(f){t(f)});else{var c=u;a(s,c)}})(o)})};pv.resolve=function(r){return new pv(function(e,t){e(r)})};pv.reject=function(r){return new pv(function(e,t){t(r)})};var e0=typeof Promise<"u"?Promise:pv,RC=function(e,t,n){var i=i2(e),a=!i,o=this._private=en({duration:1e3},t,n);if(o.target=e,o.style=o.style||o.css,o.started=!1,o.playing=!1,o.hooked=!1,o.applying=!1,o.progress=0,o.completes=[],o.frames=[],o.complete&&Vo(o.complete)&&o.completes.push(o.complete),a){var s=e.position();o.startPosition=o.startPosition||{x:s.x,y:s.y},o.startStyle=o.startStyle||e.cy().style().getAnimationStartStyle(e,o.style)}if(i){var u=e.pan();o.startPan={x:u.x,y:u.y},o.startZoom=e.zoom()}this.length=1,this[0]=this},Ly=RC.prototype;en(Ly,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var t,n=e.target._private.animation;e.queue?t=n.queue:t=n.current,t.push(this),xh(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var t=this._private;return e===void 0?t.progress*t.duration:this.progress(e/t.duration)},progress:function(e){var t=this._private,n=t.playing;return e===void 0?t.progress:(n&&this.pause(),t.progress=e,t.started=!1,n&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var e=this._private,t=e.playing;t&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function(l,c){var f=e[l];f!=null&&(e[l]=e[c],e[c]=f)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),e.style)for(var i=0;i<e.style.length;i++){var a=e.style[i],o=a.name,s=e.startStyle[o];e.startStyle[o]=a,e.style[i]=s}return t&&this.play(),this},promise:function(e){var t=this._private,n;switch(e){case"frame":n=t.frames;break;default:case"complete":case"completed":n=t.completes}return new e0(function(i,a){n.push(function(){i()})})}});Ly.complete=Ly.completed;Ly.run=Ly.play;Ly.running=Ly.playing;var _6={animated:function(){return function(){var t=this,n=t.length!==void 0,i=n?t:[t],a=this._private.cy||this;if(!a.styleEnabled())return!1;var o=i[0];if(o)return o._private.animation.current.length>0}},clearQueue:function(){return function(){var t=this,n=t.length!==void 0,i=n?t:[t],a=this._private.cy||this;if(!a.styleEnabled())return this;for(var o=0;o<i.length;o++){var s=i[o];s._private.animation.queue=[]}return this}},delay:function(){return function(t,n){var i=this._private.cy||this;return i.styleEnabled()?this.animate({delay:t,duration:t,complete:n}):this}},delayAnimation:function(){return function(t,n){var i=this._private.cy||this;return i.styleEnabled()?this.animation({delay:t,duration:t,complete:n}):this}},animation:function(){return function(t,n){var i=this,a=i.length!==void 0,o=a?i:[i],s=this._private.cy||this,u=!a,l=!u;if(!s.styleEnabled())return this;var c=s.style();t=en({},t,n);var f=Object.keys(t).length===0;if(f)return new RC(o[0],t);switch(t.duration===void 0&&(t.duration=400),t.duration){case"slow":t.duration=600;break;case"fast":t.duration=200;break}if(l&&(t.style=c.getPropsList(t.style||t.css),t.css=void 0),l&&t.renderedPosition!=null){var d=t.renderedPosition,v=s.pan(),p=s.zoom();t.position=D3(d,p,v)}if(u&&t.panBy!=null){var m=t.panBy,w=s.pan();t.pan={x:w.x+m.x,y:w.y+m.y}}var b=t.center||t.centre;if(u&&b!=null){var y=s.getCenterPan(b.eles,t.zoom);y!=null&&(t.pan=y)}if(u&&t.fit!=null){var _=t.fit,S=s.getFitViewport(_.eles||_.boundingBox,_.padding);S!=null&&(t.pan=S.pan,t.zoom=S.zoom)}if(u&&Li(t.zoom)){var A=s.getZoomedViewport(t.zoom);A!=null?(A.zoomed&&(t.zoom=A.zoom),A.panned&&(t.pan=A.pan)):t.zoom=null}return new RC(o[0],t)}},animate:function(){return function(t,n){var i=this,a=i.length!==void 0,o=a?i:[i],s=this._private.cy||this;if(!s.styleEnabled())return this;n&&(t=en({},t,n));for(var u=0;u<o.length;u++){var l=o[u],c=l.animated()&&(t.queue===void 0||t.queue),f=l.animation(t,c?{queue:!0}:void 0);f.play()}return this}},stop:function(){return function(t,n){var i=this,a=i.length!==void 0,o=a?i:[i],s=this._private.cy||this;if(!s.styleEnabled())return this;for(var u=0;u<o.length;u++){for(var l=o[u],c=l._private,f=c.animation.current,d=0;d<f.length;d++){var v=f[d],p=v._private;n&&(p.duration=0)}t&&(c.animation.queue=[]),n||(c.animation.current=[])}return s.notify("draw"),this}}},pw,wR;function n1(){if(wR)return pw;wR=1;var r=Array.isArray;return pw=r,pw}var gw,ER;function w6(){if(ER)return gw;ER=1;var r=n1(),e=_b(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){if(r(a))return!1;var s=typeof a;return s=="number"||s=="symbol"||s=="boolean"||a==null||e(a)?!0:n.test(a)||!t.test(a)||o!=null&&a in Object(o)}return gw=i,gw}var yw,xR;function E6(){if(xR)return yw;xR=1;var r=E3(),e=bb(),t="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(s){if(!e(s))return!1;var u=r(s);return u==n||u==i||u==t||u==a}return yw=o,yw}var mw,SR;function x6(){if(SR)return mw;SR=1;var r=J_(),e=r["__core-js_shared__"];return mw=e,mw}var bw,OR;function S6(){if(OR)return bw;OR=1;var r=x6(),e=function(){var n=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function t(n){return!!e&&e in n}return bw=t,bw}var _w,TR;function O6(){if(TR)return _w;TR=1;var r=Function.prototype,e=r.toString;function t(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return _w=t,_w}var ww,CR;function T6(){if(CR)return ww;CR=1;var r=E6(),e=S6(),t=bb(),n=O6(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,s=Object.prototype,u=o.toString,l=s.hasOwnProperty,c=RegExp("^"+u.call(l).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(d){if(!t(d)||e(d))return!1;var v=r(d)?c:a;return v.test(n(d))}return ww=f,ww}var Ew,AR;function C6(){if(AR)return Ew;AR=1;function r(e,t){return e==null?void 0:e[t]}return Ew=r,Ew}var xw,RR;function v2(){if(RR)return xw;RR=1;var r=T6(),e=C6();function t(n,i){var a=e(n,i);return r(a)?a:void 0}return xw=t,xw}var Sw,PR;function i1(){if(PR)return Sw;PR=1;var r=v2(),e=r(Object,"create");return Sw=e,Sw}var Ow,DR;function A6(){if(DR)return Ow;DR=1;var r=i1();function e(){this.__data__=r?r(null):{},this.size=0}return Ow=e,Ow}var Tw,IR;function R6(){if(IR)return Tw;IR=1;function r(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return Tw=r,Tw}var Cw,kR;function P6(){if(kR)return Cw;kR=1;var r=i1(),e="__lodash_hash_undefined__",t=Object.prototype,n=t.hasOwnProperty;function i(a){var o=this.__data__;if(r){var s=o[a];return s===e?void 0:s}return n.call(o,a)?o[a]:void 0}return Cw=i,Cw}var Aw,MR;function D6(){if(MR)return Aw;MR=1;var r=i1(),e=Object.prototype,t=e.hasOwnProperty;function n(i){var a=this.__data__;return r?a[i]!==void 0:t.call(a,i)}return Aw=n,Aw}var Rw,NR;function I6(){if(NR)return Rw;NR=1;var r=i1(),e="__lodash_hash_undefined__";function t(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=r&&i===void 0?e:i,this}return Rw=t,Rw}var Pw,LR;function k6(){if(LR)return Pw;LR=1;var r=A6(),e=R6(),t=P6(),n=D6(),i=I6();function a(o){var s=-1,u=o==null?0:o.length;for(this.clear();++s<u;){var l=o[s];this.set(l[0],l[1])}}return a.prototype.clear=r,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=n,a.prototype.set=i,Pw=a,Pw}var Dw,jR;function M6(){if(jR)return Dw;jR=1;function r(){this.__data__=[],this.size=0}return Dw=r,Dw}var Iw,BR;function Y3(){if(BR)return Iw;BR=1;function r(e,t){return e===t||e!==e&&t!==t}return Iw=r,Iw}var kw,FR;function a1(){if(FR)return kw;FR=1;var r=Y3();function e(t,n){for(var i=t.length;i--;)if(r(t[i][0],n))return i;return-1}return kw=e,kw}var Mw,UR;function N6(){if(UR)return Mw;UR=1;var r=a1(),e=Array.prototype,t=e.splice;function n(i){var a=this.__data__,o=r(a,i);if(o<0)return!1;var s=a.length-1;return o==s?a.pop():t.call(a,o,1),--this.size,!0}return Mw=n,Mw}var Nw,zR;function L6(){if(zR)return Nw;zR=1;var r=a1();function e(t){var n=this.__data__,i=r(n,t);return i<0?void 0:n[i][1]}return Nw=e,Nw}var Lw,qR;function j6(){if(qR)return Lw;qR=1;var r=a1();function e(t){return r(this.__data__,t)>-1}return Lw=e,Lw}var jw,GR;function B6(){if(GR)return jw;GR=1;var r=a1();function e(t,n){var i=this.__data__,a=r(i,t);return a<0?(++this.size,i.push([t,n])):i[a][1]=n,this}return jw=e,jw}var Bw,HR;function F6(){if(HR)return Bw;HR=1;var r=M6(),e=N6(),t=L6(),n=j6(),i=B6();function a(o){var s=-1,u=o==null?0:o.length;for(this.clear();++s<u;){var l=o[s];this.set(l[0],l[1])}}return a.prototype.clear=r,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=n,a.prototype.set=i,Bw=a,Bw}var Fw,VR;function U6(){if(VR)return Fw;VR=1;var r=v2(),e=J_(),t=r(e,"Map");return Fw=t,Fw}var Uw,$R;function z6(){if($R)return Uw;$R=1;var r=k6(),e=F6(),t=U6();function n(){this.size=0,this.__data__={hash:new r,map:new(t||e),string:new r}}return Uw=n,Uw}var zw,WR;function q6(){if(WR)return zw;WR=1;function r(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return zw=r,zw}var qw,YR;function o1(){if(YR)return qw;YR=1;var r=q6();function e(t,n){var i=t.__data__;return r(n)?i[typeof n=="string"?"string":"hash"]:i.map}return qw=e,qw}var Gw,XR;function G6(){if(XR)return Gw;XR=1;var r=o1();function e(t){var n=r(this,t).delete(t);return this.size-=n?1:0,n}return Gw=e,Gw}var Hw,KR;function H6(){if(KR)return Hw;KR=1;var r=o1();function e(t){return r(this,t).get(t)}return Hw=e,Hw}var Vw,ZR;function V6(){if(ZR)return Vw;ZR=1;var r=o1();function e(t){return r(this,t).has(t)}return Vw=e,Vw}var $w,QR;function $6(){if(QR)return $w;QR=1;var r=o1();function e(t,n){var i=r(this,t),a=i.size;return i.set(t,n),this.size+=i.size==a?0:1,this}return $w=e,$w}var Ww,JR;function W6(){if(JR)return Ww;JR=1;var r=z6(),e=G6(),t=H6(),n=V6(),i=$6();function a(o){var s=-1,u=o==null?0:o.length;for(this.clear();++s<u;){var l=o[s];this.set(l[0],l[1])}}return a.prototype.clear=r,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=n,a.prototype.set=i,Ww=a,Ww}var Yw,eP;function Y6(){if(eP)return Yw;eP=1;var r=W6(),e="Expected a function";function t(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var o=arguments,s=i?i.apply(this,o):o[0],u=a.cache;if(u.has(s))return u.get(s);var l=n.apply(this,o);return a.cache=u.set(s,l)||u,l};return a.cache=new(t.Cache||r),a}return t.Cache=r,Yw=t,Yw}var Xw,tP;function X6(){if(tP)return Xw;tP=1;var r=Y6(),e=500;function t(n){var i=r(n,function(o){return a.size===e&&a.clear(),o}),a=i.cache;return i}return Xw=t,Xw}var Kw,rP;function X3(){if(rP)return Kw;rP=1;var r=X6(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t=/\\(\\)?/g,n=r(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(o,s,u,l){a.push(u?l.replace(t,"$1"):s||o)}),a});return Kw=n,Kw}var Zw,nP;function K3(){if(nP)return Zw;nP=1;function r(e,t){for(var n=-1,i=e==null?0:e.length,a=Array(i);++n<i;)a[n]=t(e[n],n,e);return a}return Zw=r,Zw}var Qw,iP;function K6(){if(iP)return Qw;iP=1;var r=o2(),e=K3(),t=n1(),n=_b(),i=r?r.prototype:void 0,a=i?i.toString:void 0;function o(s){if(typeof s=="string")return s;if(t(s))return e(s,o)+"";if(n(s))return a?a.call(s):"";var u=s+"";return u=="0"&&1/s==-1/0?"-0":u}return Qw=o,Qw}var Jw,aP;function Z3(){if(aP)return Jw;aP=1;var r=K6();function e(t){return t==null?"":r(t)}return Jw=e,Jw}var eE,oP;function Q3(){if(oP)return eE;oP=1;var r=n1(),e=w6(),t=X3(),n=Z3();function i(a,o){return r(a)?a:e(a,o)?[a]:t(n(a))}return eE=i,eE}var tE,sP;function p2(){if(sP)return tE;sP=1;var r=_b();function e(t){if(typeof t=="string"||r(t))return t;var n=t+"";return n=="0"&&1/t==-1/0?"-0":n}return tE=e,tE}var rE,uP;function Z6(){if(uP)return rE;uP=1;var r=Q3(),e=p2();function t(n,i){i=r(i,n);for(var a=0,o=i.length;n!=null&&a<o;)n=n[e(i[a++])];return a&&a==o?n:void 0}return rE=t,rE}var nE,lP;function Q6(){if(lP)return nE;lP=1;var r=Z6();function e(t,n,i){var a=t==null?void 0:r(t,n);return a===void 0?i:a}return nE=e,nE}var J6=Q6(),e8=mb(J6),iE,cP;function t8(){if(cP)return iE;cP=1;var r=v2(),e=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch{}}();return iE=e,iE}var aE,fP;function r8(){if(fP)return aE;fP=1;var r=t8();function e(t,n,i){n=="__proto__"&&r?r(t,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[n]=i}return aE=e,aE}var oE,hP;function n8(){if(hP)return oE;hP=1;var r=r8(),e=Y3(),t=Object.prototype,n=t.hasOwnProperty;function i(a,o,s){var u=a[o];(!(n.call(a,o)&&e(u,s))||s===void 0&&!(o in a))&&r(a,o,s)}return oE=i,oE}var sE,dP;function i8(){if(dP)return sE;dP=1;var r=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(n,i){var a=typeof n;return i=i??r,!!i&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return sE=t,sE}var uE,vP;function a8(){if(vP)return uE;vP=1;var r=n8(),e=Q3(),t=i8(),n=bb(),i=p2();function a(o,s,u,l){if(!n(o))return o;s=e(s,o);for(var c=-1,f=s.length,d=f-1,v=o;v!=null&&++c<f;){var p=i(s[c]),m=u;if(p==="__proto__"||p==="constructor"||p==="prototype")return o;if(c!=d){var w=v[p];m=l?l(w,p,v):void 0,m===void 0&&(m=n(w)?w:t(s[c+1])?[]:{})}r(v,p,m),v=v[p]}return o}return uE=a,uE}var lE,pP;function o8(){if(pP)return lE;pP=1;var r=a8();function e(t,n,i){return t==null?t:r(t,n,i)}return lE=e,lE}var s8=o8(),u8=mb(s8),cE,gP;function l8(){if(gP)return cE;gP=1;function r(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}return cE=r,cE}var fE,yP;function c8(){if(yP)return fE;yP=1;var r=K3(),e=l8(),t=n1(),n=_b(),i=X3(),a=p2(),o=Z3();function s(u){return t(u)?r(u,a):n(u)?[u]:e(i(o(u)))}return fE=s,fE}var f8=c8(),h8=mb(f8),d8={data:function(e){var t={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(i){},beforeSet:function(i,a){},onSet:function(i){},canSet:function(i){return!0}};return e=en({},t,e),function(i,a){var o=e,s=this,u=s.length!==void 0,l=u?s:[s],c=u?s[0]:s;if($r(i)){var f=i.indexOf(".")!==-1,d=f&&h8(i);if(o.allowGetting&&a===void 0){var v;return c&&(o.beforeGet(c),d&&c._private[o.field][i]===void 0?v=e8(c._private[o.field],d):v=c._private[o.field][i]),v}else if(o.allowSetting&&a!==void 0){var p=!o.immutableKeys[i];if(p){var m=f3({},i,a);o.beforeSet(s,m);for(var w=0,b=l.length;w<b;w++){var y=l[w];o.canSet(y)&&(d&&c._private[o.field][i]===void 0?u8(y._private[o.field],d,a):y._private[o.field][i]=a)}o.updateStyle&&s.updateStyle(),o.onSet(s),o.settingTriggersEvent&&s[o.triggerFnName](o.settingEvent)}}}else if(o.allowSetting&&Li(i)){var _=i,S,A,D=Object.keys(_);o.beforeSet(s,_);for(var R=0;R<D.length;R++){S=D[R],A=_[S];var k=!o.immutableKeys[S];if(k)for(var j=0;j<l.length;j++){var F=l[j];o.canSet(F)&&(F._private[o.field][S]=A)}}o.updateStyle&&s.updateStyle(),o.onSet(s),o.settingTriggersEvent&&s[o.triggerFnName](o.settingEvent)}else if(o.allowBinding&&Vo(i)){var z=i;s.on(o.bindingEvent,z)}else if(o.allowGetting&&i===void 0){var q;return c&&(o.beforeGet(c),q=c._private[o.field]),q}return s}},removeData:function(e){var t={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=en({},t,e),function(i){var a=e,o=this,s=o.length!==void 0,u=s?o:[o];if($r(i)){for(var l=i.split(/\s+/),c=l.length,f=0;f<c;f++){var d=l[f];if(!Rg(d)){var v=!a.immutableKeys[d];if(v)for(var p=0,m=u.length;p<m;p++)u[p]._private[a.field][d]=void 0}}a.triggerEvent&&o[a.triggerFnName](a.event)}else if(i===void 0){for(var w=0,b=u.length;w<b;w++)for(var y=u[w]._private[a.field],_=Object.keys(y),S=0;S<_.length;S++){var A=_[S],D=!a.immutableKeys[A];D&&(y[A]=void 0)}a.triggerEvent&&o[a.triggerFnName](a.event)}return o}}},v8={eventAliasesOn:function(e){var t=e;t.addListener=t.listen=t.bind=t.on,t.unlisten=t.unbind=t.off=t.removeListener,t.trigger=t.emit,t.pon=t.promiseOn=function(n,i){var a=this,o=Array.prototype.slice.call(arguments,0);return new e0(function(s,u){var l=function(v){a.off.apply(a,f),s(v)},c=o.concat([l]),f=c.concat([]);a.on.apply(a,c)})}}},ba={};[_6,d8,v8].forEach(function(r){en(ba,r)});var p8={animate:ba.animate(),animation:ba.animation(),animated:ba.animated(),clearQueue:ba.clearQueue(),delay:ba.delay(),delayAnimation:ba.delayAnimation(),stop:ba.stop()},p_={classes:function(e){var t=this;if(e===void 0){var n=[];return t[0]._private.classes.forEach(function(p){return n.push(p)}),n}else Ga(e)||(e=(e||"").match(/\S+/g)||[]);for(var i=[],a=new Jm(e),o=0;o<t.length;o++){for(var s=t[o],u=s._private,l=u.classes,c=!1,f=0;f<e.length;f++){var d=e[f],v=l.has(d);if(!v){c=!0;break}}c||(c=l.size!==e.length),c&&(u.classes=a,i.push(s))}return i.length>0&&this.spawn(i).updateStyle().emit("class"),t},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var t=this[0];return t!=null&&t._private.classes.has(e)},toggleClass:function(e,t){Ga(e)||(e=e.match(/\S+/g)||[]);for(var n=this,i=t===void 0,a=[],o=0,s=n.length;o<s;o++)for(var u=n[o],l=u._private.classes,c=!1,f=0;f<e.length;f++){var d=e[f],v=l.has(d),p=!1;t||i&&!v?(l.add(d),p=!0):(!t||i&&v)&&(l.delete(d),p=!0),!c&&p&&(a.push(u),c=!0)}return a.length>0&&this.spawn(a).updateStyle().emit("class"),n},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,t){var n=this;if(t==null)t=250;else if(t===0)return n;return n.addClass(e),setTimeout(function(){n.removeClass(e)},t),n}};p_.className=p_.classNames=p_.classes;var Ni={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:Cu,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};Ni.variable="(?:[\\w-.]|(?:\\\\"+Ni.metaChar+"))+";Ni.className="(?:[\\w-]|(?:\\\\"+Ni.metaChar+"))+";Ni.value=Ni.string+"|"+Ni.number;Ni.id=Ni.variable;(function(){var r,e,t;for(r=Ni.comparatorOp.split("|"),t=0;t<r.length;t++)e=r[t],Ni.comparatorOp+="|@"+e;for(r=Ni.comparatorOp.split("|"),t=0;t<r.length;t++)e=r[t],!(e.indexOf("!")>=0)&&e!=="="&&(Ni.comparatorOp+="|\\!"+e)})();var Ma=function(){return{checks:[]}},Tr={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},PC=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(r,e){return mF(r.selector,e.selector)}),g8=function(){for(var r={},e,t=0;t<PC.length;t++)e=PC[t],r[e.selector]=e.matches;return r}(),y8=function(e,t){return g8[e](t)},m8="("+PC.map(function(r){return r.selector}).join("|")+")",pm=function(e){return e.replace(new RegExp("\\\\("+Ni.metaChar+")","g"),function(t,n){return n})},yg=function(e,t,n){e[e.length-1]=n},DC=[{name:"group",query:!0,regex:"("+Ni.group+")",populate:function(e,t,n){var i=sl(n,1),a=i[0];t.checks.push({type:Tr.GROUP,value:a==="*"?a:a+"s"})}},{name:"state",query:!0,regex:m8,populate:function(e,t,n){var i=sl(n,1),a=i[0];t.checks.push({type:Tr.STATE,value:a})}},{name:"id",query:!0,regex:"\\#("+Ni.id+")",populate:function(e,t,n){var i=sl(n,1),a=i[0];t.checks.push({type:Tr.ID,value:pm(a)})}},{name:"className",query:!0,regex:"\\.("+Ni.className+")",populate:function(e,t,n){var i=sl(n,1),a=i[0];t.checks.push({type:Tr.CLASS,value:pm(a)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+Ni.variable+")\\s*\\]",populate:function(e,t,n){var i=sl(n,1),a=i[0];t.checks.push({type:Tr.DATA_EXIST,field:pm(a)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+Ni.variable+")\\s*("+Ni.comparatorOp+")\\s*("+Ni.value+")\\s*\\]",populate:function(e,t,n){var i=sl(n,3),a=i[0],o=i[1],s=i[2],u=new RegExp("^"+Ni.string+"$").exec(s)!=null;u?s=s.substring(1,s.length-1):s=parseFloat(s),t.checks.push({type:Tr.DATA_COMPARE,field:pm(a),operator:o,value:s})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+Ni.boolOp+")\\s*("+Ni.variable+")\\s*\\]",populate:function(e,t,n){var i=sl(n,2),a=i[0],o=i[1];t.checks.push({type:Tr.DATA_BOOL,field:pm(o),operator:a})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+Ni.meta+")\\s*("+Ni.comparatorOp+")\\s*("+Ni.number+")\\s*\\]\\]",populate:function(e,t,n){var i=sl(n,3),a=i[0],o=i[1],s=i[2];t.checks.push({type:Tr.META_COMPARE,field:pm(a),operator:o,value:parseFloat(s)})}},{name:"nextQuery",separator:!0,regex:Ni.separator,populate:function(e,t){var n=e.currentSubject,i=e.edgeCount,a=e.compoundCount,o=e[e.length-1];n!=null&&(o.subject=n,e.currentSubject=null),o.edgeCount=i,o.compoundCount=a,e.edgeCount=0,e.compoundCount=0;var s=e[e.length++]=Ma();return s}},{name:"directedEdge",separator:!0,regex:Ni.directedEdge,populate:function(e,t){if(e.currentSubject==null){var n=Ma(),i=t,a=Ma();return n.checks.push({type:Tr.DIRECTED_EDGE,source:i,target:a}),yg(e,t,n),e.edgeCount++,a}else{var o=Ma(),s=t,u=Ma();return o.checks.push({type:Tr.NODE_SOURCE,source:s,target:u}),yg(e,t,o),e.edgeCount++,u}}},{name:"undirectedEdge",separator:!0,regex:Ni.undirectedEdge,populate:function(e,t){if(e.currentSubject==null){var n=Ma(),i=t,a=Ma();return n.checks.push({type:Tr.UNDIRECTED_EDGE,nodes:[i,a]}),yg(e,t,n),e.edgeCount++,a}else{var o=Ma(),s=t,u=Ma();return o.checks.push({type:Tr.NODE_NEIGHBOR,node:s,neighbor:u}),yg(e,t,o),u}}},{name:"child",separator:!0,regex:Ni.child,populate:function(e,t){if(e.currentSubject==null){var n=Ma(),i=Ma(),a=e[e.length-1];return n.checks.push({type:Tr.CHILD,parent:a,child:i}),yg(e,t,n),e.compoundCount++,i}else if(e.currentSubject===t){var o=Ma(),s=e[e.length-1],u=Ma(),l=Ma(),c=Ma(),f=Ma();return o.checks.push({type:Tr.COMPOUND_SPLIT,left:s,right:u,subject:l}),l.checks=t.checks,t.checks=[{type:Tr.TRUE}],f.checks.push({type:Tr.TRUE}),u.checks.push({type:Tr.PARENT,parent:f,child:c}),yg(e,s,o),e.currentSubject=l,e.compoundCount++,c}else{var d=Ma(),v=Ma(),p=[{type:Tr.PARENT,parent:d,child:v}];return d.checks=t.checks,t.checks=p,e.compoundCount++,v}}},{name:"descendant",separator:!0,regex:Ni.descendant,populate:function(e,t){if(e.currentSubject==null){var n=Ma(),i=Ma(),a=e[e.length-1];return n.checks.push({type:Tr.DESCENDANT,ancestor:a,descendant:i}),yg(e,t,n),e.compoundCount++,i}else if(e.currentSubject===t){var o=Ma(),s=e[e.length-1],u=Ma(),l=Ma(),c=Ma(),f=Ma();return o.checks.push({type:Tr.COMPOUND_SPLIT,left:s,right:u,subject:l}),l.checks=t.checks,t.checks=[{type:Tr.TRUE}],f.checks.push({type:Tr.TRUE}),u.checks.push({type:Tr.ANCESTOR,ancestor:f,descendant:c}),yg(e,s,o),e.currentSubject=l,e.compoundCount++,c}else{var d=Ma(),v=Ma(),p=[{type:Tr.ANCESTOR,ancestor:d,descendant:v}];return d.checks=t.checks,t.checks=p,e.compoundCount++,v}}},{name:"subject",modifier:!0,regex:Ni.subject,populate:function(e,t){if(e.currentSubject!=null&&e.currentSubject!==t)return _a("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=t;var n=e[e.length-1],i=n.checks[0],a=i==null?null:i.type;a===Tr.DIRECTED_EDGE?i.type=Tr.NODE_TARGET:a===Tr.UNDIRECTED_EDGE&&(i.type=Tr.NODE_NEIGHBOR,i.node=i.nodes[1],i.neighbor=i.nodes[0],i.nodes=null)}}];DC.forEach(function(r){return r.regexObj=new RegExp("^"+r.regex)});var b8=function(e){for(var t,n,i,a=0;a<DC.length;a++){var o=DC[a],s=o.name,u=e.match(o.regexObj);if(u!=null){n=u,t=o,i=s;var l=u[0];e=e.substring(l.length);break}}return{expr:t,match:n,name:i,remaining:e}},_8=function(e){var t=e.match(/^\s+/);if(t){var n=t[0];e=e.substring(n.length)}return e},w8=function(e){var t=this,n=t.inputText=e,i=t[0]=Ma();for(t.length=1,n=_8(n);;){var a=b8(n);if(a.expr==null)return _a("The selector `"+e+"`is invalid"),!1;var o=a.match.slice(1),s=a.expr.populate(t,i,o);if(s===!1)return!1;if(s!=null&&(i=s),n=a.remaining,n.match(/^\s*$/))break}var u=t[t.length-1];t.currentSubject!=null&&(u.subject=t.currentSubject),u.edgeCount=t.edgeCount,u.compoundCount=t.compoundCount;for(var l=0;l<t.length;l++){var c=t[l];if(c.compoundCount>0&&c.edgeCount>0)return _a("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(c.edgeCount>1)return _a("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;c.edgeCount===1&&_a("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},E8=function(){if(this.toStringCache!=null)return this.toStringCache;for(var e=function(c){return c??""},t=function(c){return $r(c)?'"'+c+'"':e(c)},n=function(c){return" "+c+" "},i=function(c,f){var d=c.type,v=c.value;switch(d){case Tr.GROUP:{var p=e(v);return p.substring(0,p.length-1)}case Tr.DATA_COMPARE:{var m=c.field,w=c.operator;return"["+m+n(e(w))+t(v)+"]"}case Tr.DATA_BOOL:{var b=c.operator,y=c.field;return"["+e(b)+y+"]"}case Tr.DATA_EXIST:{var _=c.field;return"["+_+"]"}case Tr.META_COMPARE:{var S=c.operator,A=c.field;return"[["+A+n(e(S))+t(v)+"]]"}case Tr.STATE:return v;case Tr.ID:return"#"+v;case Tr.CLASS:return"."+v;case Tr.PARENT:case Tr.CHILD:return a(c.parent,f)+n(">")+a(c.child,f);case Tr.ANCESTOR:case Tr.DESCENDANT:return a(c.ancestor,f)+" "+a(c.descendant,f);case Tr.COMPOUND_SPLIT:{var D=a(c.left,f),R=a(c.subject,f),k=a(c.right,f);return D+(D.length>0?" ":"")+R+k}case Tr.TRUE:return""}},a=function(c,f){return c.checks.reduce(function(d,v,p){return d+(f===c&&p===0?"$":"")+i(v,f)},"")},o="",s=0;s<this.length;s++){var u=this[s];o+=a(u,u.subject),this.length>1&&s<this.length-1&&(o+=", ")}return this.toStringCache=o,o},x8={parse:w8,toString:E8},J3=function(e,t,n){var i,a=$r(e),o=gr(e),s=$r(n),u,l,c=!1,f=!1,d=!1;switch(t.indexOf("!")>=0&&(t=t.replace("!",""),f=!0),t.indexOf("@")>=0&&(t=t.replace("@",""),c=!0),(a||s||c)&&(u=!a&&!o?"":""+e,l=""+n),c&&(e=u=u.toLowerCase(),n=l=l.toLowerCase()),t){case"*=":i=u.indexOf(l)>=0;break;case"$=":i=u.indexOf(l,u.length-l.length)>=0;break;case"^=":i=u.indexOf(l)===0;break;case"=":i=e===n;break;case">":d=!0,i=e>n;break;case">=":d=!0,i=e>=n;break;case"<":d=!0,i=e<n;break;case"<=":d=!0,i=e<=n;break;default:i=!1;break}return f&&(e!=null||!d)&&(i=!i),i},S8=function(e,t){switch(t){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},O8=function(e){return e!==void 0},g2=function(e,t){return e.data(t)},T8=function(e,t){return e[t]()},vs=[],ho=function(e,t){return e.checks.every(function(n){return vs[n.type](n,t)})};vs[Tr.GROUP]=function(r,e){var t=r.value;return t==="*"||t===e.group()};vs[Tr.STATE]=function(r,e){var t=r.value;return y8(t,e)};vs[Tr.ID]=function(r,e){var t=r.value;return e.id()===t};vs[Tr.CLASS]=function(r,e){var t=r.value;return e.hasClass(t)};vs[Tr.META_COMPARE]=function(r,e){var t=r.field,n=r.operator,i=r.value;return J3(T8(e,t),n,i)};vs[Tr.DATA_COMPARE]=function(r,e){var t=r.field,n=r.operator,i=r.value;return J3(g2(e,t),n,i)};vs[Tr.DATA_BOOL]=function(r,e){var t=r.field,n=r.operator;return S8(g2(e,t),n)};vs[Tr.DATA_EXIST]=function(r,e){var t=r.field;return r.operator,O8(g2(e,t))};vs[Tr.UNDIRECTED_EDGE]=function(r,e){var t=r.nodes[0],n=r.nodes[1],i=e.source(),a=e.target();return ho(t,i)&&ho(n,a)||ho(n,i)&&ho(t,a)};vs[Tr.NODE_NEIGHBOR]=function(r,e){return ho(r.node,e)&&e.neighborhood().some(function(t){return t.isNode()&&ho(r.neighbor,t)})};vs[Tr.DIRECTED_EDGE]=function(r,e){return ho(r.source,e.source())&&ho(r.target,e.target())};vs[Tr.NODE_SOURCE]=function(r,e){return ho(r.source,e)&&e.outgoers().some(function(t){return t.isNode()&&ho(r.target,t)})};vs[Tr.NODE_TARGET]=function(r,e){return ho(r.target,e)&&e.incomers().some(function(t){return t.isNode()&&ho(r.source,t)})};vs[Tr.CHILD]=function(r,e){return ho(r.child,e)&&ho(r.parent,e.parent())};vs[Tr.PARENT]=function(r,e){return ho(r.parent,e)&&e.children().some(function(t){return ho(r.child,t)})};vs[Tr.DESCENDANT]=function(r,e){return ho(r.descendant,e)&&e.ancestors().some(function(t){return ho(r.ancestor,t)})};vs[Tr.ANCESTOR]=function(r,e){return ho(r.ancestor,e)&&e.descendants().some(function(t){return ho(r.descendant,t)})};vs[Tr.COMPOUND_SPLIT]=function(r,e){return ho(r.subject,e)&&ho(r.left,e)&&ho(r.right,e)};vs[Tr.TRUE]=function(){return!0};vs[Tr.COLLECTION]=function(r,e){var t=r.value;return t.has(e)};vs[Tr.FILTER]=function(r,e){var t=r.value;return t(e)};var C8=function(e){var t=this;if(t.length===1&&t[0].checks.length===1&&t[0].checks[0].type===Tr.ID)return e.getElementById(t[0].checks[0].value).collection();var n=function(a){for(var o=0;o<t.length;o++){var s=t[o];if(ho(s,a))return!0}return!1};return t.text()==null&&(n=function(){return!0}),e.filter(n)},A8=function(e){for(var t=this,n=0;n<t.length;n++){var i=t[n];if(ho(i,e))return!0}return!1},R8={matches:A8,filter:C8},Ig=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||$r(e)&&e.match(/^\s*$/)||(xh(e)?this.addQuery({checks:[{type:Tr.COLLECTION,value:e.collection()}]}):Vo(e)?this.addQuery({checks:[{type:Tr.FILTER,value:e}]}):$r(e)?this.parse(e)||(this.invalid=!0):Ho("A selector must be created from a string; found "))},kg=Ig.prototype;[x8,R8].forEach(function(r){return en(kg,r)});kg.text=function(){return this.inputText};kg.size=function(){return this.length};kg.eq=function(r){return this[r]};kg.sameText=function(r){return!this.invalid&&!r.invalid&&this.text()===r.text()};kg.addQuery=function(r){this[this.length++]=r};kg.selector=kg.toString;var Og={allAre:function(e){var t=new Ig(e);return this.every(function(n){return t.matches(n)})},is:function(e){var t=new Ig(e);return this.some(function(n){return t.matches(n)})},some:function(e,t){for(var n=0;n<this.length;n++){var i=t?e.apply(t,[this[n],n,this]):e(this[n],n,this);if(i)return!0}return!1},every:function(e,t){for(var n=0;n<this.length;n++){var i=t?e.apply(t,[this[n],n,this]):e(this[n],n,this);if(!i)return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var t=this.length,n=e.length;return t!==n?!1:t===1?this[0]===e[0]:this.every(function(i){return e.hasElementWithId(i.id())})},anySame:function(e){return e=this.cy().collection(e),this.some(function(t){return e.hasElementWithId(t.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var t=this.neighborhood();return e.every(function(n){return t.hasElementWithId(n.id())})},contains:function(e){e=this.cy().collection(e);var t=this;return e.every(function(n){return t.hasElementWithId(n.id())})}};Og.allAreNeighbours=Og.allAreNeighbors;Og.has=Og.contains;Og.equal=Og.equals=Og.same;var md=function(e,t){return function(i,a,o,s){var u=i,l=this,c;if(u==null?c="":xh(u)&&u.length===1&&(c=u.id()),l.length===1&&c){var f=l[0]._private,d=f.traversalCache=f.traversalCache||{},v=d[t]=d[t]||[],p=Pg(c),m=v[p];return m||(v[p]=e.call(l,i,a,o,s))}else return e.call(l,i,a,o,s)}},$m={parent:function(e){var t=[];if(this.length===1){var n=this[0]._private.parent;if(n)return n}for(var i=0;i<this.length;i++){var a=this[i],o=a._private.parent;o&&t.push(o)}return this.spawn(t,!0).filter(e)},parents:function(e){for(var t=[],n=this.parent();n.nonempty();){for(var i=0;i<n.length;i++){var a=n[i];t.push(a)}n=n.parent()}return this.spawn(t,!0).filter(e)},commonAncestors:function(e){for(var t,n=0;n<this.length;n++){var i=this[n],a=i.parents();t=t||a,t=t.intersect(a)}return t.filter(e)},orphans:function(e){return this.stdFilter(function(t){return t.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(t){return t.isChild()}).filter(e)},children:md(function(r){for(var e=[],t=0;t<this.length;t++)for(var n=this[t],i=n._private.children,a=0;a<i.length;a++)e.push(i[a]);return this.spawn(e,!0).filter(r)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},isChildless:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},isChild:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},descendants:function(e){var t=[];function n(i){for(var a=0;a<i.length;a++){var o=i[a];t.push(o),o.children().nonempty()&&n(o.children())}}return n(this.children()),this.spawn(t,!0).filter(e)}};function y2(r,e,t,n){for(var i=[],a=new Jm,o=r.cy(),s=o.hasCompoundNodes(),u=0;u<r.length;u++){var l=r[u];t?i.push(l):s&&n(i,a,l)}for(;i.length>0;){var c=i.shift();e(c),a.add(c.id()),s&&n(i,a,c)}return r}function ej(r,e,t){if(t.isParent())for(var n=t._private.children,i=0;i<n.length;i++){var a=n[i];e.has(a.id())||r.push(a)}}$m.forEachDown=function(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return y2(this,r,e,ej)};function tj(r,e,t){if(t.isChild()){var n=t._private.parent;e.has(n.id())||r.push(n)}}$m.forEachUp=function(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return y2(this,r,e,tj)};function P8(r,e,t){tj(r,e,t),ej(r,e,t)}$m.forEachUpAndDown=function(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return y2(this,r,e,P8)};$m.ancestors=$m.parents;var ib,rj;ib=rj={data:ba.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:ba.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:ba.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:ba.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:ba.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:ba.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}};ib.attr=ib.data;ib.removeAttr=ib.removeData;var D8=rj,s1={};function hE(r){return function(e){var t=this;if(e===void 0&&(e=!0),t.length!==0)if(t.isNode()&&!t.removed()){for(var n=0,i=t[0],a=i._private.edges,o=0;o<a.length;o++){var s=a[o];!e&&s.isLoop()||(n+=r(i,s))}return n}else return}}en(s1,{degree:hE(function(r,e){return e.source().same(e.target())?2:1}),indegree:hE(function(r,e){return e.target().same(r)?1:0}),outdegree:hE(function(r,e){return e.source().same(r)?1:0})});function gm(r,e){return function(t){for(var n,i=this.nodes(),a=0;a<i.length;a++){var o=i[a],s=o[r](t);s!==void 0&&(n===void 0||e(s,n))&&(n=s)}return n}}en(s1,{minDegree:gm("degree",function(r,e){return r<e}),maxDegree:gm("degree",function(r,e){return r>e}),minIndegree:gm("indegree",function(r,e){return r<e}),maxIndegree:gm("indegree",function(r,e){return r>e}),minOutdegree:gm("outdegree",function(r,e){return r<e}),maxOutdegree:gm("outdegree",function(r,e){return r>e})});en(s1,{totalDegree:function(e){for(var t=0,n=this.nodes(),i=0;i<n.length;i++)t+=n[i].degree(e);return t}});var vv,nj,ij=function(e,t,n){for(var i=0;i<e.length;i++){var a=e[i];if(!a.locked()){var o=a._private.position,s={x:t.x!=null?t.x-o.x:0,y:t.y!=null?t.y-o.y:0};a.isParent()&&!(s.x===0&&s.y===0)&&a.children().shift(s,n),a.dirtyBoundingBoxCache()}}},mP={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,t){ij(e,t,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};vv=nj={position:ba.data(mP),silentPosition:ba.data(en({},mP,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,t){ij(e,t,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,t){if(Li(e))t?this.silentPosition(e):this.position(e);else if(Vo(e)){var n=e,i=this.cy();i.startBatch();for(var a=0;a<this.length;a++){var o=this[a],s=void 0;(s=n(o,a))&&(t?o.silentPosition(s):o.position(s))}i.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,t,n){var i;if(Li(e)?(i={x:gr(e.x)?e.x:0,y:gr(e.y)?e.y:0},n=t):$r(e)&&gr(t)&&(i={x:0,y:0},i[e]=t),i!=null){var a=this.cy();a.startBatch();for(var o=0;o<this.length;o++){var s=this[o];if(!(a.hasCompoundNodes()&&s.isChild()&&s.ancestors().anySame(this))){var u=s.position(),l={x:u.x+i.x,y:u.y+i.y};n?s.silentPosition(l):s.position(l)}}a.endBatch()}return this},silentShift:function(e,t){return Li(e)?this.shift(e,!0):$r(e)&&gr(t)&&this.shift(e,t,!0),this},renderedPosition:function(e,t){var n=this[0],i=this.cy(),a=i.zoom(),o=i.pan(),s=Li(e)?e:void 0,u=s!==void 0||t!==void 0&&$r(e);if(n&&n.isNode())if(u)for(var l=0;l<this.length;l++){var c=this[l];t!==void 0?c.position(e,(t-o[e])/a):s!==void 0&&c.position(D3(s,a,o))}else{var f=n.position();return s=t1(f,a,o),e===void 0?s:s[e]}else if(!u)return;return this},relativePosition:function(e,t){var n=this[0],i=this.cy(),a=Li(e)?e:void 0,o=a!==void 0||t!==void 0&&$r(e),s=i.hasCompoundNodes();if(n&&n.isNode())if(o)for(var u=0;u<this.length;u++){var l=this[u],c=s?l.parent():null,f=c&&c.length>0,d=f;f&&(c=c[0]);var v=d?c.position():{x:0,y:0};t!==void 0?l.position(e,t+v[e]):a!==void 0&&l.position({x:a.x+v.x,y:a.y+v.y})}else{var p=n.position(),m=s?n.parent():null,w=m&&m.length>0,b=w;w&&(m=m[0]);var y=b?m.position():{x:0,y:0};return a={x:p.x-y.x,y:p.y-y.y},e===void 0?a:a[e]}else if(!o)return;return this}};vv.modelPosition=vv.point=vv.position;vv.modelPositions=vv.points=vv.positions;vv.renderedPoint=vv.renderedPosition;vv.relativePoint=vv.relativePosition;var I8=nj,jm,zg;jm=zg={};zg.renderedBoundingBox=function(r){var e=this.boundingBox(r),t=this.cy(),n=t.zoom(),i=t.pan(),a=e.x1*n+i.x,o=e.x2*n+i.x,s=e.y1*n+i.y,u=e.y2*n+i.y;return{x1:a,x2:o,y1:s,y2:u,w:o-a,h:u-s}};zg.dirtyCompoundBoundsCache=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();return!e.styleEnabled()||!e.hasCompoundNodes()?this:(this.forEachUp(function(t){if(t.isParent()){var n=t._private;n.compoundBoundsClean=!1,n.bbCache=null,r||t.emitAndNotify("bounds")}}),this)};zg.updateCompoundBounds=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!r&&e.batching())return this;function t(o){if(!o.isParent())return;var s=o._private,u=o.children(),l=o.pstyle("compound-sizing-wrt-labels").value==="include",c={width:{val:o.pstyle("min-width").pfValue,left:o.pstyle("min-width-bias-left"),right:o.pstyle("min-width-bias-right")},height:{val:o.pstyle("min-height").pfValue,top:o.pstyle("min-height-bias-top"),bottom:o.pstyle("min-height-bias-bottom")}},f=u.boundingBox({includeLabels:l,includeOverlays:!1,useCache:!1}),d=s.position;(f.w===0||f.h===0)&&(f={w:o.pstyle("width").pfValue,h:o.pstyle("height").pfValue},f.x1=d.x-f.w/2,f.x2=d.x+f.w/2,f.y1=d.y-f.h/2,f.y2=d.y+f.h/2);function v(j,F,z){var q=0,$=0,K=F+z;return j>0&&K>0&&(q=F/K*j,$=z/K*j),{biasDiff:q,biasComplementDiff:$}}function p(j,F,z,q){if(z.units==="%")switch(q){case"width":return j>0?z.pfValue*j:0;case"height":return F>0?z.pfValue*F:0;case"average":return j>0&&F>0?z.pfValue*(j+F)/2:0;case"min":return j>0&&F>0?j>F?z.pfValue*F:z.pfValue*j:0;case"max":return j>0&&F>0?j>F?z.pfValue*j:z.pfValue*F:0;default:return 0}else return z.units==="px"?z.pfValue:0}var m=c.width.left.value;c.width.left.units==="px"&&c.width.val>0&&(m=m*100/c.width.val);var w=c.width.right.value;c.width.right.units==="px"&&c.width.val>0&&(w=w*100/c.width.val);var b=c.height.top.value;c.height.top.units==="px"&&c.height.val>0&&(b=b*100/c.height.val);var y=c.height.bottom.value;c.height.bottom.units==="px"&&c.height.val>0&&(y=y*100/c.height.val);var _=v(c.width.val-f.w,m,w),S=_.biasDiff,A=_.biasComplementDiff,D=v(c.height.val-f.h,b,y),R=D.biasDiff,k=D.biasComplementDiff;s.autoPadding=p(f.w,f.h,o.pstyle("padding"),o.pstyle("padding-relative-to").value),s.autoWidth=Math.max(f.w,c.width.val),d.x=(-S+f.x1+f.x2+A)/2,s.autoHeight=Math.max(f.h,c.height.val),d.y=(-R+f.y1+f.y2+k)/2}for(var n=0;n<this.length;n++){var i=this[n],a=i._private;(!a.compoundBoundsClean||r)&&(t(i),e.batching()||(a.compoundBoundsClean=!0))}return this};var gd=function(e){return e===1/0||e===-1/0?0:e},cv=function(e,t,n,i,a){i-t===0||a-n===0||t==null||n==null||i==null||a==null||(e.x1=t<e.x1?t:e.x1,e.x2=i>e.x2?i:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=a>e.y2?a:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},Oy=function(e,t){return t==null?e:cv(e,t.x1,t.y1,t.x2,t.y2)},w0=function(e,t,n){return pd(e,t,n)},zb=function(e,t,n){if(!t.cy().headless()){var i=t._private,a=i.rstyle,o=a.arrowWidth/2,s=t.pstyle(n+"-arrow-shape").value,u,l;if(s!=="none"){n==="source"?(u=a.srcX,l=a.srcY):n==="target"?(u=a.tgtX,l=a.tgtY):(u=a.midX,l=a.midY);var c=i.arrowBounds=i.arrowBounds||{},f=c[n]=c[n]||{};f.x1=u-o,f.y1=l-o,f.x2=u+o,f.y2=l+o,f.w=f.x2-f.x1,f.h=f.y2-f.y1,d_(f,1),cv(e,f.x1,f.y1,f.x2,f.y2)}}},dE=function(e,t,n){if(!t.cy().headless()){var i;n?i=n+"-":i="";var a=t._private,o=a.rstyle,s=t.pstyle(i+"label").strValue;if(s){var u=t.pstyle("text-halign"),l=t.pstyle("text-valign"),c=w0(o,"labelWidth",n),f=w0(o,"labelHeight",n),d=w0(o,"labelX",n),v=w0(o,"labelY",n),p=t.pstyle(i+"text-margin-x").pfValue,m=t.pstyle(i+"text-margin-y").pfValue,w=t.isEdge(),b=t.pstyle(i+"text-rotation"),y=t.pstyle("text-outline-width").pfValue,_=t.pstyle("text-border-width").pfValue,S=_/2,A=t.pstyle("text-background-padding").pfValue,D=2,R=f,k=c,j=k/2,F=R/2,z,q,$,K;if(w)z=d-j,q=d+j,$=v-F,K=v+F;else{switch(u.value){case"left":z=d-k,q=d;break;case"center":z=d-j,q=d+j;break;case"right":z=d,q=d+k;break}switch(l.value){case"top":$=v-R,K=v;break;case"center":$=v-F,K=v+F;break;case"bottom":$=v,K=v+R;break}}var oe=p-Math.max(y,S)-A-D,J=p+Math.max(y,S)+A+D,re=m-Math.max(y,S)-A-D,ae=m+Math.max(y,S)+A+D;z+=oe,q+=J,$+=re,K+=ae;var ve=n||"main",se=a.labelBounds,ce=se[ve]=se[ve]||{};ce.x1=z,ce.y1=$,ce.x2=q,ce.y2=K,ce.w=q-z,ce.h=K-$,ce.leftPad=oe,ce.rightPad=J,ce.topPad=re,ce.botPad=ae;var pe=w&&b.strValue==="autorotate",Pe=b.pfValue!=null&&b.pfValue!==0;if(pe||Pe){var de=pe?w0(a.rstyle,"labelAngle",n):b.pfValue,ge=Math.cos(de),Ce=Math.sin(de),Ne=(z+q)/2,De=($+K)/2;if(!w){switch(u.value){case"left":Ne=q;break;case"right":Ne=z;break}switch(l.value){case"top":De=K;break;case"bottom":De=$;break}}var ke=function(pt,Q){return pt=pt-Ne,Q=Q-De,{x:pt*ge-Q*Ce+Ne,y:pt*Ce+Q*ge+De}},_e=ke(z,$),Ie=ke(z,K),Ge=ke(q,$),Qe=ke(q,K);z=Math.min(_e.x,Ie.x,Ge.x,Qe.x),q=Math.max(_e.x,Ie.x,Ge.x,Qe.x),$=Math.min(_e.y,Ie.y,Ge.y,Qe.y),K=Math.max(_e.y,Ie.y,Ge.y,Qe.y)}var ot=ve+"Rot",Tt=se[ot]=se[ot]||{};Tt.x1=z,Tt.y1=$,Tt.x2=q,Tt.y2=K,Tt.w=q-z,Tt.h=K-$,cv(e,z,$,q,K),cv(a.labelBounds.all,z,$,q,K)}return e}},k8=function(e,t){if(!t.cy().headless()){var n=t.pstyle("outline-opacity").value,i=t.pstyle("outline-width").value;if(n>0&&i>0){var a=t.pstyle("outline-offset").value,o=t.pstyle("shape").value,s=i+a,u=(e.w+s*2)/e.w,l=(e.h+s*2)/e.h,c=0,f=0;["diamond","pentagon","round-triangle"].includes(o)?(u=(e.w+s*2.4)/e.w,f=-s/3.6):["concave-hexagon","rhomboid","right-rhomboid"].includes(o)?u=(e.w+s*2.4)/e.w:o==="star"?(u=(e.w+s*2.8)/e.w,l=(e.h+s*2.6)/e.h,f=-s/3.8):o==="triangle"?(u=(e.w+s*2.8)/e.w,l=(e.h+s*2.4)/e.h,f=-s/1.4):o==="vee"&&(u=(e.w+s*4.4)/e.w,l=(e.h+s*3.8)/e.h,f=-s*.5);var d=e.h*l-e.h,v=e.w*u-e.w;if(v_(e,[Math.ceil(d/2),Math.ceil(v/2)]),c!=0||f!==0){var p=mU(e,c,f);k3(e,p)}}}},M8=function(e,t){var n=e._private.cy,i=n.styleEnabled(),a=n.headless(),o=Ff(),s=e._private,u=e.isNode(),l=e.isEdge(),c,f,d,v,p,m,w=s.rstyle,b=u&&i?e.pstyle("bounds-expansion").pfValue:[0],y=function(zt){return zt.pstyle("display").value!=="none"},_=!i||y(e)&&(!l||y(e.source())&&y(e.target()));if(_){var S=0,A=0;i&&t.includeOverlays&&(S=e.pstyle("overlay-opacity").value,S!==0&&(A=e.pstyle("overlay-padding").value));var D=0,R=0;i&&t.includeUnderlays&&(D=e.pstyle("underlay-opacity").value,D!==0&&(R=e.pstyle("underlay-padding").value));var k=Math.max(A,R),j=0,F=0;if(i&&(j=e.pstyle("width").pfValue,F=j/2),u&&t.includeNodes){var z=e.position();p=z.x,m=z.y;var q=e.outerWidth(),$=q/2,K=e.outerHeight(),oe=K/2;c=p-$,f=p+$,d=m-oe,v=m+oe,cv(o,c,d,f,v),i&&t.includeOutlines&&k8(o,e)}else if(l&&t.includeEdges)if(i&&!a){var J=e.pstyle("curve-style").strValue;if(c=Math.min(w.srcX,w.midX,w.tgtX),f=Math.max(w.srcX,w.midX,w.tgtX),d=Math.min(w.srcY,w.midY,w.tgtY),v=Math.max(w.srcY,w.midY,w.tgtY),c-=F,f+=F,d-=F,v+=F,cv(o,c,d,f,v),J==="haystack"){var re=w.haystackPts;if(re&&re.length===2){if(c=re[0].x,d=re[0].y,f=re[1].x,v=re[1].y,c>f){var ae=c;c=f,f=ae}if(d>v){var ve=d;d=v,v=ve}cv(o,c-F,d-F,f+F,v+F)}}else if(J==="bezier"||J==="unbundled-bezier"||J.endsWith("segments")||J.endsWith("taxi")){var se;switch(J){case"bezier":case"unbundled-bezier":se=w.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":se=w.linePts;break}if(se!=null)for(var ce=0;ce<se.length;ce++){var pe=se[ce];c=pe.x-F,f=pe.x+F,d=pe.y-F,v=pe.y+F,cv(o,c,d,f,v)}}}else{var Pe=e.source(),de=Pe.position(),ge=e.target(),Ce=ge.position();if(c=de.x,f=Ce.x,d=de.y,v=Ce.y,c>f){var Ne=c;c=f,f=Ne}if(d>v){var De=d;d=v,v=De}c-=F,f+=F,d-=F,v+=F,cv(o,c,d,f,v)}if(i&&t.includeEdges&&l&&(zb(o,e,"mid-source"),zb(o,e,"mid-target"),zb(o,e,"source"),zb(o,e,"target")),i){var ke=e.pstyle("ghost").value==="yes";if(ke){var _e=e.pstyle("ghost-offset-x").pfValue,Ie=e.pstyle("ghost-offset-y").pfValue;cv(o,o.x1+_e,o.y1+Ie,o.x2+_e,o.y2+Ie)}}var Ge=s.bodyBounds=s.bodyBounds||{};aR(Ge,o),v_(Ge,b),d_(Ge,1),i&&(c=o.x1,f=o.x2,d=o.y1,v=o.y2,cv(o,c-k,d-k,f+k,v+k));var Qe=s.overlayBounds=s.overlayBounds||{};aR(Qe,o),v_(Qe,b),d_(Qe,1);var ot=s.labelBounds=s.labelBounds||{};ot.all!=null?yU(ot.all):ot.all=Ff(),i&&t.includeLabels&&(t.includeMainLabels&&dE(o,e,null),l&&(t.includeSourceLabels&&dE(o,e,"source"),t.includeTargetLabels&&dE(o,e,"target")))}return o.x1=gd(o.x1),o.y1=gd(o.y1),o.x2=gd(o.x2),o.y2=gd(o.y2),o.w=gd(o.x2-o.x1),o.h=gd(o.y2-o.y1),o.w>0&&o.h>0&&_&&(v_(o,b),d_(o,1)),o},aj=function(e){var t=0,n=function(o){return(o?1:0)<<t++},i=0;return i+=n(e.incudeNodes),i+=n(e.includeEdges),i+=n(e.includeLabels),i+=n(e.includeMainLabels),i+=n(e.includeSourceLabels),i+=n(e.includeTargetLabels),i+=n(e.includeOverlays),i+=n(e.includeOutlines),i},oj=function(e){var t=function(s){return Math.round(s)};if(e.isEdge()){var n=e.source().position(),i=e.target().position();return JA([t(n.x),t(n.y),t(i.x),t(i.y)])}else{var a=e.position();return JA([t(a.x),t(a.y)])}},bP=function(e,t){var n=e._private,i,a=e.isEdge(),o=t==null?_P:aj(t),s=o===_P;if(n.bbCache==null?(i=M8(e,ab),n.bbCache=i,n.bbCachePosKey=oj(e)):i=n.bbCache,!s){var u=e.isNode();i=Ff(),(t.includeNodes&&u||t.includeEdges&&!u)&&(t.includeOverlays?Oy(i,n.overlayBounds):Oy(i,n.bodyBounds)),t.includeLabels&&(t.includeMainLabels&&(!a||t.includeSourceLabels&&t.includeTargetLabels)?Oy(i,n.labelBounds.all):(t.includeMainLabels&&Oy(i,n.labelBounds.mainRot),t.includeSourceLabels&&Oy(i,n.labelBounds.sourceRot),t.includeTargetLabels&&Oy(i,n.labelBounds.targetRot))),i.w=i.x2-i.x1,i.h=i.y2-i.y1}return i},ab={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},_P=aj(ab),wP=Pu(ab);zg.boundingBox=function(r){var e,t=r===void 0||r.useCache===void 0||r.useCache===!0,n=Gm(function(c){var f=c._private;return f.bbCache==null||f.styleDirty||f.bbCachePosKey!==oj(c)},function(c){return c.id()});if(t&&this.length===1&&!n(this[0]))r===void 0?r=ab:r=wP(r),e=bP(this[0],r);else{e=Ff(),r=r||ab;var i=wP(r),a=this,o=a.cy(),s=o.styleEnabled();this.edges().forEach(n),this.nodes().forEach(n),s&&this.recalculateRenderedStyle(t),this.updateCompoundBounds(!t);for(var u=0;u<a.length;u++){var l=a[u];n(l)&&l.dirtyBoundingBoxCache(),Oy(e,bP(l,i))}}return e.x1=gd(e.x1),e.y1=gd(e.y1),e.x2=gd(e.x2),e.y2=gd(e.y2),e.w=gd(e.x2-e.x1),e.h=gd(e.y2-e.y1),e};zg.dirtyBoundingBoxCache=function(){for(var r=0;r<this.length;r++){var e=this[r]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};zg.boundingBoxAt=function(r){var e=this.nodes(),t=this.cy(),n=t.hasCompoundNodes(),i=t.collection();if(n&&(i=e.filter(function(l){return l.isParent()}),e=e.not(i)),Li(r)){var a=r;r=function(){return a}}var o=function(c,f){return c._private.bbAtOldPos=r(c,f)},s=function(c){return c._private.bbAtOldPos};t.startBatch(),e.forEach(o).silentPositions(r),n&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0));var u=gU(this.boundingBox({useCache:!1}));return e.silentPositions(s),n&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0)),t.endBatch(),u};jm.boundingbox=jm.bb=jm.boundingBox;jm.renderedBoundingbox=jm.renderedBoundingBox;var N8=zg,B0,xb;B0=xb={};var sj=function(e){e.uppercaseName=BA(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=BA(e.outerName),B0[e.name]=function(){var n=this[0],i=n._private,a=i.cy,o=a._private.styleEnabled;if(n)if(o){if(n.isParent())return n.updateCompoundBounds(),i[e.autoName]||0;var s=n.pstyle(e.name);switch(s.strValue){case"label":return n.recalculateRenderedStyle(),i.rstyle[e.labelName]||0;default:return s.pfValue}}else return 1},B0["outer"+e.uppercaseName]=function(){var n=this[0],i=n._private,a=i.cy,o=a._private.styleEnabled;if(n)if(o){var s=n[e.name](),u=n.pstyle("border-width").pfValue,l=2*n.padding();return s+u+l}else return 1},B0["rendered"+e.uppercaseName]=function(){var n=this[0];if(n){var i=n[e.name]();return i*this.cy().zoom()}},B0["rendered"+e.uppercaseOuterName]=function(){var n=this[0];if(n){var i=n[e.outerName]();return i*this.cy().zoom()}}};sj({name:"width"});sj({name:"height"});xb.padding=function(){var r=this[0],e=r._private;return r.isParent()?(r.updateCompoundBounds(),e.autoPadding!==void 0?e.autoPadding:r.pstyle("padding").pfValue):r.pstyle("padding").pfValue};xb.paddedHeight=function(){var r=this[0];return r.height()+2*r.padding()};xb.paddedWidth=function(){var r=this[0];return r.width()+2*r.padding()};var L8=xb,j8=function(e,t){if(e.isEdge()&&e.takesUpSpace())return t(e)},B8=function(e,t){if(e.isEdge()&&e.takesUpSpace()){var n=e.cy();return t1(t(e),n.zoom(),n.pan())}},F8=function(e,t){if(e.isEdge()&&e.takesUpSpace()){var n=e.cy(),i=n.pan(),a=n.zoom();return t(e).map(function(o){return t1(o,a,i)})}},U8=function(e){return e.renderer().getControlPoints(e)},z8=function(e){return e.renderer().getSegmentPoints(e)},q8=function(e){return e.renderer().getSourceEndpoint(e)},G8=function(e){return e.renderer().getTargetEndpoint(e)},H8=function(e){return e.renderer().getEdgeMidpoint(e)},EP={controlPoints:{get:U8,mult:!0},segmentPoints:{get:z8,mult:!0},sourceEndpoint:{get:q8},targetEndpoint:{get:G8},midpoint:{get:H8}},V8=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},$8=Object.keys(EP).reduce(function(r,e){var t=EP[e],n=V8(e);return r[e]=function(){return j8(this,t.get)},t.mult?r[n]=function(){return F8(this,t.get)}:r[n]=function(){return B8(this,t.get)},r},{}),W8=en({},I8,N8,L8,$8);/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/var uj=function(e,t){this.recycle(e,t)};function E0(){return!1}function qb(){return!0}uj.prototype={instanceString:function(){return"event"},recycle:function(e,t){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=E0,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?qb:E0):e!=null&&e.type?t=e:this.type=e,t!=null&&(this.originalEvent=t.originalEvent,this.type=t.type!=null?t.type:this.type,this.cy=t.cy,this.target=t.target,this.position=t.position,this.renderedPosition=t.renderedPosition,this.namespace=t.namespace,this.layout=t.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var n=this.position,i=this.cy.zoom(),a=this.cy.pan();this.renderedPosition={x:n.x*i+a.x,y:n.y*i+a.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=qb;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=qb;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=qb,this.stopPropagation()},isDefaultPrevented:E0,isPropagationStopped:E0,isImmediatePropagationStopped:E0};var lj=/^([^.]+)(\.(?:[^.]+))?$/,Y8=".*",cj={qualifierCompare:function(e,t){return e===t},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},xP=Object.keys(cj),X8={};function u1(){for(var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:X8,e=arguments.length>1?arguments[1]:void 0,t=0;t<xP.length;t++){var n=xP[t];this[n]=r[n]||cj[n]}this.context=e||this.context,this.listeners=[],this.emitting=0}var Mg=u1.prototype,fj=function(e,t,n,i,a,o,s){Vo(i)&&(a=i,i=null),s&&(o==null?o=s:o=en({},o,s));for(var u=Ga(n)?n:n.split(/\s+/),l=0;l<u.length;l++){var c=u[l];if(!Rg(c)){var f=c.match(lj);if(f){var d=f[1],v=f[2]?f[2]:null,p=t(e,c,d,v,i,a,o);if(p===!1)break}}}},SP=function(e,t){return e.addEventFields(e.context,t),new uj(t.type,t)},K8=function(e,t,n){if(sF(n)){t(e,n);return}else if(Li(n)){t(e,SP(e,n));return}for(var i=Ga(n)?n:n.split(/\s+/),a=0;a<i.length;a++){var o=i[a];if(!Rg(o)){var s=o.match(lj);if(s){var u=s[1],l=s[2]?s[2]:null,c=SP(e,{type:u,namespace:l,target:e.context});t(e,c)}}}};Mg.on=Mg.addListener=function(r,e,t,n,i){return fj(this,function(a,o,s,u,l,c,f){Vo(c)&&a.listeners.push({event:o,callback:c,type:s,namespace:u,qualifier:l,conf:f})},r,e,t,n,i),this};Mg.one=function(r,e,t,n){return this.on(r,e,t,n,{one:!0})};Mg.removeListener=Mg.off=function(r,e,t,n){var i=this;this.emitting!==0&&(this.listeners=UF(this.listeners));for(var a=this.listeners,o=function(l){var c=a[l];fj(i,function(f,d,v,p,m,w){if((c.type===v||r==="*")&&(!p&&c.namespace!==".*"||c.namespace===p)&&(!m||f.qualifierCompare(c.qualifier,m))&&(!w||c.callback===w))return a.splice(l,1),!1},r,e,t,n)},s=a.length-1;s>=0;s--)o(s);return this};Mg.removeAllListeners=function(){return this.removeListener("*")};Mg.emit=Mg.trigger=function(r,e,t){var n=this.listeners,i=n.length;return this.emitting++,Ga(e)||(e=[e]),K8(this,function(a,o){t!=null&&(n=[{event:o.event,type:o.type,namespace:o.namespace,callback:t}],i=n.length);for(var s=function(){var c=n[u];if(c.type===o.type&&(!c.namespace||c.namespace===o.namespace||c.namespace===Y8)&&a.eventMatches(a.context,c,o)){var f=[o];e!=null&&qF(f,e),a.beforeEmit(a.context,c,o),c.conf&&c.conf.one&&(a.listeners=a.listeners.filter(function(p){return p!==c}));var d=a.callbackContext(a.context,c,o),v=c.callback.apply(d,f);a.afterEmit(a.context,c,o),v===!1&&(o.stopPropagation(),o.preventDefault())}},u=0;u<i;u++)s();a.bubble(a.context)&&!o.isPropagationStopped()&&a.parent(a.context).emit(o,e)},r),this.emitting--,this};var Z8={qualifierCompare:function(e,t){return e==null||t==null?e==null&&t==null:e.sameText(t)},eventMatches:function(e,t,n){var i=t.qualifier;return i!=null?e!==n.target&&yb(n.target)&&i.matches(n.target):!0},addEventFields:function(e,t){t.cy=e.cy(),t.target=e},callbackContext:function(e,t,n){return t.qualifier!=null?n.target:e},beforeEmit:function(e,t){t.conf&&t.conf.once&&t.conf.onceCollection.removeListener(t.event,t.qualifier,t.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},Gb=function(e){return $r(e)?new Ig(e):e},hj={createEmitter:function(){for(var e=0;e<this.length;e++){var t=this[e],n=t._private;n.emitter||(n.emitter=new u1(Z8,t))}return this},emitter:function(){return this._private.emitter},on:function(e,t,n){for(var i=Gb(t),a=0;a<this.length;a++){var o=this[a];o.emitter().on(e,i,n)}return this},removeListener:function(e,t,n){for(var i=Gb(t),a=0;a<this.length;a++){var o=this[a];o.emitter().removeListener(e,i,n)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){var t=this[e];t.emitter().removeAllListeners()}return this},one:function(e,t,n){for(var i=Gb(t),a=0;a<this.length;a++){var o=this[a];o.emitter().one(e,i,n)}return this},once:function(e,t,n){for(var i=Gb(t),a=0;a<this.length;a++){var o=this[a];o.emitter().on(e,i,n,{once:!0,onceCollection:this})}},emit:function(e,t){for(var n=0;n<this.length;n++){var i=this[n];i.emitter().emit(e,t)}return this},emitAndNotify:function(e,t){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,t),this}};ba.eventAliasesOn(hj);var dj={nodes:function(e){return this.filter(function(t){return t.isNode()}).filter(e)},edges:function(e){return this.filter(function(t){return t.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),t=this.spawn(),n=0;n<this.length;n++){var i=this[n];i.isNode()?e.push(i):t.push(i)}return{nodes:e,edges:t}},filter:function(e,t){if(e===void 0)return this;if($r(e)||xh(e))return new Ig(e).filter(this);if(Vo(e)){for(var n=this.spawn(),i=this,a=0;a<i.length;a++){var o=i[a],s=t?e.apply(t,[o,a,i]):e(o,a,i);s&&n.push(o)}return n}return this.spawn()},not:function(e){if(e){$r(e)&&(e=this.filter(e));for(var t=this.spawn(),n=0;n<this.length;n++){var i=this[n],a=e.has(i);a||t.push(i)}return t}else return this},absoluteComplement:function(){var e=this.cy();return e.mutableElements().not(this)},intersect:function(e){if($r(e)){var t=e;return this.filter(t)}for(var n=this.spawn(),i=this,a=e,o=this.length<e.length,s=o?i:a,u=o?a:i,l=0;l<s.length;l++){var c=s[l];u.has(c)&&n.push(c)}return n},xor:function(e){var t=this._private.cy;$r(e)&&(e=t.$(e));var n=this.spawn(),i=this,a=e,o=function(u,l){for(var c=0;c<u.length;c++){var f=u[c],d=f._private.data.id,v=l.hasElementWithId(d);v||n.push(f)}};return o(i,a),o(a,i),n},diff:function(e){var t=this._private.cy;$r(e)&&(e=t.$(e));var n=this.spawn(),i=this.spawn(),a=this.spawn(),o=this,s=e,u=function(c,f,d){for(var v=0;v<c.length;v++){var p=c[v],m=p._private.data.id,w=f.hasElementWithId(m);w?a.merge(p):d.push(p)}};return u(o,s,n),u(s,o,i),{left:n,right:i,both:a}},add:function(e){var t=this._private.cy;if(!e)return this;if($r(e)){var n=e;e=t.mutableElements().filter(n)}for(var i=this.spawnSelf(),a=0;a<e.length;a++){var o=e[a],s=!this.has(o);s&&i.push(o)}return i},merge:function(e){var t=this._private,n=t.cy;if(!e)return this;if(e&&$r(e)){var i=e;e=n.mutableElements().filter(i)}for(var a=t.map,o=0;o<e.length;o++){var s=e[o],u=s._private.data.id,l=!a.has(u);if(l){var c=this.length++;this[c]=s,a.set(u,{ele:s,index:c})}}return this},unmergeAt:function(e){var t=this[e],n=t.id(),i=this._private,a=i.map;this[e]=void 0,a.delete(n);var o=e===this.length-1;if(this.length>1&&!o){var s=this.length-1,u=this[s],l=u._private.data.id;this[s]=void 0,this[e]=u,a.set(l,{ele:u,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var t=this._private,n=e._private.data.id,i=t.map,a=i.get(n);if(!a)return this;var o=a.index;return this.unmergeAt(o),this},unmerge:function(e){var t=this._private.cy;if(!e)return this;if(e&&$r(e)){var n=e;e=t.mutableElements().filter(n)}for(var i=0;i<e.length;i++)this.unmergeOne(e[i]);return this},unmergeBy:function(e){for(var t=this.length-1;t>=0;t--){var n=this[t];e(n)&&this.unmergeAt(t)}return this},map:function(e,t){for(var n=[],i=this,a=0;a<i.length;a++){var o=i[a],s=t?e.apply(t,[o,a,i]):e(o,a,i);n.push(s)}return n},reduce:function(e,t){for(var n=t,i=this,a=0;a<i.length;a++)n=e(n,i[a],a,i);return n},max:function(e,t){for(var n=-1/0,i,a=this,o=0;o<a.length;o++){var s=a[o],u=t?e.apply(t,[s,o,a]):e(s,o,a);u>n&&(n=u,i=s)}return{value:n,ele:i}},min:function(e,t){for(var n=1/0,i,a=this,o=0;o<a.length;o++){var s=a[o],u=t?e.apply(t,[s,o,a]):e(s,o,a);u<n&&(n=u,i=s)}return{value:n,ele:i}}},Zi=dj;Zi.u=Zi["|"]=Zi["+"]=Zi.union=Zi.or=Zi.add;Zi["\\"]=Zi["!"]=Zi["-"]=Zi.difference=Zi.relativeComplement=Zi.subtract=Zi.not;Zi.n=Zi["&"]=Zi["."]=Zi.and=Zi.intersection=Zi.intersect;Zi["^"]=Zi["(+)"]=Zi["(-)"]=Zi.symmetricDifference=Zi.symdiff=Zi.xor;Zi.fnFilter=Zi.filterFn=Zi.stdFilter=Zi.filter;Zi.complement=Zi.abscomp=Zi.absoluteComplement;var Q8={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},vj=function(e,t){var n=e.cy(),i=n.hasCompoundNodes();function a(c){var f=c.pstyle("z-compound-depth");return f.value==="auto"?i?c.zDepth():0:f.value==="bottom"?-1:f.value==="top"?s2:0}var o=a(e)-a(t);if(o!==0)return o;function s(c){var f=c.pstyle("z-index-compare");return f.value==="auto"&&c.isNode()?1:0}var u=s(e)-s(t);if(u!==0)return u;var l=e.pstyle("z-index").value-t.pstyle("z-index").value;return l!==0?l:e.poolIndex()-t.poolIndex()},B_={forEach:function(e,t){if(Vo(e))for(var n=this.length,i=0;i<n;i++){var a=this[i],o=t?e.apply(t,[a,i,this]):e(a,i,this);if(o===!1)break}return this},toArray:function(){for(var e=[],t=0;t<this.length;t++)e.push(this[t]);return e},slice:function(e,t){var n=[],i=this.length;t==null&&(t=i),e==null&&(e=0),e<0&&(e=i+e),t<0&&(t=i+t);for(var a=e;a>=0&&a<t&&a<i;a++)n.push(this[a]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(e){if(!Vo(e))return this;var t=this.toArray().sort(e);return this.spawn(t)},sortByZIndex:function(){return this.sort(vj)},zDepth:function(){var e=this[0];if(e){var t=e._private,n=t.group;if(n==="nodes"){var i=t.data.parent?e.parents().size():0;return e.isParent()?i:s2-1}else{var a=t.source,o=t.target,s=a.zDepth(),u=o.zDepth();return Math.max(s,u,0)}}}};B_.each=B_.forEach;var J8=function(){var e="undefined",t=(typeof Symbol>"u"?"undefined":Ru(Symbol))!=e&&Ru(Symbol.iterator)!=e;t&&(B_[Symbol.iterator]=function(){var n=this,i={value:void 0,done:!1},a=0,o=this.length;return f3({next:function(){return a<o?i.value=n[a++]:(i.value=void 0,i.done=!0),i}},Symbol.iterator,function(){return this})})};J8();var ez=Pu({nodeDimensionsIncludeLabels:!1}),g_={layoutDimensions:function(e){e=ez(e);var t;if(!this.takesUpSpace())t={w:0,h:0};else if(e.nodeDimensionsIncludeLabels){var n=this.boundingBox();t={w:n.w,h:n.h}}else t={w:this.outerWidth(),h:this.outerHeight()};return(t.w===0||t.h===0)&&(t.w=t.h=1),t},layoutPositions:function(e,t,n){var i=this.nodes().filter(function(A){return!A.isParent()}),a=this.cy(),o=t.eles,s=function(D){return D.id()},u=Gm(n,s);e.emit({type:"layoutstart",layout:e}),e.animations=[];var l=function(D,R,k){var j={x:R.x1+R.w/2,y:R.y1+R.h/2},F={x:(k.x-j.x)*D,y:(k.y-j.y)*D};return{x:j.x+F.x,y:j.y+F.y}},c=t.spacingFactor&&t.spacingFactor!==1,f=function(){if(!c)return null;for(var D=Ff(),R=0;R<i.length;R++){var k=i[R],j=u(k,R);bU(D,j.x,j.y)}return D},d=f(),v=Gm(function(A,D){var R=u(A,D);if(c){var k=Math.abs(t.spacingFactor);R=l(k,d,R)}return t.transform!=null&&(R=t.transform(A,R)),R},s);if(t.animate){for(var p=0;p<i.length;p++){var m=i[p],w=v(m,p),b=t.animateFilter==null||t.animateFilter(m,p);if(b){var y=m.animation({position:w,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(y)}else m.position(w)}if(t.fit){var _=a.animation({fit:{boundingBox:o.boundingBoxAt(v),padding:t.padding},duration:t.animationDuration,easing:t.animationEasing});e.animations.push(_)}else if(t.zoom!==void 0&&t.pan!==void 0){var S=a.animation({zoom:t.zoom,pan:t.pan,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(S)}e.animations.forEach(function(A){return A.play()}),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),e0.all(e.animations.map(function(A){return A.promise()})).then(function(){e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e})})}else i.positions(v),t.fit&&a.fit(t.eles,t.padding),t.zoom!=null&&a.zoom(t.zoom),t.pan&&a.pan(t.pan),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){var t=this.cy();return t.makeLayout(en({},e,{eles:this}))}};g_.createLayout=g_.makeLayout=g_.layout;function pj(r,e,t){var n=t._private,i=n.styleCache=n.styleCache||[],a;return(a=i[r])!=null||(a=i[r]=e(t)),a}function l1(r,e){return r=Pg(r),function(n){return pj(r,e,n)}}function c1(r,e){r=Pg(r);var t=function(i){return e.call(i)};return function(){var i=this[0];if(i)return pj(r,t,i)}}var Ll={recalculateRenderedStyle:function(e){var t=this.cy(),n=t.renderer(),i=t.styleEnabled();return n&&i&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e=this.cy(),t=function(a){return a._private.styleCache=null};if(e.hasCompoundNodes()){var n;n=this.spawnSelf().merge(this.descendants()).merge(this.parents()),n.merge(n.connectedEdges()),n.forEach(t)}else this.forEach(function(i){t(i),i.connectedEdges().forEach(t)});return this},updateStyle:function(e){var t=this._private.cy;if(!t.styleEnabled())return this;if(t.batching()){var n=t._private.batchStyleEles;return n.merge(this),this}var i=t.hasCompoundNodes(),a=this;e=!!(e||e===void 0),i&&(a=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var o=a;return e?o.emitAndNotify("style"):o.emit("style"),a.forEach(function(s){return s._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var t=0;t<this.length;t++){var n=this[t];n._private.styleDirty&&(n._private.styleDirty=!1,e.style().apply(n))}},parsedStyle:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this[0],i=n.cy();if(i.styleEnabled()&&n){n._private.styleDirty&&(n._private.styleDirty=!1,i.style().apply(n));var a=n._private.style[e];return a??(t?i.style().getDefaultProperty(e):null)}},numericStyle:function(e){var t=this[0];if(t.cy().styleEnabled()&&t){var n=t.pstyle(e);return n.pfValue!==void 0?n.pfValue:n.value}},numericStyleUnits:function(e){var t=this[0];if(t.cy().styleEnabled()&&t)return t.pstyle(e).units},renderedStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var n=this[0];if(n)return t.style().getRenderedStyle(n,e)},style:function(e,t){var n=this.cy();if(!n.styleEnabled())return this;var i=!1,a=n.style();if(Li(e)){var o=e;a.applyBypass(this,o,i),this.emitAndNotify("style")}else if($r(e))if(t===void 0){var s=this[0];return s?a.getStylePropertyValue(s,e):void 0}else a.applyBypass(this,e,t,i),this.emitAndNotify("style");else if(e===void 0){var u=this[0];return u?a.getRawStyle(u):void 0}return this},removeStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var n=!1,i=t.style(),a=this;if(e===void 0)for(var o=0;o<a.length;o++){var s=a[o];i.removeAllBypasses(s,n)}else{e=e.split(/\s+/);for(var u=0;u<a.length;u++){var l=a[u];i.removeBypasses(l,e,n)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var t=e.hasCompoundNodes(),n=this[0];if(n){var i=n._private,a=n.pstyle("opacity").value;if(!t)return a;var o=i.data.parent?n.parents():null;if(o)for(var s=0;s<o.length;s++){var u=o[s],l=u.pstyle("opacity").value;a=l*a}return a}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var t=this[0],n=t.cy().hasCompoundNodes();if(t)return n?t.effectiveOpacity()===0:t.pstyle("opacity").value===0},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var t=this[0];return!!t._private.backgrounding}};function vE(r,e){var t=r._private,n=t.data.parent?r.parents():null;if(n)for(var i=0;i<n.length;i++){var a=n[i];if(!e(a))return!1}return!0}function m2(r){var e=r.ok,t=r.edgeOkViaNode||r.ok,n=r.parentOk||r.ok;return function(){var i=this.cy();if(!i.styleEnabled())return!0;var a=this[0],o=i.hasCompoundNodes();if(a){var s=a._private;if(!e(a))return!1;if(a.isNode())return!o||vE(a,n);var u=s.source,l=s.target;return t(u)&&(!o||vE(u,t))&&(u===l||t(l)&&(!o||vE(l,t)))}}}var t0=l1("eleTakesUpSpace",function(r){return r.pstyle("display").value==="element"&&r.width()!==0&&(r.isNode()?r.height()!==0:!0)});Ll.takesUpSpace=c1("takesUpSpace",m2({ok:t0}));var tz=l1("eleInteractive",function(r){return r.pstyle("events").value==="yes"&&r.pstyle("visibility").value==="visible"&&t0(r)}),rz=l1("parentInteractive",function(r){return r.pstyle("visibility").value==="visible"&&t0(r)});Ll.interactive=c1("interactive",m2({ok:tz,parentOk:rz,edgeOkViaNode:t0}));Ll.noninteractive=function(){var r=this[0];if(r)return!r.interactive()};var nz=l1("eleVisible",function(r){return r.pstyle("visibility").value==="visible"&&r.pstyle("opacity").pfValue!==0&&t0(r)}),iz=t0;Ll.visible=c1("visible",m2({ok:nz,edgeOkViaNode:iz}));Ll.hidden=function(){var r=this[0];if(r)return!r.visible()};Ll.isBundledBezier=c1("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});Ll.bypass=Ll.css=Ll.style;Ll.renderedCss=Ll.renderedStyle;Ll.removeBypass=Ll.removeCss=Ll.removeStyle;Ll.pstyle=Ll.parsedStyle;var Tg={};function OP(r){return function(){var e=arguments,t=[];if(e.length===2){var n=e[0],i=e[1];this.on(r.event,n,i)}else if(e.length===1&&Vo(e[0])){var a=e[0];this.on(r.event,a)}else if(e.length===0||e.length===1&&Ga(e[0])){for(var o=e.length===1?e[0]:null,s=0;s<this.length;s++){var u=this[s],l=!r.ableField||u._private[r.ableField],c=u._private[r.field]!=r.value;if(r.overrideAble){var f=r.overrideAble(u);if(f!==void 0&&(l=f,!f))return this}l&&(u._private[r.field]=r.value,c&&t.push(u))}var d=this.spawn(t);d.updateStyle(),d.emit(r.event),o&&d.emit(o)}return this}}function r0(r){Tg[r.field]=function(){var e=this[0];if(e){if(r.overrideField){var t=r.overrideField(e);if(t!==void 0)return t}return e._private[r.field]}},Tg[r.on]=OP({event:r.on,field:r.field,ableField:r.ableField,overrideAble:r.overrideAble,value:!0}),Tg[r.off]=OP({event:r.off,field:r.field,ableField:r.ableField,overrideAble:r.overrideAble,value:!1})}r0({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});r0({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()||e.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});r0({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});r0({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});Tg.deselect=Tg.unselect;Tg.grabbed=function(){var r=this[0];if(r)return r._private.grabbed};r0({field:"active",on:"activate",off:"unactivate"});r0({field:"pannable",on:"panify",off:"unpanify"});Tg.inactive=function(){var r=this[0];if(r)return!r._private.active};var lc={},TP=function(e){return function(n){for(var i=this,a=[],o=0;o<i.length;o++){var s=i[o];if(s.isNode()){for(var u=!1,l=s.connectedEdges(),c=0;c<l.length;c++){var f=l[c],d=f.source(),v=f.target();if(e.noIncomingEdges&&v===s&&d!==s||e.noOutgoingEdges&&d===s&&v!==s){u=!0;break}}u||a.push(s)}}return this.spawn(a,!0).filter(n)}},CP=function(e){return function(t){for(var n=this,i=[],a=0;a<n.length;a++){var o=n[a];if(o.isNode())for(var s=o.connectedEdges(),u=0;u<s.length;u++){var l=s[u],c=l.source(),f=l.target();e.outgoing&&c===o?(i.push(l),i.push(f)):e.incoming&&f===o&&(i.push(l),i.push(c))}}return this.spawn(i,!0).filter(t)}},AP=function(e){return function(t){for(var n=this,i=[],a={};;){var o=e.outgoing?n.outgoers():n.incomers();if(o.length===0)break;for(var s=!1,u=0;u<o.length;u++){var l=o[u],c=l.id();a[c]||(a[c]=!0,i.push(l),s=!0)}if(!s)break;n=o}return this.spawn(i,!0).filter(t)}};lc.clearTraversalCache=function(){for(var r=0;r<this.length;r++)this[r]._private.traversalCache=null};en(lc,{roots:TP({noIncomingEdges:!0}),leaves:TP({noOutgoingEdges:!0}),outgoers:md(CP({outgoing:!0}),"outgoers"),successors:AP({outgoing:!0}),incomers:md(CP({incoming:!0}),"incomers"),predecessors:AP({})});en(lc,{neighborhood:md(function(r){for(var e=[],t=this.nodes(),n=0;n<t.length;n++)for(var i=t[n],a=i.connectedEdges(),o=0;o<a.length;o++){var s=a[o],u=s.source(),l=s.target(),c=i===u?l:u;c.length>0&&e.push(c[0]),e.push(s[0])}return this.spawn(e,!0).filter(r)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}});lc.neighbourhood=lc.neighborhood;lc.closedNeighbourhood=lc.closedNeighborhood;lc.openNeighbourhood=lc.openNeighborhood;en(lc,{source:md(function(e){var t=this[0],n;return t&&(n=t._private.source||t.cy().collection()),n&&e?n.filter(e):n},"source"),target:md(function(e){var t=this[0],n;return t&&(n=t._private.target||t.cy().collection()),n&&e?n.filter(e):n},"target"),sources:RP({attr:"source"}),targets:RP({attr:"target"})});function RP(r){return function(t){for(var n=[],i=0;i<this.length;i++){var a=this[i],o=a._private[r.attr];o&&n.push(o)}return this.spawn(n,!0).filter(t)}}en(lc,{edgesWith:md(PP(),"edgesWith"),edgesTo:md(PP({thisIsSrc:!0}),"edgesTo")});function PP(r){return function(t){var n=[],i=this._private.cy,a=r||{};$r(t)&&(t=i.$(t));for(var o=0;o<t.length;o++)for(var s=t[o]._private.edges,u=0;u<s.length;u++){var l=s[u],c=l._private.data,f=this.hasElementWithId(c.source)&&t.hasElementWithId(c.target),d=t.hasElementWithId(c.source)&&this.hasElementWithId(c.target),v=f||d;v&&((a.thisIsSrc||a.thisIsTgt)&&(a.thisIsSrc&&!f||a.thisIsTgt&&!d)||n.push(l))}return this.spawn(n,!0)}}en(lc,{connectedEdges:md(function(r){for(var e=[],t=this,n=0;n<t.length;n++){var i=t[n];if(i.isNode())for(var a=i._private.edges,o=0;o<a.length;o++){var s=a[o];e.push(s)}}return this.spawn(e,!0).filter(r)},"connectedEdges"),connectedNodes:md(function(r){for(var e=[],t=this,n=0;n<t.length;n++){var i=t[n];i.isEdge()&&(e.push(i.source()[0]),e.push(i.target()[0]))}return this.spawn(e,!0).filter(r)},"connectedNodes"),parallelEdges:md(DP(),"parallelEdges"),codirectedEdges:md(DP({codirected:!0}),"codirectedEdges")});function DP(r){var e={codirected:!1};return r=en({},e,r),function(n){for(var i=[],a=this.edges(),o=r,s=0;s<a.length;s++)for(var u=a[s],l=u._private,c=l.source,f=c._private.data.id,d=l.data.target,v=c._private.edges,p=0;p<v.length;p++){var m=v[p],w=m._private.data,b=w.target,y=w.source,_=b===d&&y===f,S=f===b&&d===y;(o.codirected&&_||!o.codirected&&(_||S))&&i.push(m)}return this.spawn(i,!0).filter(n)}}en(lc,{components:function(e){var t=this,n=t.cy(),i=n.collection(),a=e==null?t.nodes():e.nodes(),o=[];e!=null&&a.empty()&&(a=e.sources());var s=function(c,f){i.merge(c),a.unmerge(c),f.merge(c)};if(a.empty())return t.spawn();var u=function(){var c=n.collection();o.push(c);var f=a[0];s(f,c),t.bfs({directed:!1,roots:f,visit:function(v){return s(v,c)}}),c.forEach(function(d){d.connectedEdges().forEach(function(v){t.has(v)&&c.has(v.source())&&c.has(v.target())&&c.merge(v)})})};do u();while(a.length>0);return o},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}});lc.componentsOf=lc.components;var jl=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e===void 0){Ho("A collection must have a reference to the core");return}var a=new zp,o=!1;if(!t)t=[];else if(t.length>0&&Li(t[0])&&!yb(t[0])){o=!0;for(var s=[],u=new Jm,l=0,c=t.length;l<c;l++){var f=t[l];f.data==null&&(f.data={});var d=f.data;if(d.id==null)d.id=R3();else if(e.hasElementWithId(d.id)||u.has(d.id))continue;var v=new e1(e,f,!1);s.push(v),u.add(d.id)}t=s}this.length=0;for(var p=0,m=t.length;p<m;p++){var w=t[p][0];if(w!=null){var b=w._private.data.id;(!n||!a.has(b))&&(n&&a.set(b,{index:this.length,ele:w}),this[this.length]=w,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(y){this.lazyMap=y},rebuildMap:function(){for(var _=this.lazyMap=new zp,S=this.eles,A=0;A<S.length;A++){var D=S[A];_.set(D.id(),{index:A,ele:D})}}},n&&(this._private.map=a),o&&!i&&this.restore()},to=e1.prototype=jl.prototype=Object.create(Array.prototype);to.instanceString=function(){return"collection"};to.spawn=function(r,e){return new jl(this.cy(),r,e)};to.spawnSelf=function(){return this.spawn(this)};to.cy=function(){return this._private.cy};to.renderer=function(){return this._private.cy.renderer()};to.element=function(){return this[0]};to.collection=function(){return p3(this)?this:new jl(this._private.cy,[this])};to.unique=function(){return new jl(this._private.cy,this,!0)};to.hasElementWithId=function(r){return r=""+r,this._private.map.has(r)};to.getElementById=function(r){r=""+r;var e=this._private.cy,t=this._private.map.get(r);return t?t.ele:new jl(e)};to.$id=to.getElementById;to.poolIndex=function(){var r=this._private.cy,e=r._private.elements,t=this[0]._private.data.id;return e._private.map.get(t).index};to.indexOf=function(r){var e=r[0]._private.data.id;return this._private.map.get(e).index};to.indexOfId=function(r){return r=""+r,this._private.map.get(r).index};to.json=function(r){var e=this.element(),t=this.cy();if(e==null&&r)return this;if(e!=null){var n=e._private;if(Li(r)){if(t.startBatch(),r.data){e.data(r.data);var i=n.data;if(e.isEdge()){var a=!1,o={},s=r.data.source,u=r.data.target;s!=null&&s!=i.source&&(o.source=""+s,a=!0),u!=null&&u!=i.target&&(o.target=""+u,a=!0),a&&(e=e.move(o))}else{var l="parent"in r.data,c=r.data.parent;l&&(c!=null||i.parent!=null)&&c!=i.parent&&(c===void 0&&(c=null),c!=null&&(c=""+c),e=e.move({parent:c}))}}r.position&&e.position(r.position);var f=function(m,w,b){var y=r[m];y!=null&&y!==n[m]&&(y?e[w]():e[b]())};return f("removed","remove","restore"),f("selected","select","unselect"),f("selectable","selectify","unselectify"),f("locked","lock","unlock"),f("grabbable","grabify","ungrabify"),f("pannable","panify","unpanify"),r.classes!=null&&e.classes(r.classes),t.endBatch(),this}else if(r===void 0){var d={data:ip(n.data),position:ip(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:null};d.classes="";var v=0;return n.classes.forEach(function(p){return d.classes+=v++===0?p:" "+p}),d}}};to.jsons=function(){for(var r=[],e=0;e<this.length;e++){var t=this[e],n=t.json();r.push(n)}return r};to.clone=function(){for(var r=this.cy(),e=[],t=0;t<this.length;t++){var n=this[t],i=n.json(),a=new e1(r,i,!1);e.push(a)}return new jl(r,e)};to.copy=to.clone;to.restore=function(){for(var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,t=this,n=t.cy(),i=n._private,a=[],o=[],s,u=0,l=t.length;u<l;u++){var c=t[u];e&&!c.removed()||(c.isNode()?a.push(c):o.push(c))}s=a.concat(o);var f,d=function(){s.splice(f,1),f--};for(f=0;f<s.length;f++){var v=s[f],p=v._private,m=p.data;if(v.clearTraversalCache(),!(!e&&!p.removed)){if(m.id===void 0)m.id=R3();else if(gr(m.id))m.id=""+m.id;else if(Rg(m.id)||!$r(m.id)){Ho("Can not create element with invalid string ID `"+m.id+"`"),d();continue}else if(n.hasElementWithId(m.id)){Ho("Can not create second element with ID `"+m.id+"`"),d();continue}}var w=m.id;if(v.isNode()){var b=p.position;b.x==null&&(b.x=0),b.y==null&&(b.y=0)}if(v.isEdge()){for(var y=v,_=["source","target"],S=_.length,A=!1,D=0;D<S;D++){var R=_[D],k=m[R];gr(k)&&(k=m[R]=""+m[R]),k==null||k===""?(Ho("Can not create edge `"+w+"` with unspecified "+R),A=!0):n.hasElementWithId(k)||(Ho("Can not create edge `"+w+"` with nonexistant "+R+" `"+k+"`"),A=!0)}if(A){d();continue}var j=n.getElementById(m.source),F=n.getElementById(m.target);j.same(F)?j._private.edges.push(y):(j._private.edges.push(y),F._private.edges.push(y)),y._private.source=j,y._private.target=F}p.map=new zp,p.map.set(w,{ele:v,index:0}),p.removed=!1,e&&n.addToPool(v)}for(var z=0;z<a.length;z++){var q=a[z],$=q._private.data;gr($.parent)&&($.parent=""+$.parent);var K=$.parent,oe=K!=null;if(oe||q._private.parent){var J=q._private.parent?n.collection().merge(q._private.parent):n.getElementById(K);if(J.empty())$.parent=void 0;else if(J[0].removed())_a("Node added with missing parent, reference to parent removed"),$.parent=void 0,q._private.parent=null;else{for(var re=!1,ae=J;!ae.empty();){if(q.same(ae)){re=!0,$.parent=void 0;break}ae=ae.parent()}re||(J[0]._private.children.push(q),q._private.parent=J[0],i.hasCompoundNodes=!0)}}}if(s.length>0){for(var ve=s.length===t.length?t:new jl(n,s),se=0;se<ve.length;se++){var ce=ve[se];ce.isNode()||(ce.parallelEdges().clearTraversalCache(),ce.source().clearTraversalCache(),ce.target().clearTraversalCache())}var pe;i.hasCompoundNodes?pe=n.collection().merge(ve).merge(ve.connectedNodes()).merge(ve.parent()):pe=ve,pe.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(r),r?ve.emitAndNotify("add"):e&&ve.emit("add")}return t};to.removed=function(){var r=this[0];return r&&r._private.removed};to.inside=function(){var r=this[0];return r&&!r._private.removed};to.remove=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,t=this,n=[],i={},a=t._private.cy;function o(K){for(var oe=K._private.edges,J=0;J<oe.length;J++)u(oe[J])}function s(K){for(var oe=K._private.children,J=0;J<oe.length;J++)u(oe[J])}function u(K){var oe=i[K.id()];e&&K.removed()||oe||(i[K.id()]=!0,K.isNode()?(n.push(K),o(K),s(K)):n.unshift(K))}for(var l=0,c=t.length;l<c;l++){var f=t[l];u(f)}function d(K,oe){var J=K._private.edges;Dg(J,oe),K.clearTraversalCache()}function v(K){K.clearTraversalCache()}var p=[];p.ids={};function m(K,oe){oe=oe[0],K=K[0];var J=K._private.children,re=K.id();Dg(J,oe),oe._private.parent=null,p.ids[re]||(p.ids[re]=!0,p.push(K))}t.dirtyCompoundBoundsCache(),e&&a.removeFromPool(n);for(var w=0;w<n.length;w++){var b=n[w];if(b.isEdge()){var y=b.source()[0],_=b.target()[0];d(y,b),d(_,b);for(var S=b.parallelEdges(),A=0;A<S.length;A++){var D=S[A];v(D),D.isBundledBezier()&&D.dirtyBoundingBoxCache()}}else{var R=b.parent();R.length!==0&&m(R,b)}e&&(b._private.removed=!0)}var k=a._private.elements;a._private.hasCompoundNodes=!1;for(var j=0;j<k.length;j++){var F=k[j];if(F.isParent()){a._private.hasCompoundNodes=!0;break}}var z=new jl(this.cy(),n);z.size()>0&&(r?z.emitAndNotify("remove"):e&&z.emit("remove"));for(var q=0;q<p.length;q++){var $=p[q];(!e||!$.removed())&&$.updateStyle()}return z};to.move=function(r){var e=this._private.cy,t=this,n=!1,i=!1,a=function(p){return p==null?p:""+p};if(r.source!==void 0||r.target!==void 0){var o=a(r.source),s=a(r.target),u=o!=null&&e.hasElementWithId(o),l=s!=null&&e.hasElementWithId(s);(u||l)&&(e.batch(function(){t.remove(n,i),t.emitAndNotify("moveout");for(var v=0;v<t.length;v++){var p=t[v],m=p._private.data;p.isEdge()&&(u&&(m.source=o),l&&(m.target=s))}t.restore(n,i)}),t.emitAndNotify("move"))}else if(r.parent!==void 0){var c=a(r.parent),f=c===null||e.hasElementWithId(c);if(f){var d=c===null?void 0:c;e.batch(function(){var v=t.remove(n,i);v.emitAndNotify("moveout");for(var p=0;p<t.length;p++){var m=t[p],w=m._private.data;m.isNode()&&(w.parent=d)}v.restore(n,i)}),t.emitAndNotify("move")}}return this};[q3,p8,p_,Og,$m,D8,s1,W8,hj,dj,Q8,B_,g_,Ll,Tg,lc].forEach(function(r){en(to,r)});var az={add:function(e){var t,n=this;if(xh(e)){var i=e;if(i._private.cy===n)t=i.restore();else{for(var a=[],o=0;o<i.length;o++){var s=i[o];a.push(s.json())}t=new jl(n,a)}}else if(Ga(e)){var u=e;t=new jl(n,u)}else if(Li(e)&&(Ga(e.nodes)||Ga(e.edges))){for(var l=e,c=[],f=["nodes","edges"],d=0,v=f.length;d<v;d++){var p=f[d],m=l[p];if(Ga(m))for(var w=0,b=m.length;w<b;w++){var y=en({group:p},m[w]);c.push(y)}}t=new jl(n,c)}else{var _=e;t=new e1(n,_).collection()}return t},remove:function(e){if(!xh(e)){if($r(e)){var t=e;e=this.$(t)}}return e.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function oz(r,e,t,n){var i=4,a=.001,o=1e-7,s=10,u=11,l=1/(u-1),c=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var f=0;f<4;++f)if(typeof arguments[f]!="number"||isNaN(arguments[f])||!isFinite(arguments[f]))return!1;r=Math.min(r,1),t=Math.min(t,1),r=Math.max(r,0),t=Math.max(t,0);var d=c?new Float32Array(u):new Array(u);function v(F,z){return 1-3*z+3*F}function p(F,z){return 3*z-6*F}function m(F){return 3*F}function w(F,z,q){return((v(z,q)*F+p(z,q))*F+m(z))*F}function b(F,z,q){return 3*v(z,q)*F*F+2*p(z,q)*F+m(z)}function y(F,z){for(var q=0;q<i;++q){var $=b(z,r,t);if($===0)return z;var K=w(z,r,t)-F;z-=K/$}return z}function _(){for(var F=0;F<u;++F)d[F]=w(F*l,r,t)}function S(F,z,q){var $,K,oe=0;do K=z+(q-z)/2,$=w(K,r,t)-F,$>0?q=K:z=K;while(Math.abs($)>o&&++oe<s);return K}function A(F){for(var z=0,q=1,$=u-1;q!==$&&d[q]<=F;++q)z+=l;--q;var K=(F-d[q])/(d[q+1]-d[q]),oe=z+K*l,J=b(oe,r,t);return J>=a?y(F,oe):J===0?oe:S(F,z,z+l)}var D=!1;function R(){D=!0,(r!==e||t!==n)&&_()}var k=function(z){return D||R(),r===e&&t===n?z:z===0?0:z===1?1:w(A(z),e,n)};k.getControlPoints=function(){return[{x:r,y:e},{x:t,y:n}]};var j="generateBezier("+[r,e,t,n]+")";return k.toString=function(){return j},k}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var sz=function(){function r(n){return-n.tension*n.x-n.friction*n.v}function e(n,i,a){var o={x:n.x+a.dx*i,v:n.v+a.dv*i,tension:n.tension,friction:n.friction};return{dx:o.v,dv:r(o)}}function t(n,i){var a={dx:n.v,dv:r(n)},o=e(n,i*.5,a),s=e(n,i*.5,o),u=e(n,i,s),l=1/6*(a.dx+2*(o.dx+s.dx)+u.dx),c=1/6*(a.dv+2*(o.dv+s.dv)+u.dv);return n.x=n.x+l*i,n.v=n.v+c*i,n}return function n(i,a,o){var s={x:-1,v:0,tension:null,friction:null},u=[0],l=0,c=1/1e4,f=16/1e3,d,v,p;for(i=parseFloat(i)||500,a=parseFloat(a)||20,o=o||null,s.tension=i,s.friction=a,d=o!==null,d?(l=n(i,a),v=l/o*f):v=f;p=t(p||s,v),u.push(1+p.x),l+=16,Math.abs(p.x)>c&&Math.abs(p.v)>c;);return d?function(m){return u[m*(u.length-1)|0]}:l}}(),eo=function(e,t,n,i){var a=oz(e,t,n,i);return function(o,s,u){return o+(s-o)*a(u)}},y_={linear:function(e,t,n){return e+(t-e)*n},ease:eo(.25,.1,.25,1),"ease-in":eo(.42,0,1,1),"ease-out":eo(0,0,.58,1),"ease-in-out":eo(.42,0,.58,1),"ease-in-sine":eo(.47,0,.745,.715),"ease-out-sine":eo(.39,.575,.565,1),"ease-in-out-sine":eo(.445,.05,.55,.95),"ease-in-quad":eo(.55,.085,.68,.53),"ease-out-quad":eo(.25,.46,.45,.94),"ease-in-out-quad":eo(.455,.03,.515,.955),"ease-in-cubic":eo(.55,.055,.675,.19),"ease-out-cubic":eo(.215,.61,.355,1),"ease-in-out-cubic":eo(.645,.045,.355,1),"ease-in-quart":eo(.895,.03,.685,.22),"ease-out-quart":eo(.165,.84,.44,1),"ease-in-out-quart":eo(.77,0,.175,1),"ease-in-quint":eo(.755,.05,.855,.06),"ease-out-quint":eo(.23,1,.32,1),"ease-in-out-quint":eo(.86,0,.07,1),"ease-in-expo":eo(.95,.05,.795,.035),"ease-out-expo":eo(.19,1,.22,1),"ease-in-out-expo":eo(1,0,0,1),"ease-in-circ":eo(.6,.04,.98,.335),"ease-out-circ":eo(.075,.82,.165,1),"ease-in-out-circ":eo(.785,.135,.15,.86),spring:function(e,t,n){if(n===0)return y_.linear;var i=sz(e,t,n);return function(a,o,s){return a+(o-a)*i(s)}},"cubic-bezier":eo};function IP(r,e,t,n,i){if(n===1||e===t)return t;var a=i(e,t,n);return r==null||((r.roundValue||r.color)&&(a=Math.round(a)),r.min!==void 0&&(a=Math.max(a,r.min)),r.max!==void 0&&(a=Math.min(a,r.max))),a}function kP(r,e){return r.pfValue!=null||r.value!=null?r.pfValue!=null&&(e==null||e.type.units!=="%")?r.pfValue:r.value:r}function ym(r,e,t,n,i){var a=i!=null?i.type:null;t<0?t=0:t>1&&(t=1);var o=kP(r,i),s=kP(e,i);if(gr(o)&&gr(s))return IP(a,o,s,t,n);if(Ga(o)&&Ga(s)){for(var u=[],l=0;l<s.length;l++){var c=o[l],f=s[l];if(c!=null&&f!=null){var d=IP(a,c,f,t,n);u.push(d)}else u.push(f)}return u}}function uz(r,e,t,n){var i=!n,a=r._private,o=e._private,s=o.easing,u=o.startTime,l=n?r:r.cy(),c=l.style();if(!o.easingImpl)if(s==null)o.easingImpl=y_.linear;else{var f;if($r(s)){var d=c.parse("transition-timing-function",s);f=d.value}else f=s;var v,p;$r(f)?(v=f,p=[]):(v=f[1],p=f.slice(2).map(function(ve){return+ve})),p.length>0?(v==="spring"&&p.push(o.duration),o.easingImpl=y_[v].apply(null,p)):o.easingImpl=y_[v]}var m=o.easingImpl,w;if(o.duration===0?w=1:w=(t-u)/o.duration,o.applying&&(w=o.progress),w<0?w=0:w>1&&(w=1),o.delay==null){var b=o.startPosition,y=o.position;if(y&&i&&!r.locked()){var _={};x0(b.x,y.x)&&(_.x=ym(b.x,y.x,w,m)),x0(b.y,y.y)&&(_.y=ym(b.y,y.y,w,m)),r.position(_)}var S=o.startPan,A=o.pan,D=a.pan,R=A!=null&&n;R&&(x0(S.x,A.x)&&(D.x=ym(S.x,A.x,w,m)),x0(S.y,A.y)&&(D.y=ym(S.y,A.y,w,m)),r.emit("pan"));var k=o.startZoom,j=o.zoom,F=j!=null&&n;F&&(x0(k,j)&&(a.zoom=rb(a.minZoom,ym(k,j,w,m),a.maxZoom)),r.emit("zoom")),(R||F)&&r.emit("viewport");var z=o.style;if(z&&z.length>0&&i){for(var q=0;q<z.length;q++){var $=z[q],K=$.name,oe=$,J=o.startStyle[K],re=c.properties[J.name],ae=ym(J,oe,w,m,re);c.overrideBypass(r,K,ae)}r.emit("style")}}return o.progress=w,w}function x0(r,e){return r==null||e==null?!1:gr(r)&&gr(e)?!0:!!(r&&e)}function lz(r,e,t,n){var i=e._private;i.started=!0,i.startTime=t-i.progress*i.duration}function MP(r,e){var t=e._private.aniEles,n=[];function i(c,f){var d=c._private,v=d.animation.current,p=d.animation.queue,m=!1;if(v.length===0){var w=p.shift();w&&v.push(w)}for(var b=function(D){for(var R=D.length-1;R>=0;R--){var k=D[R];k()}D.splice(0,D.length)},y=v.length-1;y>=0;y--){var _=v[y],S=_._private;if(S.stopped){v.splice(y,1),S.hooked=!1,S.playing=!1,S.started=!1,b(S.frames);continue}!S.playing&&!S.applying||(S.playing&&S.applying&&(S.applying=!1),S.started||lz(c,_,r),uz(c,_,r,f),S.applying&&(S.applying=!1),b(S.frames),S.step!=null&&S.step(r),_.completed()&&(v.splice(y,1),S.hooked=!1,S.playing=!1,S.started=!1,b(S.completes)),m=!0)}return!f&&v.length===0&&p.length===0&&n.push(c),m}for(var a=!1,o=0;o<t.length;o++){var s=t[o],u=i(s);a=a||u}var l=i(e,!0);(a||l)&&(t.length>0?e.notify("draw",t):e.notify("draw")),t.unmerge(n),e.emit("step")}var cz={animate:ba.animate(),animation:ba.animation(),animated:ba.animated(),clearQueue:ba.clearQueue(),delay:ba.delay(),delayAnimation:ba.delayAnimation(),stop:ba.stop(),addToAnimationPool:function(e){var t=this;t.styleEnabled()&&t._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,!e.styleEnabled())return;function t(){e._private.animationsRunning&&k_(function(a){MP(a,e),t()})}var n=e.renderer();n&&n.beforeRender?n.beforeRender(function(a,o){MP(o,e)},n.beforeRenderPriorities.animations):t()}},fz={qualifierCompare:function(e,t){return e==null||t==null?e==null&&t==null:e.sameText(t)},eventMatches:function(e,t,n){var i=t.qualifier;return i!=null?e!==n.target&&yb(n.target)&&i.matches(n.target):!0},addEventFields:function(e,t){t.cy=e,t.target=e},callbackContext:function(e,t,n){return t.qualifier!=null?n.target:e}},Hb=function(e){return $r(e)?new Ig(e):e},gj={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new u1(fz,this)),this},emitter:function(){return this._private.emitter},on:function(e,t,n){return this.emitter().on(e,Hb(t),n),this},removeListener:function(e,t,n){return this.emitter().removeListener(e,Hb(t),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,t,n){return this.emitter().one(e,Hb(t),n),this},once:function(e,t,n){return this.emitter().one(e,Hb(t),n),this},emit:function(e,t){return this.emitter().emit(e,t),this},emitAndNotify:function(e,t){return this.emit(e),this.notify(e,t),this}};ba.eventAliasesOn(gj);var IC={png:function(e){var t=this._private.renderer;return e=e||{},t.png(e)},jpg:function(e){var t=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",t.jpg(e)}};IC.jpeg=IC.jpg;var m_={layout:function(e){var t=this;if(e==null){Ho("Layout options must be specified to make a layout");return}if(e.name==null){Ho("A `name` must be specified to make a layout");return}var n=e.name,i=t.extension("layout",n);if(i==null){Ho("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var a;$r(e.eles)?a=t.$(e.eles):a=e.eles!=null?e.eles:t.$();var o=new i(en({},e,{cy:t,eles:a}));return o}};m_.createLayout=m_.makeLayout=m_.layout;var hz={notify:function(e,t){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var i=n.batchNotifications[e]=n.batchNotifications[e]||this.collection();t!=null&&i.merge(t);return}if(n.notificationsEnabled){var a=this.renderer();this.destroyed()||!a||a.notify(e,t)}},notifications:function(e){var t=this._private;return e===void 0?t.notificationsEnabled:(t.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var t=this.renderer();Object.keys(e.batchNotifications).forEach(function(n){var i=e.batchNotifications[n];i.empty()?t.notify(n):t.notify(n,i)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var t=this;return this.batch(function(){for(var n=Object.keys(e),i=0;i<n.length;i++){var a=n[i],o=e[a],s=t.getElementById(a);s.data(o)}})}},dz=Pu({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1,webgl:!1,webglDebug:!1,webglDebugShowAtlases:!1,webglTexSize:2048,webglTexRows:36,webglTexRowsNodes:18,webglBatchSize:2048,webglTexPerBatch:14,webglBgColor:[255,255,255]}),kC={renderTo:function(e,t,n,i){var a=this._private.renderer;return a.renderTo(e,t,n,i),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var t=this,n=t.extension("renderer",e.name);if(n==null){Ho("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&_a("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var i=dz(e);i.cy=t,t._private.renderer=new n(i),this.notify("init")},destroyRenderer:function(){var e=this;e.notify("destroy");var t=e.container();if(t)for(t._cyreg=null;t.childNodes.length>0;)t.removeChild(t.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(n){var i=n._private;i.rscratch={},i.rstyle={},i.animation.current=[],i.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};kC.invalidateDimensions=kC.resize;var b_={collection:function(e,t){return $r(e)?this.$(e):xh(e)?e.collection():Ga(e)?(t||(t={}),new jl(this,e,t.unique,t.removed)):new jl(this)},nodes:function(e){var t=this.$(function(n){return n.isNode()});return e?t.filter(e):t},edges:function(e){var t=this.$(function(n){return n.isEdge()});return e?t.filter(e):t},$:function(e){var t=this._private.elements;return e?t.filter(e):t.spawnSelf()},mutableElements:function(){return this._private.elements}};b_.elements=b_.filter=b_.$;var ll={},V0="t",vz="f";ll.apply=function(r){for(var e=this,t=e._private,n=t.cy,i=n.collection(),a=0;a<r.length;a++){var o=r[a],s=e.getContextMeta(o);if(!s.empty){var u=e.getContextStyle(s),l=e.applyContextStyle(s,u,o);o._private.appliedInitStyle?e.updateTransitions(o,l.diffProps):o._private.appliedInitStyle=!0;var c=e.updateStyleHints(o);c&&i.push(o)}}return i};ll.getPropertiesDiff=function(r,e){var t=this,n=t._private.propDiffs=t._private.propDiffs||{},i=r+"-"+e,a=n[i];if(a)return a;for(var o=[],s={},u=0;u<t.length;u++){var l=t[u],c=r[u]===V0,f=e[u]===V0,d=c!==f,v=l.mappedProperties.length>0;if(d||f&&v){var p=void 0;d&&v||d?p=l.properties:v&&(p=l.mappedProperties);for(var m=0;m<p.length;m++){for(var w=p[m],b=w.name,y=!1,_=u+1;_<t.length;_++){var S=t[_],A=e[_]===V0;if(A&&(y=S.properties[w.name]!=null,y))break}!s[b]&&!y&&(s[b]=!0,o.push(b))}}}return n[i]=o,o};ll.getContextMeta=function(r){for(var e=this,t="",n,i=r._private.styleCxtKey||"",a=0;a<e.length;a++){var o=e[a],s=o.selector&&o.selector.matches(r);s?t+=V0:t+=vz}return n=e.getPropertiesDiff(i,t),r._private.styleCxtKey=t,{key:t,diffPropNames:n,empty:n.length===0}};ll.getContextStyle=function(r){var e=r.key,t=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[e])return n[e];for(var i={_private:{key:e}},a=0;a<t.length;a++){var o=t[a],s=e[a]===V0;if(s)for(var u=0;u<o.properties.length;u++){var l=o.properties[u];i[l.name]=l}}return n[e]=i,i};ll.applyContextStyle=function(r,e,t){for(var n=this,i=r.diffPropNames,a={},o=n.types,s=0;s<i.length;s++){var u=i[s],l=e[u],c=t.pstyle(u);if(!l)if(c)c.bypass?l={name:u,deleteBypassed:!0}:l={name:u,delete:!0};else continue;if(c!==l){if(l.mapped===o.fn&&c!=null&&c.mapping!=null&&c.mapping.value===l.value){var f=c.mapping,d=f.fnValue=l.value(t);if(d===f.prevFnValue)continue}var v=a[u]={prev:c};n.applyParsedProperty(t,l),v.next=t.pstyle(u),v.next&&v.next.bypass&&(v.next=v.next.bypassed)}}return{diffProps:a}};ll.updateStyleHints=function(r){var e=r._private,t=this,n=t.propertyGroupNames,i=t.propertyGroupKeys,a=function(Ie,Ge,Qe){return t.getPropertiesHash(Ie,Ge,Qe)},o=e.styleKey;if(r.removed())return!1;var s=e.group==="nodes",u=r._private.style;n=Object.keys(u);for(var l=0;l<i.length;l++){var c=i[l];e.styleKeys[c]=[Am,L0]}for(var f=function(Ie,Ge){return e.styleKeys[Ge][0]=J0(Ie,e.styleKeys[Ge][0])},d=function(Ie,Ge){return e.styleKeys[Ge][1]=eb(Ie,e.styleKeys[Ge][1])},v=function(Ie,Ge){f(Ie,Ge),d(Ie,Ge)},p=function(Ie,Ge){for(var Qe=0;Qe<Ie.length;Qe++){var ot=Ie.charCodeAt(Qe);f(ot,Ge),d(ot,Ge)}},m=2e9,w=function(Ie){return-128<Ie&&Ie<128&&Math.floor(Ie)!==Ie?m-(Ie*1024|0):Ie},b=0;b<n.length;b++){var y=n[b],_=u[y];if(_!=null){var S=this.properties[y],A=S.type,D=S.groupKey,R=void 0;S.hashOverride!=null?R=S.hashOverride(r,_):_.pfValue!=null&&(R=_.pfValue);var k=S.enums==null?_.value:null,j=R!=null,F=k!=null,z=j||F,q=_.units;if(A.number&&z&&!A.multiple){var $=j?R:k;v(w($),D),!j&&q!=null&&p(q,D)}else p(_.strValue,D)}}for(var K=[Am,L0],oe=0;oe<i.length;oe++){var J=i[oe],re=e.styleKeys[J];K[0]=J0(re[0],K[0]),K[1]=eb(re[1],K[1])}e.styleKey=NF(K[0],K[1]);var ae=e.styleKeys;e.labelDimsKey=gg(ae.labelDimensions);var ve=a(r,["label"],ae.labelDimensions);if(e.labelKey=gg(ve),e.labelStyleKey=gg(Lb(ae.commonLabel,ve)),!s){var se=a(r,["source-label"],ae.labelDimensions);e.sourceLabelKey=gg(se),e.sourceLabelStyleKey=gg(Lb(ae.commonLabel,se));var ce=a(r,["target-label"],ae.labelDimensions);e.targetLabelKey=gg(ce),e.targetLabelStyleKey=gg(Lb(ae.commonLabel,ce))}if(s){var pe=e.styleKeys,Pe=pe.nodeBody,de=pe.nodeBorder,ge=pe.nodeOutline,Ce=pe.backgroundImage,Ne=pe.compound,De=pe.pie,ke=[Pe,de,ge,Ce,Ne,De].filter(function(_e){return _e!=null}).reduce(Lb,[Am,L0]);e.nodeKey=gg(ke),e.hasPie=De!=null&&De[0]!==Am&&De[1]!==L0}return o!==e.styleKey};ll.clearStyleHints=function(r){var e=r._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null};ll.applyParsedProperty=function(r,e){var t=this,n=e,i=r._private.style,a,o=t.types,s=t.properties[n.name].type,u=n.bypass,l=i[n.name],c=l&&l.bypass,f=r._private,d="mapping",v=function(Pe){return Pe==null?null:Pe.pfValue!=null?Pe.pfValue:Pe.value},p=function(){var Pe=v(l),de=v(n);t.checkTriggers(r,n.name,Pe,de)};if(e.name==="curve-style"&&r.isEdge()&&(e.value!=="bezier"&&r.isLoop()||e.value==="haystack"&&(r.source().isParent()||r.target().isParent()))&&(n=e=this.parse(e.name,"bezier",u)),n.delete)return i[n.name]=void 0,p(),!0;if(n.deleteBypassed)return l?l.bypass?(l.bypassed=void 0,p(),!0):!1:(p(),!0);if(n.deleteBypass)return l?l.bypass?(i[n.name]=l.bypassed,p(),!0):!1:(p(),!0);var m=function(){_a("Do not assign mappings to elements without corresponding data (i.e. ele `"+r.id()+"` has no mapping for property `"+n.name+"` with data field `"+n.field+"`); try a `["+n.field+"]` selector to limit scope to elements with `"+n.field+"` defined")};switch(n.mapped){case o.mapData:{for(var w=n.field.split("."),b=f.data,y=0;y<w.length&&b;y++){var _=w[y];b=b[_]}if(b==null)return m(),!1;var S;if(gr(b)){var A=n.fieldMax-n.fieldMin;A===0?S=0:S=(b-n.fieldMin)/A}else return _a("Do not use continuous mappers without specifying numeric data (i.e. `"+n.field+": "+b+"` for `"+r.id()+"` is non-numeric)"),!1;if(S<0?S=0:S>1&&(S=1),s.color){var D=n.valueMin[0],R=n.valueMax[0],k=n.valueMin[1],j=n.valueMax[1],F=n.valueMin[2],z=n.valueMax[2],q=n.valueMin[3]==null?1:n.valueMin[3],$=n.valueMax[3]==null?1:n.valueMax[3],K=[Math.round(D+(R-D)*S),Math.round(k+(j-k)*S),Math.round(F+(z-F)*S),Math.round(q+($-q)*S)];a={bypass:n.bypass,name:n.name,value:K,strValue:"rgb("+K[0]+", "+K[1]+", "+K[2]+")"}}else if(s.number){var oe=n.valueMin+(n.valueMax-n.valueMin)*S;a=this.parse(n.name,oe,n.bypass,d)}else return!1;if(!a)return m(),!1;a.mapping=n,n=a;break}case o.data:{for(var J=n.field.split("."),re=f.data,ae=0;ae<J.length&&re;ae++){var ve=J[ae];re=re[ve]}if(re!=null&&(a=this.parse(n.name,re,n.bypass,d)),!a)return m(),!1;a.mapping=n,n=a;break}case o.fn:{var se=n.value,ce=n.fnValue!=null?n.fnValue:se(r);if(n.prevFnValue=ce,ce==null)return _a("Custom function mappers may not return null (i.e. `"+n.name+"` for ele `"+r.id()+"` is null)"),!1;if(a=this.parse(n.name,ce,n.bypass,d),!a)return _a("Custom function mappers may not return invalid values for the property type (i.e. `"+n.name+"` for ele `"+r.id()+"` is invalid)"),!1;a.mapping=ip(n),n=a;break}case void 0:break;default:return!1}return u?(c?n.bypassed=l.bypassed:n.bypassed=l,i[n.name]=n):c?l.bypassed=n:i[n.name]=n,p(),!0};ll.cleanElements=function(r,e){for(var t=0;t<r.length;t++){var n=r[t];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),!e)n._private.style={};else for(var i=n._private.style,a=Object.keys(i),o=0;o<a.length;o++){var s=a[o],u=i[s];u!=null&&(u.bypass?u.bypassed=null:i[s]=null)}}};ll.update=function(){var r=this._private.cy,e=r.mutableElements();e.updateStyle()};ll.updateTransitions=function(r,e){var t=this,n=r._private,i=r.pstyle("transition-property").value,a=r.pstyle("transition-duration").pfValue,o=r.pstyle("transition-delay").pfValue;if(i.length>0&&a>0){for(var s={},u=!1,l=0;l<i.length;l++){var c=i[l],f=r.pstyle(c),d=e[c];if(d){var v=d.prev,p=v,m=d.next!=null?d.next:f,w=!1,b=void 0,y=1e-6;p&&(gr(p.pfValue)&&gr(m.pfValue)?(w=m.pfValue-p.pfValue,b=p.pfValue+y*w):gr(p.value)&&gr(m.value)?(w=m.value-p.value,b=p.value+y*w):Ga(p.value)&&Ga(m.value)&&(w=p.value[0]!==m.value[0]||p.value[1]!==m.value[1]||p.value[2]!==m.value[2],b=p.strValue),w&&(s[c]=m.strValue,this.applyBypass(r,c,b),u=!0))}}if(!u)return;n.transitioning=!0,new e0(function(_){o>0?r.delayAnimation(o).play().promise().then(_):_()}).then(function(){return r.animation({style:s,duration:a,easing:r.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){t.removeBypasses(r,i),r.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(r,i),r.emitAndNotify("style"),n.transitioning=!1)};ll.checkTrigger=function(r,e,t,n,i,a){var o=this.properties[e],s=i(o);r.removed()||s!=null&&s(t,n,r)&&a(o)};ll.checkZOrderTrigger=function(r,e,t,n){var i=this;this.checkTrigger(r,e,t,n,function(a){return a.triggersZOrder},function(){i._private.cy.notify("zorder",r)})};ll.checkBoundsTrigger=function(r,e,t,n){this.checkTrigger(r,e,t,n,function(i){return i.triggersBounds},function(i){r.dirtyCompoundBoundsCache(),r.dirtyBoundingBoxCache()})};ll.checkConnectedEdgesBoundsTrigger=function(r,e,t,n){this.checkTrigger(r,e,t,n,function(i){return i.triggersBoundsOfConnectedEdges},function(i){r.connectedEdges().forEach(function(a){a.dirtyBoundingBoxCache()})})};ll.checkParallelEdgesBoundsTrigger=function(r,e,t,n){this.checkTrigger(r,e,t,n,function(i){return i.triggersBoundsOfParallelEdges},function(i){r.parallelEdges().forEach(function(a){a.dirtyBoundingBoxCache()})})};ll.checkTriggers=function(r,e,t,n){r.dirtyStyleCache(),this.checkZOrderTrigger(r,e,t,n),this.checkBoundsTrigger(r,e,t,n),this.checkConnectedEdgesBoundsTrigger(r,e,t,n),this.checkParallelEdgesBoundsTrigger(r,e,t,n)};var Sb={};Sb.applyBypass=function(r,e,t,n){var i=this,a=[],o=!0;if(e==="*"||e==="**"){if(t!==void 0)for(var s=0;s<i.properties.length;s++){var u=i.properties[s],l=u.name,c=this.parse(l,t,!0);c&&a.push(c)}}else if($r(e)){var f=this.parse(e,t,!0);f&&a.push(f)}else if(Li(e)){var d=e;n=t;for(var v=Object.keys(d),p=0;p<v.length;p++){var m=v[p],w=d[m];if(w===void 0&&(w=d[Q_(m)]),w!==void 0){var b=this.parse(m,w,!0);b&&a.push(b)}}}else return!1;if(a.length===0)return!1;for(var y=!1,_=0;_<r.length;_++){for(var S=r[_],A={},D=void 0,R=0;R<a.length;R++){var k=a[R];if(n){var j=S.pstyle(k.name);D=A[k.name]={prev:j}}y=this.applyParsedProperty(S,ip(k))||y,n&&(D.next=S.pstyle(k.name))}y&&this.updateStyleHints(S),n&&this.updateTransitions(S,A,o)}return y};Sb.overrideBypass=function(r,e,t){e=a2(e);for(var n=0;n<r.length;n++){var i=r[n],a=i._private.style[e],o=this.properties[e].type,s=o.color,u=o.mutiple,l=a?a.pfValue!=null?a.pfValue:a.value:null;!a||!a.bypass?this.applyBypass(i,e,t):(a.value=t,a.pfValue!=null&&(a.pfValue=t),s?a.strValue="rgb("+t.join(",")+")":u?a.strValue=t.join(" "):a.strValue=""+t,this.updateStyleHints(i)),this.checkTriggers(i,e,l,t)}};Sb.removeAllBypasses=function(r,e){return this.removeBypasses(r,this.propertyNames,e)};Sb.removeBypasses=function(r,e,t){for(var n=!0,i=0;i<r.length;i++){for(var a=r[i],o={},s=0;s<e.length;s++){var u=e[s],l=this.properties[u],c=a.pstyle(l.name);if(!(!c||!c.bypass)){var f="",d=this.parse(u,f,!0),v=o[l.name]={prev:c};this.applyParsedProperty(a,d),v.next=a.pstyle(l.name)}}this.updateStyleHints(a),t&&this.updateTransitions(a,o,n)}};var b2={};b2.getEmSizeInPixels=function(){var r=this.containerCss("font-size");return r!=null?parseFloat(r):1};b2.containerCss=function(r){var e=this._private.cy,t=e.container(),n=e.window();if(n&&t&&n.getComputedStyle)return n.getComputedStyle(t).getPropertyValue(r)};var op={};op.getRenderedStyle=function(r,e){return e?this.getStylePropertyValue(r,e,!0):this.getRawStyle(r,!0)};op.getRawStyle=function(r,e){var t=this;if(r=r[0],r){for(var n={},i=0;i<t.properties.length;i++){var a=t.properties[i],o=t.getStylePropertyValue(r,a.name,e);o!=null&&(n[a.name]=o,n[Q_(a.name)]=o)}return n}};op.getIndexedStyle=function(r,e,t,n){var i=r.pstyle(e)[t][n];return i??r.cy().style().getDefaultProperty(e)[t][0]};op.getStylePropertyValue=function(r,e,t){var n=this;if(r=r[0],r){var i=n.properties[e];i.alias&&(i=i.pointsTo);var a=i.type,o=r.pstyle(i.name);if(o){var s=o.value,u=o.units,l=o.strValue;if(t&&a.number&&s!=null&&gr(s)){var c=r.cy().zoom(),f=function(w){return w*c},d=function(w,b){return f(w)+b},v=Ga(s),p=v?u.every(function(m){return m!=null}):u!=null;return p?v?s.map(function(m,w){return d(m,u[w])}).join(" "):d(s,u):v?s.map(function(m){return $r(m)?m:""+f(m)}).join(" "):""+f(s)}else if(l!=null)return l}return null}};op.getAnimationStartStyle=function(r,e){for(var t={},n=0;n<e.length;n++){var i=e[n],a=i.name,o=r.pstyle(a);o!==void 0&&(Li(o)?o=this.parse(a,o.strValue):o=this.parse(a,o)),o&&(t[a]=o)}return t};op.getPropsList=function(r){var e=this,t=[],n=r,i=e.properties;if(n)for(var a=Object.keys(n),o=0;o<a.length;o++){var s=a[o],u=n[s],l=i[s]||i[a2(s)],c=this.parse(l.name,u);c&&t.push(c)}return t};op.getNonDefaultPropertiesHash=function(r,e,t){var n=t.slice(),i,a,o,s,u,l;for(u=0;u<e.length;u++)if(i=e[u],a=r.pstyle(i,!1),a!=null)if(a.pfValue!=null)n[0]=J0(s,n[0]),n[1]=eb(s,n[1]);else for(o=a.strValue,l=0;l<o.length;l++)s=o.charCodeAt(l),n[0]=J0(s,n[0]),n[1]=eb(s,n[1]);return n};op.getPropertiesHash=op.getNonDefaultPropertiesHash;var f1={};f1.appendFromJson=function(r){for(var e=this,t=0;t<r.length;t++){var n=r[t],i=n.selector,a=n.style||n.css,o=Object.keys(a);e.selector(i);for(var s=0;s<o.length;s++){var u=o[s],l=a[u];e.css(u,l)}}return e};f1.fromJson=function(r){var e=this;return e.resetToDefault(),e.appendFromJson(r),e};f1.json=function(){for(var r=[],e=this.defaultLength;e<this.length;e++){for(var t=this[e],n=t.selector,i=t.properties,a={},o=0;o<i.length;o++){var s=i[o];a[s.name]=s.strValue}r.push({selector:n?n.toString():"core",style:a})}return r};var _2={};_2.appendFromString=function(r){var e=this,t=this,n=""+r,i,a,o;n=n.replace(/[/][*](\s|.)+?[*][/]/g,"");function s(){n.length>i.length?n=n.substr(i.length):n=""}function u(){a.length>o.length?a=a.substr(o.length):a=""}for(;;){var l=n.match(/^\s*$/);if(l)break;var c=n.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!c){_a("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+n);break}i=c[0];var f=c[1];if(f!=="core"){var d=new Ig(f);if(d.invalid){_a("Skipping parsing of block: Invalid selector found in string stylesheet: "+f),s();continue}}var v=c[2],p=!1;a=v;for(var m=[];;){var w=a.match(/^\s*$/);if(w)break;var b=a.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!b){_a("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+v),p=!0;break}o=b[0];var y=b[1],_=b[2],S=e.properties[y];if(!S){_a("Skipping property: Invalid property name in: "+o),u();continue}var A=t.parse(y,_);if(!A){_a("Skipping property: Invalid property definition in: "+o),u();continue}m.push({name:y,val:_}),u()}if(p){s();break}t.selector(f);for(var D=0;D<m.length;D++){var R=m[D];t.css(R.name,R.val)}s()}return t};_2.fromString=function(r){var e=this;return e.resetToDefault(),e.appendFromString(r),e};var Nl={};(function(){var r=Cu,e=dF,t=pF,n=gF,i=yF,a=function(ke){return"^"+ke+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},o=function(ke){var _e=r+"|\\w+|"+e+"|"+t+"|"+n+"|"+i;return"^"+ke+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+r+")\\s*\\,\\s*("+r+")\\s*,\\s*("+_e+")\\s*\\,\\s*("+_e+")\\)$"},s=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];Nl.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:a("data")},layoutData:{mapping:!0,regex:a("layoutData")},scratch:{mapping:!0,regex:a("scratch")},mapData:{mapping:!0,regex:o("mapData")},mapLayoutData:{mapping:!0,regex:o("mapLayoutData")},mapScratch:{mapping:!0,regex:o("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:s,singleRegexMatchValue:!0},urls:{regexes:s,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(ke,_e){switch(ke.length){case 2:return _e[0]!=="deg"&&_e[0]!=="rad"&&_e[1]!=="deg"&&_e[1]!=="rad";case 1:return $r(ke[0])||_e[0]==="deg"||_e[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+r+")\\s*,\\s*("+r+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+r+")\\s*,\\s*("+r+")\\s*,\\s*("+r+")\\s*,\\s*("+r+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(ke){var _e=ke.length;return _e===1||_e===2||_e===4}}};var u={zeroNonZero:function(ke,_e){return(ke==null||_e==null)&&ke!==_e||ke==0&&_e!=0?!0:ke!=0&&_e==0},any:function(ke,_e){return ke!=_e},emptyNonEmpty:function(ke,_e){var Ie=Rg(ke),Ge=Rg(_e);return Ie&&!Ge||!Ie&&Ge}},l=Nl.types,c=[{name:"label",type:l.text,triggersBounds:u.any,triggersZOrder:u.emptyNonEmpty},{name:"text-rotation",type:l.textRotation,triggersBounds:u.any},{name:"text-margin-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"text-margin-y",type:l.bidirectionalSize,triggersBounds:u.any}],f=[{name:"source-label",type:l.text,triggersBounds:u.any},{name:"source-text-rotation",type:l.textRotation,triggersBounds:u.any},{name:"source-text-margin-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"source-text-margin-y",type:l.bidirectionalSize,triggersBounds:u.any},{name:"source-text-offset",type:l.size,triggersBounds:u.any}],d=[{name:"target-label",type:l.text,triggersBounds:u.any},{name:"target-text-rotation",type:l.textRotation,triggersBounds:u.any},{name:"target-text-margin-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"target-text-margin-y",type:l.bidirectionalSize,triggersBounds:u.any},{name:"target-text-offset",type:l.size,triggersBounds:u.any}],v=[{name:"font-family",type:l.fontFamily,triggersBounds:u.any},{name:"font-style",type:l.fontStyle,triggersBounds:u.any},{name:"font-weight",type:l.fontWeight,triggersBounds:u.any},{name:"font-size",type:l.size,triggersBounds:u.any},{name:"text-transform",type:l.textTransform,triggersBounds:u.any},{name:"text-wrap",type:l.textWrap,triggersBounds:u.any},{name:"text-overflow-wrap",type:l.textOverflowWrap,triggersBounds:u.any},{name:"text-max-width",type:l.size,triggersBounds:u.any},{name:"text-outline-width",type:l.size,triggersBounds:u.any},{name:"line-height",type:l.positiveNumber,triggersBounds:u.any}],p=[{name:"text-valign",type:l.valign,triggersBounds:u.any},{name:"text-halign",type:l.halign,triggersBounds:u.any},{name:"color",type:l.color},{name:"text-outline-color",type:l.color},{name:"text-outline-opacity",type:l.zeroOneNumber},{name:"text-background-color",type:l.color},{name:"text-background-opacity",type:l.zeroOneNumber},{name:"text-background-padding",type:l.size,triggersBounds:u.any},{name:"text-border-opacity",type:l.zeroOneNumber},{name:"text-border-color",type:l.color},{name:"text-border-width",type:l.size,triggersBounds:u.any},{name:"text-border-style",type:l.borderStyle,triggersBounds:u.any},{name:"text-background-shape",type:l.textBackgroundShape,triggersBounds:u.any},{name:"text-justification",type:l.justification}],m=[{name:"events",type:l.bool,triggersZOrder:u.any},{name:"text-events",type:l.bool,triggersZOrder:u.any}],w=[{name:"display",type:l.display,triggersZOrder:u.any,triggersBounds:u.any,triggersBoundsOfConnectedEdges:u.any,triggersBoundsOfParallelEdges:function(ke,_e,Ie){return ke===_e?!1:Ie.pstyle("curve-style").value==="bezier"}},{name:"visibility",type:l.visibility,triggersZOrder:u.any},{name:"opacity",type:l.zeroOneNumber,triggersZOrder:u.zeroNonZero},{name:"text-opacity",type:l.zeroOneNumber},{name:"min-zoomed-font-size",type:l.size},{name:"z-compound-depth",type:l.zCompoundDepth,triggersZOrder:u.any},{name:"z-index-compare",type:l.zIndexCompare,triggersZOrder:u.any},{name:"z-index",type:l.number,triggersZOrder:u.any}],b=[{name:"overlay-padding",type:l.size,triggersBounds:u.any},{name:"overlay-color",type:l.color},{name:"overlay-opacity",type:l.zeroOneNumber,triggersBounds:u.zeroNonZero},{name:"overlay-shape",type:l.overlayShape,triggersBounds:u.any},{name:"overlay-corner-radius",type:l.cornerRadius}],y=[{name:"underlay-padding",type:l.size,triggersBounds:u.any},{name:"underlay-color",type:l.color},{name:"underlay-opacity",type:l.zeroOneNumber,triggersBounds:u.zeroNonZero},{name:"underlay-shape",type:l.overlayShape,triggersBounds:u.any},{name:"underlay-corner-radius",type:l.cornerRadius}],_=[{name:"transition-property",type:l.propList},{name:"transition-duration",type:l.time},{name:"transition-delay",type:l.time},{name:"transition-timing-function",type:l.easing}],S=function(ke,_e){return _e.value==="label"?-ke.poolIndex():_e.pfValue},A=[{name:"height",type:l.nodeSize,triggersBounds:u.any,hashOverride:S},{name:"width",type:l.nodeSize,triggersBounds:u.any,hashOverride:S},{name:"shape",type:l.nodeShape,triggersBounds:u.any},{name:"shape-polygon-points",type:l.polygonPointList,triggersBounds:u.any},{name:"corner-radius",type:l.cornerRadius},{name:"background-color",type:l.color},{name:"background-fill",type:l.fill},{name:"background-opacity",type:l.zeroOneNumber},{name:"background-blacken",type:l.nOneOneNumber},{name:"background-gradient-stop-colors",type:l.colors},{name:"background-gradient-stop-positions",type:l.percentages},{name:"background-gradient-direction",type:l.gradientDirection},{name:"padding",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"padding-relative-to",type:l.paddingRelativeTo,triggersBounds:u.any},{name:"bounds-expansion",type:l.boundsExpansion,triggersBounds:u.any}],D=[{name:"border-color",type:l.color},{name:"border-opacity",type:l.zeroOneNumber},{name:"border-width",type:l.size,triggersBounds:u.any},{name:"border-style",type:l.borderStyle},{name:"border-cap",type:l.lineCap},{name:"border-join",type:l.lineJoin},{name:"border-dash-pattern",type:l.numbers},{name:"border-dash-offset",type:l.number},{name:"border-position",type:l.linePosition}],R=[{name:"outline-color",type:l.color},{name:"outline-opacity",type:l.zeroOneNumber},{name:"outline-width",type:l.size,triggersBounds:u.any},{name:"outline-style",type:l.borderStyle},{name:"outline-offset",type:l.size,triggersBounds:u.any}],k=[{name:"background-image",type:l.urls},{name:"background-image-crossorigin",type:l.bgCrossOrigin},{name:"background-image-opacity",type:l.zeroOneNumbers},{name:"background-image-containment",type:l.bgContainment},{name:"background-image-smoothing",type:l.bools},{name:"background-position-x",type:l.bgPos},{name:"background-position-y",type:l.bgPos},{name:"background-width-relative-to",type:l.bgRelativeTo},{name:"background-height-relative-to",type:l.bgRelativeTo},{name:"background-repeat",type:l.bgRepeat},{name:"background-fit",type:l.bgFit},{name:"background-clip",type:l.bgClip},{name:"background-width",type:l.bgWH},{name:"background-height",type:l.bgWH},{name:"background-offset-x",type:l.bgPos},{name:"background-offset-y",type:l.bgPos}],j=[{name:"position",type:l.position,triggersBounds:u.any},{name:"compound-sizing-wrt-labels",type:l.compoundIncludeLabels,triggersBounds:u.any},{name:"min-width",type:l.size,triggersBounds:u.any},{name:"min-width-bias-left",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"min-width-bias-right",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"min-height",type:l.size,triggersBounds:u.any},{name:"min-height-bias-top",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"min-height-bias-bottom",type:l.sizeMaybePercent,triggersBounds:u.any}],F=[{name:"line-style",type:l.lineStyle},{name:"line-color",type:l.color},{name:"line-fill",type:l.fill},{name:"line-cap",type:l.lineCap},{name:"line-opacity",type:l.zeroOneNumber},{name:"line-dash-pattern",type:l.numbers},{name:"line-dash-offset",type:l.number},{name:"line-outline-width",type:l.size},{name:"line-outline-color",type:l.color},{name:"line-gradient-stop-colors",type:l.colors},{name:"line-gradient-stop-positions",type:l.percentages},{name:"curve-style",type:l.curveStyle,triggersBounds:u.any,triggersBoundsOfParallelEdges:function(ke,_e){return ke===_e?!1:ke==="bezier"||_e==="bezier"}},{name:"haystack-radius",type:l.zeroOneNumber,triggersBounds:u.any},{name:"source-endpoint",type:l.edgeEndpoint,triggersBounds:u.any},{name:"target-endpoint",type:l.edgeEndpoint,triggersBounds:u.any},{name:"control-point-step-size",type:l.size,triggersBounds:u.any},{name:"control-point-distances",type:l.bidirectionalSizes,triggersBounds:u.any},{name:"control-point-weights",type:l.numbers,triggersBounds:u.any},{name:"segment-distances",type:l.bidirectionalSizes,triggersBounds:u.any},{name:"segment-weights",type:l.numbers,triggersBounds:u.any},{name:"segment-radii",type:l.numbers,triggersBounds:u.any},{name:"radius-type",type:l.radiusType,triggersBounds:u.any},{name:"taxi-turn",type:l.bidirectionalSizeMaybePercent,triggersBounds:u.any},{name:"taxi-turn-min-distance",type:l.size,triggersBounds:u.any},{name:"taxi-direction",type:l.axisDirection,triggersBounds:u.any},{name:"taxi-radius",type:l.number,triggersBounds:u.any},{name:"edge-distances",type:l.edgeDistances,triggersBounds:u.any},{name:"arrow-scale",type:l.positiveNumber,triggersBounds:u.any},{name:"loop-direction",type:l.angle,triggersBounds:u.any},{name:"loop-sweep",type:l.angle,triggersBounds:u.any},{name:"source-distance-from-node",type:l.size,triggersBounds:u.any},{name:"target-distance-from-node",type:l.size,triggersBounds:u.any}],z=[{name:"ghost",type:l.bool,triggersBounds:u.any},{name:"ghost-offset-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"ghost-offset-y",type:l.bidirectionalSize,triggersBounds:u.any},{name:"ghost-opacity",type:l.zeroOneNumber}],q=[{name:"selection-box-color",type:l.color},{name:"selection-box-opacity",type:l.zeroOneNumber},{name:"selection-box-border-color",type:l.color},{name:"selection-box-border-width",type:l.size},{name:"active-bg-color",type:l.color},{name:"active-bg-opacity",type:l.zeroOneNumber},{name:"active-bg-size",type:l.size},{name:"outside-texture-bg-color",type:l.color},{name:"outside-texture-bg-opacity",type:l.zeroOneNumber}],$=[];Nl.pieBackgroundN=16,$.push({name:"pie-size",type:l.sizeMaybePercent});for(var K=1;K<=Nl.pieBackgroundN;K++)$.push({name:"pie-"+K+"-background-color",type:l.color}),$.push({name:"pie-"+K+"-background-size",type:l.percent}),$.push({name:"pie-"+K+"-background-opacity",type:l.zeroOneNumber});var oe=[],J=Nl.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:l.arrowShape,triggersBounds:u.any},{name:"arrow-color",type:l.color},{name:"arrow-fill",type:l.arrowFill},{name:"arrow-width",type:l.arrowWidth}].forEach(function(De){J.forEach(function(ke){var _e=ke+"-"+De.name,Ie=De.type,Ge=De.triggersBounds;oe.push({name:_e,type:Ie,triggersBounds:Ge})})},{});var re=Nl.properties=[].concat(m,_,w,b,y,z,p,v,c,f,d,A,D,R,k,$,j,F,oe,q),ae=Nl.propertyGroups={behavior:m,transition:_,visibility:w,overlay:b,underlay:y,ghost:z,commonLabel:p,labelDimensions:v,mainLabel:c,sourceLabel:f,targetLabel:d,nodeBody:A,nodeBorder:D,nodeOutline:R,backgroundImage:k,pie:$,compound:j,edgeLine:F,edgeArrow:oe,core:q},ve=Nl.propertyGroupNames={},se=Nl.propertyGroupKeys=Object.keys(ae);se.forEach(function(De){ve[De]=ae[De].map(function(ke){return ke.name}),ae[De].forEach(function(ke){return ke.groupKey=De})});var ce=Nl.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Nl.propertyNames=re.map(function(De){return De.name});for(var pe=0;pe<re.length;pe++){var Pe=re[pe];re[Pe.name]=Pe}for(var de=0;de<ce.length;de++){var ge=ce[de],Ce=re[ge.pointsTo],Ne={name:ge.name,alias:!0,pointsTo:Ce};re.push(Ne),re[ge.name]=Ne}})();Nl.getDefaultProperty=function(r){return this.getDefaultProperties()[r]};Nl.getDefaultProperties=function(){var r=this._private;if(r.defaultProperties!=null)return r.defaultProperties;for(var e=en({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(u,l){for(var c=1;c<=Nl.pieBackgroundN;c++){var f=l.name.replace("{{i}}",c),d=l.value;u[f]=d}return u},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(u,l){return Nl.arrowPrefixes.forEach(function(c){var f=c+"-"+l.name,d=l.value;u[f]=d}),u},{})),t={},n=0;n<this.properties.length;n++){var i=this.properties[n];if(!i.pointsTo){var a=i.name,o=e[a],s=this.parse(a,o);t[a]=s}}return r.defaultProperties=t,r.defaultProperties};Nl.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var h1={};h1.parse=function(r,e,t,n){var i=this;if(Vo(e))return i.parseImplWarn(r,e,t,n);var a=n==="mapping"||n===!0||n===!1||n==null?"dontcare":n,o=t?"t":"f",s=""+e,u=T3(r,s,o,a),l=i.propCache=i.propCache||[],c;return(c=l[u])||(c=l[u]=i.parseImplWarn(r,e,t,n)),(t||n==="mapping")&&(c=ip(c),c&&(c.value=ip(c.value))),c};h1.parseImplWarn=function(r,e,t,n){var i=this.parseImpl(r,e,t,n);return!i&&e!=null&&_a("The style property `".concat(r,": ").concat(e,"` is invalid")),i&&(i.name==="width"||i.name==="height")&&e==="label"&&_a("The style value of `label` is deprecated for `"+i.name+"`"),i};h1.parseImpl=function(r,e,t,n){var i=this;r=a2(r);var a=i.properties[r],o=e,s=i.types;if(!a||e===void 0)return null;a.alias&&(a=a.pointsTo,r=a.name);var u=$r(e);u&&(e=e.trim());var l=a.type;if(!l)return null;if(t&&(e===""||e===null))return{name:r,value:e,bypass:!0,deleteBypass:!0};if(Vo(e))return{name:r,value:e,strValue:"fn",mapped:s.fn,bypass:t};var c,f;if(!(!u||n||e.length<7||e[1]!=="a")){if(e.length>=7&&e[0]==="d"&&(c=new RegExp(s.data.regex).exec(e))){if(t)return!1;var d=s.data;return{name:r,value:c,strValue:""+e,mapped:d,field:c[1],bypass:t}}else if(e.length>=10&&e[0]==="m"&&(f=new RegExp(s.mapData.regex).exec(e))){if(t||l.multiple)return!1;var v=s.mapData;if(!(l.color||l.number))return!1;var p=this.parse(r,f[4]);if(!p||p.mapped)return!1;var m=this.parse(r,f[5]);if(!m||m.mapped)return!1;if(p.pfValue===m.pfValue||p.strValue===m.strValue)return _a("`"+r+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+r+": "+p.strValue+"`"),this.parse(r,p.strValue);if(l.color){var w=p.value,b=m.value,y=w[0]===b[0]&&w[1]===b[1]&&w[2]===b[2]&&(w[3]===b[3]||(w[3]==null||w[3]===1)&&(b[3]==null||b[3]===1));if(y)return!1}return{name:r,value:f,strValue:""+e,mapped:v,field:f[1],fieldMin:parseFloat(f[2]),fieldMax:parseFloat(f[3]),valueMin:p.value,valueMax:m.value,bypass:t}}}if(l.multiple&&n!=="multiple"){var _;if(u?_=e.split(/\s+/):Ga(e)?_=e:_=[e],l.evenMultiple&&_.length%2!==0)return null;for(var S=[],A=[],D=[],R="",k=!1,j=0;j<_.length;j++){var F=i.parse(r,_[j],t,"multiple");k=k||$r(F.value),S.push(F.value),D.push(F.pfValue!=null?F.pfValue:F.value),A.push(F.units),R+=(j>0?" ":"")+F.strValue}return l.validate&&!l.validate(S,A)?null:l.singleEnum&&k?S.length===1&&$r(S[0])?{name:r,value:S[0],strValue:S[0],bypass:t}:null:{name:r,value:S,pfValue:D,strValue:R,bypass:t,units:A}}var z=function(){for(var ke=0;ke<l.enums.length;ke++){var _e=l.enums[ke];if(_e===e)return{name:r,value:e,strValue:""+e,bypass:t}}return null};if(l.number){var q,$="px";if(l.units&&(q=l.units),l.implicitUnits&&($=l.implicitUnits),!l.unitless)if(u){var K="px|em"+(l.allowPercent?"|\\%":"");q&&(K=q);var oe=e.match("^("+Cu+")("+K+")?$");oe&&(e=oe[1],q=oe[2]||$)}else(!q||l.implicitUnits)&&(q=$);if(e=parseFloat(e),isNaN(e)&&l.enums===void 0)return null;if(isNaN(e)&&l.enums!==void 0)return e=o,z();if(l.integer&&!oF(e)||l.min!==void 0&&(e<l.min||l.strictMin&&e===l.min)||l.max!==void 0&&(e>l.max||l.strictMax&&e===l.max))return null;var J={name:r,value:e,strValue:""+e+(q||""),units:q,bypass:t};return l.unitless||q!=="px"&&q!=="em"?J.pfValue=e:J.pfValue=q==="px"||!q?e:this.getEmSizeInPixels()*e,(q==="ms"||q==="s")&&(J.pfValue=q==="ms"?e:1e3*e),(q==="deg"||q==="rad")&&(J.pfValue=q==="rad"?e:dU(e)),q==="%"&&(J.pfValue=e/100),J}else if(l.propList){var re=[],ae=""+e;if(ae!=="none"){for(var ve=ae.split(/\s*,\s*|\s+/),se=0;se<ve.length;se++){var ce=ve[se].trim();i.properties[ce]?re.push(ce):_a("`"+ce+"` is not a valid property name")}if(re.length===0)return null}return{name:r,value:re,strValue:re.length===0?"none":re.join(" "),bypass:t}}else if(l.color){var pe=b3(e);return pe?{name:r,value:pe,pfValue:pe,strValue:"rgb("+pe[0]+","+pe[1]+","+pe[2]+")",bypass:t}:null}else if(l.regex||l.regexes){if(l.enums){var Pe=z();if(Pe)return Pe}for(var de=l.regexes?l.regexes:[l.regex],ge=0;ge<de.length;ge++){var Ce=new RegExp(de[ge]),Ne=Ce.exec(e);if(Ne)return{name:r,value:l.singleRegexMatchValue?Ne[1]:Ne,strValue:""+e,bypass:t}}return null}else return l.string?{name:r,value:""+e,strValue:""+e,bypass:t}:l.enums?z():null};var ul=function(e){if(!(this instanceof ul))return new ul(e);if(!i2(e)){Ho("A style must have a core reference");return}this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()},cc=ul.prototype;cc.instanceString=function(){return"style"};cc.clear=function(){for(var r=this._private,e=r.cy,t=e.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,r.contextStyles={},r.propDiffs={},this.cleanElements(t,!0),t.forEach(function(i){var a=i[0]._private;a.styleDirty=!0,a.appliedInitStyle=!1}),this};cc.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};cc.core=function(r){return this._private.coreStyle[r]||this.getDefaultProperty(r)};cc.selector=function(r){var e=r==="core"?null:new Ig(r),t=this.length++;return this[t]={selector:e,properties:[],mappedProperties:[],index:t},this};cc.css=function(){var r=this,e=arguments;if(e.length===1)for(var t=e[0],n=0;n<r.properties.length;n++){var i=r.properties[n],a=t[i.name];a===void 0&&(a=t[Q_(i.name)]),a!==void 0&&this.cssRule(i.name,a)}else e.length===2&&this.cssRule(e[0],e[1]);return this};cc.style=cc.css;cc.cssRule=function(r,e){var t=this.parse(r,e);if(t){var n=this.length-1;this[n].properties.push(t),this[n].properties[t.name]=t,t.name.match(/pie-(\d+)-background-size/)&&t.value&&(this._private.hasPie=!0),t.mapped&&this[n].mappedProperties.push(t);var i=!this[n].selector;i&&(this._private.coreStyle[t.name]=t)}return this};cc.append=function(r){return g3(r)?r.appendToStyle(this):Ga(r)?this.appendFromJson(r):$r(r)&&this.appendFromString(r),this};ul.fromJson=function(r,e){var t=new ul(r);return t.fromJson(e),t};ul.fromString=function(r,e){return new ul(r).fromString(e)};[ll,Sb,b2,op,f1,_2,Nl,h1].forEach(function(r){en(cc,r)});ul.types=cc.types;ul.properties=cc.properties;ul.propertyGroups=cc.propertyGroups;ul.propertyGroupNames=cc.propertyGroupNames;ul.propertyGroupKeys=cc.propertyGroupKeys;var pz={style:function(e){if(e){var t=this.setStyle(e);t.update()}return this._private.style},setStyle:function(e){var t=this._private;return g3(e)?t.style=e.generateStyle(this):Ga(e)?t.style=ul.fromJson(this,e):$r(e)?t.style=ul.fromString(this,e):t.style=ul(this),t.style},updateStyle:function(){this.mutableElements().updateStyle()}},gz="single",jy={autolock:function(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},autoungrabify:function(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},autounselectify:function(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},selectionType:function(e){var t=this._private;if(t.selectionType==null&&(t.selectionType=gz),e!==void 0)(e==="additive"||e==="single")&&(t.selectionType=e);else return t.selectionType;return this},panningEnabled:function(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},userPanningEnabled:function(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},pan:function(){var e=arguments,t=this._private.pan,n,i,a,o,s;switch(e.length){case 0:return t;case 1:if($r(e[0]))return n=e[0],t[n];if(Li(e[0])){if(!this._private.panningEnabled)return this;a=e[0],o=a.x,s=a.y,gr(o)&&(t.x=o),gr(s)&&(t.y=s),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;n=e[0],i=e[1],(n==="x"||n==="y")&&gr(i)&&(t[n]=i),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(e,t){var n=arguments,i=this._private.pan,a,o,s,u,l;if(!this._private.panningEnabled)return this;switch(n.length){case 1:Li(e)&&(s=n[0],u=s.x,l=s.y,gr(u)&&(i.x+=u),gr(l)&&(i.y+=l),this.emit("pan viewport"));break;case 2:a=e,o=t,(a==="x"||a==="y")&&gr(o)&&(i[a]+=o),this.emit("pan viewport");break}return this.notify("viewport"),this},gc:function(){this.notify("gc")},fit:function(e,t){var n=this.getFitViewport(e,t);if(n){var i=this._private;i.zoom=n.zoom,i.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,t){if(gr(e)&&t===void 0&&(t=e,e=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var n;if($r(e)){var i=e;e=this.$(i)}else if(lF(e)){var a=e;n={x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2},n.w=n.x2-n.x1,n.h=n.y2-n.y1}else xh(e)||(e=this.mutableElements());if(!(xh(e)&&e.empty())){n=n||e.boundingBox();var o=this.width(),s=this.height(),u;if(t=gr(t)?t:0,!isNaN(o)&&!isNaN(s)&&o>0&&s>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0){u=Math.min((o-2*t)/n.w,(s-2*t)/n.h),u=u>this._private.maxZoom?this._private.maxZoom:u,u=u<this._private.minZoom?this._private.minZoom:u;var l={x:(o-u*(n.x1+n.x2))/2,y:(s-u*(n.y1+n.y2))/2};return{zoom:u,pan:l}}}}},zoomRange:function(e,t){var n=this._private;if(t==null){var i=e;e=i.min,t=i.max}return gr(e)&&gr(t)&&e<=t?(n.minZoom=e,n.maxZoom=t):gr(e)&&t===void 0&&e<=n.maxZoom?n.minZoom=e:gr(t)&&e===void 0&&t>=n.minZoom&&(n.maxZoom=t),this},minZoom:function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var t=this._private,n=t.pan,i=t.zoom,a,o,s=!1;if(t.zoomingEnabled||(s=!0),gr(e)?o=e:Li(e)&&(o=e.level,e.position!=null?a=t1(e.position,i,n):e.renderedPosition!=null&&(a=e.renderedPosition),a!=null&&!t.panningEnabled&&(s=!0)),o=o>t.maxZoom?t.maxZoom:o,o=o<t.minZoom?t.minZoom:o,s||!gr(o)||o===i||a!=null&&(!gr(a.x)||!gr(a.y)))return null;if(a!=null){var u=n,l=i,c=o,f={x:-c/l*(a.x-u.x)+a.x,y:-c/l*(a.y-u.y)+a.y};return{zoomed:!0,panned:!0,zoom:c,pan:f}}else return{zoomed:!0,panned:!1,zoom:o,pan:n}},zoom:function(e){if(e===void 0)return this._private.zoom;var t=this.getZoomedViewport(e),n=this._private;return t==null||!t.zoomed?this:(n.zoom=t.zoom,t.panned&&(n.pan.x=t.pan.x,n.pan.y=t.pan.y),this.emit("zoom"+(t.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(e){var t=this._private,n=!0,i=!0,a=[],o=!1,s=!1;if(!e)return this;if(gr(e.zoom)||(n=!1),Li(e.pan)||(i=!1),!n&&!i)return this;if(n){var u=e.zoom;u<t.minZoom||u>t.maxZoom||!t.zoomingEnabled?o=!0:(t.zoom=u,a.push("zoom"))}if(i&&(!o||!e.cancelOnFailedZoom)&&t.panningEnabled){var l=e.pan;gr(l.x)&&(t.pan.x=l.x,s=!1),gr(l.y)&&(t.pan.y=l.y,s=!1),s||a.push("pan")}return a.length>0&&(a.push("viewport"),this.emit(a.join(" ")),this.notify("viewport")),this},center:function(e){var t=this.getCenterPan(e);return t&&(this._private.pan=t,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,t){if(this._private.panningEnabled){if($r(e)){var n=e;e=this.mutableElements().filter(n)}else xh(e)||(e=this.mutableElements());if(e.length!==0){var i=e.boundingBox(),a=this.width(),o=this.height();t=t===void 0?this._private.zoom:t;var s={x:(a-t*(i.x1+i.x2))/2,y:(o-t*(i.y1+i.y2))/2};return s}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,t=e.container,n=this;return e.sizeCache=e.sizeCache||(t?function(){var i=n.window().getComputedStyle(t),a=function(s){return parseFloat(i.getPropertyValue(s))};return{width:t.clientWidth-a("padding-left")-a("padding-right"),height:t.clientHeight-a("padding-top")-a("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,t=this._private.zoom,n=this.renderedExtent(),i={x1:(n.x1-e.x)/t,x2:(n.x2-e.x)/t,y1:(n.y1-e.y)/t,y2:(n.y2-e.y)/t};return i.w=i.x2-i.x1,i.h=i.y2-i.y1,i},renderedExtent:function(){var e=this.width(),t=this.height();return{x1:0,y1:0,x2:e,y2:t,w:e,h:t}},multiClickDebounceTime:function(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this}};jy.centre=jy.center;jy.autolockNodes=jy.autolock;jy.autoungrabifyNodes=jy.autoungrabify;var ob={data:ba.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:ba.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:ba.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:ba.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};ob.attr=ob.data;ob.removeAttr=ob.removeData;var sb=function(e){var t=this;e=en({},e);var n=e.container;n&&!I_(n)&&I_(n[0])&&(n=n[0]);var i=n?n._cyreg:null;i=i||{},i&&i.cy&&(i.cy.destroy(),i={});var a=i.readies=i.readies||[];n&&(n._cyreg=i),i.cy=t;var o=Tu!==void 0&&n!==void 0&&!e.headless,s=e;s.layout=en({name:o?"grid":"null"},s.layout),s.renderer=en({name:o?"canvas":"null"},s.renderer);var u=function(p,m,w){return m!==void 0?m:w!==void 0?w:p},l=this._private={container:n,ready:!1,options:s,elements:new jl(this),listeners:[],aniEles:new jl(this),data:s.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:u(!0,s.zoomingEnabled),userZoomingEnabled:u(!0,s.userZoomingEnabled),panningEnabled:u(!0,s.panningEnabled),userPanningEnabled:u(!0,s.userPanningEnabled),boxSelectionEnabled:u(!0,s.boxSelectionEnabled),autolock:u(!1,s.autolock,s.autolockNodes),autoungrabify:u(!1,s.autoungrabify,s.autoungrabifyNodes),autounselectify:u(!1,s.autounselectify),styleEnabled:s.styleEnabled===void 0?o:s.styleEnabled,zoom:gr(s.zoom)?s.zoom:1,pan:{x:Li(s.pan)&&gr(s.pan.x)?s.pan.x:0,y:Li(s.pan)&&gr(s.pan.y)?s.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:u(250,s.multiClickDebounceTime)};this.createEmitter(),this.selectionType(s.selectionType),this.zoomRange({min:s.minZoom,max:s.maxZoom});var c=function(p,m){var w=p.some(cF);if(w)return e0.all(p).then(m);m(p)};l.styleEnabled&&t.setStyle([]);var f=en({},s,s.renderer);t.initRenderer(f);var d=function(p,m,w){t.notifications(!1);var b=t.mutableElements();b.length>0&&b.remove(),p!=null&&(Li(p)||Ga(p))&&t.add(p),t.one("layoutready",function(_){t.notifications(!0),t.emit(_),t.one("load",m),t.emitAndNotify("load")}).one("layoutstop",function(){t.one("done",w),t.emit("done")});var y=en({},t._private.options.layout);y.eles=t.elements(),t.layout(y).run()};c([s.style,s.elements],function(v){var p=v[0],m=v[1];l.styleEnabled&&t.style().append(p),d(m,function(){t.startAnimationLoop(),l.ready=!0,Vo(s.ready)&&t.on("ready",s.ready);for(var w=0;w<a.length;w++){var b=a[w];t.on("ready",b)}i&&(i.readies=[]),t.emit("ready")},s.done)})},F_=sb.prototype;en(F_,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},window:function(){var e=this._private.container;if(e==null)return Tu;var t=this._private.container.ownerDocument;return t===void 0||t==null?Tu:t.defaultView||Tu},mount:function(e){if(e!=null){var t=this,n=t._private,i=n.options;return!I_(e)&&I_(e[0])&&(e=e[0]),t.stopAnimationLoop(),t.destroyRenderer(),n.container=e,n.styleEnabled=!0,t.invalidateSize(),t.initRenderer(en({},i,i.renderer,{name:i.renderer.name==="null"?"canvas":i.renderer.name})),t.startAnimationLoop(),t.style(i.style),t.emit("mount"),t}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return ip(this._private.options)},json:function(e){var t=this,n=t._private,i=t.mutableElements(),a=function(S){return t.getElementById(S.id())};if(Li(e)){if(t.startBatch(),e.elements){var o={},s=function(S,A){for(var D=[],R=[],k=0;k<S.length;k++){var j=S[k];if(!j.data.id){_a("cy.json() cannot handle elements without an ID attribute");continue}var F=""+j.data.id,z=t.getElementById(F);o[F]=!0,z.length!==0?R.push({ele:z,json:j}):(A&&(j.group=A),D.push(j))}t.add(D);for(var q=0;q<R.length;q++){var $=R[q],K=$.ele,oe=$.json;K.json(oe)}};if(Ga(e.elements))s(e.elements);else for(var u=["nodes","edges"],l=0;l<u.length;l++){var c=u[l],f=e.elements[c];Ga(f)&&s(f,c)}var d=t.collection();i.filter(function(_){return!o[_.id()]}).forEach(function(_){_.isParent()?d.merge(_):_.remove()}),d.forEach(function(_){return _.children().move({parent:null})}),d.forEach(function(_){return a(_).remove()})}e.style&&t.style(e.style),e.zoom!=null&&e.zoom!==n.zoom&&t.zoom(e.zoom),e.pan&&(e.pan.x!==n.pan.x||e.pan.y!==n.pan.y)&&t.pan(e.pan),e.data&&t.data(e.data);for(var v=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],p=0;p<v.length;p++){var m=v[p];e[m]!=null&&t[m](e[m])}return t.endBatch(),this}else{var w=!!e,b={};w?b.elements=this.elements().map(function(_){return _.json()}):(b.elements={},i.forEach(function(_){var S=_.group();b.elements[S]||(b.elements[S]=[]),b.elements[S].push(_.json())})),this._private.styleEnabled&&(b.style=t.style().json()),b.data=ip(t.data());var y=n.options;return b.zoomingEnabled=n.zoomingEnabled,b.userZoomingEnabled=n.userZoomingEnabled,b.zoom=n.zoom,b.minZoom=n.minZoom,b.maxZoom=n.maxZoom,b.panningEnabled=n.panningEnabled,b.userPanningEnabled=n.userPanningEnabled,b.pan=ip(n.pan),b.boxSelectionEnabled=n.boxSelectionEnabled,b.renderer=ip(y.renderer),b.hideEdgesOnViewport=y.hideEdgesOnViewport,b.textureOnViewport=y.textureOnViewport,b.wheelSensitivity=y.wheelSensitivity,b.motionBlur=y.motionBlur,b.multiClickDebounceTime=y.multiClickDebounceTime,b}}});F_.$id=F_.getElementById;[az,cz,gj,IC,m_,hz,kC,b_,pz,jy,ob].forEach(function(r){en(F_,r)});var yz={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}},mz={maximal:!1,acyclic:!1},mm=function(e){return e.scratch("breadthfirst")},NP=function(e,t){return e.scratch("breadthfirst",t)};function yj(r){this.options=en({},yz,mz,r)}yj.prototype.run=function(){var r=this.options,e=r.cy,t=r.eles,n=t.nodes().filter(function(Q){return Q.isChildless()}),i=t,a=r.directed,o=r.acyclic||r.maximal||r.maximalAdjustments>0,s=!!r.boundingBox,u=e.extent(),l=Ff(s?r.boundingBox:{x1:u.x1,y1:u.y1,w:u.w,h:u.h}),c;if(xh(r.roots))c=r.roots;else if(Ga(r.roots)){for(var f=[],d=0;d<r.roots.length;d++){var v=r.roots[d],p=e.getElementById(v);f.push(p)}c=e.collection(f)}else if($r(r.roots))c=e.$(r.roots);else if(a)c=n.roots();else{var m=t.components();c=e.collection();for(var w=function(){var ne=m[b],fe=ne.maxDegree(!1),Ue=ne.filter(function(qe){return qe.degree(!1)===fe});c=c.add(Ue)},b=0;b<m.length;b++)w()}var y=[],_={},S=function(ne,fe){y[fe]==null&&(y[fe]=[]);var Ue=y[fe].length;y[fe].push(ne),NP(ne,{index:Ue,depth:fe})},A=function(ne,fe){var Ue=mm(ne),qe=Ue.depth,We=Ue.index;y[qe][We]=null,ne.isChildless()&&S(ne,fe)};i.bfs({roots:c,directed:r.directed,visit:function(ne,fe,Ue,qe,We){var ft=ne[0],Ht=ft.id();ft.isChildless()&&S(ft,We),_[Ht]=!0}});for(var D=[],R=0;R<n.length;R++){var k=n[R];_[k.id()]||D.push(k)}var j=function(ne){for(var fe=y[ne],Ue=0;Ue<fe.length;Ue++){var qe=fe[Ue];if(qe==null){fe.splice(Ue,1),Ue--;continue}NP(qe,{depth:ne,index:Ue})}},F=function(ne,fe){for(var Ue=mm(ne),qe=ne.incomers().filter(function(ht){return ht.isNode()&&t.has(ht)}),We=-1,ft=ne.id(),Ht=0;Ht<qe.length;Ht++){var Et=qe[Ht],Se=mm(Et);We=Math.max(We,Se.depth)}if(Ue.depth<=We){if(!r.acyclic&&fe[ft])return null;var Ke=We+1;return A(ne,Ke),fe[ft]=Ke,!0}return!1};if(a&&o){var z=[],q={},$=function(ne){return z.push(ne)},K=function(){return z.shift()};for(n.forEach(function(Q){return z.push(Q)});z.length>0;){var oe=K(),J=F(oe,q);if(J)oe.outgoers().filter(function(Q){return Q.isNode()&&t.has(Q)}).forEach($);else if(J===null){_a("Detected double maximal shift for node `"+oe.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}var re=0;if(r.avoidOverlap)for(var ae=0;ae<n.length;ae++){var ve=n[ae],se=ve.layoutDimensions(r),ce=se.w,pe=se.h;re=Math.max(re,ce,pe)}var Pe={},de=function(ne){if(Pe[ne.id()])return Pe[ne.id()];for(var fe=mm(ne).depth,Ue=ne.neighborhood(),qe=0,We=0,ft=0;ft<Ue.length;ft++){var Ht=Ue[ft];if(!(Ht.isEdge()||Ht.isParent()||!n.has(Ht))){var Et=mm(Ht);if(Et!=null){var Se=Et.index,Ke=Et.depth;if(!(Se==null||Ke==null)){var ht=y[Ke].length;Ke<fe&&(qe+=Se/ht,We++)}}}}return We=Math.max(1,We),qe=qe/We,We===0&&(qe=0),Pe[ne.id()]=qe,qe},ge=function(ne,fe){var Ue=de(ne),qe=de(fe),We=Ue-qe;return We===0?m3(ne.id(),fe.id()):We};r.depthSort!==void 0&&(ge=r.depthSort);for(var Ce=y.length,Ne=0;Ne<Ce;Ne++)y[Ne].sort(ge),j(Ne);for(var De=[],ke=0;ke<D.length;ke++)De.push(D[ke]);var _e=function(){for(var ne=0;ne<Ce;ne++)j(ne)};De.length&&(y.unshift(De),Ce=y.length,_e());for(var Ie=0,Ge=0;Ge<Ce;Ge++)Ie=Math.max(y[Ge].length,Ie);var Qe={x:l.x1+l.w/2,y:l.y1+l.h/2},ot=n.reduce(function(Q,ne){return function(fe){return{w:Q.w===-1?fe.w:(Q.w+fe.w)/2,h:Q.h===-1?fe.h:(Q.h+fe.h)/2}}(ne.boundingBox({includeLabels:r.nodeDimensionsIncludeLabels}))},{w:-1,h:-1}),Tt=Math.max(Ce===1?0:s?(l.h-r.padding*2-ot.h)/(Ce-1):(l.h-r.padding*2-ot.h)/(Ce+1),re),zt=y.reduce(function(Q,ne){return Math.max(Q,ne.length)},0),pt=function(ne){var fe=mm(ne),Ue=fe.depth,qe=fe.index;if(r.circle){var We=Math.min(l.w/2/Ce,l.h/2/Ce);We=Math.max(We,re);var ft=We*Ue+We-(Ce>0&&y[0].length<=3?We/2:0),Ht=2*Math.PI/y[Ue].length*qe;return Ue===0&&y[0].length===1&&(ft=1),{x:Qe.x+ft*Math.cos(Ht),y:Qe.y+ft*Math.sin(Ht)}}else{var Et=y[Ue].length,Se=Math.max(Et===1?0:s?(l.w-r.padding*2-ot.w)/((r.grid?zt:Et)-1):(l.w-r.padding*2-ot.w)/((r.grid?zt:Et)+1),re),Ke={x:Qe.x+(qe+1-(Et+1)/2)*Se,y:Qe.y+(Ue+1-(Ce+1)/2)*Tt};return Ke}};return t.nodes().layoutPositions(this,r,pt),this};var bz={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function mj(r){this.options=en({},bz,r)}mj.prototype.run=function(){var r=this.options,e=r,t=r.cy,n=e.eles,i=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,a=n.nodes().not(":parent");e.sort&&(a=a.sort(e.sort));for(var o=Ff(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()}),s={x:o.x1+o.w/2,y:o.y1+o.h/2},u=e.sweep===void 0?2*Math.PI-2*Math.PI/a.length:e.sweep,l=u/Math.max(1,a.length-1),c,f=0,d=0;d<a.length;d++){var v=a[d],p=v.layoutDimensions(e),m=p.w,w=p.h;f=Math.max(f,m,w)}if(gr(e.radius)?c=e.radius:a.length<=1?c=0:c=Math.min(o.h,o.w)/2-f,a.length>1&&e.avoidOverlap){f*=1.75;var b=Math.cos(l)-Math.cos(0),y=Math.sin(l)-Math.sin(0),_=Math.sqrt(f*f/(b*b+y*y));c=Math.max(_,c)}var S=function(D,R){var k=e.startAngle+R*l*(i?1:-1),j=c*Math.cos(k),F=c*Math.sin(k),z={x:s.x+j,y:s.y+F};return z};return n.nodes().layoutPositions(this,e,S),this};var _z={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function bj(r){this.options=en({},_z,r)}bj.prototype.run=function(){for(var r=this.options,e=r,t=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,n=r.cy,i=e.eles,a=i.nodes().not(":parent"),o=Ff(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),s={x:o.x1+o.w/2,y:o.y1+o.h/2},u=[],l=0,c=0;c<a.length;c++){var f=a[c],d=void 0;d=e.concentric(f),u.push({value:d,node:f}),f._private.scratch.concentric=d}a.updateStyle();for(var v=0;v<a.length;v++){var p=a[v],m=p.layoutDimensions(e);l=Math.max(l,m.w,m.h)}u.sort(function(ot,Tt){return Tt.value-ot.value});for(var w=e.levelWidth(a),b=[[]],y=b[0],_=0;_<u.length;_++){var S=u[_];if(y.length>0){var A=Math.abs(y[0].value-S.value);A>=w&&(y=[],b.push(y))}y.push(S)}var D=l+e.minNodeSpacing;if(!e.avoidOverlap){var R=b.length>0&&b[0].length>1,k=Math.min(o.w,o.h)/2-D,j=k/(b.length+R?1:0);D=Math.min(D,j)}for(var F=0,z=0;z<b.length;z++){var q=b[z],$=e.sweep===void 0?2*Math.PI-2*Math.PI/q.length:e.sweep,K=q.dTheta=$/Math.max(1,q.length-1);if(q.length>1&&e.avoidOverlap){var oe=Math.cos(K)-Math.cos(0),J=Math.sin(K)-Math.sin(0),re=Math.sqrt(D*D/(oe*oe+J*J));F=Math.max(re,F)}q.r=F,F+=D}if(e.equidistant){for(var ae=0,ve=0,se=0;se<b.length;se++){var ce=b[se],pe=ce.r-ve;ae=Math.max(ae,pe)}ve=0;for(var Pe=0;Pe<b.length;Pe++){var de=b[Pe];Pe===0&&(ve=de.r),de.r=ve,ve+=ae}}for(var ge={},Ce=0;Ce<b.length;Ce++)for(var Ne=b[Ce],De=Ne.dTheta,ke=Ne.r,_e=0;_e<Ne.length;_e++){var Ie=Ne[_e],Ge=e.startAngle+(t?1:-1)*De*_e,Qe={x:s.x+ke*Math.cos(Ge),y:s.y+ke*Math.sin(Ge)};ge[Ie.node.id()]=Qe}return i.nodes().layoutPositions(this,e,function(ot){var Tt=ot.id();return ge[Tt]}),this};var pE,wz={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,t){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function d1(r){this.options=en({},wz,r),this.options.layout=this;var e=this.options.eles.nodes(),t=this.options.eles.edges(),n=t.filter(function(i){var a=i.source().data("id"),o=i.target().data("id"),s=e.some(function(l){return l.data("id")===a}),u=e.some(function(l){return l.data("id")===o});return!s||!u});this.options.eles=this.options.eles.not(n)}d1.prototype.run=function(){var r=this.options,e=r.cy,t=this;t.stopped=!1,(r.animate===!0||r.animate===!1)&&t.emit({type:"layoutstart",layout:t}),r.debug===!0?pE=!0:pE=!1;var n=Ez(e,t,r);pE&&Sz(n),r.randomize&&Oz(n);var i=Hp(),a=function(){Tz(n,e,r),r.fit===!0&&e.fit(r.padding)},o=function(d){return!(t.stopped||d>=r.numIter||(Cz(n,r),n.temperature=n.temperature*r.coolingFactor,n.temperature<r.minTemp))},s=function(){if(r.animate===!0||r.animate===!1)a(),t.one("layoutstop",r.stop),t.emit({type:"layoutstop",layout:t});else{var d=r.eles.nodes(),v=wj(n,r,d);d.layoutPositions(t,r,v)}},u=0,l=!0;if(r.animate===!0){var c=function(){for(var d=0;l&&d<r.refresh;)l=o(u),u++,d++;if(!l)jP(n,r),s();else{var v=Hp();v-i>=r.animationThreshold&&a(),k_(c)}};c()}else{for(;l;)l=o(u),u++;jP(n,r),s()}return this};d1.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};d1.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var Ez=function(e,t,n){for(var i=n.eles.edges(),a=n.eles.nodes(),o=Ff(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),s={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:a.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:i.size(),temperature:n.initialTemp,clientWidth:o.w,clientHeight:o.h,boundingBox:o},u=n.eles.components(),l={},c=0;c<u.length;c++)for(var f=u[c],d=0;d<f.length;d++){var v=f[d];l[v.id()]=c}for(var c=0;c<s.nodeSize;c++){var p=a[c],m=p.layoutDimensions(n),w={};w.isLocked=p.locked(),w.id=p.data("id"),w.parentId=p.data("parent"),w.cmptId=l[p.id()],w.children=[],w.positionX=p.position("x"),w.positionY=p.position("y"),w.offsetX=0,w.offsetY=0,w.height=m.w,w.width=m.h,w.maxX=w.positionX+w.width/2,w.minX=w.positionX-w.width/2,w.maxY=w.positionY+w.height/2,w.minY=w.positionY-w.height/2,w.padLeft=parseFloat(p.style("padding")),w.padRight=parseFloat(p.style("padding")),w.padTop=parseFloat(p.style("padding")),w.padBottom=parseFloat(p.style("padding")),w.nodeRepulsion=Vo(n.nodeRepulsion)?n.nodeRepulsion(p):n.nodeRepulsion,s.layoutNodes.push(w),s.idToIndex[w.id]=c}for(var b=[],y=0,_=-1,S=[],c=0;c<s.nodeSize;c++){var p=s.layoutNodes[c],A=p.parentId;A!=null?s.layoutNodes[s.idToIndex[A]].children.push(p.id):(b[++_]=p.id,S.push(p.id))}for(s.graphSet.push(S);y<=_;){var D=b[y++],R=s.idToIndex[D],v=s.layoutNodes[R],k=v.children;if(k.length>0){s.graphSet.push(k);for(var c=0;c<k.length;c++)b[++_]=k[c]}}for(var c=0;c<s.graphSet.length;c++)for(var j=s.graphSet[c],d=0;d<j.length;d++){var F=s.idToIndex[j[d]];s.indexToGraph[F]=c}for(var c=0;c<s.edgeSize;c++){var z=i[c],q={};q.id=z.data("id"),q.sourceId=z.data("source"),q.targetId=z.data("target");var $=Vo(n.idealEdgeLength)?n.idealEdgeLength(z):n.idealEdgeLength,K=Vo(n.edgeElasticity)?n.edgeElasticity(z):n.edgeElasticity,oe=s.idToIndex[q.sourceId],J=s.idToIndex[q.targetId],re=s.indexToGraph[oe],ae=s.indexToGraph[J];if(re!=ae){for(var ve=xz(q.sourceId,q.targetId,s),se=s.graphSet[ve],ce=0,w=s.layoutNodes[oe];se.indexOf(w.id)===-1;)w=s.layoutNodes[s.idToIndex[w.parentId]],ce++;for(w=s.layoutNodes[J];se.indexOf(w.id)===-1;)w=s.layoutNodes[s.idToIndex[w.parentId]],ce++;$*=ce*n.nestingFactor}q.idealLength=$,q.elasticity=K,s.layoutEdges.push(q)}return s},xz=function(e,t,n){var i=_j(e,t,0,n);return 2>i.count?0:i.graph},_j=function(e,t,n,i){var a=i.graphSet[n];if(-1<a.indexOf(e)&&-1<a.indexOf(t))return{count:2,graph:n};for(var o=0,s=0;s<a.length;s++){var u=a[s],l=i.idToIndex[u],c=i.layoutNodes[l].children;if(c.length!==0){var f=i.indexToGraph[i.idToIndex[c[0]]],d=_j(e,t,f,i);if(d.count!==0)if(d.count===1){if(o++,o===2)break}else return d}}return{count:o,graph:n}},Sz,Oz=function(e,t){for(var n=e.clientWidth,i=e.clientHeight,a=0;a<e.nodeSize;a++){var o=e.layoutNodes[a];o.children.length===0&&!o.isLocked&&(o.positionX=Math.random()*n,o.positionY=Math.random()*i)}},wj=function(e,t,n){var i=e.boundingBox,a={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return t.boundingBox&&(n.forEach(function(o){var s=e.layoutNodes[e.idToIndex[o.data("id")]];a.x1=Math.min(a.x1,s.positionX),a.x2=Math.max(a.x2,s.positionX),a.y1=Math.min(a.y1,s.positionY),a.y2=Math.max(a.y2,s.positionY)}),a.w=a.x2-a.x1,a.h=a.y2-a.y1),function(o,s){var u=e.layoutNodes[e.idToIndex[o.data("id")]];if(t.boundingBox){var l=(u.positionX-a.x1)/a.w,c=(u.positionY-a.y1)/a.h;return{x:i.x1+l*i.w,y:i.y1+c*i.h}}else return{x:u.positionX,y:u.positionY}}},Tz=function(e,t,n){var i=n.layout,a=n.eles.nodes(),o=wj(e,n,a);a.positions(o),e.ready!==!0&&(e.ready=!0,i.one("layoutready",n.ready),i.emit({type:"layoutready",layout:this}))},Cz=function(e,t,n){Az(e,t),Dz(e),Iz(e,t),kz(e),Mz(e)},Az=function(e,t){for(var n=0;n<e.graphSet.length;n++)for(var i=e.graphSet[n],a=i.length,o=0;o<a;o++)for(var s=e.layoutNodes[e.idToIndex[i[o]]],u=o+1;u<a;u++){var l=e.layoutNodes[e.idToIndex[i[u]]];Rz(s,l,e,t)}},LP=function(e){return-1+2*e*Math.random()},Rz=function(e,t,n,i){var a=e.cmptId,o=t.cmptId;if(!(a!==o&&!n.isCompound)){var s=t.positionX-e.positionX,u=t.positionY-e.positionY,l=1;s===0&&u===0&&(s=LP(l),u=LP(l));var c=Pz(e,t,s,u);if(c>0)var f=i.nodeOverlap*c,d=Math.sqrt(s*s+u*u),v=f*s/d,p=f*u/d;else var m=U_(e,s,u),w=U_(t,-1*s,-1*u),b=w.x-m.x,y=w.y-m.y,_=b*b+y*y,d=Math.sqrt(_),f=(e.nodeRepulsion+t.nodeRepulsion)/_,v=f*b/d,p=f*y/d;e.isLocked||(e.offsetX-=v,e.offsetY-=p),t.isLocked||(t.offsetX+=v,t.offsetY+=p)}},Pz=function(e,t,n,i){if(n>0)var a=e.maxX-t.minX;else var a=t.maxX-e.minX;if(i>0)var o=e.maxY-t.minY;else var o=t.maxY-e.minY;return a>=0&&o>=0?Math.sqrt(a*a+o*o):0},U_=function(e,t,n){var i=e.positionX,a=e.positionY,o=e.height||1,s=e.width||1,u=n/t,l=o/s,c={};return t===0&&0<n||t===0&&0>n?(c.x=i,c.y=a+o/2,c):0<t&&-1*l<=u&&u<=l?(c.x=i+s/2,c.y=a+s*n/2/t,c):0>t&&-1*l<=u&&u<=l?(c.x=i-s/2,c.y=a-s*n/2/t,c):0<n&&(u<=-1*l||u>=l)?(c.x=i+o*t/2/n,c.y=a+o/2,c):(0>n&&(u<=-1*l||u>=l)&&(c.x=i-o*t/2/n,c.y=a-o/2),c)},Dz=function(e,t){for(var n=0;n<e.edgeSize;n++){var i=e.layoutEdges[n],a=e.idToIndex[i.sourceId],o=e.layoutNodes[a],s=e.idToIndex[i.targetId],u=e.layoutNodes[s],l=u.positionX-o.positionX,c=u.positionY-o.positionY;if(!(l===0&&c===0)){var f=U_(o,l,c),d=U_(u,-1*l,-1*c),v=d.x-f.x,p=d.y-f.y,m=Math.sqrt(v*v+p*p),w=Math.pow(i.idealLength-m,2)/i.elasticity;if(m!==0)var b=w*v/m,y=w*p/m;else var b=0,y=0;o.isLocked||(o.offsetX+=b,o.offsetY+=y),u.isLocked||(u.offsetX-=b,u.offsetY-=y)}}},Iz=function(e,t){if(t.gravity!==0)for(var n=1,i=0;i<e.graphSet.length;i++){var a=e.graphSet[i],o=a.length;if(i===0)var s=e.clientHeight/2,u=e.clientWidth/2;else var l=e.layoutNodes[e.idToIndex[a[0]]],c=e.layoutNodes[e.idToIndex[l.parentId]],s=c.positionX,u=c.positionY;for(var f=0;f<o;f++){var d=e.layoutNodes[e.idToIndex[a[f]]];if(!d.isLocked){var v=s-d.positionX,p=u-d.positionY,m=Math.sqrt(v*v+p*p);if(m>n){var w=t.gravity*v/m,b=t.gravity*p/m;d.offsetX+=w,d.offsetY+=b}}}}},kz=function(e,t){var n=[],i=0,a=-1;for(n.push.apply(n,e.graphSet[0]),a+=e.graphSet[0].length;i<=a;){var o=n[i++],s=e.idToIndex[o],u=e.layoutNodes[s],l=u.children;if(0<l.length&&!u.isLocked){for(var c=u.offsetX,f=u.offsetY,d=0;d<l.length;d++){var v=e.layoutNodes[e.idToIndex[l[d]]];v.offsetX+=c,v.offsetY+=f,n[++a]=l[d]}u.offsetX=0,u.offsetY=0}}},Mz=function(e,t){for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];0<i.children.length&&(i.maxX=void 0,i.minX=void 0,i.maxY=void 0,i.minY=void 0)}for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];if(!(0<i.children.length||i.isLocked)){var a=Nz(i.offsetX,i.offsetY,e.temperature);i.positionX+=a.x,i.positionY+=a.y,i.offsetX=0,i.offsetY=0,i.minX=i.positionX-i.width,i.maxX=i.positionX+i.width,i.minY=i.positionY-i.height,i.maxY=i.positionY+i.height,Ej(i,e)}}for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];0<i.children.length&&!i.isLocked&&(i.positionX=(i.maxX+i.minX)/2,i.positionY=(i.maxY+i.minY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY)}},Nz=function(e,t,n){var i=Math.sqrt(e*e+t*t);if(i>n)var a={x:n*e/i,y:n*t/i};else var a={x:e,y:t};return a},Ej=function(e,t){var n=e.parentId;if(n!=null){var i=t.layoutNodes[t.idToIndex[n]],a=!1;if((i.maxX==null||e.maxX+i.padRight>i.maxX)&&(i.maxX=e.maxX+i.padRight,a=!0),(i.minX==null||e.minX-i.padLeft<i.minX)&&(i.minX=e.minX-i.padLeft,a=!0),(i.maxY==null||e.maxY+i.padBottom>i.maxY)&&(i.maxY=e.maxY+i.padBottom,a=!0),(i.minY==null||e.minY-i.padTop<i.minY)&&(i.minY=e.minY-i.padTop,a=!0),a)return Ej(i,t)}},jP=function(e,t){for(var n=e.layoutNodes,i=[],a=0;a<n.length;a++){var o=n[a],s=o.cmptId,u=i[s]=i[s]||[];u.push(o)}for(var l=0,a=0;a<i.length;a++){var c=i[a];if(c){c.x1=1/0,c.x2=-1/0,c.y1=1/0,c.y2=-1/0;for(var f=0;f<c.length;f++){var d=c[f];c.x1=Math.min(c.x1,d.positionX-d.width/2),c.x2=Math.max(c.x2,d.positionX+d.width/2),c.y1=Math.min(c.y1,d.positionY-d.height/2),c.y2=Math.max(c.y2,d.positionY+d.height/2)}c.w=c.x2-c.x1,c.h=c.y2-c.y1,l+=c.w*c.h}}i.sort(function(y,_){return _.w*_.h-y.w*y.h});for(var v=0,p=0,m=0,w=0,b=Math.sqrt(l)*e.clientWidth/e.clientHeight,a=0;a<i.length;a++){var c=i[a];if(c){for(var f=0;f<c.length;f++){var d=c[f];d.isLocked||(d.positionX+=v-c.x1,d.positionY+=p-c.y1)}v+=c.w+t.componentSpacing,m+=c.w+t.componentSpacing,w=Math.max(w,c.h),m>b&&(p+=w+t.componentSpacing,v=0,m=0,w=0)}}},Lz={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function xj(r){this.options=en({},Lz,r)}xj.prototype.run=function(){var r=this.options,e=r,t=r.cy,n=e.eles,i=n.nodes().not(":parent");e.sort&&(i=i.sort(e.sort));var a=Ff(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()});if(a.h===0||a.w===0)n.nodes().layoutPositions(this,e,function(Pe){return{x:a.x1,y:a.y1}});else{var o=i.size(),s=Math.sqrt(o*a.h/a.w),u=Math.round(s),l=Math.round(a.w/a.h*s),c=function(de){if(de==null)return Math.min(u,l);var ge=Math.min(u,l);ge==u?u=de:l=de},f=function(de){if(de==null)return Math.max(u,l);var ge=Math.max(u,l);ge==u?u=de:l=de},d=e.rows,v=e.cols!=null?e.cols:e.columns;if(d!=null&&v!=null)u=d,l=v;else if(d!=null&&v==null)u=d,l=Math.ceil(o/u);else if(d==null&&v!=null)l=v,u=Math.ceil(o/l);else if(l*u>o){var p=c(),m=f();(p-1)*m>=o?c(p-1):(m-1)*p>=o&&f(m-1)}else for(;l*u<o;){var w=c(),b=f();(b+1)*w>=o?f(b+1):c(w+1)}var y=a.w/l,_=a.h/u;if(e.condense&&(y=0,_=0),e.avoidOverlap)for(var S=0;S<i.length;S++){var A=i[S],D=A._private.position;(D.x==null||D.y==null)&&(D.x=0,D.y=0);var R=A.layoutDimensions(e),k=e.avoidOverlapPadding,j=R.w+k,F=R.h+k;y=Math.max(y,j),_=Math.max(_,F)}for(var z={},q=function(de,ge){return!!z["c-"+de+"-"+ge]},$=function(de,ge){z["c-"+de+"-"+ge]=!0},K=0,oe=0,J=function(){oe++,oe>=l&&(oe=0,K++)},re={},ae=0;ae<i.length;ae++){var ve=i[ae],se=e.position(ve);if(se&&(se.row!==void 0||se.col!==void 0)){var ce={row:se.row,col:se.col};if(ce.col===void 0)for(ce.col=0;q(ce.row,ce.col);)ce.col++;else if(ce.row===void 0)for(ce.row=0;q(ce.row,ce.col);)ce.row++;re[ve.id()]=ce,$(ce.row,ce.col)}}var pe=function(de,ge){var Ce,Ne;if(de.locked()||de.isParent())return!1;var De=re[de.id()];if(De)Ce=De.col*y+y/2+a.x1,Ne=De.row*_+_/2+a.y1;else{for(;q(K,oe);)J();Ce=oe*y+y/2+a.x1,Ne=K*_+_/2+a.y1,$(K,oe),J()}return{x:Ce,y:Ne}};i.layoutPositions(this,e,pe)}return this};var jz={ready:function(){},stop:function(){}};function w2(r){this.options=en({},jz,r)}w2.prototype.run=function(){var r=this.options,e=r.eles,t=this;return r.cy,t.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),t.one("layoutready",r.ready),t.emit("layoutready"),t.one("layoutstop",r.stop),t.emit("layoutstop"),this};w2.prototype.stop=function(){return this};var Bz={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function Sj(r){this.options=en({},Bz,r)}Sj.prototype.run=function(){var r=this.options,e=r.eles,t=e.nodes(),n=Vo(r.positions);function i(a){if(r.positions==null)return uU(a.position());if(n)return r.positions(a);var o=r.positions[a._private.data.id];return o??null}return t.layoutPositions(this,r,function(a,o){var s=i(a);return a.locked()||s==null?!1:s}),this};var Fz={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function Oj(r){this.options=en({},Fz,r)}Oj.prototype.run=function(){var r=this.options,e=r.cy,t=r.eles,n=Ff(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),i=function(o,s){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}};return t.nodes().layoutPositions(this,r,i),this};var Uz=[{name:"breadthfirst",impl:yj},{name:"circle",impl:mj},{name:"concentric",impl:bj},{name:"cose",impl:d1},{name:"grid",impl:xj},{name:"null",impl:w2},{name:"preset",impl:Sj},{name:"random",impl:Oj}];function Tj(r){this.options=r,this.notifications=0}var BP=function(){},FP=function(){throw new Error("A headless instance can not render images")};Tj.prototype={recalculateRenderedStyle:BP,notify:function(){this.notifications++},init:BP,isHeadless:function(){return!0},png:FP,jpg:FP};var E2={};E2.arrowShapeWidth=.3;E2.registerArrowShapes=function(){var r=this.arrowShapes={},e=this,t=function(l,c,f,d,v,p,m){var w=v.x-f/2-m,b=v.x+f/2+m,y=v.y-f/2-m,_=v.y+f/2+m,S=w<=l&&l<=b&&y<=c&&c<=_;return S},n=function(l,c,f,d,v){var p=l*Math.cos(d)-c*Math.sin(d),m=l*Math.sin(d)+c*Math.cos(d),w=p*f,b=m*f,y=w+v.x,_=b+v.y;return{x:y,y:_}},i=function(l,c,f,d){for(var v=[],p=0;p<l.length;p+=2){var m=l[p],w=l[p+1];v.push(n(m,w,c,f,d))}return v},a=function(l){for(var c=[],f=0;f<l.length;f++){var d=l[f];c.push(d.x,d.y)}return c},o=function(l){return l.pstyle("width").pfValue*l.pstyle("arrow-scale").pfValue*2},s=function(l,c){$r(c)&&(c=r[c]),r[l]=en({name:l,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(d,v,p,m,w,b){var y=a(i(this.points,p+2*b,m,w)),_=Nf(d,v,y);return _},roughCollide:t,draw:function(d,v,p,m){var w=i(this.points,v,p,m);e.arrowShapeImpl("polygon")(d,w)},spacing:function(d){return 0},gap:o},c)};s("none",{collide:M_,roughCollide:M_,draw:u2,spacing:tR,gap:tR}),s("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),s("arrow","triangle"),s("triangle-backcurve",{points:r.triangle.points,controlPoint:[0,-.15],roughCollide:t,draw:function(l,c,f,d,v){var p=i(this.points,c,f,d),m=this.controlPoint,w=n(m[0],m[1],c,f,d);e.arrowShapeImpl(this.name)(l,p,w)},gap:function(l){return o(l)*.8}}),s("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(l,c,f,d,v,p,m){var w=a(i(this.points,f+2*m,d,v)),b=a(i(this.pointsTee,f+2*m,d,v)),y=Nf(l,c,w)||Nf(l,c,b);return y},draw:function(l,c,f,d,v){var p=i(this.points,c,f,d),m=i(this.pointsTee,c,f,d);e.arrowShapeImpl(this.name)(l,p,m)}}),s("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(l,c,f,d,v,p,m){var w=v,b=Math.pow(w.x-l,2)+Math.pow(w.y-c,2)<=Math.pow((f+2*m)*this.radius,2),y=a(i(this.points,f+2*m,d,v));return Nf(l,c,y)||b},draw:function(l,c,f,d,v){var p=i(this.pointsTr,c,f,d);e.arrowShapeImpl(this.name)(l,p,d.x,d.y,this.radius*c)},spacing:function(l){return e.getArrowWidth(l.pstyle("width").pfValue,l.pstyle("arrow-scale").value)*this.radius}}),s("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(l,c){var f=this.baseCrossLinePts.slice(),d=c/l,v=3,p=5;return f[v]=f[v]-d,f[p]=f[p]-d,f},collide:function(l,c,f,d,v,p,m){var w=a(i(this.points,f+2*m,d,v)),b=a(i(this.crossLinePts(f,p),f+2*m,d,v)),y=Nf(l,c,w)||Nf(l,c,b);return y},draw:function(l,c,f,d,v){var p=i(this.points,c,f,d),m=i(this.crossLinePts(c,v),c,f,d);e.arrowShapeImpl(this.name)(l,p,m)}}),s("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(l){return o(l)*.525}}),s("circle",{radius:.15,collide:function(l,c,f,d,v,p,m){var w=v,b=Math.pow(w.x-l,2)+Math.pow(w.y-c,2)<=Math.pow((f+2*m)*this.radius,2);return b},draw:function(l,c,f,d,v){e.arrowShapeImpl(this.name)(l,d.x,d.y,this.radius*c)},spacing:function(l){return e.getArrowWidth(l.pstyle("width").pfValue,l.pstyle("arrow-scale").value)*this.radius}}),s("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(l){return 1},gap:function(l){return 1}}),s("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),s("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(l){return l.pstyle("width").pfValue*l.pstyle("arrow-scale").value}}),s("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(l){return .95*l.pstyle("width").pfValue*l.pstyle("arrow-scale").value}})};var Uy={};Uy.projectIntoViewport=function(r,e){var t=this.cy,n=this.findContainerClientCoords(),i=n[0],a=n[1],o=n[4],s=t.pan(),u=t.zoom(),l=((r-i)/o-s.x)/u,c=((e-a)/o-s.y)/u;return[l,c]};Uy.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var r=this.container,e=r.getBoundingClientRect(),t=this.cy.window().getComputedStyle(r),n=function(b){return parseFloat(t.getPropertyValue(b))},i={left:n("padding-left"),right:n("padding-right"),top:n("padding-top"),bottom:n("padding-bottom")},a={left:n("border-left-width"),right:n("border-right-width"),top:n("border-top-width"),bottom:n("border-bottom-width")},o=r.clientWidth,s=r.clientHeight,u=i.left+i.right,l=i.top+i.bottom,c=a.left+a.right,f=e.width/(o+c),d=o-u,v=s-l,p=e.left+i.left+a.left,m=e.top+i.top+a.top;return this.containerBB=[p,m,d,v,f]};Uy.invalidateContainerClientCoordsCache=function(){this.containerBB=null};Uy.findNearestElement=function(r,e,t,n){return this.findNearestElements(r,e,t,n)[0]};Uy.findNearestElements=function(r,e,t,n){var i=this,a=this,o=a.getCachedZSortedEles(),s=[],u=a.cy.zoom(),l=a.cy.hasCompoundNodes(),c=(n?24:8)/u,f=(n?8:2)/u,d=(n?8:2)/u,v=1/0,p,m;t&&(o=o.interactive);function w(R,k){if(R.isNode()){if(m)return;m=R,s.push(R)}if(R.isEdge()&&(k==null||k<v))if(p){if(p.pstyle("z-compound-depth").value===R.pstyle("z-compound-depth").value&&p.pstyle("z-compound-depth").value===R.pstyle("z-compound-depth").value){for(var j=0;j<s.length;j++)if(s[j].isEdge()){s[j]=R,p=R,v=k??v;break}}}else s.push(R),p=R,v=k??v}function b(R){var k=R.outerWidth()+2*f,j=R.outerHeight()+2*f,F=k/2,z=j/2,q=R.position(),$=R.pstyle("corner-radius").value==="auto"?"auto":R.pstyle("corner-radius").pfValue,K=R._private.rscratch;if(q.x-F<=r&&r<=q.x+F&&q.y-z<=e&&e<=q.y+z){var oe=a.nodeShapes[i.getNodeShape(R)];if(oe.checkPoint(r,e,0,k,j,q.x,q.y,$,K))return w(R,0),!0}}function y(R){var k=R._private,j=k.rscratch,F=R.pstyle("width").pfValue,z=R.pstyle("arrow-scale").value,q=F/2+c,$=q*q,K=q*2,ae=k.source,ve=k.target,oe;if(j.edgeType==="segments"||j.edgeType==="straight"||j.edgeType==="haystack"){for(var J=j.allpts,re=0;re+3<J.length;re+=2)if(wU(r,e,J[re],J[re+1],J[re+2],J[re+3],K)&&$>(oe=TU(r,e,J[re],J[re+1],J[re+2],J[re+3])))return w(R,oe),!0}else if(j.edgeType==="bezier"||j.edgeType==="multibezier"||j.edgeType==="self"||j.edgeType==="compound"){for(var J=j.allpts,re=0;re+5<j.allpts.length;re+=4)if(EU(r,e,J[re],J[re+1],J[re+2],J[re+3],J[re+4],J[re+5],K)&&$>(oe=OU(r,e,J[re],J[re+1],J[re+2],J[re+3],J[re+4],J[re+5])))return w(R,oe),!0}for(var ae=ae||k.source,ve=ve||k.target,se=i.getArrowWidth(F,z),ce=[{name:"source",x:j.arrowStartX,y:j.arrowStartY,angle:j.srcArrowAngle},{name:"target",x:j.arrowEndX,y:j.arrowEndY,angle:j.tgtArrowAngle},{name:"mid-source",x:j.midX,y:j.midY,angle:j.midsrcArrowAngle},{name:"mid-target",x:j.midX,y:j.midY,angle:j.midtgtArrowAngle}],re=0;re<ce.length;re++){var pe=ce[re],Pe=a.arrowShapes[R.pstyle(pe.name+"-arrow-shape").value],de=R.pstyle("width").pfValue;if(Pe.roughCollide(r,e,se,pe.angle,{x:pe.x,y:pe.y},de,c)&&Pe.collide(r,e,se,pe.angle,{x:pe.x,y:pe.y},de,c))return w(R),!0}l&&s.length>0&&(b(ae),b(ve))}function _(R,k,j){return pd(R,k,j)}function S(R,k){var j=R._private,F=d,z;k?z=k+"-":z="",R.boundingBox();var q=j.labelBounds[k||"main"],$=R.pstyle(z+"label").value,K=R.pstyle("text-events").strValue==="yes";if(!(!K||!$)){var oe=_(j.rscratch,"labelX",k),J=_(j.rscratch,"labelY",k),re=_(j.rscratch,"labelAngle",k),ae=R.pstyle(z+"text-margin-x").pfValue,ve=R.pstyle(z+"text-margin-y").pfValue,se=q.x1-F-ae,ce=q.x2+F-ae,pe=q.y1-F-ve,Pe=q.y2+F-ve;if(re){var de=Math.cos(re),ge=Math.sin(re),Ce=function(Qe,ot){return Qe=Qe-oe,ot=ot-J,{x:Qe*de-ot*ge+oe,y:Qe*ge+ot*de+J}},Ne=Ce(se,pe),De=Ce(se,Pe),ke=Ce(ce,pe),_e=Ce(ce,Pe),Ie=[Ne.x+ae,Ne.y+ve,ke.x+ae,ke.y+ve,_e.x+ae,_e.y+ve,De.x+ae,De.y+ve];if(Nf(r,e,Ie))return w(R),!0}else if(Hm(q,r,e))return w(R),!0}}for(var A=o.length-1;A>=0;A--){var D=o[A];D.isNode()?b(D)||S(D):y(D)||S(D)||S(D,"source")||S(D,"target")}return s};Uy.getAllInBox=function(r,e,t,n){var i=this.getCachedZSortedEles().interactive,a=[],o=Math.min(r,t),s=Math.max(r,t),u=Math.min(e,n),l=Math.max(e,n);r=o,t=s,e=u,n=l;for(var c=Ff({x1:r,y1:e,x2:t,y2:n}),f=0;f<i.length;f++){var d=i[f];if(d.isNode()){var v=d,p=v.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});f2(c,p)&&!M3(p,c)&&a.push(v)}else{var m=d,w=m._private,b=w.rscratch;if(b.startX!=null&&b.startY!=null&&!Hm(c,b.startX,b.startY)||b.endX!=null&&b.endY!=null&&!Hm(c,b.endX,b.endY))continue;if(b.edgeType==="bezier"||b.edgeType==="multibezier"||b.edgeType==="self"||b.edgeType==="compound"||b.edgeType==="segments"||b.edgeType==="haystack"){for(var y=w.rstyle.bezierPts||w.rstyle.linePts||w.rstyle.haystackPts,_=!0,S=0;S<y.length;S++)if(!_U(c,y[S])){_=!1;break}_&&a.push(m)}else(b.edgeType==="haystack"||b.edgeType==="straight")&&a.push(m)}}return a};var z_={};z_.calculateArrowAngles=function(r){var e=r._private.rscratch,t=e.edgeType==="haystack",n=e.edgeType==="bezier",i=e.edgeType==="multibezier",a=e.edgeType==="segments",o=e.edgeType==="compound",s=e.edgeType==="self",u,l,c,f,d,v,b,y;if(t?(c=e.haystackPts[0],f=e.haystackPts[1],d=e.haystackPts[2],v=e.haystackPts[3]):(c=e.arrowStartX,f=e.arrowStartY,d=e.arrowEndX,v=e.arrowEndY),b=e.midX,y=e.midY,a)u=c-e.segpts[0],l=f-e.segpts[1];else if(i||o||s||n){var p=e.allpts,m=al(p[0],p[2],p[4],.1),w=al(p[1],p[3],p[5],.1);u=c-m,l=f-w}else u=c-b,l=f-y;e.srcArrowAngle=jb(u,l);var b=e.midX,y=e.midY;if(t&&(b=(c+d)/2,y=(f+v)/2),u=d-c,l=v-f,a){var p=e.allpts;if(p.length/2%2===0){var _=p.length/2,S=_-2;u=p[_]-p[S],l=p[_+1]-p[S+1]}else if(e.isRound)u=e.midVector[1],l=-e.midVector[0];else{var _=p.length/2-1,S=_-2;u=p[_]-p[S],l=p[_+1]-p[S+1]}}else if(i||o||s){var p=e.allpts,A=e.ctrlpts,D,R,k,j;if(A.length/2%2===0){var F=p.length/2-1,z=F+2,q=z+2;D=al(p[F],p[z],p[q],0),R=al(p[F+1],p[z+1],p[q+1],0),k=al(p[F],p[z],p[q],1e-4),j=al(p[F+1],p[z+1],p[q+1],1e-4)}else{var z=p.length/2-1,F=z-2,q=z+2;D=al(p[F],p[z],p[q],.4999),R=al(p[F+1],p[z+1],p[q+1],.4999),k=al(p[F],p[z],p[q],.5),j=al(p[F+1],p[z+1],p[q+1],.5)}u=k-D,l=j-R}if(e.midtgtArrowAngle=jb(u,l),e.midDispX=u,e.midDispY=l,u*=-1,l*=-1,a){var p=e.allpts;if(p.length/2%2!==0){if(!e.isRound){var _=p.length/2-1,$=_+2;u=-(p[$]-p[_]),l=-(p[$+1]-p[_+1])}}}if(e.midsrcArrowAngle=jb(u,l),a)u=d-e.segpts[e.segpts.length-2],l=v-e.segpts[e.segpts.length-1];else if(i||o||s||n){var p=e.allpts,K=p.length,m=al(p[K-6],p[K-4],p[K-2],.9),w=al(p[K-5],p[K-3],p[K-1],.9);u=d-m,l=v-w}else u=d-b,l=v-y;e.tgtArrowAngle=jb(u,l)};z_.getArrowWidth=z_.getArrowHeight=function(r,e){var t=this.arrowWidthCache=this.arrowWidthCache||{},n=t[r+", "+e];return n||(n=Math.max(Math.pow(r*13.37,.9),29)*e,t[r+", "+e]=n,n)};var MC,NC,rp={},vd={},UP,zP,Cy,__,Np,hy,Ty,Jv,bm,Vb,Cj,Aj,LC,jC,qP,GP=function(e,t,n){n.x=t.x-e.x,n.y=t.y-e.y,n.len=Math.sqrt(n.x*n.x+n.y*n.y),n.nx=n.x/n.len,n.ny=n.y/n.len,n.ang=Math.atan2(n.ny,n.nx)},zz=function(e,t){t.x=e.x*-1,t.y=e.y*-1,t.nx=e.nx*-1,t.ny=e.ny*-1,t.ang=e.ang>0?-(Math.PI-e.ang):Math.PI+e.ang},qz=function(e,t,n,i,a){if(e!==qP?GP(t,e,rp):zz(vd,rp),GP(t,n,vd),UP=rp.nx*vd.ny-rp.ny*vd.nx,zP=rp.nx*vd.nx-rp.ny*-vd.ny,Np=Math.asin(Math.max(-1,Math.min(1,UP))),Math.abs(Np)<1e-6){MC=t.x,NC=t.y,Ty=bm=0;return}Cy=1,__=!1,zP<0?Np<0?Np=Math.PI+Np:(Np=Math.PI-Np,Cy=-1,__=!0):Np>0&&(Cy=-1,__=!0),t.radius!==void 0?bm=t.radius:bm=i,hy=Np/2,Vb=Math.min(rp.len/2,vd.len/2),a?(Jv=Math.abs(Math.cos(hy)*bm/Math.sin(hy)),Jv>Vb?(Jv=Vb,Ty=Math.abs(Jv*Math.sin(hy)/Math.cos(hy))):Ty=bm):(Jv=Math.min(Vb,bm),Ty=Math.abs(Jv*Math.sin(hy)/Math.cos(hy))),LC=t.x+vd.nx*Jv,jC=t.y+vd.ny*Jv,MC=LC-vd.ny*Ty*Cy,NC=jC+vd.nx*Ty*Cy,Cj=t.x+rp.nx*Jv,Aj=t.y+rp.ny*Jv,qP=t};function Rj(r,e){e.radius===0?r.lineTo(e.cx,e.cy):r.arc(e.cx,e.cy,e.radius,e.startAngle,e.endAngle,e.counterClockwise)}function x2(r,e,t,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return n===0||e.radius===0?{cx:e.x,cy:e.y,radius:0,startX:e.x,startY:e.y,stopX:e.x,stopY:e.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(qz(r,e,t,n,i),{cx:MC,cy:NC,radius:Ty,startX:Cj,startY:Aj,stopX:LC,stopY:jC,startAngle:rp.ang+Math.PI/2*Cy,endAngle:vd.ang-Math.PI/2*Cy,counterClockwise:__})}var ub=.01,Gz=Math.sqrt(2*ub),hc={};hc.findMidptPtsEtc=function(r,e){var t=e.posPts,n=e.intersectionPts,i=e.vectorNormInverse,a,o=r.pstyle("source-endpoint"),s=r.pstyle("target-endpoint"),u=o.units!=null&&s.units!=null,l=function(A,D,R,k){var j=k-D,F=R-A,z=Math.sqrt(F*F+j*j);return{x:-j/z,y:F/z}},c=r.pstyle("edge-distances").value;switch(c){case"node-position":a=t;break;case"intersection":a=n;break;case"endpoints":{if(u){var f=this.manualEndptToPx(r.source()[0],o),d=sl(f,2),v=d[0],p=d[1],m=this.manualEndptToPx(r.target()[0],s),w=sl(m,2),b=w[0],y=w[1],_={x1:v,y1:p,x2:b,y2:y};i=l(v,p,b,y),a=_}else _a("Edge ".concat(r.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),a=n;break}}return{midptPts:a,vectorNormInverse:i}};hc.findHaystackPoints=function(r){for(var e=0;e<r.length;e++){var t=r[e],n=t._private,i=n.rscratch;if(!i.haystack){var a=Math.random()*2*Math.PI;i.source={x:Math.cos(a),y:Math.sin(a)},a=Math.random()*2*Math.PI,i.target={x:Math.cos(a),y:Math.sin(a)}}var o=n.source,s=n.target,u=o.position(),l=s.position(),c=o.width(),f=s.width(),d=o.height(),v=s.height(),p=t.pstyle("haystack-radius").value,m=p/2;i.haystackPts=i.allpts=[i.source.x*c*m+u.x,i.source.y*d*m+u.y,i.target.x*f*m+l.x,i.target.y*v*m+l.y],i.midX=(i.allpts[0]+i.allpts[2])/2,i.midY=(i.allpts[1]+i.allpts[3])/2,i.edgeType="haystack",i.haystack=!0,this.storeEdgeProjections(t),this.calculateArrowAngles(t),this.recalculateEdgeLabelProjections(t),this.calculateLabelAngles(t)}};hc.findSegmentsPoints=function(r,e){var t=r._private.rscratch,n=r.pstyle("segment-weights"),i=r.pstyle("segment-distances"),a=r.pstyle("segment-radii"),o=r.pstyle("radius-type"),s=Math.min(n.pfValue.length,i.pfValue.length),u=a.pfValue[a.pfValue.length-1],l=o.pfValue[o.pfValue.length-1];t.edgeType="segments",t.segpts=[],t.radii=[],t.isArcRadius=[];for(var c=0;c<s;c++){var f=n.pfValue[c],d=i.pfValue[c],v=1-f,p=f,m=this.findMidptPtsEtc(r,e),w=m.midptPts,b=m.vectorNormInverse,y={x:w.x1*v+w.x2*p,y:w.y1*v+w.y2*p};t.segpts.push(y.x+b.x*d,y.y+b.y*d),t.radii.push(a.pfValue[c]!==void 0?a.pfValue[c]:u),t.isArcRadius.push((o.pfValue[c]!==void 0?o.pfValue[c]:l)==="arc-radius")}};hc.findLoopPoints=function(r,e,t,n){var i=r._private.rscratch,a=e.dirCounts,o=e.srcPos,s=r.pstyle("control-point-distances"),u=s?s.pfValue[0]:void 0,l=r.pstyle("loop-direction").pfValue,c=r.pstyle("loop-sweep").pfValue,f=r.pstyle("control-point-step-size").pfValue;i.edgeType="self";var d=t,v=f;n&&(d=0,v=u);var p=l-Math.PI/2,m=p-c/2,w=p+c/2,b=l+"_"+c;d=a[b]===void 0?a[b]=0:++a[b],i.ctrlpts=[o.x+Math.cos(m)*1.4*v*(d/3+1),o.y+Math.sin(m)*1.4*v*(d/3+1),o.x+Math.cos(w)*1.4*v*(d/3+1),o.y+Math.sin(w)*1.4*v*(d/3+1)]};hc.findCompoundLoopPoints=function(r,e,t,n){var i=r._private.rscratch;i.edgeType="compound";var a=e.srcPos,o=e.tgtPos,s=e.srcW,u=e.srcH,l=e.tgtW,c=e.tgtH,f=r.pstyle("control-point-step-size").pfValue,d=r.pstyle("control-point-distances"),v=d?d.pfValue[0]:void 0,p=t,m=f;n&&(p=0,m=v);var w=50,b={x:a.x-s/2,y:a.y-u/2},y={x:o.x-l/2,y:o.y-c/2},_={x:Math.min(b.x,y.x),y:Math.min(b.y,y.y)},S=.5,A=Math.max(S,Math.log(s*ub)),D=Math.max(S,Math.log(l*ub));i.ctrlpts=[_.x,_.y-(1+Math.pow(w,1.12)/100)*m*(p/3+1)*A,_.x-(1+Math.pow(w,1.12)/100)*m*(p/3+1)*D,_.y]};hc.findStraightEdgePoints=function(r){r._private.rscratch.edgeType="straight"};hc.findBezierPoints=function(r,e,t,n,i){var a=r._private.rscratch,o=r.pstyle("control-point-step-size").pfValue,s=r.pstyle("control-point-distances"),u=r.pstyle("control-point-weights"),l=s&&u?Math.min(s.value.length,u.value.length):1,c=s?s.pfValue[0]:void 0,f=u.value[0],d=n;a.edgeType=d?"multibezier":"bezier",a.ctrlpts=[];for(var v=0;v<l;v++){var p=(.5-e.eles.length/2+t)*o*(i?-1:1),m=void 0,w=I3(p);d&&(c=s?s.pfValue[v]:o,f=u.value[v]),n?m=c:m=c!==void 0?w*c:void 0;var b=m!==void 0?m:p,y=1-f,_=f,S=this.findMidptPtsEtc(r,e),A=S.midptPts,D=S.vectorNormInverse,R={x:A.x1*y+A.x2*_,y:A.y1*y+A.y2*_};a.ctrlpts.push(R.x+D.x*b,R.y+D.y*b)}};hc.findTaxiPoints=function(r,e){var t=r._private.rscratch;t.edgeType="segments";var n="vertical",i="horizontal",a="leftward",o="rightward",s="downward",u="upward",l="auto",c=e.posPts,f=e.srcW,d=e.srcH,v=e.tgtW,p=e.tgtH,m=r.pstyle("edge-distances").value,w=m!=="node-position",b=r.pstyle("taxi-direction").value,y=b,_=r.pstyle("taxi-turn"),S=_.units==="%",A=_.pfValue,D=A<0,R=r.pstyle("taxi-turn-min-distance").pfValue,k=w?(f+v)/2:0,j=w?(d+p)/2:0,F=c.x2-c.x1,z=c.y2-c.y1,q=function(Rt,Jt){return Rt>0?Math.max(Rt-Jt,0):Math.min(Rt+Jt,0)},$=q(F,k),K=q(z,j),oe=!1;y===l?b=Math.abs($)>Math.abs(K)?i:n:y===u||y===s?(b=n,oe=!0):(y===a||y===o)&&(b=i,oe=!0);var J=b===n,re=J?K:$,ae=J?z:F,ve=I3(ae),se=!1;!(oe&&(S||D))&&(y===s&&ae<0||y===u&&ae>0||y===a&&ae>0||y===o&&ae<0)&&(ve*=-1,re=ve*Math.abs(re),se=!0);var ce;if(S){var pe=A<0?1+A:A;ce=pe*re}else{var Pe=A<0?re:0;ce=Pe+A*ve}var de=function(Rt){return Math.abs(Rt)<R||Math.abs(Rt)>=Math.abs(re)},ge=de(ce),Ce=de(Math.abs(re)-Math.abs(ce)),Ne=ge||Ce;if(Ne&&!se)if(J){var De=Math.abs(ae)<=d/2,ke=Math.abs(F)<=v/2;if(De){var _e=(c.x1+c.x2)/2,Ie=c.y1,Ge=c.y2;t.segpts=[_e,Ie,_e,Ge]}else if(ke){var Qe=(c.y1+c.y2)/2,ot=c.x1,Tt=c.x2;t.segpts=[ot,Qe,Tt,Qe]}else t.segpts=[c.x1,c.y2]}else{var zt=Math.abs(ae)<=f/2,pt=Math.abs(z)<=p/2;if(zt){var Q=(c.y1+c.y2)/2,ne=c.x1,fe=c.x2;t.segpts=[ne,Q,fe,Q]}else if(pt){var Ue=(c.x1+c.x2)/2,qe=c.y1,We=c.y2;t.segpts=[Ue,qe,Ue,We]}else t.segpts=[c.x2,c.y1]}else if(J){var ft=c.y1+ce+(w?d/2*ve:0),Ht=c.x1,Et=c.x2;t.segpts=[Ht,ft,Et,ft]}else{var Se=c.x1+ce+(w?f/2*ve:0),Ke=c.y1,ht=c.y2;t.segpts=[Se,Ke,Se,ht]}if(t.isRound){var ct=r.pstyle("taxi-radius").value,xt=r.pstyle("radius-type").value[0]==="arc-radius";t.radii=new Array(t.segpts.length/2).fill(ct),t.isArcRadius=new Array(t.segpts.length/2).fill(xt)}};hc.tryToCorrectInvalidPoints=function(r,e){var t=r._private.rscratch;if(t.edgeType==="bezier"){var n=e.srcPos,i=e.tgtPos,a=e.srcW,o=e.srcH,s=e.tgtW,u=e.tgtH,l=e.srcShape,c=e.tgtShape,f=e.srcCornerRadius,d=e.tgtCornerRadius,v=e.srcRs,p=e.tgtRs,m=!gr(t.startX)||!gr(t.startY),w=!gr(t.arrowStartX)||!gr(t.arrowStartY),b=!gr(t.endX)||!gr(t.endY),y=!gr(t.arrowEndX)||!gr(t.arrowEndY),_=3,S=this.getArrowWidth(r.pstyle("width").pfValue,r.pstyle("arrow-scale").value)*this.arrowShapeWidth,A=_*S,D=My({x:t.ctrlpts[0],y:t.ctrlpts[1]},{x:t.startX,y:t.startY}),R=D<A,k=My({x:t.ctrlpts[0],y:t.ctrlpts[1]},{x:t.endX,y:t.endY}),j=k<A,F=!1;if(m||w||R){F=!0;var z={x:t.ctrlpts[0]-n.x,y:t.ctrlpts[1]-n.y},q=Math.sqrt(z.x*z.x+z.y*z.y),$={x:z.x/q,y:z.y/q},K=Math.max(a,o),oe={x:t.ctrlpts[0]+$.x*2*K,y:t.ctrlpts[1]+$.y*2*K},J=l.intersectLine(n.x,n.y,a,o,oe.x,oe.y,0,f,v);R?(t.ctrlpts[0]=t.ctrlpts[0]+$.x*(A-D),t.ctrlpts[1]=t.ctrlpts[1]+$.y*(A-D)):(t.ctrlpts[0]=J[0]+$.x*A,t.ctrlpts[1]=J[1]+$.y*A)}if(b||y||j){F=!0;var re={x:t.ctrlpts[0]-i.x,y:t.ctrlpts[1]-i.y},ae=Math.sqrt(re.x*re.x+re.y*re.y),ve={x:re.x/ae,y:re.y/ae},se=Math.max(a,o),ce={x:t.ctrlpts[0]+ve.x*2*se,y:t.ctrlpts[1]+ve.y*2*se},pe=c.intersectLine(i.x,i.y,s,u,ce.x,ce.y,0,d,p);j?(t.ctrlpts[0]=t.ctrlpts[0]+ve.x*(A-k),t.ctrlpts[1]=t.ctrlpts[1]+ve.y*(A-k)):(t.ctrlpts[0]=pe[0]+ve.x*A,t.ctrlpts[1]=pe[1]+ve.y*A)}F&&this.findEndpoints(r)}};hc.storeAllpts=function(r){var e=r._private.rscratch;if(e.edgeType==="multibezier"||e.edgeType==="bezier"||e.edgeType==="self"||e.edgeType==="compound"){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var t=0;t+1<e.ctrlpts.length;t+=2)e.allpts.push(e.ctrlpts[t],e.ctrlpts[t+1]),t+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[t]+e.ctrlpts[t+2])/2,(e.ctrlpts[t+1]+e.ctrlpts[t+3])/2);e.allpts.push(e.endX,e.endY);var n,i;e.ctrlpts.length/2%2===0?(n=e.allpts.length/2-1,e.midX=e.allpts[n],e.midY=e.allpts[n+1]):(n=e.allpts.length/2-3,i=.5,e.midX=al(e.allpts[n],e.allpts[n+2],e.allpts[n+4],i),e.midY=al(e.allpts[n+1],e.allpts[n+3],e.allpts[n+5],i))}else if(e.edgeType==="straight")e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if(e.edgeType==="segments"){if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.isRound){e.roundCorners=[];for(var a=2;a+3<e.allpts.length;a+=2){var o=e.radii[a/2-1],s=e.isArcRadius[a/2-1];e.roundCorners.push(x2({x:e.allpts[a-2],y:e.allpts[a-1]},{x:e.allpts[a],y:e.allpts[a+1],radius:o},{x:e.allpts[a+2],y:e.allpts[a+3]},o,s))}}if(e.segpts.length%4===0){var u=e.segpts.length/2,l=u-2;e.midX=(e.segpts[l]+e.segpts[u])/2,e.midY=(e.segpts[l+1]+e.segpts[u+1])/2}else{var c=e.segpts.length/2-1;if(!e.isRound)e.midX=e.segpts[c],e.midY=e.segpts[c+1];else{var f={x:e.segpts[c],y:e.segpts[c+1]},d=e.roundCorners[c/2];if(d.radius===0){var v={x:e.segpts[c+2],y:e.segpts[c+3]};e.midX=f.x,e.midY=f.y,e.midVector=[f.y-v.y,v.x-f.x]}else{var p=[f.x-d.cx,f.y-d.cy],m=d.radius/Math.sqrt(Math.pow(p[0],2)+Math.pow(p[1],2));p=p.map(function(w){return w*m}),e.midX=d.cx+p[0],e.midY=d.cy+p[1],e.midVector=p}}}}};hc.checkForInvalidEdgeWarning=function(r){var e=r[0]._private.rscratch;e.nodesOverlap||gr(e.startX)&&gr(e.startY)&&gr(e.endX)&&gr(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,_a("Edge `"+r.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};hc.findEdgeControlPoints=function(r){var e=this;if(!(!r||r.length===0)){for(var t=this,n=t.cy,i=n.hasCompoundNodes(),a=new zp,o=function(j,F){return[].concat(h3(j),[F?1:0]).join("-")},s=[],u=[],l=0;l<r.length;l++){var c=r[l],f=c._private,d=c.pstyle("curve-style").value;if(!(c.removed()||!c.takesUpSpace())){if(d==="haystack"){u.push(c);continue}var v=d==="unbundled-bezier"||d.endsWith("segments")||d==="straight"||d==="straight-triangle"||d.endsWith("taxi"),p=d==="unbundled-bezier"||d==="bezier",m=f.source,w=f.target,b=m.poolIndex(),y=w.poolIndex(),_=[b,y].sort(),S=o(_,v),A=a.get(S);A==null&&(A={eles:[]},s.push({pairId:_,edgeIsUnbundled:v}),a.set(S,A)),A.eles.push(c),v&&(A.hasUnbundled=!0),p&&(A.hasBezier=!0)}}for(var D=function(){var j=s[R],F=j.pairId,z=j.edgeIsUnbundled,q=o(F,z),$=a.get(q),K;if(!$.hasUnbundled){var oe=$.eles[0].parallelEdges().filter(function(xt){return xt.isBundledBezier()});l2($.eles),oe.forEach(function(xt){return $.eles.push(xt)}),$.eles.sort(function(xt,er){return xt.poolIndex()-er.poolIndex()})}var J=$.eles[0],re=J.source(),ae=J.target();if(re.poolIndex()>ae.poolIndex()){var ve=re;re=ae,ae=ve}var se=$.srcPos=re.position(),ce=$.tgtPos=ae.position(),pe=$.srcW=re.outerWidth(),Pe=$.srcH=re.outerHeight(),de=$.tgtW=ae.outerWidth(),ge=$.tgtH=ae.outerHeight(),Ce=$.srcShape=t.nodeShapes[e.getNodeShape(re)],Ne=$.tgtShape=t.nodeShapes[e.getNodeShape(ae)],De=$.srcCornerRadius=re.pstyle("corner-radius").value==="auto"?"auto":re.pstyle("corner-radius").pfValue,ke=$.tgtCornerRadius=ae.pstyle("corner-radius").value==="auto"?"auto":ae.pstyle("corner-radius").pfValue,_e=$.tgtRs=ae._private.rscratch,Ie=$.srcRs=re._private.rscratch;$.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var Ge=0;Ge<$.eles.length;Ge++){var Qe=$.eles[Ge],ot=Qe[0]._private.rscratch,Tt=Qe.pstyle("curve-style").value,zt=Tt==="unbundled-bezier"||Tt.endsWith("segments")||Tt.endsWith("taxi"),pt=!re.same(Qe.source());if(!$.calculatedIntersection&&re!==ae&&($.hasBezier||$.hasUnbundled)){$.calculatedIntersection=!0;var Q=Ce.intersectLine(se.x,se.y,pe,Pe,ce.x,ce.y,0,De,Ie),ne=$.srcIntn=Q,fe=Ne.intersectLine(ce.x,ce.y,de,ge,se.x,se.y,0,ke,_e),Ue=$.tgtIntn=fe,qe=$.intersectionPts={x1:Q[0],x2:fe[0],y1:Q[1],y2:fe[1]},We=$.posPts={x1:se.x,x2:ce.x,y1:se.y,y2:ce.y},ft=Math.abs(fe[1]-Q[1]),Ht=Math.abs(fe[0]-Q[0]),Et=Math.sqrt(Ht*Ht+ft*ft);gr(Et)&&Et>=Gz||(Et=Math.sqrt(Math.max(Ht*Ht,ub)+Math.max(ft*ft,ub)));var Se=$.vector={x:Ht,y:ft},Ke=$.vectorNorm={x:Se.x/Et,y:Se.y/Et},ht={x:-Ke.y,y:Ke.x};$.nodesOverlap=!gr(Et)||Ne.checkPoint(Q[0],Q[1],0,de,ge,ce.x,ce.y,ke,_e)||Ce.checkPoint(fe[0],fe[1],0,pe,Pe,se.x,se.y,De,Ie),$.vectorNormInverse=ht,K={nodesOverlap:$.nodesOverlap,dirCounts:$.dirCounts,calculatedIntersection:!0,hasBezier:$.hasBezier,hasUnbundled:$.hasUnbundled,eles:$.eles,srcPos:ce,srcRs:_e,tgtPos:se,tgtRs:Ie,srcW:de,srcH:ge,tgtW:pe,tgtH:Pe,srcIntn:Ue,tgtIntn:ne,srcShape:Ne,tgtShape:Ce,posPts:{x1:We.x2,y1:We.y2,x2:We.x1,y2:We.y1},intersectionPts:{x1:qe.x2,y1:qe.y2,x2:qe.x1,y2:qe.y1},vector:{x:-Se.x,y:-Se.y},vectorNorm:{x:-Ke.x,y:-Ke.y},vectorNormInverse:{x:-ht.x,y:-ht.y}}}var ct=pt?K:$;ot.nodesOverlap=ct.nodesOverlap,ot.srcIntn=ct.srcIntn,ot.tgtIntn=ct.tgtIntn,ot.isRound=Tt.startsWith("round"),i&&(re.isParent()||re.isChild()||ae.isParent()||ae.isChild())&&(re.parents().anySame(ae)||ae.parents().anySame(re)||re.same(ae)&&re.isParent())?e.findCompoundLoopPoints(Qe,ct,Ge,zt):re===ae?e.findLoopPoints(Qe,ct,Ge,zt):Tt.endsWith("segments")?e.findSegmentsPoints(Qe,ct):Tt.endsWith("taxi")?e.findTaxiPoints(Qe,ct):Tt==="straight"||!zt&&$.eles.length%2===1&&Ge===Math.floor($.eles.length/2)?e.findStraightEdgePoints(Qe):e.findBezierPoints(Qe,ct,Ge,zt,pt),e.findEndpoints(Qe),e.tryToCorrectInvalidPoints(Qe,ct),e.checkForInvalidEdgeWarning(Qe),e.storeAllpts(Qe),e.storeEdgeProjections(Qe),e.calculateArrowAngles(Qe),e.recalculateEdgeLabelProjections(Qe),e.calculateLabelAngles(Qe)}},R=0;R<s.length;R++)D();this.findHaystackPoints(u)}};function Pj(r){var e=[];if(r!=null){for(var t=0;t<r.length;t+=2){var n=r[t],i=r[t+1];e.push({x:n,y:i})}return e}}hc.getSegmentPoints=function(r){var e=r[0]._private.rscratch;this.recalculateRenderedStyle(r);var t=e.edgeType;if(t==="segments")return Pj(e.segpts)};hc.getControlPoints=function(r){var e=r[0]._private.rscratch;this.recalculateRenderedStyle(r);var t=e.edgeType;if(t==="bezier"||t==="multibezier"||t==="self"||t==="compound")return Pj(e.ctrlpts)};hc.getEdgeMidpoint=function(r){var e=r[0]._private.rscratch;return this.recalculateRenderedStyle(r),{x:e.midX,y:e.midY}};var Ob={};Ob.manualEndptToPx=function(r,e){var t=this,n=r.position(),i=r.outerWidth(),a=r.outerHeight(),o=r._private.rscratch;if(e.value.length===2){var s=[e.pfValue[0],e.pfValue[1]];return e.units[0]==="%"&&(s[0]=s[0]*i),e.units[1]==="%"&&(s[1]=s[1]*a),s[0]+=n.x,s[1]+=n.y,s}else{var u=e.pfValue[0];u=-Math.PI/2+u;var l=2*Math.max(i,a),c=[n.x+Math.cos(u)*l,n.y+Math.sin(u)*l];return t.nodeShapes[this.getNodeShape(r)].intersectLine(n.x,n.y,i,a,c[0],c[1],0,r.pstyle("corner-radius").value==="auto"?"auto":r.pstyle("corner-radius").pfValue,o)}};Ob.findEndpoints=function(r){var e=this,t,n=r.source()[0],i=r.target()[0],a=n.position(),o=i.position(),s=r.pstyle("target-arrow-shape").value,u=r.pstyle("source-arrow-shape").value,l=r.pstyle("target-distance-from-node").pfValue,c=r.pstyle("source-distance-from-node").pfValue,f=n._private.rscratch,d=i._private.rscratch,v=r.pstyle("curve-style").value,p=r._private.rscratch,m=p.edgeType,w=v==="taxi",b=m==="self"||m==="compound",y=m==="bezier"||m==="multibezier"||b,_=m!=="bezier",S=m==="straight"||m==="segments",A=m==="segments",D=y||_||S,R=b||w,k=r.pstyle("source-endpoint"),j=R?"outside-to-node":k.value,F=n.pstyle("corner-radius").value==="auto"?"auto":n.pstyle("corner-radius").pfValue,z=r.pstyle("target-endpoint"),q=R?"outside-to-node":z.value,$=i.pstyle("corner-radius").value==="auto"?"auto":i.pstyle("corner-radius").pfValue;p.srcManEndpt=k,p.tgtManEndpt=z;var K,oe,J,re;if(y){var ae=[p.ctrlpts[0],p.ctrlpts[1]],ve=_?[p.ctrlpts[p.ctrlpts.length-2],p.ctrlpts[p.ctrlpts.length-1]]:ae;K=ve,oe=ae}else if(S){var se=A?p.segpts.slice(0,2):[o.x,o.y],ce=A?p.segpts.slice(p.segpts.length-2):[a.x,a.y];K=ce,oe=se}if(q==="inside-to-node")t=[o.x,o.y];else if(z.units)t=this.manualEndptToPx(i,z);else if(q==="outside-to-line")t=p.tgtIntn;else if(q==="outside-to-node"||q==="outside-to-node-or-label"?J=K:(q==="outside-to-line"||q==="outside-to-line-or-label")&&(J=[a.x,a.y]),t=e.nodeShapes[this.getNodeShape(i)].intersectLine(o.x,o.y,i.outerWidth(),i.outerHeight(),J[0],J[1],0,$,d),q==="outside-to-node-or-label"||q==="outside-to-line-or-label"){var pe=i._private.rscratch,Pe=pe.labelWidth,de=pe.labelHeight,ge=pe.labelX,Ce=pe.labelY,Ne=Pe/2,De=de/2,ke=i.pstyle("text-valign").value;ke==="top"?Ce-=De:ke==="bottom"&&(Ce+=De);var _e=i.pstyle("text-halign").value;_e==="left"?ge-=Ne:_e==="right"&&(ge+=Ne);var Ie=nb(J[0],J[1],[ge-Ne,Ce-De,ge+Ne,Ce-De,ge+Ne,Ce+De,ge-Ne,Ce+De],o.x,o.y);if(Ie.length>0){var Ge=a,Qe=Sy(Ge,Rm(t)),ot=Sy(Ge,Rm(Ie)),Tt=Qe;if(ot<Qe&&(t=Ie,Tt=ot),Ie.length>2){var zt=Sy(Ge,{x:Ie[2],y:Ie[3]});zt<Tt&&(t=[Ie[2],Ie[3]])}}}var pt=Bb(t,K,e.arrowShapes[s].spacing(r)+l),Q=Bb(t,K,e.arrowShapes[s].gap(r)+l);if(p.endX=Q[0],p.endY=Q[1],p.arrowEndX=pt[0],p.arrowEndY=pt[1],j==="inside-to-node")t=[a.x,a.y];else if(k.units)t=this.manualEndptToPx(n,k);else if(j==="outside-to-line")t=p.srcIntn;else if(j==="outside-to-node"||j==="outside-to-node-or-label"?re=oe:(j==="outside-to-line"||j==="outside-to-line-or-label")&&(re=[o.x,o.y]),t=e.nodeShapes[this.getNodeShape(n)].intersectLine(a.x,a.y,n.outerWidth(),n.outerHeight(),re[0],re[1],0,F,f),j==="outside-to-node-or-label"||j==="outside-to-line-or-label"){var ne=n._private.rscratch,fe=ne.labelWidth,Ue=ne.labelHeight,qe=ne.labelX,We=ne.labelY,ft=fe/2,Ht=Ue/2,Et=n.pstyle("text-valign").value;Et==="top"?We-=Ht:Et==="bottom"&&(We+=Ht);var Se=n.pstyle("text-halign").value;Se==="left"?qe-=ft:Se==="right"&&(qe+=ft);var Ke=nb(re[0],re[1],[qe-ft,We-Ht,qe+ft,We-Ht,qe+ft,We+Ht,qe-ft,We+Ht],a.x,a.y);if(Ke.length>0){var ht=o,ct=Sy(ht,Rm(t)),xt=Sy(ht,Rm(Ke)),er=ct;if(xt<ct&&(t=[Ke[0],Ke[1]],er=xt),Ke.length>2){var Rt=Sy(ht,{x:Ke[2],y:Ke[3]});Rt<er&&(t=[Ke[2],Ke[3]])}}}var Jt=Bb(t,oe,e.arrowShapes[u].spacing(r)+c),mr=Bb(t,oe,e.arrowShapes[u].gap(r)+c);p.startX=mr[0],p.startY=mr[1],p.arrowStartX=Jt[0],p.arrowStartY=Jt[1],D&&(!gr(p.startX)||!gr(p.startY)||!gr(p.endX)||!gr(p.endY)?p.badLine=!0:p.badLine=!1)};Ob.getSourceEndpoint=function(r){var e=r[0]._private.rscratch;switch(this.recalculateRenderedStyle(r),e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}};Ob.getTargetEndpoint=function(r){var e=r[0]._private.rscratch;switch(this.recalculateRenderedStyle(r),e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}};var S2={};function Hz(r,e,t){for(var n=function(l,c,f,d){return al(l,c,f,d)},i=e._private,a=i.rstyle.bezierPts,o=0;o<r.bezierProjPcts.length;o++){var s=r.bezierProjPcts[o];a.push({x:n(t[0],t[2],t[4],s),y:n(t[1],t[3],t[5],s)})}}S2.storeEdgeProjections=function(r){var e=r._private,t=e.rscratch,n=t.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,n==="multibezier"||n==="bezier"||n==="self"||n==="compound"){e.rstyle.bezierPts=[];for(var i=0;i+5<t.allpts.length;i+=4)Hz(this,r,t.allpts.slice(i,i+6))}else if(n==="segments")for(var a=e.rstyle.linePts=[],i=0;i+1<t.allpts.length;i+=2)a.push({x:t.allpts[i],y:t.allpts[i+1]});else if(n==="haystack"){var o=t.haystackPts;e.rstyle.haystackPts=[{x:o[0],y:o[1]},{x:o[2],y:o[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(r.pstyle("width").pfValue,r.pstyle("arrow-scale").value)*this.arrowShapeWidth};S2.recalculateEdgeProjections=function(r){this.findEdgeControlPoints(r)};var sp={};sp.recalculateNodeLabelProjection=function(r){var e=r.pstyle("label").strValue;if(!Rg(e)){var t,n,i=r._private,a=r.width(),o=r.height(),s=r.padding(),u=r.position(),l=r.pstyle("text-halign").strValue,c=r.pstyle("text-valign").strValue,f=i.rscratch,d=i.rstyle;switch(l){case"left":t=u.x-a/2-s;break;case"right":t=u.x+a/2+s;break;default:t=u.x}switch(c){case"top":n=u.y-o/2-s;break;case"bottom":n=u.y+o/2+s;break;default:n=u.y}f.labelX=t,f.labelY=n,d.labelX=t,d.labelY=n,this.calculateLabelAngles(r),this.applyLabelDimensions(r)}};var Dj=function(e,t){var n=Math.atan(t/e);return e===0&&n<0&&(n=n*-1),n},Ij=function(e,t){var n=t.x-e.x,i=t.y-e.y;return Dj(n,i)},Vz=function(e,t,n,i){var a=rb(0,i-.001,1),o=rb(0,i+.001,1),s=Mm(e,t,n,a),u=Mm(e,t,n,o);return Ij(s,u)};sp.recalculateEdgeLabelProjections=function(r){var e,t=r._private,n=t.rscratch,i=this,a={mid:r.pstyle("label").strValue,source:r.pstyle("source-label").strValue,target:r.pstyle("target-label").strValue};if(a.mid||a.source||a.target){e={x:n.midX,y:n.midY};var o=function(f,d,v){Bp(t.rscratch,f,d,v),Bp(t.rstyle,f,d,v)};o("labelX",null,e.x),o("labelY",null,e.y);var s=Dj(n.midDispX,n.midDispY);o("labelAutoAngle",null,s);var u=function(){if(u.cache)return u.cache;for(var f=[],d=0;d+5<n.allpts.length;d+=4){var v={x:n.allpts[d],y:n.allpts[d+1]},p={x:n.allpts[d+2],y:n.allpts[d+3]},m={x:n.allpts[d+4],y:n.allpts[d+5]};f.push({p0:v,p1:p,p2:m,startDist:0,length:0,segments:[]})}var w=t.rstyle.bezierPts,b=i.bezierProjPcts.length;function y(R,k,j,F,z){var q=My(k,j),$=R.segments[R.segments.length-1],K={p0:k,p1:j,t0:F,t1:z,startDist:$?$.startDist+$.length:0,length:q};R.segments.push(K),R.length+=q}for(var _=0;_<f.length;_++){var S=f[_],A=f[_-1];A&&(S.startDist=A.startDist+A.length),y(S,S.p0,w[_*b],0,i.bezierProjPcts[0]);for(var D=0;D<b-1;D++)y(S,w[_*b+D],w[_*b+D+1],i.bezierProjPcts[D],i.bezierProjPcts[D+1]);y(S,w[_*b+b-1],S.p2,i.bezierProjPcts[b-1],1)}return u.cache=f},l=function(f){var d,v=f==="source";if(a[f]){var p=r.pstyle(f+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var m=u(),w,b=0,y=0,_=0;_<m.length;_++){for(var S=m[v?_:m.length-1-_],A=0;A<S.segments.length;A++){var D=S.segments[v?A:S.segments.length-1-A],R=_===m.length-1&&A===S.segments.length-1;if(b=y,y+=D.length,y>=p||R){w={cp:S,segment:D};break}}if(w)break}var k=w.cp,j=w.segment,F=(p-b)/j.length,z=j.t1-j.t0,q=v?j.t0+z*F:j.t1-z*F;q=rb(0,q,1),e=Mm(k.p0,k.p1,k.p2,q),d=Vz(k.p0,k.p1,k.p2,q);break}case"straight":case"segments":case"haystack":{for(var $=0,K,oe,J,re,ae=n.allpts.length,ve=0;ve+3<ae&&(v?(J={x:n.allpts[ve],y:n.allpts[ve+1]},re={x:n.allpts[ve+2],y:n.allpts[ve+3]}):(J={x:n.allpts[ae-2-ve],y:n.allpts[ae-1-ve]},re={x:n.allpts[ae-4-ve],y:n.allpts[ae-3-ve]}),K=My(J,re),oe=$,$+=K,!($>=p));ve+=2);var se=p-oe,ce=se/K;ce=rb(0,ce,1),e=pU(J,re,ce),d=Ij(J,re);break}}o("labelX",f,e.x),o("labelY",f,e.y),o("labelAutoAngle",f,d)}};l("source"),l("target"),this.applyLabelDimensions(r)}};sp.applyLabelDimensions=function(r){this.applyPrefixedLabelDimensions(r),r.isEdge()&&(this.applyPrefixedLabelDimensions(r,"source"),this.applyPrefixedLabelDimensions(r,"target"))};sp.applyPrefixedLabelDimensions=function(r,e){var t=r._private,n=this.getLabelText(r,e),i=Pg(n,r._private.labelDimsKey);if(pd(t.rscratch,"prefixedLabelDimsKey",e)!==i){Bp(t.rscratch,"prefixedLabelDimsKey",e,i);var a=this.calculateLabelDimensions(r,n),o=r.pstyle("line-height").pfValue,s=r.pstyle("text-wrap").strValue,u=pd(t.rscratch,"labelWrapCachedLines",e)||[],l=s!=="wrap"?1:Math.max(u.length,1),c=a.height/l,f=c*o,d=a.width,v=a.height+(l-1)*(o-1)*c;Bp(t.rstyle,"labelWidth",e,d),Bp(t.rscratch,"labelWidth",e,d),Bp(t.rstyle,"labelHeight",e,v),Bp(t.rscratch,"labelHeight",e,v),Bp(t.rscratch,"labelLineHeight",e,f)}};sp.getLabelText=function(r,e){var t=r._private,n=e?e+"-":"",i=r.pstyle(n+"label").strValue,a=r.pstyle("text-transform").value,o=function(Pe,de){return de?(Bp(t.rscratch,Pe,e,de),de):pd(t.rscratch,Pe,e)};if(!i)return"";a=="none"||(a=="uppercase"?i=i.toUpperCase():a=="lowercase"&&(i=i.toLowerCase()));var s=r.pstyle("text-wrap").value;if(s==="wrap"){var u=o("labelKey");if(u!=null&&o("labelWrapKey")===u)return o("labelWrapCachedText");for(var l="",c=i.split(`
`),f=r.pstyle("text-max-width").pfValue,d=r.pstyle("text-overflow-wrap").value,v=d==="anywhere",p=[],m=/[\s\u200b]+|$/g,w=0;w<c.length;w++){var b=c[w],y=this.calculateLabelDimensions(r,b),_=y.width;if(v){var S=b.split("").join(l);b=S}if(_>f){var A=b.matchAll(m),D="",R=0,k=dv(A),j;try{for(k.s();!(j=k.n()).done;){var F=j.value,z=F[0],q=b.substring(R,F.index);R=F.index+z.length;var $=D.length===0?q:D+q+z,K=this.calculateLabelDimensions(r,$),oe=K.width;oe<=f?D+=q+z:(D&&p.push(D),D=q+z)}}catch(pe){k.e(pe)}finally{k.f()}D.match(/^[\s\u200b]+$/)||p.push(D)}else p.push(b)}o("labelWrapCachedLines",p),i=o("labelWrapCachedText",p.join(`
`)),o("labelWrapKey",u)}else if(s==="ellipsis"){var J=r.pstyle("text-max-width").pfValue,re="",ae="",ve=!1;if(this.calculateLabelDimensions(r,i).width<J)return i;for(var se=0;se<i.length;se++){var ce=this.calculateLabelDimensions(r,re+i[se]+ae).width;if(ce>J)break;re+=i[se],se===i.length-1&&(ve=!0)}return ve||(re+=ae),re}return i};sp.getLabelJustification=function(r){var e=r.pstyle("text-justification").strValue,t=r.pstyle("text-halign").strValue;if(e==="auto")if(r.isNode())switch(t){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return e};sp.calculateLabelDimensions=function(r,e){var t=this,n=t.cy.window(),i=n.document,a=0,o=r.pstyle("font-style").strValue,s=r.pstyle("font-size").pfValue,u=r.pstyle("font-family").strValue,l=r.pstyle("font-weight").strValue,c=this.labelCalcCanvas,f=this.labelCalcCanvasContext;if(!c){c=this.labelCalcCanvas=i.createElement("canvas"),f=this.labelCalcCanvasContext=c.getContext("2d");var d=c.style;d.position="absolute",d.left="-9999px",d.top="-9999px",d.zIndex="-1",d.visibility="hidden",d.pointerEvents="none"}f.font="".concat(o," ").concat(l," ").concat(s,"px ").concat(u);for(var v=0,p=0,m=e.split(`
`),w=0;w<m.length;w++){var b=m[w],y=f.measureText(b),_=Math.ceil(y.width),S=s;v=Math.max(_,v),p+=S}return v+=a,p+=a,{width:v,height:p}};sp.calculateLabelAngle=function(r,e){var t=r._private,n=t.rscratch,i=r.isEdge(),a=e?e+"-":"",o=r.pstyle(a+"text-rotation"),s=o.strValue;return s==="none"?0:i&&s==="autorotate"?n.labelAutoAngle:s==="autorotate"?0:o.pfValue};sp.calculateLabelAngles=function(r){var e=this,t=r.isEdge(),n=r._private,i=n.rscratch;i.labelAngle=e.calculateLabelAngle(r),t&&(i.sourceLabelAngle=e.calculateLabelAngle(r,"source"),i.targetLabelAngle=e.calculateLabelAngle(r,"target"))};var kj={},HP=28,VP=!1;kj.getNodeShape=function(r){var e=this,t=r.pstyle("shape").value;if(t==="cutrectangle"&&(r.width()<HP||r.height()<HP))return VP||(_a("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),VP=!0),"rectangle";if(r.isParent())return t==="rectangle"||t==="roundrectangle"||t==="round-rectangle"||t==="cutrectangle"||t==="cut-rectangle"||t==="barrel"?t:"rectangle";if(t==="polygon"){var n=r.pstyle("shape-polygon-points").value;return e.nodeShapes.makePolygon(n).name}return t};var v1={};v1.registerCalculationListeners=function(){var r=this.cy,e=r.collection(),t=this,n=function(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.merge(o),s)for(var u=0;u<o.length;u++){var l=o[u],c=l._private,f=c.rstyle;f.clean=!1,f.cleanConnected=!1}};t.binder(r).on("bounds.* dirty.*",function(o){var s=o.target;n(s)}).on("style.* background.*",function(o){var s=o.target;n(s,!1)});var i=function(o){if(o){var s=t.onUpdateEleCalcsFns;e.cleanStyle();for(var u=0;u<e.length;u++){var l=e[u],c=l._private.rstyle;l.isNode()&&!c.cleanConnected&&(n(l.connectedEdges()),c.cleanConnected=!0)}if(s)for(var f=0;f<s.length;f++){var d=s[f];d(o,e)}t.recalculateRenderedStyle(e),e=r.collection()}};t.flushRenderedStyleQueue=function(){i(!0)},t.beforeRender(i,t.beforeRenderPriorities.eleCalcs)};v1.onUpdateEleCalcs=function(r){var e=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];e.push(r)};v1.recalculateRenderedStyle=function(r,e){var t=function(S){return S._private.rstyle.cleanConnected};if(r.length!==0){var n=[],i=[];if(!this.destroyed){e===void 0&&(e=!0);for(var a=0;a<r.length;a++){var o=r[a],s=o._private,u=s.rstyle;o.isEdge()&&(!t(o.source())||!t(o.target()))&&(u.clean=!1),o.isEdge()&&o.isBundledBezier()&&o.parallelEdges().some(function(_){return!_._private.rstyle.clean&&_.isBundledBezier()})&&(u.clean=!1),!(e&&u.clean||o.removed())&&o.pstyle("display").value!=="none"&&(s.group==="nodes"?i.push(o):n.push(o),u.clean=!0)}for(var l=0;l<i.length;l++){var c=i[l],f=c._private,d=f.rstyle,v=c.position();this.recalculateNodeLabelProjection(c),d.nodeX=v.x,d.nodeY=v.y,d.nodeW=c.pstyle("width").pfValue,d.nodeH=c.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var p=0;p<n.length;p++){var m=n[p],w=m._private,b=w.rstyle,y=w.rscratch;b.srcX=y.arrowStartX,b.srcY=y.arrowStartY,b.tgtX=y.arrowEndX,b.tgtY=y.arrowEndY,b.midX=y.midX,b.midY=y.midY,b.labelAngle=y.labelAngle,b.sourceLabelAngle=y.sourceLabelAngle,b.targetLabelAngle=y.targetLabelAngle}}}};var p1={};p1.updateCachedGrabbedEles=function(){var r=this.cachedZSortedEles;if(r){r.drag=[],r.nondrag=[];for(var e=[],t=0;t<r.length;t++){var n=r[t],i=n._private.rscratch;n.grabbed()&&!n.isParent()?e.push(n):i.inDragLayer?r.drag.push(n):r.nondrag.push(n)}for(var t=0;t<e.length;t++){var n=e[t];r.drag.push(n)}}};p1.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};p1.getCachedZSortedEles=function(r){if(r||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(vj),e.interactive=e.filter(function(t){return t.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e};var Mj={};[Uy,z_,hc,Ob,S2,sp,kj,v1,p1].forEach(function(r){en(Mj,r)});var Nj={};Nj.getCachedImage=function(r,e,t){var n=this,i=n.imageCache=n.imageCache||{},a=i[r];if(a)return a.image.complete||a.image.addEventListener("load",t),a.image;a=i[r]=i[r]||{};var o=a.image=new Image;o.addEventListener("load",t),o.addEventListener("error",function(){o.error=!0});var s="data:",u=r.substring(0,s.length).toLowerCase()===s;return u||(e=e==="null"?null:e,o.crossOrigin=e),o.src=r,o};var n0={};n0.registerBinding=function(r,e,t,n){var i=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(r)){for(var a=[],o=0;o<r.length;o++){var s=r[o];if(s!==void 0){var u=this.binder(s);a.push(u.on.apply(u,i))}}return a}var u=this.binder(r);return u.on.apply(u,i)};n0.binder=function(r){var e=this,t=e.cy.window(),n=r===t||r===t.document||r===t.document.body||uF(r);if(e.supportsPassiveEvents==null){var i=!1;try{var a=Object.defineProperty({},"passive",{get:function(){return i=!0,!0}});t.addEventListener("test",null,a)}catch{}e.supportsPassiveEvents=i}var o=function(u,l,c){var f=Array.prototype.slice.call(arguments);return n&&e.supportsPassiveEvents&&(f[2]={capture:c??!1,passive:!1,once:!1}),e.bindings.push({target:r,args:f}),(r.addEventListener||r.on).apply(r,f),this};return{on:o,addEventListener:o,addListener:o,bind:o}};n0.nodeIsDraggable=function(r){return r&&r.isNode()&&!r.locked()&&r.grabbable()};n0.nodeIsGrabbable=function(r){return this.nodeIsDraggable(r)&&r.interactive()};n0.load=function(){var r=this,e=r.cy.window(),t=function(Se){return Se.selected()},n=function(Se){var Ke=Se.getRootNode();if(Ke&&Ke.nodeType===11&&Ke.host!==void 0)return Ke},i=function(Se,Ke,ht,ct){Se==null&&(Se=r.cy);for(var xt=0;xt<Ke.length;xt++){var er=Ke[xt];Se.emit({originalEvent:ht,type:er,position:ct})}},a=function(Se){return Se.shiftKey||Se.metaKey||Se.ctrlKey},o=function(Se,Ke){var ht=!0;if(r.cy.hasCompoundNodes()&&Se&&Se.pannable())for(var ct=0;Ke&&ct<Ke.length;ct++){var Se=Ke[ct];if(Se.isNode()&&Se.isParent()&&!Se.pannable()){ht=!1;break}}else ht=!0;return ht},s=function(Se){Se[0]._private.grabbed=!0},u=function(Se){Se[0]._private.grabbed=!1},l=function(Se){Se[0]._private.rscratch.inDragLayer=!0},c=function(Se){Se[0]._private.rscratch.inDragLayer=!1},f=function(Se){Se[0]._private.rscratch.isGrabTarget=!0},d=function(Se){Se[0]._private.rscratch.isGrabTarget=!1},v=function(Se,Ke){var ht=Ke.addToList,ct=ht.has(Se);!ct&&Se.grabbable()&&!Se.locked()&&(ht.merge(Se),s(Se))},p=function(Se,Ke){if(Se.cy().hasCompoundNodes()&&!(Ke.inDragLayer==null&&Ke.addToList==null)){var ht=Se.descendants();Ke.inDragLayer&&(ht.forEach(l),ht.connectedEdges().forEach(l)),Ke.addToList&&v(ht,Ke)}},m=function(Se,Ke){Ke=Ke||{};var ht=Se.cy().hasCompoundNodes();Ke.inDragLayer&&(Se.forEach(l),Se.neighborhood().stdFilter(function(ct){return!ht||ct.isEdge()}).forEach(l)),Ke.addToList&&Se.forEach(function(ct){v(ct,Ke)}),p(Se,Ke),y(Se,{inDragLayer:Ke.inDragLayer}),r.updateCachedGrabbedEles()},w=m,b=function(Se){Se&&(r.getCachedZSortedEles().forEach(function(Ke){u(Ke),c(Ke),d(Ke)}),r.updateCachedGrabbedEles())},y=function(Se,Ke){if(!(Ke.inDragLayer==null&&Ke.addToList==null)&&Se.cy().hasCompoundNodes()){var ht=Se.ancestors().orphans();if(!ht.same(Se)){var ct=ht.descendants().spawnSelf().merge(ht).unmerge(Se).unmerge(Se.descendants()),xt=ct.connectedEdges();Ke.inDragLayer&&(xt.forEach(l),ct.forEach(l)),Ke.addToList&&ct.forEach(function(er){v(er,Ke)})}}},_=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},S=typeof MutationObserver<"u",A=typeof ResizeObserver<"u";S?(r.removeObserver=new MutationObserver(function(Et){for(var Se=0;Se<Et.length;Se++){var Ke=Et[Se],ht=Ke.removedNodes;if(ht)for(var ct=0;ct<ht.length;ct++){var xt=ht[ct];if(xt===r.container){r.destroy();break}}}}),r.container.parentNode&&r.removeObserver.observe(r.container.parentNode,{childList:!0})):r.registerBinding(r.container,"DOMNodeRemoved",function(Et){r.destroy()});var D=wb(function(){r.cy.resize()},100);S&&(r.styleObserver=new MutationObserver(D),r.styleObserver.observe(r.container,{attributes:!0})),r.registerBinding(e,"resize",D),A&&(r.resizeObserver=new ResizeObserver(D),r.resizeObserver.observe(r.container));var R=function(Se,Ke){for(;Se!=null;)Ke(Se),Se=Se.parentNode},k=function(){r.invalidateContainerClientCoordsCache()};R(r.container,function(Et){r.registerBinding(Et,"transitionend",k),r.registerBinding(Et,"animationend",k),r.registerBinding(Et,"scroll",k)}),r.registerBinding(r.container,"contextmenu",function(Et){Et.preventDefault()});var j=function(){return r.selection[4]!==0},F=function(Se){for(var Ke=r.findContainerClientCoords(),ht=Ke[0],ct=Ke[1],xt=Ke[2],er=Ke[3],Rt=Se.touches?Se.touches:[Se],Jt=!1,mr=0;mr<Rt.length;mr++){var Mr=Rt[mr];if(ht<=Mr.clientX&&Mr.clientX<=ht+xt&&ct<=Mr.clientY&&Mr.clientY<=ct+er){Jt=!0;break}}if(!Jt)return!1;for(var cr=r.container,Fr=Se.target,Dr=Fr.parentNode,Cr=!1;Dr;){if(Dr===cr){Cr=!0;break}Dr=Dr.parentNode}return!!Cr};r.registerBinding(r.container,"mousedown",function(Se){if(F(Se)&&!(r.hoverData.which===1&&Se.which!==1)){Se.preventDefault(),_(),r.hoverData.capture=!0,r.hoverData.which=Se.which;var Ke=r.cy,ht=[Se.clientX,Se.clientY],ct=r.projectIntoViewport(ht[0],ht[1]),xt=r.selection,er=r.findNearestElements(ct[0],ct[1],!0,!1),Rt=er[0],Jt=r.dragData.possibleDragElements;r.hoverData.mdownPos=ct,r.hoverData.mdownGPos=ht;var mr=function(){r.hoverData.tapholdCancelled=!1,clearTimeout(r.hoverData.tapholdTimeout),r.hoverData.tapholdTimeout=setTimeout(function(){if(!r.hoverData.tapholdCancelled){var On=r.hoverData.down;On?On.emit({originalEvent:Se,type:"taphold",position:{x:ct[0],y:ct[1]}}):Ke.emit({originalEvent:Se,type:"taphold",position:{x:ct[0],y:ct[1]}})}},r.tapholdDuration)};if(Se.which==3){r.hoverData.cxtStarted=!0;var Mr={originalEvent:Se,type:"cxttapstart",position:{x:ct[0],y:ct[1]}};Rt?(Rt.activate(),Rt.emit(Mr),r.hoverData.down=Rt):Ke.emit(Mr),r.hoverData.downTime=new Date().getTime(),r.hoverData.cxtDragged=!1}else if(Se.which==1){Rt&&Rt.activate();{if(Rt!=null&&r.nodeIsGrabbable(Rt)){var cr=function(On){return{originalEvent:Se,type:On,position:{x:ct[0],y:ct[1]}}},Fr=function(On){On.emit(cr("grab"))};if(f(Rt),!Rt.selected())Jt=r.dragData.possibleDragElements=Ke.collection(),w(Rt,{addToList:Jt}),Rt.emit(cr("grabon")).emit(cr("grab"));else{Jt=r.dragData.possibleDragElements=Ke.collection();var Dr=Ke.$(function(Cr){return Cr.isNode()&&Cr.selected()&&r.nodeIsGrabbable(Cr)});m(Dr,{addToList:Jt}),Rt.emit(cr("grabon")),Dr.forEach(Fr)}r.redrawHint("eles",!0),r.redrawHint("drag",!0)}r.hoverData.down=Rt,r.hoverData.downs=er,r.hoverData.downTime=new Date().getTime()}i(Rt,["mousedown","tapstart","vmousedown"],Se,{x:ct[0],y:ct[1]}),Rt==null?(xt[4]=1,r.data.bgActivePosistion={x:ct[0],y:ct[1]},r.redrawHint("select",!0),r.redraw()):Rt.pannable()&&(xt[4]=1),mr()}xt[0]=xt[2]=ct[0],xt[1]=xt[3]=ct[1]}},!1);var z=n(r.container);r.registerBinding([e,z],"mousemove",function(Se){var Ke=r.hoverData.capture;if(!(!Ke&&!F(Se))){var ht=!1,ct=r.cy,xt=ct.zoom(),er=[Se.clientX,Se.clientY],Rt=r.projectIntoViewport(er[0],er[1]),Jt=r.hoverData.mdownPos,mr=r.hoverData.mdownGPos,Mr=r.selection,cr=null;!r.hoverData.draggingEles&&!r.hoverData.dragging&&!r.hoverData.selecting&&(cr=r.findNearestElement(Rt[0],Rt[1],!0,!1));var Fr=r.hoverData.last,Dr=r.hoverData.down,Cr=[Rt[0]-Mr[2],Rt[1]-Mr[3]],On=r.dragData.possibleDragElements,Rn;if(mr){var Ha=er[0]-mr[0],ni=Ha*Ha,Vn=er[1]-mr[1],ii=Vn*Vn,ui=ni+ii;r.hoverData.isOverThresholdDrag=Rn=ui>=r.desktopTapThreshold2}var ji=a(Se);Rn&&(r.hoverData.tapholdCancelled=!0);var la=function(){var wa=r.hoverData.dragDelta=r.hoverData.dragDelta||[];wa.length===0?(wa.push(Cr[0]),wa.push(Cr[1])):(wa[0]+=Cr[0],wa[1]+=Cr[1])};ht=!0,i(cr,["mousemove","vmousemove","tapdrag"],Se,{x:Rt[0],y:Rt[1]});var ca=function(){r.data.bgActivePosistion=void 0,r.hoverData.selecting||ct.emit({originalEvent:Se,type:"boxstart",position:{x:Rt[0],y:Rt[1]}}),Mr[4]=1,r.hoverData.selecting=!0,r.redrawHint("select",!0),r.redraw()};if(r.hoverData.which===3){if(Rn){var Pn={originalEvent:Se,type:"cxtdrag",position:{x:Rt[0],y:Rt[1]}};Dr?Dr.emit(Pn):ct.emit(Pn),r.hoverData.cxtDragged=!0,(!r.hoverData.cxtOver||cr!==r.hoverData.cxtOver)&&(r.hoverData.cxtOver&&r.hoverData.cxtOver.emit({originalEvent:Se,type:"cxtdragout",position:{x:Rt[0],y:Rt[1]}}),r.hoverData.cxtOver=cr,cr&&cr.emit({originalEvent:Se,type:"cxtdragover",position:{x:Rt[0],y:Rt[1]}}))}}else if(r.hoverData.dragging){if(ht=!0,ct.panningEnabled()&&ct.userPanningEnabled()){var ai;if(r.hoverData.justStartedPan){var fa=r.hoverData.mdownPos;ai={x:(Rt[0]-fa[0])*xt,y:(Rt[1]-fa[1])*xt},r.hoverData.justStartedPan=!1}else ai={x:Cr[0]*xt,y:Cr[1]*xt};ct.panBy(ai),ct.emit("dragpan"),r.hoverData.dragged=!0}Rt=r.projectIntoViewport(Se.clientX,Se.clientY)}else if(Mr[4]==1&&(Dr==null||Dr.pannable())){if(Rn){if(!r.hoverData.dragging&&ct.boxSelectionEnabled()&&(ji||!ct.panningEnabled()||!ct.userPanningEnabled()))ca();else if(!r.hoverData.selecting&&ct.panningEnabled()&&ct.userPanningEnabled()){var po=o(Dr,r.hoverData.downs);po&&(r.hoverData.dragging=!0,r.hoverData.justStartedPan=!0,Mr[4]=0,r.data.bgActivePosistion=Rm(Jt),r.redrawHint("select",!0),r.redraw())}Dr&&Dr.pannable()&&Dr.active()&&Dr.unactivate()}}else{if(Dr&&Dr.pannable()&&Dr.active()&&Dr.unactivate(),(!Dr||!Dr.grabbed())&&cr!=Fr&&(Fr&&i(Fr,["mouseout","tapdragout"],Se,{x:Rt[0],y:Rt[1]}),cr&&i(cr,["mouseover","tapdragover"],Se,{x:Rt[0],y:Rt[1]}),r.hoverData.last=cr),Dr)if(Rn){if(ct.boxSelectionEnabled()&&ji)Dr&&Dr.grabbed()&&(b(On),Dr.emit("freeon"),On.emit("free"),r.dragData.didDrag&&(Dr.emit("dragfreeon"),On.emit("dragfree"))),ca();else if(Dr&&Dr.grabbed()&&r.nodeIsDraggable(Dr)){var Qi=!r.dragData.didDrag;Qi&&r.redrawHint("eles",!0),r.dragData.didDrag=!0,r.hoverData.draggingEles||m(On,{inDragLayer:!0});var Wr={x:0,y:0};if(gr(Cr[0])&&gr(Cr[1])&&(Wr.x+=Cr[0],Wr.y+=Cr[1],Qi)){var zn=r.hoverData.dragDelta;zn&&gr(zn[0])&&gr(zn[1])&&(Wr.x+=zn[0],Wr.y+=zn[1])}r.hoverData.draggingEles=!0,On.silentShift(Wr).emit("position drag"),r.redrawHint("drag",!0),r.redraw()}}else la();ht=!0}if(Mr[2]=Rt[0],Mr[3]=Rt[1],ht)return Se.stopPropagation&&Se.stopPropagation(),Se.preventDefault&&Se.preventDefault(),!1}},!1);var q,$,K;r.registerBinding(e,"mouseup",function(Se){if(!(r.hoverData.which===1&&Se.which!==1&&r.hoverData.capture)){var Ke=r.hoverData.capture;if(Ke){r.hoverData.capture=!1;var ht=r.cy,ct=r.projectIntoViewport(Se.clientX,Se.clientY),xt=r.selection,er=r.findNearestElement(ct[0],ct[1],!0,!1),Rt=r.dragData.possibleDragElements,Jt=r.hoverData.down,mr=a(Se);if(r.data.bgActivePosistion&&(r.redrawHint("select",!0),r.redraw()),r.hoverData.tapholdCancelled=!0,r.data.bgActivePosistion=void 0,Jt&&Jt.unactivate(),r.hoverData.which===3){var Mr={originalEvent:Se,type:"cxttapend",position:{x:ct[0],y:ct[1]}};if(Jt?Jt.emit(Mr):ht.emit(Mr),!r.hoverData.cxtDragged){var cr={originalEvent:Se,type:"cxttap",position:{x:ct[0],y:ct[1]}};Jt?Jt.emit(cr):ht.emit(cr)}r.hoverData.cxtDragged=!1,r.hoverData.which=null}else if(r.hoverData.which===1){if(i(er,["mouseup","tapend","vmouseup"],Se,{x:ct[0],y:ct[1]}),!r.dragData.didDrag&&!r.hoverData.dragged&&!r.hoverData.selecting&&!r.hoverData.isOverThresholdDrag&&(i(Jt,["click","tap","vclick"],Se,{x:ct[0],y:ct[1]}),$=!1,Se.timeStamp-K<=ht.multiClickDebounceTime()?(q&&clearTimeout(q),$=!0,K=null,i(Jt,["dblclick","dbltap","vdblclick"],Se,{x:ct[0],y:ct[1]})):(q=setTimeout(function(){$||i(Jt,["oneclick","onetap","voneclick"],Se,{x:ct[0],y:ct[1]})},ht.multiClickDebounceTime()),K=Se.timeStamp)),Jt==null&&!r.dragData.didDrag&&!r.hoverData.selecting&&!r.hoverData.dragged&&!a(Se)&&(ht.$(t).unselect(["tapunselect"]),Rt.length>0&&r.redrawHint("eles",!0),r.dragData.possibleDragElements=Rt=ht.collection()),er==Jt&&!r.dragData.didDrag&&!r.hoverData.selecting&&er!=null&&er._private.selectable&&(r.hoverData.dragging||(ht.selectionType()==="additive"||mr?er.selected()?er.unselect(["tapunselect"]):er.select(["tapselect"]):mr||(ht.$(t).unmerge(er).unselect(["tapunselect"]),er.select(["tapselect"]))),r.redrawHint("eles",!0)),r.hoverData.selecting){var Fr=ht.collection(r.getAllInBox(xt[0],xt[1],xt[2],xt[3]));r.redrawHint("select",!0),Fr.length>0&&r.redrawHint("eles",!0),ht.emit({type:"boxend",originalEvent:Se,position:{x:ct[0],y:ct[1]}});var Dr=function(Rn){return Rn.selectable()&&!Rn.selected()};ht.selectionType()==="additive"||mr||ht.$(t).unmerge(Fr).unselect(),Fr.emit("box").stdFilter(Dr).select().emit("boxselect"),r.redraw()}if(r.hoverData.dragging&&(r.hoverData.dragging=!1,r.redrawHint("select",!0),r.redrawHint("eles",!0),r.redraw()),!xt[4]){r.redrawHint("drag",!0),r.redrawHint("eles",!0);var Cr=Jt&&Jt.grabbed();b(Rt),Cr&&(Jt.emit("freeon"),Rt.emit("free"),r.dragData.didDrag&&(Jt.emit("dragfreeon"),Rt.emit("dragfree")))}}xt[4]=0,r.hoverData.down=null,r.hoverData.cxtStarted=!1,r.hoverData.draggingEles=!1,r.hoverData.selecting=!1,r.hoverData.isOverThresholdDrag=!1,r.dragData.didDrag=!1,r.hoverData.dragged=!1,r.hoverData.dragDelta=[],r.hoverData.mdownPos=null,r.hoverData.mdownGPos=null,r.hoverData.which=null}}},!1);var oe=function(Se){if(!r.scrollingPage){var Ke=r.cy,ht=Ke.zoom(),ct=Ke.pan(),xt=r.projectIntoViewport(Se.clientX,Se.clientY),er=[xt[0]*ht+ct.x,xt[1]*ht+ct.y];if(r.hoverData.draggingEles||r.hoverData.dragging||r.hoverData.cxtStarted||j()){Se.preventDefault();return}if(Ke.panningEnabled()&&Ke.userPanningEnabled()&&Ke.zoomingEnabled()&&Ke.userZoomingEnabled()){Se.preventDefault(),r.data.wheelZooming=!0,clearTimeout(r.data.wheelTimeout),r.data.wheelTimeout=setTimeout(function(){r.data.wheelZooming=!1,r.redrawHint("eles",!0),r.redraw()},150);var Rt;Se.deltaY!=null?Rt=Se.deltaY/-250:Se.wheelDeltaY!=null?Rt=Se.wheelDeltaY/1e3:Rt=Se.wheelDelta/1e3,Rt=Rt*r.wheelSensitivity;var Jt=Se.deltaMode===1;Jt&&(Rt*=33);var mr=Ke.zoom()*Math.pow(10,Rt);Se.type==="gesturechange"&&(mr=r.gestureStartZoom*Se.scale),Ke.zoom({level:mr,renderedPosition:{x:er[0],y:er[1]}}),Ke.emit(Se.type==="gesturechange"?"pinchzoom":"scrollzoom")}}};r.registerBinding(r.container,"wheel",oe,!0),r.registerBinding(e,"scroll",function(Se){r.scrollingPage=!0,clearTimeout(r.scrollingPageTimeout),r.scrollingPageTimeout=setTimeout(function(){r.scrollingPage=!1},250)},!0),r.registerBinding(r.container,"gesturestart",function(Se){r.gestureStartZoom=r.cy.zoom(),r.hasTouchStarted||Se.preventDefault()},!0),r.registerBinding(r.container,"gesturechange",function(Et){r.hasTouchStarted||oe(Et)},!0),r.registerBinding(r.container,"mouseout",function(Se){var Ke=r.projectIntoViewport(Se.clientX,Se.clientY);r.cy.emit({originalEvent:Se,type:"mouseout",position:{x:Ke[0],y:Ke[1]}})},!1),r.registerBinding(r.container,"mouseover",function(Se){var Ke=r.projectIntoViewport(Se.clientX,Se.clientY);r.cy.emit({originalEvent:Se,type:"mouseover",position:{x:Ke[0],y:Ke[1]}})},!1);var J,re,ae,ve,se,ce,pe,Pe,de,ge,Ce,Ne,De,ke=function(Se,Ke,ht,ct){return Math.sqrt((ht-Se)*(ht-Se)+(ct-Ke)*(ct-Ke))},_e=function(Se,Ke,ht,ct){return(ht-Se)*(ht-Se)+(ct-Ke)*(ct-Ke)},Ie;r.registerBinding(r.container,"touchstart",Ie=function(Se){if(r.hasTouchStarted=!0,!!F(Se)){_(),r.touchData.capture=!0,r.data.bgActivePosistion=void 0;var Ke=r.cy,ht=r.touchData.now,ct=r.touchData.earlier;if(Se.touches[0]){var xt=r.projectIntoViewport(Se.touches[0].clientX,Se.touches[0].clientY);ht[0]=xt[0],ht[1]=xt[1]}if(Se.touches[1]){var xt=r.projectIntoViewport(Se.touches[1].clientX,Se.touches[1].clientY);ht[2]=xt[0],ht[3]=xt[1]}if(Se.touches[2]){var xt=r.projectIntoViewport(Se.touches[2].clientX,Se.touches[2].clientY);ht[4]=xt[0],ht[5]=xt[1]}if(Se.touches[1]){r.touchData.singleTouchMoved=!0,b(r.dragData.touchDragEles);var er=r.findContainerClientCoords();de=er[0],ge=er[1],Ce=er[2],Ne=er[3],J=Se.touches[0].clientX-de,re=Se.touches[0].clientY-ge,ae=Se.touches[1].clientX-de,ve=Se.touches[1].clientY-ge,De=0<=J&&J<=Ce&&0<=ae&&ae<=Ce&&0<=re&&re<=Ne&&0<=ve&&ve<=Ne;var Rt=Ke.pan(),Jt=Ke.zoom();se=ke(J,re,ae,ve),ce=_e(J,re,ae,ve),pe=[(J+ae)/2,(re+ve)/2],Pe=[(pe[0]-Rt.x)/Jt,(pe[1]-Rt.y)/Jt];var mr=200,Mr=mr*mr;if(ce<Mr&&!Se.touches[2]){var cr=r.findNearestElement(ht[0],ht[1],!0,!0),Fr=r.findNearestElement(ht[2],ht[3],!0,!0);cr&&cr.isNode()?(cr.activate().emit({originalEvent:Se,type:"cxttapstart",position:{x:ht[0],y:ht[1]}}),r.touchData.start=cr):Fr&&Fr.isNode()?(Fr.activate().emit({originalEvent:Se,type:"cxttapstart",position:{x:ht[0],y:ht[1]}}),r.touchData.start=Fr):Ke.emit({originalEvent:Se,type:"cxttapstart",position:{x:ht[0],y:ht[1]}}),r.touchData.start&&(r.touchData.start._private.grabbed=!1),r.touchData.cxt=!0,r.touchData.cxtDragged=!1,r.data.bgActivePosistion=void 0,r.redraw();return}}if(Se.touches[2])Ke.boxSelectionEnabled()&&Se.preventDefault();else if(!Se.touches[1]){if(Se.touches[0]){var Dr=r.findNearestElements(ht[0],ht[1],!0,!0),Cr=Dr[0];if(Cr!=null&&(Cr.activate(),r.touchData.start=Cr,r.touchData.starts=Dr,r.nodeIsGrabbable(Cr))){var On=r.dragData.touchDragEles=Ke.collection(),Rn=null;r.redrawHint("eles",!0),r.redrawHint("drag",!0),Cr.selected()?(Rn=Ke.$(function(ui){return ui.selected()&&r.nodeIsGrabbable(ui)}),m(Rn,{addToList:On})):w(Cr,{addToList:On}),f(Cr);var Ha=function(ji){return{originalEvent:Se,type:ji,position:{x:ht[0],y:ht[1]}}};Cr.emit(Ha("grabon")),Rn?Rn.forEach(function(ui){ui.emit(Ha("grab"))}):Cr.emit(Ha("grab"))}i(Cr,["touchstart","tapstart","vmousedown"],Se,{x:ht[0],y:ht[1]}),Cr==null&&(r.data.bgActivePosistion={x:xt[0],y:xt[1]},r.redrawHint("select",!0),r.redraw()),r.touchData.singleTouchMoved=!1,r.touchData.singleTouchStartTime=+new Date,clearTimeout(r.touchData.tapholdTimeout),r.touchData.tapholdTimeout=setTimeout(function(){r.touchData.singleTouchMoved===!1&&!r.pinching&&!r.touchData.selecting&&i(r.touchData.start,["taphold"],Se,{x:ht[0],y:ht[1]})},r.tapholdDuration)}}if(Se.touches.length>=1){for(var ni=r.touchData.startPosition=[null,null,null,null,null,null],Vn=0;Vn<ht.length;Vn++)ni[Vn]=ct[Vn]=ht[Vn];var ii=Se.touches[0];r.touchData.startGPosition=[ii.clientX,ii.clientY]}}},!1);var Ge;r.registerBinding(e,"touchmove",Ge=function(Se){var Ke=r.touchData.capture;if(!(!Ke&&!F(Se))){var ht=r.selection,ct=r.cy,xt=r.touchData.now,er=r.touchData.earlier,Rt=ct.zoom();if(Se.touches[0]){var Jt=r.projectIntoViewport(Se.touches[0].clientX,Se.touches[0].clientY);xt[0]=Jt[0],xt[1]=Jt[1]}if(Se.touches[1]){var Jt=r.projectIntoViewport(Se.touches[1].clientX,Se.touches[1].clientY);xt[2]=Jt[0],xt[3]=Jt[1]}if(Se.touches[2]){var Jt=r.projectIntoViewport(Se.touches[2].clientX,Se.touches[2].clientY);xt[4]=Jt[0],xt[5]=Jt[1]}var mr=r.touchData.startGPosition,Mr;if(Ke&&Se.touches[0]&&mr){for(var cr=[],Fr=0;Fr<xt.length;Fr++)cr[Fr]=xt[Fr]-er[Fr];var Dr=Se.touches[0].clientX-mr[0],Cr=Dr*Dr,On=Se.touches[0].clientY-mr[1],Rn=On*On,Ha=Cr+Rn;Mr=Ha>=r.touchTapThreshold2}if(Ke&&r.touchData.cxt){Se.preventDefault();var ni=Se.touches[0].clientX-de,Vn=Se.touches[0].clientY-ge,ii=Se.touches[1].clientX-de,ui=Se.touches[1].clientY-ge,ji=_e(ni,Vn,ii,ui),la=ji/ce,ca=150,Pn=ca*ca,ai=1.5,fa=ai*ai;if(la>=fa||ji>=Pn){r.touchData.cxt=!1,r.data.bgActivePosistion=void 0,r.redrawHint("select",!0);var po={originalEvent:Se,type:"cxttapend",position:{x:xt[0],y:xt[1]}};r.touchData.start?(r.touchData.start.unactivate().emit(po),r.touchData.start=null):ct.emit(po)}}if(Ke&&r.touchData.cxt){var po={originalEvent:Se,type:"cxtdrag",position:{x:xt[0],y:xt[1]}};r.data.bgActivePosistion=void 0,r.redrawHint("select",!0),r.touchData.start?r.touchData.start.emit(po):ct.emit(po),r.touchData.start&&(r.touchData.start._private.grabbed=!1),r.touchData.cxtDragged=!0;var Qi=r.findNearestElement(xt[0],xt[1],!0,!0);(!r.touchData.cxtOver||Qi!==r.touchData.cxtOver)&&(r.touchData.cxtOver&&r.touchData.cxtOver.emit({originalEvent:Se,type:"cxtdragout",position:{x:xt[0],y:xt[1]}}),r.touchData.cxtOver=Qi,Qi&&Qi.emit({originalEvent:Se,type:"cxtdragover",position:{x:xt[0],y:xt[1]}}))}else if(Ke&&Se.touches[2]&&ct.boxSelectionEnabled())Se.preventDefault(),r.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,r.touchData.selecting||ct.emit({originalEvent:Se,type:"boxstart",position:{x:xt[0],y:xt[1]}}),r.touchData.selecting=!0,r.touchData.didSelect=!0,ht[4]=1,!ht||ht.length===0||ht[0]===void 0?(ht[0]=(xt[0]+xt[2]+xt[4])/3,ht[1]=(xt[1]+xt[3]+xt[5])/3,ht[2]=(xt[0]+xt[2]+xt[4])/3+1,ht[3]=(xt[1]+xt[3]+xt[5])/3+1):(ht[2]=(xt[0]+xt[2]+xt[4])/3,ht[3]=(xt[1]+xt[3]+xt[5])/3),r.redrawHint("select",!0),r.redraw();else if(Ke&&Se.touches[1]&&!r.touchData.didSelect&&ct.zoomingEnabled()&&ct.panningEnabled()&&ct.userZoomingEnabled()&&ct.userPanningEnabled()){Se.preventDefault(),r.data.bgActivePosistion=void 0,r.redrawHint("select",!0);var Wr=r.dragData.touchDragEles;if(Wr){r.redrawHint("drag",!0);for(var zn=0;zn<Wr.length;zn++){var Na=Wr[zn]._private;Na.grabbed=!1,Na.rscratch.inDragLayer=!1}}var wa=r.touchData.start,ni=Se.touches[0].clientX-de,Vn=Se.touches[0].clientY-ge,ii=Se.touches[1].clientX-de,ui=Se.touches[1].clientY-ge,Va=ke(ni,Vn,ii,ui),Fs=Va/se;if(De){var $a=ni-J,ko=Vn-re,Bi=ii-ae,Us=ui-ve,lf=($a+Bi)/2,go=(ko+Us)/2,Oi=ct.zoom(),iu=Oi*Fs,Mo=ct.pan(),wi=Pe[0]*Oi+Mo.x,ha=Pe[1]*Oi+Mo.y,Nr={x:-iu/Oi*(wi-Mo.x-lf)+wi,y:-iu/Oi*(ha-Mo.y-go)+ha};if(wa&&wa.active()){var Wr=r.dragData.touchDragEles;b(Wr),r.redrawHint("drag",!0),r.redrawHint("eles",!0),wa.unactivate().emit("freeon"),Wr.emit("free"),r.dragData.didDrag&&(wa.emit("dragfreeon"),Wr.emit("dragfree"))}ct.viewport({zoom:iu,pan:Nr,cancelOnFailedZoom:!0}),ct.emit("pinchzoom"),se=Va,J=ni,re=Vn,ae=ii,ve=ui,r.pinching=!0}if(Se.touches[0]){var Jt=r.projectIntoViewport(Se.touches[0].clientX,Se.touches[0].clientY);xt[0]=Jt[0],xt[1]=Jt[1]}if(Se.touches[1]){var Jt=r.projectIntoViewport(Se.touches[1].clientX,Se.touches[1].clientY);xt[2]=Jt[0],xt[3]=Jt[1]}if(Se.touches[2]){var Jt=r.projectIntoViewport(Se.touches[2].clientX,Se.touches[2].clientY);xt[4]=Jt[0],xt[5]=Jt[1]}}else if(Se.touches[0]&&!r.touchData.didSelect){var La=r.touchData.start,da=r.touchData.last,Qi;if(!r.hoverData.draggingEles&&!r.swipePanning&&(Qi=r.findNearestElement(xt[0],xt[1],!0,!0)),Ke&&La!=null&&Se.preventDefault(),Ke&&La!=null&&r.nodeIsDraggable(La))if(Mr){var Wr=r.dragData.touchDragEles,Tn=!r.dragData.didDrag;Tn&&m(Wr,{inDragLayer:!0}),r.dragData.didDrag=!0;var gn={x:0,y:0};if(gr(cr[0])&&gr(cr[1])&&(gn.x+=cr[0],gn.y+=cr[1],Tn)){r.redrawHint("eles",!0);var Ji=r.touchData.dragDelta;Ji&&gr(Ji[0])&&gr(Ji[1])&&(gn.x+=Ji[0],gn.y+=Ji[1])}r.hoverData.draggingEles=!0,Wr.silentShift(gn).emit("position drag"),r.redrawHint("drag",!0),r.touchData.startPosition[0]==er[0]&&r.touchData.startPosition[1]==er[1]&&r.redrawHint("eles",!0),r.redraw()}else{var Ji=r.touchData.dragDelta=r.touchData.dragDelta||[];Ji.length===0?(Ji.push(cr[0]),Ji.push(cr[1])):(Ji[0]+=cr[0],Ji[1]+=cr[1])}if(i(La||Qi,["touchmove","tapdrag","vmousemove"],Se,{x:xt[0],y:xt[1]}),(!La||!La.grabbed())&&Qi!=da&&(da&&da.emit({originalEvent:Se,type:"tapdragout",position:{x:xt[0],y:xt[1]}}),Qi&&Qi.emit({originalEvent:Se,type:"tapdragover",position:{x:xt[0],y:xt[1]}})),r.touchData.last=Qi,Ke)for(var zn=0;zn<xt.length;zn++)xt[zn]&&r.touchData.startPosition[zn]&&Mr&&(r.touchData.singleTouchMoved=!0);if(Ke&&(La==null||La.pannable())&&ct.panningEnabled()&&ct.userPanningEnabled()){var fl=o(La,r.touchData.starts);fl&&(Se.preventDefault(),r.data.bgActivePosistion||(r.data.bgActivePosistion=Rm(r.touchData.startPosition)),r.swipePanning?(ct.panBy({x:cr[0]*Rt,y:cr[1]*Rt}),ct.emit("dragpan")):Mr&&(r.swipePanning=!0,ct.panBy({x:Dr*Rt,y:On*Rt}),ct.emit("dragpan"),La&&(La.unactivate(),r.redrawHint("select",!0),r.touchData.start=null)));var Jt=r.projectIntoViewport(Se.touches[0].clientX,Se.touches[0].clientY);xt[0]=Jt[0],xt[1]=Jt[1]}}for(var Fr=0;Fr<xt.length;Fr++)er[Fr]=xt[Fr];Ke&&Se.touches.length>0&&!r.hoverData.draggingEles&&!r.swipePanning&&r.data.bgActivePosistion!=null&&(r.data.bgActivePosistion=void 0,r.redrawHint("select",!0),r.redraw())}},!1);var Qe;r.registerBinding(e,"touchcancel",Qe=function(Se){var Ke=r.touchData.start;r.touchData.capture=!1,Ke&&Ke.unactivate()});var ot,Tt,zt,pt;if(r.registerBinding(e,"touchend",ot=function(Se){var Ke=r.touchData.start,ht=r.touchData.capture;if(ht)Se.touches.length===0&&(r.touchData.capture=!1),Se.preventDefault();else return;var ct=r.selection;r.swipePanning=!1,r.hoverData.draggingEles=!1;var xt=r.cy,er=xt.zoom(),Rt=r.touchData.now,Jt=r.touchData.earlier;if(Se.touches[0]){var mr=r.projectIntoViewport(Se.touches[0].clientX,Se.touches[0].clientY);Rt[0]=mr[0],Rt[1]=mr[1]}if(Se.touches[1]){var mr=r.projectIntoViewport(Se.touches[1].clientX,Se.touches[1].clientY);Rt[2]=mr[0],Rt[3]=mr[1]}if(Se.touches[2]){var mr=r.projectIntoViewport(Se.touches[2].clientX,Se.touches[2].clientY);Rt[4]=mr[0],Rt[5]=mr[1]}Ke&&Ke.unactivate();var Mr;if(r.touchData.cxt){if(Mr={originalEvent:Se,type:"cxttapend",position:{x:Rt[0],y:Rt[1]}},Ke?Ke.emit(Mr):xt.emit(Mr),!r.touchData.cxtDragged){var cr={originalEvent:Se,type:"cxttap",position:{x:Rt[0],y:Rt[1]}};Ke?Ke.emit(cr):xt.emit(cr)}r.touchData.start&&(r.touchData.start._private.grabbed=!1),r.touchData.cxt=!1,r.touchData.start=null,r.redraw();return}if(!Se.touches[2]&&xt.boxSelectionEnabled()&&r.touchData.selecting){r.touchData.selecting=!1;var Fr=xt.collection(r.getAllInBox(ct[0],ct[1],ct[2],ct[3]));ct[0]=void 0,ct[1]=void 0,ct[2]=void 0,ct[3]=void 0,ct[4]=0,r.redrawHint("select",!0),xt.emit({type:"boxend",originalEvent:Se,position:{x:Rt[0],y:Rt[1]}});var Dr=function(Pn){return Pn.selectable()&&!Pn.selected()};Fr.emit("box").stdFilter(Dr).select().emit("boxselect"),Fr.nonempty()&&r.redrawHint("eles",!0),r.redraw()}if(Ke!=null&&Ke.unactivate(),Se.touches[2])r.data.bgActivePosistion=void 0,r.redrawHint("select",!0);else if(!Se.touches[1]){if(!Se.touches[0]){if(!Se.touches[0]){r.data.bgActivePosistion=void 0,r.redrawHint("select",!0);var Cr=r.dragData.touchDragEles;if(Ke!=null){var On=Ke._private.grabbed;b(Cr),r.redrawHint("drag",!0),r.redrawHint("eles",!0),On&&(Ke.emit("freeon"),Cr.emit("free"),r.dragData.didDrag&&(Ke.emit("dragfreeon"),Cr.emit("dragfree"))),i(Ke,["touchend","tapend","vmouseup","tapdragout"],Se,{x:Rt[0],y:Rt[1]}),Ke.unactivate(),r.touchData.start=null}else{var Rn=r.findNearestElement(Rt[0],Rt[1],!0,!0);i(Rn,["touchend","tapend","vmouseup","tapdragout"],Se,{x:Rt[0],y:Rt[1]})}var Ha=r.touchData.startPosition[0]-Rt[0],ni=Ha*Ha,Vn=r.touchData.startPosition[1]-Rt[1],ii=Vn*Vn,ui=ni+ii,ji=ui*er*er;r.touchData.singleTouchMoved||(Ke||xt.$(":selected").unselect(["tapunselect"]),i(Ke,["tap","vclick"],Se,{x:Rt[0],y:Rt[1]}),Tt=!1,Se.timeStamp-pt<=xt.multiClickDebounceTime()?(zt&&clearTimeout(zt),Tt=!0,pt=null,i(Ke,["dbltap","vdblclick"],Se,{x:Rt[0],y:Rt[1]})):(zt=setTimeout(function(){Tt||i(Ke,["onetap","voneclick"],Se,{x:Rt[0],y:Rt[1]})},xt.multiClickDebounceTime()),pt=Se.timeStamp)),Ke!=null&&!r.dragData.didDrag&&Ke._private.selectable&&ji<r.touchTapThreshold2&&!r.pinching&&(xt.selectionType()==="single"?(xt.$(t).unmerge(Ke).unselect(["tapunselect"]),Ke.select(["tapselect"])):Ke.selected()?Ke.unselect(["tapunselect"]):Ke.select(["tapselect"]),r.redrawHint("eles",!0)),r.touchData.singleTouchMoved=!0}}}for(var la=0;la<Rt.length;la++)Jt[la]=Rt[la];r.dragData.didDrag=!1,Se.touches.length===0&&(r.touchData.dragDelta=[],r.touchData.startPosition=[null,null,null,null,null,null],r.touchData.startGPosition=null,r.touchData.didSelect=!1),Se.touches.length<2&&(Se.touches.length===1&&(r.touchData.startGPosition=[Se.touches[0].clientX,Se.touches[0].clientY]),r.pinching=!1,r.redrawHint("eles",!0),r.redraw())},!1),typeof TouchEvent>"u"){var Q=[],ne=function(Se){return{clientX:Se.clientX,clientY:Se.clientY,force:1,identifier:Se.pointerId,pageX:Se.pageX,pageY:Se.pageY,radiusX:Se.width/2,radiusY:Se.height/2,screenX:Se.screenX,screenY:Se.screenY,target:Se.target}},fe=function(Se){return{event:Se,touch:ne(Se)}},Ue=function(Se){Q.push(fe(Se))},qe=function(Se){for(var Ke=0;Ke<Q.length;Ke++){var ht=Q[Ke];if(ht.event.pointerId===Se.pointerId){Q.splice(Ke,1);return}}},We=function(Se){var Ke=Q.filter(function(ht){return ht.event.pointerId===Se.pointerId})[0];Ke.event=Se,Ke.touch=ne(Se)},ft=function(Se){Se.touches=Q.map(function(Ke){return Ke.touch})},Ht=function(Se){return Se.pointerType==="mouse"||Se.pointerType===4};r.registerBinding(r.container,"pointerdown",function(Et){Ht(Et)||(Et.preventDefault(),Ue(Et),ft(Et),Ie(Et))}),r.registerBinding(r.container,"pointerup",function(Et){Ht(Et)||(qe(Et),ft(Et),ot(Et))}),r.registerBinding(r.container,"pointercancel",function(Et){Ht(Et)||(qe(Et),ft(Et),Qe(Et))}),r.registerBinding(r.container,"pointermove",function(Et){Ht(Et)||(Et.preventDefault(),We(Et),ft(Et),Ge(Et))})}};var $p={};$p.generatePolygon=function(r,e){return this.nodeShapes[r]={renderer:this,name:r,points:e,draw:function(n,i,a,o,s,u){this.renderer.nodeShapeImpl("polygon",n,i,a,o,s,this.points)},intersectLine:function(n,i,a,o,s,u,l,c){return nb(s,u,this.points,n,i,a/2,o/2,l)},checkPoint:function(n,i,a,o,s,u,l,c){return Vp(n,i,this.points,u,l,o,s,[0,-1],a)}}};$p.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,t,n,i,a,o){this.renderer.nodeShapeImpl(this.name,e,t,n,i,a)},intersectLine:function(e,t,n,i,a,o,s,u){return AU(a,o,e,t,n/2+s,i/2+s)},checkPoint:function(e,t,n,i,a,o,s,u){return Ry(e,t,i,a,o,s,n)}}};$p.generateRoundPolygon=function(r,e){return this.nodeShapes[r]={renderer:this,name:r,points:e,getOrCreateCorners:function(n,i,a,o,s,u,l){if(u[l]!==void 0&&u[l+"-cx"]===n&&u[l+"-cy"]===i)return u[l];u[l]=new Array(e.length/2),u[l+"-cx"]=n,u[l+"-cy"]=i;var c=a/2,f=o/2;s=s==="auto"?j3(a,o):s;for(var d=new Array(e.length/2),v=0;v<e.length/2;v++)d[v]={x:n+c*e[v*2],y:i+f*e[v*2+1]};var p,m,w,b,y=d.length;for(m=d[y-1],p=0;p<y;p++)w=d[p%y],b=d[(p+1)%y],u[l][p]=x2(m,w,b,s),m=w,w=b;return u[l]},draw:function(n,i,a,o,s,u,l){this.renderer.nodeShapeImpl("round-polygon",n,i,a,o,s,this.points,this.getOrCreateCorners(i,a,o,s,u,l,"drawCorners"))},intersectLine:function(n,i,a,o,s,u,l,c,f){return RU(s,u,this.points,n,i,a,o,l,this.getOrCreateCorners(n,i,a,o,c,f,"corners"))},checkPoint:function(n,i,a,o,s,u,l,c,f){return CU(n,i,this.points,u,l,o,s,this.getOrCreateCorners(u,l,o,s,c,f,"corners"))}}};$p.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:tf(4,0),draw:function(e,t,n,i,a,o){this.renderer.nodeShapeImpl(this.name,e,t,n,i,a,this.points,o)},intersectLine:function(e,t,n,i,a,o,s,u){return N3(a,o,e,t,n,i,s,u)},checkPoint:function(e,t,n,i,a,o,s,u){var l=i/2,c=a/2;u=u==="auto"?Ny(i,a):u,u=Math.min(l,c,u);var f=u*2;return!!(Vp(e,t,this.points,o,s,i,a-f,[0,-1],n)||Vp(e,t,this.points,o,s,i-f,a,[0,-1],n)||Ry(e,t,f,f,o-l+u,s-c+u,n)||Ry(e,t,f,f,o+l-u,s-c+u,n)||Ry(e,t,f,f,o+l-u,s+c-u,n)||Ry(e,t,f,f,o-l+u,s+c-u,n))}}};$p.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:h2(),points:tf(4,0),draw:function(e,t,n,i,a,o){this.renderer.nodeShapeImpl(this.name,e,t,n,i,a,null,o)},generateCutTrianglePts:function(e,t,n,i,a){var o=a==="auto"?this.cornerLength:a,s=t/2,u=e/2,l=n-u,c=n+u,f=i-s,d=i+s;return{topLeft:[l,f+o,l+o,f,l+o,f+o],topRight:[c-o,f,c,f+o,c-o,f+o],bottomRight:[c,d-o,c-o,d,c-o,d-o],bottomLeft:[l+o,d,l,d-o,l+o,d-o]}},intersectLine:function(e,t,n,i,a,o,s,u){var l=this.generateCutTrianglePts(n+2*s,i+2*s,e,t,u),c=[].concat.apply([],[l.topLeft.splice(0,4),l.topRight.splice(0,4),l.bottomRight.splice(0,4),l.bottomLeft.splice(0,4)]);return nb(a,o,c,e,t)},checkPoint:function(e,t,n,i,a,o,s,u){var l=u==="auto"?this.cornerLength:u;if(Vp(e,t,this.points,o,s,i,a-2*l,[0,-1],n)||Vp(e,t,this.points,o,s,i-2*l,a,[0,-1],n))return!0;var c=this.generateCutTrianglePts(i,a,o,s);return Nf(e,t,c.topLeft)||Nf(e,t,c.topRight)||Nf(e,t,c.bottomRight)||Nf(e,t,c.bottomLeft)}}};$p.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:tf(4,0),draw:function(e,t,n,i,a,o){this.renderer.nodeShapeImpl(this.name,e,t,n,i,a)},intersectLine:function(e,t,n,i,a,o,s,u){var l=.15,c=.5,f=.85,d=this.generateBarrelBezierPts(n+2*s,i+2*s,e,t),v=function(w){var b=Mm({x:w[0],y:w[1]},{x:w[2],y:w[3]},{x:w[4],y:w[5]},l),y=Mm({x:w[0],y:w[1]},{x:w[2],y:w[3]},{x:w[4],y:w[5]},c),_=Mm({x:w[0],y:w[1]},{x:w[2],y:w[3]},{x:w[4],y:w[5]},f);return[w[0],w[1],b.x,b.y,y.x,y.y,_.x,_.y,w[4],w[5]]},p=[].concat(v(d.topLeft),v(d.topRight),v(d.bottomRight),v(d.bottomLeft));return nb(a,o,p,e,t)},generateBarrelBezierPts:function(e,t,n,i){var a=t/2,o=e/2,s=n-o,u=n+o,l=i-a,c=i+a,f=OC(e,t),d=f.heightOffset,v=f.widthOffset,p=f.ctrlPtOffsetPct*e,m={topLeft:[s,l+d,s+p,l,s+v,l],topRight:[u-v,l,u-p,l,u,l+d],bottomRight:[u,c-d,u-p,c,u-v,c],bottomLeft:[s+v,c,s+p,c,s,c-d]};return m.topLeft.isTop=!0,m.topRight.isTop=!0,m.bottomLeft.isBottom=!0,m.bottomRight.isBottom=!0,m},checkPoint:function(e,t,n,i,a,o,s,u){var l=OC(i,a),c=l.heightOffset,f=l.widthOffset;if(Vp(e,t,this.points,o,s,i,a-2*c,[0,-1],n)||Vp(e,t,this.points,o,s,i-2*f,a,[0,-1],n))return!0;for(var d=this.generateBarrelBezierPts(i,a,o,s),v=function(k,j,F){var z=F[4],q=F[2],$=F[0],K=F[5],oe=F[1],J=Math.min(z,$),re=Math.max(z,$),ae=Math.min(K,oe),ve=Math.max(K,oe);if(J<=k&&k<=re&&ae<=j&&j<=ve){var se=PU(z,q,$),ce=xU(se[0],se[1],se[2],k),pe=ce.filter(function(Pe){return 0<=Pe&&Pe<=1});if(pe.length>0)return pe[0]}return null},p=Object.keys(d),m=0;m<p.length;m++){var w=p[m],b=d[w],y=v(e,t,b);if(y!=null){var _=b[5],S=b[3],A=b[1],D=al(_,S,A,y);if(b.isTop&&D<=t||b.isBottom&&t<=D)return!0}}return!1}}};$p.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:tf(4,0),draw:function(e,t,n,i,a,o){this.renderer.nodeShapeImpl(this.name,e,t,n,i,a,this.points,o)},intersectLine:function(e,t,n,i,a,o,s,u){var l=e-(n/2+s),c=t-(i/2+s),f=c,d=e+(n/2+s),v=Sg(a,o,e,t,l,c,d,f,!1);return v.length>0?v:N3(a,o,e,t,n,i,s,u)},checkPoint:function(e,t,n,i,a,o,s,u){u=u==="auto"?Ny(i,a):u;var l=2*u;if(Vp(e,t,this.points,o,s,i,a-l,[0,-1],n)||Vp(e,t,this.points,o,s,i-l,a,[0,-1],n))return!0;var c=i/2+2*n,f=a/2+2*n,d=[o-c,s-f,o-c,s,o+c,s,o+c,s-f];return!!(Nf(e,t,d)||Ry(e,t,l,l,o+i/2-u,s+a/2-u,n)||Ry(e,t,l,l,o-i/2+u,s+a/2-u,n))}}};$p.registerNodeShapes=function(){var r=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",tf(3,0)),this.generateRoundPolygon("round-triangle",tf(3,0)),this.generatePolygon("rectangle",tf(4,0)),r.square=r.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var t=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",t),this.generateRoundPolygon("round-diamond",t)}this.generatePolygon("pentagon",tf(5,0)),this.generateRoundPolygon("round-pentagon",tf(5,0)),this.generatePolygon("hexagon",tf(6,0)),this.generateRoundPolygon("round-hexagon",tf(6,0)),this.generatePolygon("heptagon",tf(7,0)),this.generateRoundPolygon("round-heptagon",tf(7,0)),this.generatePolygon("octagon",tf(8,0)),this.generateRoundPolygon("round-octagon",tf(8,0));var n=new Array(20);{var i=SC(5,0),a=SC(5,Math.PI/5),o=.5*(3-Math.sqrt(5));o*=1.57;for(var s=0;s<a.length/2;s++)a[s*2]*=o,a[s*2+1]*=o;for(var s=0;s<20/4;s++)n[s*4]=i[s*2],n[s*4+1]=i[s*2+1],n[s*4+2]=a[s*2],n[s*4+3]=a[s*2+1]}n=L3(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var u=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",u),this.generateRoundPolygon("round-tag",u)}r.makePolygon=function(l){var c=l.join("$"),f="polygon-"+c,d;return(d=this[f])?d:e.generatePolygon(f,l)}};var Tb={};Tb.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};Tb.redraw=function(r){r=r||P3();var e=this;e.averageRedrawTime===void 0&&(e.averageRedrawTime=0),e.lastRedrawTime===void 0&&(e.lastRedrawTime=0),e.lastDrawTime===void 0&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=r};Tb.beforeRender=function(r,e){if(!this.destroyed){e==null&&Ho("Priority is not optional for beforeRender");var t=this.beforeRenderCallbacks;t.push({fn:r,priority:e}),t.sort(function(n,i){return i.priority-n.priority})}};var $P=function(e,t,n){for(var i=e.beforeRenderCallbacks,a=0;a<i.length;a++)i[a].fn(t,n)};Tb.startRenderLoop=function(){var r=this,e=r.cy;if(!r.renderLoopStarted){r.renderLoopStarted=!0;var t=function(i){if(!r.destroyed){if(!e.batching())if(r.requestedFrame&&!r.skipFrame){$P(r,!0,i);var a=Hp();r.render(r.renderOptions);var o=r.lastDrawTime=Hp();r.averageRedrawTime===void 0&&(r.averageRedrawTime=o-a),r.redrawCount===void 0&&(r.redrawCount=0),r.redrawCount++,r.redrawTotalTime===void 0&&(r.redrawTotalTime=0);var s=o-a;r.redrawTotalTime+=s,r.lastRedrawTime=s,r.averageRedrawTime=r.averageRedrawTime/2+s/2,r.requestedFrame=!1}else $P(r,!1,i);r.skipFrame=!1,k_(t)}};k_(t)}};var $z=function(e){this.init(e)},Lj=$z,i0=Lj.prototype;i0.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];i0.init=function(r){var e=this;e.options=r,e.cy=r.cy;var t=e.container=r.cy.container(),n=e.cy.window();if(n){var i=n.document,a=i.head,o="__________cytoscape_stylesheet",s="__________cytoscape_container",u=i.getElementById(o)!=null;if(t.className.indexOf(s)<0&&(t.className=(t.className||"")+" "+s),!u){var l=i.createElement("style");l.id=o,l.textContent="."+s+" { position: relative; }",a.insertBefore(l,a.children[0])}var c=n.getComputedStyle(t),f=c.getPropertyValue("position");f==="static"&&_a("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=r.showFps,e.debug=r.debug,e.webgl=r.webgl,e.hideEdgesOnViewport=r.hideEdgesOnViewport,e.textureOnViewport=r.textureOnViewport,e.wheelSensitivity=r.wheelSensitivity,e.motionBlurEnabled=r.motionBlur,e.forcedPixelRatio=gr(r.pixelRatio)?r.pixelRatio:null,e.motionBlur=r.motionBlur,e.motionBlurOpacity=r.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=r.desktopTapThreshold,e.desktopTapThreshold2=r.desktopTapThreshold*r.desktopTapThreshold,e.touchTapThreshold=r.touchTapThreshold,e.touchTapThreshold2=r.touchTapThreshold*r.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()};i0.notify=function(r,e){var t=this,n=t.cy;if(!this.destroyed){if(r==="init"){t.load();return}if(r==="destroy"){t.destroy();return}(r==="add"||r==="remove"||r==="move"&&n.hasCompoundNodes()||r==="load"||r==="zorder"||r==="mount")&&t.invalidateCachedZSortedEles(),r==="viewport"&&t.redrawHint("select",!0),r==="gc"&&t.redrawHint("gc",!0),(r==="load"||r==="resize"||r==="mount")&&(t.invalidateContainerClientCoordsCache(),t.matchCanvasSize(t.container)),t.redrawHint("eles",!0),t.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};i0.destroy=function(){var r=this;r.destroyed=!0,r.cy.stopAnimationLoop();for(var e=0;e<r.bindings.length;e++){var t=r.bindings[e],n=t,i=n.target;(i.off||i.removeEventListener).apply(i,n.args)}if(r.bindings=[],r.beforeRenderCallbacks=[],r.onUpdateEleCalcsFns=[],r.removeObserver&&r.removeObserver.disconnect(),r.styleObserver&&r.styleObserver.disconnect(),r.resizeObserver&&r.resizeObserver.disconnect(),r.labelCalcDiv)try{document.body.removeChild(r.labelCalcDiv)}catch{}};i0.isHeadless=function(){return!1};[E2,Mj,Nj,n0,$p,Tb].forEach(function(r){en(i0,r)});var gE=1e3/60,jj={setupDequeueing:function(e){return function(){var n=this,i=this.renderer;if(!n.dequeueingSetup){n.dequeueingSetup=!0;var a=wb(function(){i.redrawHint("eles",!0),i.redrawHint("drag",!0),i.redraw()},e.deqRedrawThreshold),o=function(l,c){var f=Hp(),d=i.averageRedrawTime,v=i.lastRedrawTime,p=[],m=i.cy.extent(),w=i.getPixelRatio();for(l||i.flushRenderedStyleQueue();;){var b=Hp(),y=b-f,_=b-c;if(v<gE){var S=gE-(l?d:0);if(_>=e.deqFastCost*S)break}else if(l){if(y>=e.deqCost*v||y>=e.deqAvgCost*d)break}else if(_>=e.deqNoDrawCost*gE)break;var A=e.deq(n,w,m);if(A.length>0)for(var D=0;D<A.length;D++)p.push(A[D]);else break}p.length>0&&(e.onDeqd(n,p),!l&&e.shouldRedraw(n,p,w,m)&&a())},s=e.priority||u2;i.beforeRender(o,s(n))}}}},Wz=function(){function r(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:M_;Fg(this,r),this.idsByKey=new zp,this.keyForId=new zp,this.cachesByLvl=new zp,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=t}return Ug(r,[{key:"getIdsFor",value:function(t){t==null&&Ho("Can not get id list for null key");var n=this.idsByKey,i=this.idsByKey.get(t);return i||(i=new Jm,n.set(t,i)),i}},{key:"addIdForKey",value:function(t,n){t!=null&&this.getIdsFor(t).add(n)}},{key:"deleteIdForKey",value:function(t,n){t!=null&&this.getIdsFor(t).delete(n)}},{key:"getNumberOfIdsForKey",value:function(t){return t==null?0:this.getIdsFor(t).size}},{key:"updateKeyMappingFor",value:function(t){var n=t.id(),i=this.keyForId.get(n),a=this.getKey(t);this.deleteIdForKey(i,n),this.addIdForKey(a,n),this.keyForId.set(n,a)}},{key:"deleteKeyMappingFor",value:function(t){var n=t.id(),i=this.keyForId.get(n);this.deleteIdForKey(i,n),this.keyForId.delete(n)}},{key:"keyHasChangedFor",value:function(t){var n=t.id(),i=this.keyForId.get(n),a=this.getKey(t);return i!==a}},{key:"isInvalid",value:function(t){return this.keyHasChangedFor(t)||this.doesEleInvalidateKey(t)}},{key:"getCachesAt",value:function(t){var n=this.cachesByLvl,i=this.lvls,a=n.get(t);return a||(a=new zp,n.set(t,a),i.push(t)),a}},{key:"getCache",value:function(t,n){return this.getCachesAt(n).get(t)}},{key:"get",value:function(t,n){var i=this.getKey(t),a=this.getCache(i,n);return a!=null&&this.updateKeyMappingFor(t),a}},{key:"getForCachedKey",value:function(t,n){var i=this.keyForId.get(t.id()),a=this.getCache(i,n);return a}},{key:"hasCache",value:function(t,n){return this.getCachesAt(n).has(t)}},{key:"has",value:function(t,n){var i=this.getKey(t);return this.hasCache(i,n)}},{key:"setCache",value:function(t,n,i){i.key=t,this.getCachesAt(n).set(t,i)}},{key:"set",value:function(t,n,i){var a=this.getKey(t);this.setCache(a,n,i),this.updateKeyMappingFor(t)}},{key:"deleteCache",value:function(t,n){this.getCachesAt(n).delete(t)}},{key:"delete",value:function(t,n){var i=this.getKey(t);this.deleteCache(i,n)}},{key:"invalidateKey",value:function(t){var n=this;this.lvls.forEach(function(i){return n.deleteCache(t,i)})}},{key:"invalidate",value:function(t){var n=t.id(),i=this.keyForId.get(n);this.deleteKeyMappingFor(t);var a=this.doesEleInvalidateKey(t);return a&&this.invalidateKey(i),a||this.getNumberOfIdsForKey(i)===0}}])}(),WP=25,$b=50,w_=-4,BC=3,Bj=7.99,Yz=8,Xz=1024,Kz=1024,Zz=1024,Qz=.2,Jz=.8,eq=10,tq=.15,rq=.1,nq=.9,iq=.9,aq=100,oq=1,Dm={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},sq=Pu({getKey:null,doesEleInvalidateKey:M_,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:C3,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),F0=function(e,t){var n=this;n.renderer=e,n.onDequeues=[];var i=sq(t);en(n,i),n.lookup=new Wz(i.getKey,i.doesEleInvalidateKey),n.setupDequeueing()},Du=F0.prototype;Du.reasons=Dm;Du.getTextureQueue=function(r){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[r]=e.eleImgCaches[r]||[]};Du.getRetiredTextureQueue=function(r){var e=this,t=e.eleImgCaches.retired=e.eleImgCaches.retired||{},n=t[r]=t[r]||[];return n};Du.getElementQueue=function(){var r=this,e=r.eleCacheQueue=r.eleCacheQueue||new Eb(function(t,n){return n.reqs-t.reqs});return e};Du.getElementKeyToQueue=function(){var r=this,e=r.eleKeyToCacheQueue=r.eleKeyToCacheQueue||{};return e};Du.getElement=function(r,e,t,n,i){var a=this,o=this.renderer,s=o.cy.zoom(),u=this.lookup;if(!e||e.w===0||e.h===0||isNaN(e.w)||isNaN(e.h)||!r.visible()||r.removed()||!a.allowEdgeTxrCaching&&r.isEdge()||!a.allowParentTxrCaching&&r.isParent())return null;if(n==null&&(n=Math.ceil(c2(s*t))),n<w_)n=w_;else if(s>=Bj||n>BC)return null;var l=Math.pow(2,n),c=e.h*l,f=e.w*l,d=o.eleTextBiggerThanMin(r,l);if(!this.isVisible(r,d))return null;var v=u.get(r,n);if(v&&v.invalidated&&(v.invalidated=!1,v.texture.invalidatedWidth-=v.width),v)return v;var p;if(c<=WP?p=WP:c<=$b?p=$b:p=Math.ceil(c/$b)*$b,c>Zz||f>Kz)return null;var m=a.getTextureQueue(p),w=m[m.length-2],b=function(){return a.recycleTexture(p,f)||a.addTexture(p,f)};w||(w=m[m.length-1]),w||(w=b()),w.width-w.usedWidth<f&&(w=b());for(var y=function(J){return J&&J.scaledLabelShown===d},_=i&&i===Dm.dequeue,S=i&&i===Dm.highQuality,A=i&&i===Dm.downscale,D,R=n+1;R<=BC;R++){var k=u.get(r,R);if(k){D=k;break}}var j=D&&D.level===n+1?D:null,F=function(){w.context.drawImage(j.texture.canvas,j.x,0,j.width,j.height,w.usedWidth,0,f,c)};if(w.context.setTransform(1,0,0,1,0,0),w.context.clearRect(w.usedWidth,0,f,p),y(j))F();else if(y(D))if(S){for(var z=D.level;z>n;z--)j=a.getElement(r,e,t,z,Dm.downscale);F()}else return a.queueElement(r,D.level-1),D;else{var q;if(!_&&!S&&!A)for(var $=n-1;$>=w_;$--){var K=u.get(r,$);if(K){q=K;break}}if(y(q))return a.queueElement(r,n),q;w.context.translate(w.usedWidth,0),w.context.scale(l,l),this.drawElement(w.context,r,e,d,!1),w.context.scale(1/l,1/l),w.context.translate(-w.usedWidth,0)}return v={x:w.usedWidth,texture:w,level:n,scale:l,width:f,height:c,scaledLabelShown:d},w.usedWidth+=Math.ceil(f+Yz),w.eleCaches.push(v),u.set(r,n,v),a.checkTextureFullness(w),v};Du.invalidateElements=function(r){for(var e=0;e<r.length;e++)this.invalidateElement(r[e])};Du.invalidateElement=function(r){var e=this,t=e.lookup,n=[],i=t.isInvalid(r);if(i){for(var a=w_;a<=BC;a++){var o=t.getForCachedKey(r,a);o&&n.push(o)}var s=t.invalidate(r);if(s)for(var u=0;u<n.length;u++){var l=n[u],c=l.texture;c.invalidatedWidth+=l.width,l.invalidated=!0,e.checkTextureUtility(c)}e.removeFromQueue(r)}};Du.checkTextureUtility=function(r){r.invalidatedWidth>=Qz*r.width&&this.retireTexture(r)};Du.checkTextureFullness=function(r){var e=this,t=e.getTextureQueue(r.height);r.usedWidth/r.width>Jz&&r.fullnessChecks>=eq?Dg(t,r):r.fullnessChecks++};Du.retireTexture=function(r){var e=this,t=r.height,n=e.getTextureQueue(t),i=this.lookup;Dg(n,r),r.retired=!0;for(var a=r.eleCaches,o=0;o<a.length;o++){var s=a[o];i.deleteCache(s.key,s.level)}l2(a);var u=e.getRetiredTextureQueue(t);u.push(r)};Du.addTexture=function(r,e){var t=this,n=t.getTextureQueue(r),i={};return n.push(i),i.eleCaches=[],i.height=r,i.width=Math.max(Xz,e),i.usedWidth=0,i.invalidatedWidth=0,i.fullnessChecks=0,i.canvas=t.renderer.makeOffscreenCanvas(i.width,i.height),i.context=i.canvas.getContext("2d"),i};Du.recycleTexture=function(r,e){for(var t=this,n=t.getTextureQueue(r),i=t.getRetiredTextureQueue(r),a=0;a<i.length;a++){var o=i[a];if(o.width>=e)return o.retired=!1,o.usedWidth=0,o.invalidatedWidth=0,o.fullnessChecks=0,l2(o.eleCaches),o.context.setTransform(1,0,0,1,0,0),o.context.clearRect(0,0,o.width,o.height),Dg(i,o),n.push(o),o}};Du.queueElement=function(r,e){var t=this,n=t.getElementQueue(),i=t.getElementKeyToQueue(),a=this.getKey(r),o=i[a];if(o)o.level=Math.max(o.level,e),o.eles.merge(r),o.reqs++,n.updateItem(o);else{var s={eles:r.spawn().merge(r),level:e,reqs:1,key:a};n.push(s),i[a]=s}};Du.dequeue=function(r){for(var e=this,t=e.getElementQueue(),n=e.getElementKeyToQueue(),i=[],a=e.lookup,o=0;o<oq&&t.size()>0;o++){var s=t.pop(),u=s.key,l=s.eles[0],c=a.hasCache(l,s.level);if(n[u]=null,c)continue;i.push(s);var f=e.getBoundingBox(l);e.getElement(l,f,r,s.level,Dm.dequeue)}return i};Du.removeFromQueue=function(r){var e=this,t=e.getElementQueue(),n=e.getElementKeyToQueue(),i=this.getKey(r),a=n[i];a!=null&&(a.eles.length===1?(a.reqs=s2,t.updateItem(a),t.pop(),n[i]=null):a.eles.unmerge(r))};Du.onDequeue=function(r){this.onDequeues.push(r)};Du.offDequeue=function(r){Dg(this.onDequeues,r)};Du.setupDequeueing=jj.setupDequeueing({deqRedrawThreshold:aq,deqCost:tq,deqAvgCost:rq,deqNoDrawCost:nq,deqFastCost:iq,deq:function(e,t,n){return e.dequeue(t,n)},onDeqd:function(e,t){for(var n=0;n<e.onDequeues.length;n++){var i=e.onDequeues[n];i(t)}},shouldRedraw:function(e,t,n,i){for(var a=0;a<t.length;a++)for(var o=t[a].eles,s=0;s<o.length;s++){var u=o[s].boundingBox();if(f2(u,i))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var uq=1,$0=-4,q_=2,lq=3.99,cq=50,fq=50,hq=.15,dq=.1,vq=.9,pq=.9,gq=1,YP=250,yq=4e3*4e3,XP=32767,mq=!0,Fj=function(e){var t=this,n=t.renderer=e,i=n.cy;t.layersByLevel={},t.firstGet=!0,t.lastInvalidationTime=Hp()-2*YP,t.skipping=!1,t.eleTxrDeqs=i.collection(),t.scheduleElementRefinement=wb(function(){t.refineElementTextures(t.eleTxrDeqs),t.eleTxrDeqs.unmerge(t.eleTxrDeqs)},fq),n.beforeRender(function(o,s){s-t.lastInvalidationTime<=YP?t.skipping=!0:t.skipping=!1},n.beforeRenderPriorities.lyrTxrSkip);var a=function(s,u){return u.reqs-s.reqs};t.layersQueue=new Eb(a),t.setupDequeueing()},Bl=Fj.prototype,KP=0,bq=Math.pow(2,53)-1;Bl.makeLayer=function(r,e){var t=Math.pow(2,e),n=Math.ceil(r.w*t),i=Math.ceil(r.h*t),a=this.renderer.makeOffscreenCanvas(n,i),o={id:KP=++KP%bq,bb:r,level:e,width:n,height:i,canvas:a,context:a.getContext("2d"),eles:[],elesQueue:[],reqs:0},s=o.context,u=-o.bb.x1,l=-o.bb.y1;return s.scale(t,t),s.translate(u,l),o};Bl.getLayers=function(r,e,t){var n=this,i=n.renderer,a=i.cy,o=a.zoom(),s=n.firstGet;if(n.firstGet=!1,t==null){if(t=Math.ceil(c2(o*e)),t<$0)t=$0;else if(o>=lq||t>q_)return null}n.validateLayersElesOrdering(t,r);var u=n.layersByLevel,l=Math.pow(2,t),c=u[t]=u[t]||[],f,d=n.levelIsComplete(t,r),v,p=function(){var F=function(oe){if(n.validateLayersElesOrdering(oe,r),n.levelIsComplete(oe,r))return v=u[oe],!0},z=function(oe){if(!v)for(var J=t+oe;$0<=J&&J<=q_&&!F(J);J+=oe);};z(1),z(-1);for(var q=c.length-1;q>=0;q--){var $=c[q];$.invalid&&Dg(c,$)}};if(!d)p();else return c;var m=function(){if(!f){f=Ff();for(var F=0;F<r.length;F++)k3(f,r[F].boundingBox())}return f},w=function(F){F=F||{};var z=F.after;m();var q=Math.ceil(f.w*l),$=Math.ceil(f.h*l);if(q>XP||$>XP)return null;var K=q*$;if(K>yq)return null;var oe=n.makeLayer(f,t);if(z!=null){var J=c.indexOf(z)+1;c.splice(J,0,oe)}else(F.insert===void 0||F.insert)&&c.unshift(oe);return oe};if(n.skipping&&!s)return null;for(var b=null,y=r.length/uq,_=!s,S=0;S<r.length;S++){var A=r[S],D=A._private.rscratch,R=D.imgLayerCaches=D.imgLayerCaches||{},k=R[t];if(k){b=k;continue}if((!b||b.eles.length>=y||!M3(b.bb,A.boundingBox()))&&(b=w({insert:!0,after:b}),!b))return null;v||_?n.queueLayer(b,A):n.drawEleInLayer(b,A,t,e),b.eles.push(A),R[t]=b}return v||(_?null:c)};Bl.getEleLevelForLayerLevel=function(r,e){return r};Bl.drawEleInLayer=function(r,e,t,n){var i=this,a=this.renderer,o=r.context,s=e.boundingBox();s.w===0||s.h===0||!e.visible()||(t=i.getEleLevelForLayerLevel(t,n),a.setImgSmoothing(o,!1),a.drawCachedElement(o,e,null,null,t,mq),a.setImgSmoothing(o,!0))};Bl.levelIsComplete=function(r,e){var t=this,n=t.layersByLevel[r];if(!n||n.length===0)return!1;for(var i=0,a=0;a<n.length;a++){var o=n[a];if(o.reqs>0||o.invalid)return!1;i+=o.eles.length}return i===e.length};Bl.validateLayersElesOrdering=function(r,e){var t=this.layersByLevel[r];if(t)for(var n=0;n<t.length;n++){for(var i=t[n],a=-1,o=0;o<e.length;o++)if(i.eles[0]===e[o]){a=o;break}if(a<0){this.invalidateLayer(i);continue}for(var s=a,o=0;o<i.eles.length;o++)if(i.eles[o]!==e[s+o]){this.invalidateLayer(i);break}}};Bl.updateElementsInLayers=function(r,e){for(var t=this,n=yb(r[0]),i=0;i<r.length;i++)for(var a=n?null:r[i],o=n?r[i]:r[i].ele,s=o._private.rscratch,u=s.imgLayerCaches=s.imgLayerCaches||{},l=$0;l<=q_;l++){var c=u[l];c&&(a&&t.getEleLevelForLayerLevel(c.level)!==a.level||e(c,o,a))}};Bl.haveLayers=function(){for(var r=this,e=!1,t=$0;t<=q_;t++){var n=r.layersByLevel[t];if(n&&n.length>0){e=!0;break}}return e};Bl.invalidateElements=function(r){var e=this;r.length!==0&&(e.lastInvalidationTime=Hp(),!(r.length===0||!e.haveLayers())&&e.updateElementsInLayers(r,function(n,i,a){e.invalidateLayer(n)}))};Bl.invalidateLayer=function(r){if(this.lastInvalidationTime=Hp(),!r.invalid){var e=r.level,t=r.eles,n=this.layersByLevel[e];Dg(n,r),r.elesQueue=[],r.invalid=!0,r.replacement&&(r.replacement.invalid=!0);for(var i=0;i<t.length;i++){var a=t[i]._private.rscratch.imgLayerCaches;a&&(a[e]=null)}}};Bl.refineElementTextures=function(r){var e=this;e.updateElementsInLayers(r,function(n,i,a){var o=n.replacement;if(o||(o=n.replacement=e.makeLayer(n.bb,n.level),o.replaces=n,o.eles=n.eles),!o.reqs)for(var s=0;s<o.eles.length;s++)e.queueLayer(o,o.eles[s])})};Bl.enqueueElementRefinement=function(r){this.eleTxrDeqs.merge(r),this.scheduleElementRefinement()};Bl.queueLayer=function(r,e){var t=this,n=t.layersQueue,i=r.elesQueue,a=i.hasId=i.hasId||{};if(!r.replacement){if(e){if(a[e.id()])return;i.push(e),a[e.id()]=!0}r.reqs?(r.reqs++,n.updateItem(r)):(r.reqs=1,n.push(r))}};Bl.dequeue=function(r){for(var e=this,t=e.layersQueue,n=[],i=0;i<gq&&t.size()!==0;){var a=t.peek();if(a.replacement){t.pop();continue}if(a.replaces&&a!==a.replaces.replacement){t.pop();continue}if(a.invalid){t.pop();continue}var o=a.elesQueue.shift();o&&(e.drawEleInLayer(a,o,a.level,r),i++),n.length===0&&n.push(!0),a.elesQueue.length===0&&(t.pop(),a.reqs=0,a.replaces&&e.applyLayerReplacement(a),e.requestRedraw())}return n};Bl.applyLayerReplacement=function(r){var e=this,t=e.layersByLevel[r.level],n=r.replaces,i=t.indexOf(n);if(!(i<0||n.invalid)){t[i]=r;for(var a=0;a<r.eles.length;a++){var o=r.eles[a]._private,s=o.imgLayerCaches=o.imgLayerCaches||{};s&&(s[r.level]=r)}e.requestRedraw()}};Bl.requestRedraw=wb(function(){var r=this.renderer;r.redrawHint("eles",!0),r.redrawHint("drag",!0),r.redraw()},100);Bl.setupDequeueing=jj.setupDequeueing({deqRedrawThreshold:cq,deqCost:hq,deqAvgCost:dq,deqNoDrawCost:vq,deqFastCost:pq,deq:function(e,t){return e.dequeue(t)},onDeqd:u2,shouldRedraw:C3,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var Uj={},ZP;function _q(r,e){for(var t=0;t<e.length;t++){var n=e[t];r.lineTo(n.x,n.y)}}function wq(r,e,t){for(var n,i=0;i<e.length;i++){var a=e[i];i===0&&(n=a),r.lineTo(a.x,a.y)}r.quadraticCurveTo(t.x,t.y,n.x,n.y)}function QP(r,e,t){r.beginPath&&r.beginPath();for(var n=e,i=0;i<n.length;i++){var a=n[i];r.lineTo(a.x,a.y)}var o=t,s=t[0];r.moveTo(s.x,s.y);for(var i=1;i<o.length;i++){var a=o[i];r.lineTo(a.x,a.y)}r.closePath&&r.closePath()}function Eq(r,e,t,n,i){r.beginPath&&r.beginPath(),r.arc(t,n,i,0,Math.PI*2,!1);var a=e,o=a[0];r.moveTo(o.x,o.y);for(var s=0;s<a.length;s++){var u=a[s];r.lineTo(u.x,u.y)}r.closePath&&r.closePath()}function xq(r,e,t,n){r.arc(e,t,n,0,Math.PI*2,!1)}Uj.arrowShapeImpl=function(r){return(ZP||(ZP={polygon:_q,"triangle-backcurve":wq,"triangle-tee":QP,"circle-triangle":Eq,"triangle-cross":QP,circle:xq}))[r]};var up={};up.drawElement=function(r,e,t,n,i,a){var o=this;e.isNode()?o.drawNode(r,e,t,n,i,a):o.drawEdge(r,e,t,n,i,a)};up.drawElementOverlay=function(r,e){var t=this;e.isNode()?t.drawNodeOverlay(r,e):t.drawEdgeOverlay(r,e)};up.drawElementUnderlay=function(r,e){var t=this;e.isNode()?t.drawNodeUnderlay(r,e):t.drawEdgeUnderlay(r,e)};up.drawCachedElementPortion=function(r,e,t,n,i,a,o,s){var u=this,l=t.getBoundingBox(e);if(!(l.w===0||l.h===0)){var c=t.getElement(e,l,n,i,a);if(c!=null){var f=s(u,e);if(f===0)return;var d=o(u,e),v=l.x1,p=l.y1,m=l.w,w=l.h,b,y,_,S,A;if(d!==0){var D=t.getRotationPoint(e);_=D.x,S=D.y,r.translate(_,S),r.rotate(d),A=u.getImgSmoothing(r),A||u.setImgSmoothing(r,!0);var R=t.getRotationOffset(e);b=R.x,y=R.y}else b=v,y=p;var k;f!==1&&(k=r.globalAlpha,r.globalAlpha=k*f),r.drawImage(c.texture.canvas,c.x,0,c.width,c.height,b,y,m,w),f!==1&&(r.globalAlpha=k),d!==0&&(r.rotate(-d),r.translate(-_,-S),A||u.setImgSmoothing(r,!1))}else t.drawElement(r,e)}};var Sq=function(){return 0},Oq=function(e,t){return e.getTextAngle(t,null)},Tq=function(e,t){return e.getTextAngle(t,"source")},Cq=function(e,t){return e.getTextAngle(t,"target")},Aq=function(e,t){return t.effectiveOpacity()},yE=function(e,t){return t.pstyle("text-opacity").pfValue*t.effectiveOpacity()};up.drawCachedElement=function(r,e,t,n,i,a){var o=this,s=o.data,u=s.eleTxrCache,l=s.lblTxrCache,c=s.slbTxrCache,f=s.tlbTxrCache,d=e.boundingBox(),v=a===!0?u.reasons.highQuality:null;if(!(d.w===0||d.h===0||!e.visible())&&(!n||f2(d,n))){var p=e.isEdge(),m=e.element()._private.rscratch.badLine;o.drawElementUnderlay(r,e),o.drawCachedElementPortion(r,e,u,t,i,v,Sq,Aq),(!p||!m)&&o.drawCachedElementPortion(r,e,l,t,i,v,Oq,yE),p&&!m&&(o.drawCachedElementPortion(r,e,c,t,i,v,Tq,yE),o.drawCachedElementPortion(r,e,f,t,i,v,Cq,yE)),o.drawElementOverlay(r,e)}};up.drawElements=function(r,e){for(var t=this,n=0;n<e.length;n++){var i=e[n];t.drawElement(r,i)}};up.drawCachedElements=function(r,e,t,n){for(var i=this,a=0;a<e.length;a++){var o=e[a];i.drawCachedElement(r,o,t,n)}};up.drawCachedNodes=function(r,e,t,n){for(var i=this,a=0;a<e.length;a++){var o=e[a];o.isNode()&&i.drawCachedElement(r,o,t,n)}};up.drawLayeredElements=function(r,e,t,n){var i=this,a=i.data.lyrTxrCache.getLayers(e,t);if(a)for(var o=0;o<a.length;o++){var s=a[o],u=s.bb;u.w===0||u.h===0||r.drawImage(s.canvas,u.x1,u.y1,u.w,u.h)}else i.drawCachedElements(r,e,t,n)};var Wp={};Wp.drawEdge=function(r,e,t){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this,s=e._private.rscratch;if(!(a&&!e.visible())&&!(s.badLine||s.allpts==null||isNaN(s.allpts[0]))){var u;t&&(u=t,r.translate(-u.x1,-u.y1));var l=a?e.pstyle("opacity").value:1,c=a?e.pstyle("line-opacity").value:1,f=e.pstyle("curve-style").value,d=e.pstyle("line-style").value,v=e.pstyle("width").pfValue,p=e.pstyle("line-cap").value,m=e.pstyle("line-outline-width").value,w=e.pstyle("line-outline-color").value,b=l*c,y=l*c,_=function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b;f==="straight-triangle"?(o.eleStrokeStyle(r,e,oe),o.drawEdgeTrianglePath(e,r,s.allpts)):(r.lineWidth=v,r.lineCap=p,o.eleStrokeStyle(r,e,oe),o.drawEdgePath(e,r,s.allpts,d),r.lineCap="butt")},S=function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b;if(r.lineWidth=v+m,r.lineCap=p,m>0)o.colorStrokeStyle(r,w[0],w[1],w[2],oe);else{r.lineCap="butt";return}f==="straight-triangle"?o.drawEdgeTrianglePath(e,r,s.allpts):(o.drawEdgePath(e,r,s.allpts,d),r.lineCap="butt")},A=function(){i&&o.drawEdgeOverlay(r,e)},D=function(){i&&o.drawEdgeUnderlay(r,e)},R=function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y;o.drawArrowheads(r,e,oe)},k=function(){o.drawElementText(r,e,null,n)};r.lineJoin="round";var j=e.pstyle("ghost").value==="yes";if(j){var F=e.pstyle("ghost-offset-x").pfValue,z=e.pstyle("ghost-offset-y").pfValue,q=e.pstyle("ghost-opacity").value,$=b*q;r.translate(F,z),_($),R($),r.translate(-F,-z)}else S();D(),_(),R(),A(),k(),t&&r.translate(u.x1,u.y1)}};var zj=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(t,n){if(n.visible()){var i=n.pstyle("".concat(e,"-opacity")).value;if(i!==0){var a=this,o=a.usePaths(),s=n._private.rscratch,u=n.pstyle("".concat(e,"-padding")).pfValue,l=2*u,c=n.pstyle("".concat(e,"-color")).value;t.lineWidth=l,s.edgeType==="self"&&!o?t.lineCap="butt":t.lineCap="round",a.colorStrokeStyle(t,c[0],c[1],c[2],i),a.drawEdgePath(n,t,s.allpts,"solid")}}}};Wp.drawEdgeOverlay=zj("overlay");Wp.drawEdgeUnderlay=zj("underlay");Wp.drawEdgePath=function(r,e,t,n){var i=r._private.rscratch,a=e,o,s=!1,u=this.usePaths(),l=r.pstyle("line-dash-pattern").pfValue,c=r.pstyle("line-dash-offset").pfValue;if(u){var f=t.join("$"),d=i.pathCacheKey&&i.pathCacheKey===f;d?(o=e=i.pathCache,s=!0):(o=e=new Path2D,i.pathCacheKey=f,i.pathCache=o)}if(a.setLineDash)switch(n){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash(l),a.lineDashOffset=c;break;case"solid":a.setLineDash([]);break}if(!s&&!i.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(t[0],t[1]),i.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var v=2;v+3<t.length;v+=4)e.quadraticCurveTo(t[v],t[v+1],t[v+2],t[v+3]);break;case"straight":case"haystack":for(var p=2;p+1<t.length;p+=2)e.lineTo(t[p],t[p+1]);break;case"segments":if(i.isRound){var m=dv(i.roundCorners),w;try{for(m.s();!(w=m.n()).done;){var b=w.value;Rj(e,b)}}catch(_){m.e(_)}finally{m.f()}e.lineTo(t[t.length-2],t[t.length-1])}else for(var y=2;y+1<t.length;y+=2)e.lineTo(t[y],t[y+1]);break}e=a,u?e.stroke(o):e.stroke(),e.setLineDash&&e.setLineDash([])};Wp.drawEdgeTrianglePath=function(r,e,t){e.fillStyle=e.strokeStyle;for(var n=r.pstyle("width").pfValue,i=0;i+1<t.length;i+=2){var a=[t[i+2]-t[i],t[i+3]-t[i+1]],o=Math.sqrt(a[0]*a[0]+a[1]*a[1]),s=[a[1]/o,-a[0]/o],u=[s[0]*n/2,s[1]*n/2];e.beginPath(),e.moveTo(t[i]-u[0],t[i+1]-u[1]),e.lineTo(t[i]+u[0],t[i+1]+u[1]),e.lineTo(t[i+2],t[i+3]),e.closePath(),e.fill()}};Wp.drawArrowheads=function(r,e,t){var n=e._private.rscratch,i=n.edgeType==="haystack";i||this.drawArrowhead(r,e,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,t),this.drawArrowhead(r,e,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,t),this.drawArrowhead(r,e,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,t),i||this.drawArrowhead(r,e,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,t)};Wp.drawArrowhead=function(r,e,t,n,i,a,o){if(!(isNaN(n)||n==null||isNaN(i)||i==null||isNaN(a)||a==null)){var s=this,u=e.pstyle(t+"-arrow-shape").value;if(u!=="none"){var l=e.pstyle(t+"-arrow-fill").value==="hollow"?"both":"filled",c=e.pstyle(t+"-arrow-fill").value,f=e.pstyle("width").pfValue,d=e.pstyle(t+"-arrow-width"),v=d.value==="match-line"?f:d.pfValue;d.units==="%"&&(v*=f);var p=e.pstyle("opacity").value;o===void 0&&(o=p);var m=r.globalCompositeOperation;(o!==1||c==="hollow")&&(r.globalCompositeOperation="destination-out",s.colorFillStyle(r,255,255,255,1),s.colorStrokeStyle(r,255,255,255,1),s.drawArrowShape(e,r,l,f,u,v,n,i,a),r.globalCompositeOperation=m);var w=e.pstyle(t+"-arrow-color").value;s.colorFillStyle(r,w[0],w[1],w[2],o),s.colorStrokeStyle(r,w[0],w[1],w[2],o),s.drawArrowShape(e,r,c,f,u,v,n,i,a)}}};Wp.drawArrowShape=function(r,e,t,n,i,a,o,s,u){var l=this,c=this.usePaths()&&i!=="triangle-cross",f=!1,d,v=e,p={x:o,y:s},m=r.pstyle("arrow-scale").value,w=this.getArrowWidth(n,m),b=l.arrowShapes[i];if(c){var y=l.arrowPathCache=l.arrowPathCache||[],_=Pg(i),S=y[_];S!=null?(d=e=S,f=!0):(d=e=new Path2D,y[_]=d)}f||(e.beginPath&&e.beginPath(),c?b.draw(e,1,0,{x:0,y:0},1):b.draw(e,w,u,p,n),e.closePath&&e.closePath()),e=v,c&&(e.translate(o,s),e.rotate(u),e.scale(w,w)),(t==="filled"||t==="both")&&(c?e.fill(d):e.fill()),(t==="hollow"||t==="both")&&(e.lineWidth=a/(c?w:1),e.lineJoin="miter",c?e.stroke(d):e.stroke()),c&&(e.scale(1/w,1/w),e.rotate(-u),e.translate(-o,-s))};var O2={};O2.safeDrawImage=function(r,e,t,n,i,a,o,s,u,l){if(!(i<=0||a<=0||u<=0||l<=0))try{r.drawImage(e,t,n,i,a,o,s,u,l)}catch(c){_a(c)}};O2.drawInscribedImage=function(r,e,t,n,i){var a=this,o=t.position(),s=o.x,u=o.y,l=t.cy().style(),c=l.getIndexedStyle.bind(l),f=c(t,"background-fit","value",n),d=c(t,"background-repeat","value",n),v=t.width(),p=t.height(),m=t.padding()*2,w=v+(c(t,"background-width-relative-to","value",n)==="inner"?0:m),b=p+(c(t,"background-height-relative-to","value",n)==="inner"?0:m),y=t._private.rscratch,_=c(t,"background-clip","value",n),S=_==="node",A=c(t,"background-image-opacity","value",n)*i,D=c(t,"background-image-smoothing","value",n),R=t.pstyle("corner-radius").value;R!=="auto"&&(R=t.pstyle("corner-radius").pfValue);var k=e.width||e.cachedW,j=e.height||e.cachedH;(k==null||j==null)&&(document.body.appendChild(e),k=e.cachedW=e.width||e.offsetWidth,j=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var F=k,z=j;if(c(t,"background-width","value",n)!=="auto"&&(c(t,"background-width","units",n)==="%"?F=c(t,"background-width","pfValue",n)*w:F=c(t,"background-width","pfValue",n)),c(t,"background-height","value",n)!=="auto"&&(c(t,"background-height","units",n)==="%"?z=c(t,"background-height","pfValue",n)*b:z=c(t,"background-height","pfValue",n)),!(F===0||z===0)){if(f==="contain"){var q=Math.min(w/F,b/z);F*=q,z*=q}else if(f==="cover"){var q=Math.max(w/F,b/z);F*=q,z*=q}var $=s-w/2,K=c(t,"background-position-x","units",n),oe=c(t,"background-position-x","pfValue",n);K==="%"?$+=(w-F)*oe:$+=oe;var J=c(t,"background-offset-x","units",n),re=c(t,"background-offset-x","pfValue",n);J==="%"?$+=(w-F)*re:$+=re;var ae=u-b/2,ve=c(t,"background-position-y","units",n),se=c(t,"background-position-y","pfValue",n);ve==="%"?ae+=(b-z)*se:ae+=se;var ce=c(t,"background-offset-y","units",n),pe=c(t,"background-offset-y","pfValue",n);ce==="%"?ae+=(b-z)*pe:ae+=pe,y.pathCache&&($-=s,ae-=u,s=0,u=0);var Pe=r.globalAlpha;r.globalAlpha=A;var de=a.getImgSmoothing(r),ge=!1;if(D==="no"&&de?(a.setImgSmoothing(r,!1),ge=!0):D==="yes"&&!de&&(a.setImgSmoothing(r,!0),ge=!0),d==="no-repeat")S&&(r.save(),y.pathCache?r.clip(y.pathCache):(a.nodeShapes[a.getNodeShape(t)].draw(r,s,u,w,b,R,y),r.clip())),a.safeDrawImage(r,e,0,0,k,j,$,ae,F,z),S&&r.restore();else{var Ce=r.createPattern(e,d);r.fillStyle=Ce,a.nodeShapes[a.getNodeShape(t)].draw(r,s,u,w,b,R,y),r.translate($,ae),r.fill(),r.translate(-$,-ae)}r.globalAlpha=Pe,ge&&a.setImgSmoothing(r,de)}};var zy={};zy.eleTextBiggerThanMin=function(r,e){if(!e){var t=r.cy().zoom(),n=this.getPixelRatio(),i=Math.ceil(c2(t*n));e=Math.pow(2,i)}var a=r.pstyle("font-size").pfValue*e,o=r.pstyle("min-zoomed-font-size").pfValue;return!(a<o)};zy.drawElementText=function(r,e,t,n,i){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this;if(n==null){if(a&&!o.eleTextBiggerThanMin(e))return}else if(n===!1)return;if(e.isNode()){var s=e.pstyle("label");if(!s||!s.value)return;var u=o.getLabelJustification(e);r.textAlign=u,r.textBaseline="bottom"}else{var l=e.element()._private.rscratch.badLine,c=e.pstyle("label"),f=e.pstyle("source-label"),d=e.pstyle("target-label");if(l||(!c||!c.value)&&(!f||!f.value)&&(!d||!d.value))return;r.textAlign="center",r.textBaseline="bottom"}var v=!t,p;t&&(p=t,r.translate(-p.x1,-p.y1)),i==null?(o.drawText(r,e,null,v,a),e.isEdge()&&(o.drawText(r,e,"source",v,a),o.drawText(r,e,"target",v,a))):o.drawText(r,e,i,v,a),t&&r.translate(p.x1,p.y1)};zy.getFontCache=function(r){var e;this.fontCaches=this.fontCaches||[];for(var t=0;t<this.fontCaches.length;t++)if(e=this.fontCaches[t],e.context===r)return e;return e={context:r},this.fontCaches.push(e),e};zy.setupTextStyle=function(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=e.pstyle("font-style").strValue,i=e.pstyle("font-size").pfValue+"px",a=e.pstyle("font-family").strValue,o=e.pstyle("font-weight").strValue,s=t?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,u=e.pstyle("text-outline-opacity").value*s,l=e.pstyle("color").value,c=e.pstyle("text-outline-color").value;r.font=n+" "+o+" "+i+" "+a,r.lineJoin="round",this.colorFillStyle(r,l[0],l[1],l[2],s),this.colorStrokeStyle(r,c[0],c[1],c[2],u)};function mE(r,e,t,n,i){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,o=arguments.length>6?arguments[6]:void 0;r.beginPath(),r.moveTo(e+a,t),r.lineTo(e+n-a,t),r.quadraticCurveTo(e+n,t,e+n,t+a),r.lineTo(e+n,t+i-a),r.quadraticCurveTo(e+n,t+i,e+n-a,t+i),r.lineTo(e+a,t+i),r.quadraticCurveTo(e,t+i,e,t+i-a),r.lineTo(e,t+a),r.quadraticCurveTo(e,t,e+a,t),r.closePath(),o?r.stroke():r.fill()}zy.getTextAngle=function(r,e){var t,n=r._private,i=n.rscratch,a=e?e+"-":"",o=r.pstyle(a+"text-rotation");if(o.strValue==="autorotate"){var s=pd(i,"labelAngle",e);t=r.isEdge()?s:0}else o.strValue==="none"?t=0:t=o.pfValue;return t};zy.drawText=function(r,e,t){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=e._private,o=a.rscratch,s=i?e.effectiveOpacity():1;if(!(i&&(s===0||e.pstyle("text-opacity").value===0))){t==="main"&&(t=null);var u=pd(o,"labelX",t),l=pd(o,"labelY",t),c,f,d=this.getLabelText(e,t);if(d!=null&&d!==""&&!isNaN(u)&&!isNaN(l)){this.setupTextStyle(r,e,i);var v=t?t+"-":"",p=pd(o,"labelWidth",t),m=pd(o,"labelHeight",t),w=e.pstyle(v+"text-margin-x").pfValue,b=e.pstyle(v+"text-margin-y").pfValue,y=e.isEdge(),_=e.pstyle("text-halign").value,S=e.pstyle("text-valign").value;y&&(_="center",S="center"),u+=w,l+=b;var A;switch(n?A=this.getTextAngle(e,t):A=0,A!==0&&(c=u,f=l,r.translate(c,f),r.rotate(A),u=0,l=0),S){case"top":break;case"center":l+=m/2;break;case"bottom":l+=m;break}var D=e.pstyle("text-background-opacity").value,R=e.pstyle("text-border-opacity").value,k=e.pstyle("text-border-width").pfValue,j=e.pstyle("text-background-padding").pfValue,F=e.pstyle("text-background-shape").strValue,z=F.indexOf("round")===0,q=2;if(D>0||k>0&&R>0){var $=u-j;switch(_){case"left":$-=p;break;case"center":$-=p/2;break}var K=l-m-j,oe=p+2*j,J=m+2*j;if(D>0){var re=r.fillStyle,ae=e.pstyle("text-background-color").value;r.fillStyle="rgba("+ae[0]+","+ae[1]+","+ae[2]+","+D*s+")",z?mE(r,$,K,oe,J,q):r.fillRect($,K,oe,J),r.fillStyle=re}if(k>0&&R>0){var ve=r.strokeStyle,se=r.lineWidth,ce=e.pstyle("text-border-color").value,pe=e.pstyle("text-border-style").value;if(r.strokeStyle="rgba("+ce[0]+","+ce[1]+","+ce[2]+","+R*s+")",r.lineWidth=k,r.setLineDash)switch(pe){case"dotted":r.setLineDash([1,1]);break;case"dashed":r.setLineDash([4,2]);break;case"double":r.lineWidth=k/4,r.setLineDash([]);break;case"solid":r.setLineDash([]);break}if(z?mE(r,$,K,oe,J,q,"stroke"):r.strokeRect($,K,oe,J),pe==="double"){var Pe=k/2;z?mE(r,$+Pe,K+Pe,oe-Pe*2,J-Pe*2,q,"stroke"):r.strokeRect($+Pe,K+Pe,oe-Pe*2,J-Pe*2)}r.setLineDash&&r.setLineDash([]),r.lineWidth=se,r.strokeStyle=ve}}var de=2*e.pstyle("text-outline-width").pfValue;if(de>0&&(r.lineWidth=de),e.pstyle("text-wrap").value==="wrap"){var ge=pd(o,"labelWrapCachedLines",t),Ce=pd(o,"labelLineHeight",t),Ne=p/2,De=this.getLabelJustification(e);switch(De==="auto"||(_==="left"?De==="left"?u+=-p:De==="center"&&(u+=-Ne):_==="center"?De==="left"?u+=-Ne:De==="right"&&(u+=Ne):_==="right"&&(De==="center"?u+=Ne:De==="right"&&(u+=p))),S){case"top":l-=(ge.length-1)*Ce;break;case"center":case"bottom":l-=(ge.length-1)*Ce;break}for(var ke=0;ke<ge.length;ke++)de>0&&r.strokeText(ge[ke],u,l),r.fillText(ge[ke],u,l),l+=Ce}else de>0&&r.strokeText(d,u,l),r.fillText(d,u,l);A!==0&&(r.rotate(-A),r.translate(-c,-f))}}};var a0={};a0.drawNode=function(r,e,t){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this,s,u,l=e._private,c=l.rscratch,f=e.position();if(!(!gr(f.x)||!gr(f.y))&&!(a&&!e.visible())){var d=a?e.effectiveOpacity():1,v=o.usePaths(),p,m=!1,w=e.padding();s=e.width()+2*w,u=e.height()+2*w;var b;t&&(b=t,r.translate(-b.x1,-b.y1));for(var y=e.pstyle("background-image"),_=y.value,S=new Array(_.length),A=new Array(_.length),D=0,R=0;R<_.length;R++){var k=_[R],j=S[R]=k!=null&&k!=="none";if(j){var F=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",R);D++,A[R]=o.getCachedImage(k,F,function(){l.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var z=e.pstyle("background-blacken").value,q=e.pstyle("border-width").pfValue,$=e.pstyle("background-opacity").value*d,K=e.pstyle("border-color").value,oe=e.pstyle("border-style").value,J=e.pstyle("border-join").value,re=e.pstyle("border-cap").value,ae=e.pstyle("border-position").value,ve=e.pstyle("border-dash-pattern").pfValue,se=e.pstyle("border-dash-offset").pfValue,ce=e.pstyle("border-opacity").value*d,pe=e.pstyle("outline-width").pfValue,Pe=e.pstyle("outline-color").value,de=e.pstyle("outline-style").value,ge=e.pstyle("outline-opacity").value*d,Ce=e.pstyle("outline-offset").value,Ne=e.pstyle("corner-radius").value;Ne!=="auto"&&(Ne=e.pstyle("corner-radius").pfValue);var De=function(){var ct=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$;o.eleFillStyle(r,e,ct)},ke=function(){var ct=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ce;o.colorStrokeStyle(r,K[0],K[1],K[2],ct)},_e=function(){var ct=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ge;o.colorStrokeStyle(r,Pe[0],Pe[1],Pe[2],ct)},Ie=function(ct,xt,er,Rt){var Jt=o.nodePathCache=o.nodePathCache||[],mr=T3(er==="polygon"?er+","+Rt.join(","):er,""+xt,""+ct,""+Ne),Mr=Jt[mr],cr,Fr=!1;return Mr!=null?(cr=Mr,Fr=!0,c.pathCache=cr):(cr=new Path2D,Jt[mr]=c.pathCache=cr),{path:cr,cacheHit:Fr}},Ge=e.pstyle("shape").strValue,Qe=e.pstyle("shape-polygon-points").pfValue;if(v){r.translate(f.x,f.y);var ot=Ie(s,u,Ge,Qe);p=ot.path,m=ot.cacheHit}var Tt=function(){if(!m){var ct=f;v&&(ct={x:0,y:0}),o.nodeShapes[o.getNodeShape(e)].draw(p||r,ct.x,ct.y,s,u,Ne,c)}v?r.fill(p):r.fill()},zt=function(){for(var ct=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d,xt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,er=l.backgrounding,Rt=0,Jt=0;Jt<A.length;Jt++){var mr=e.cy().style().getIndexedStyle(e,"background-image-containment","value",Jt);if(xt&&mr==="over"||!xt&&mr==="inside"){Rt++;continue}S[Jt]&&A[Jt].complete&&!A[Jt].error&&(Rt++,o.drawInscribedImage(r,A[Jt],e,Jt,ct))}l.backgrounding=Rt!==D,er!==l.backgrounding&&e.updateStyle(!1)},pt=function(){var ct=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,xt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d;o.hasPie(e)&&(o.drawPie(r,e,xt),ct&&(v||o.nodeShapes[o.getNodeShape(e)].draw(r,f.x,f.y,s,u,Ne,c)))},Q=function(){var ct=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d,xt=(z>0?z:-z)*ct,er=z>0?0:255;z!==0&&(o.colorFillStyle(r,er,er,er,xt),v?r.fill(p):r.fill())},ne=function(){if(q>0){if(r.lineWidth=q,r.lineCap=re,r.lineJoin=J,r.setLineDash)switch(oe){case"dotted":r.setLineDash([1,1]);break;case"dashed":r.setLineDash(ve),r.lineDashOffset=se;break;case"solid":case"double":r.setLineDash([]);break}if(ae!=="center"){if(r.save(),r.lineWidth*=2,ae==="inside")v?r.clip(p):r.clip();else{var ct=new Path2D;ct.rect(-s/2-q,-u/2-q,s+2*q,u+2*q),ct.addPath(p),r.clip(ct,"evenodd")}v?r.stroke(p):r.stroke(),r.restore()}else v?r.stroke(p):r.stroke();if(oe==="double"){r.lineWidth=q/3;var xt=r.globalCompositeOperation;r.globalCompositeOperation="destination-out",v?r.stroke(p):r.stroke(),r.globalCompositeOperation=xt}r.setLineDash&&r.setLineDash([])}},fe=function(){if(pe>0){if(r.lineWidth=pe,r.lineCap="butt",r.setLineDash)switch(de){case"dotted":r.setLineDash([1,1]);break;case"dashed":r.setLineDash([4,2]);break;case"solid":case"double":r.setLineDash([]);break}var ct=f;v&&(ct={x:0,y:0});var xt=o.getNodeShape(e),er=q;ae==="inside"&&(er=0),ae==="outside"&&(er*=2);var Rt=(s+er+(pe+Ce))/s,Jt=(u+er+(pe+Ce))/u,mr=s*Rt,Mr=u*Jt,cr=o.nodeShapes[xt].points,Fr;if(v){var Dr=Ie(mr,Mr,xt,cr);Fr=Dr.path}if(xt==="ellipse")o.drawEllipsePath(Fr||r,ct.x,ct.y,mr,Mr);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(xt)){var Cr=0,On=0,Rn=0;xt==="round-diamond"?Cr=(er+Ce+pe)*1.4:xt==="round-heptagon"?(Cr=(er+Ce+pe)*1.075,Rn=-(er/2+Ce+pe)/35):xt==="round-hexagon"?Cr=(er+Ce+pe)*1.12:xt==="round-pentagon"?(Cr=(er+Ce+pe)*1.13,Rn=-(er/2+Ce+pe)/15):xt==="round-tag"?(Cr=(er+Ce+pe)*1.12,On=(er/2+pe+Ce)*.07):xt==="round-triangle"&&(Cr=(er+Ce+pe)*(Math.PI/2),Rn=-(er+Ce/2+pe)/Math.PI),Cr!==0&&(Rt=(s+Cr)/s,mr=s*Rt,["round-hexagon","round-tag"].includes(xt)||(Jt=(u+Cr)/u,Mr=u*Jt)),Ne=Ne==="auto"?j3(mr,Mr):Ne;for(var Ha=mr/2,ni=Mr/2,Vn=Ne+(er+pe+Ce)/2,ii=new Array(cr.length/2),ui=new Array(cr.length/2),ji=0;ji<cr.length/2;ji++)ii[ji]={x:ct.x+On+Ha*cr[ji*2],y:ct.y+Rn+ni*cr[ji*2+1]};var la,ca,Pn,ai,fa=ii.length;for(ca=ii[fa-1],la=0;la<fa;la++)Pn=ii[la%fa],ai=ii[(la+1)%fa],ui[la]=x2(ca,Pn,ai,Vn),ca=Pn,Pn=ai;o.drawRoundPolygonPath(Fr||r,ct.x+On,ct.y+Rn,s*Rt,u*Jt,cr,ui)}else if(["roundrectangle","round-rectangle"].includes(xt))Ne=Ne==="auto"?Ny(mr,Mr):Ne,o.drawRoundRectanglePath(Fr||r,ct.x,ct.y,mr,Mr,Ne+(er+pe+Ce)/2);else if(["cutrectangle","cut-rectangle"].includes(xt))Ne=Ne==="auto"?h2():Ne,o.drawCutRectanglePath(Fr||r,ct.x,ct.y,mr,Mr,null,Ne+(er+pe+Ce)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(xt))Ne=Ne==="auto"?Ny(mr,Mr):Ne,o.drawBottomRoundRectanglePath(Fr||r,ct.x,ct.y,mr,Mr,Ne+(er+pe+Ce)/2);else if(xt==="barrel")o.drawBarrelPath(Fr||r,ct.x,ct.y,mr,Mr);else if(xt.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(xt)){var po=(er+pe+Ce)/s;cr=N_(L_(cr,po)),o.drawPolygonPath(Fr||r,ct.x,ct.y,s,u,cr)}else{var Qi=(er+pe+Ce)/s;cr=N_(L_(cr,-Qi)),o.drawPolygonPath(Fr||r,ct.x,ct.y,s,u,cr)}if(v?r.stroke(Fr):r.stroke(),de==="double"){r.lineWidth=er/3;var Wr=r.globalCompositeOperation;r.globalCompositeOperation="destination-out",v?r.stroke(Fr):r.stroke(),r.globalCompositeOperation=Wr}r.setLineDash&&r.setLineDash([])}},Ue=function(){i&&o.drawNodeOverlay(r,e,f,s,u)},qe=function(){i&&o.drawNodeUnderlay(r,e,f,s,u)},We=function(){o.drawElementText(r,e,null,n)},ft=e.pstyle("ghost").value==="yes";if(ft){var Ht=e.pstyle("ghost-offset-x").pfValue,Et=e.pstyle("ghost-offset-y").pfValue,Se=e.pstyle("ghost-opacity").value,Ke=Se*d;r.translate(Ht,Et),_e(),fe(),De(Se*$),Tt(),zt(Ke,!0),ke(Se*ce),ne(),pt(z!==0||q!==0),zt(Ke,!1),Q(Ke),r.translate(-Ht,-Et)}v&&r.translate(-f.x,-f.y),qe(),v&&r.translate(f.x,f.y),_e(),fe(),De(),Tt(),zt(d,!0),ke(),ne(),pt(z!==0||q!==0),zt(d,!1),Q(),v&&r.translate(-f.x,-f.y),We(),Ue(),t&&r.translate(b.x1,b.y1)}};var qj=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(t,n,i,a,o){var s=this;if(n.visible()){var u=n.pstyle("".concat(e,"-padding")).pfValue,l=n.pstyle("".concat(e,"-opacity")).value,c=n.pstyle("".concat(e,"-color")).value,f=n.pstyle("".concat(e,"-shape")).value,d=n.pstyle("".concat(e,"-corner-radius")).value;if(l>0){if(i=i||n.position(),a==null||o==null){var v=n.padding();a=n.width()+2*v,o=n.height()+2*v}s.colorFillStyle(t,c[0],c[1],c[2],l),s.nodeShapes[f].draw(t,i.x,i.y,a+u*2,o+u*2,d),t.fill()}}}};a0.drawNodeOverlay=qj("overlay");a0.drawNodeUnderlay=qj("underlay");a0.hasPie=function(r){return r=r[0],r._private.hasPie};a0.drawPie=function(r,e,t,n){e=e[0],n=n||e.position();var i=e.cy().style(),a=e.pstyle("pie-size"),o=n.x,s=n.y,u=e.width(),l=e.height(),c=Math.min(u,l)/2,f=0,d=this.usePaths();d&&(o=0,s=0),a.units==="%"?c=c*a.pfValue:a.pfValue!==void 0&&(c=a.pfValue/2);for(var v=1;v<=i.pieBackgroundN;v++){var p=e.pstyle("pie-"+v+"-background-size").value,m=e.pstyle("pie-"+v+"-background-color").value,w=e.pstyle("pie-"+v+"-background-opacity").value*t,b=p/100;b+f>1&&(b=1-f);var y=1.5*Math.PI+2*Math.PI*f,_=2*Math.PI*b,S=y+_;p===0||f>=1||f+b>1||(r.beginPath(),r.moveTo(o,s),r.arc(o,s,c,y,S),r.closePath(),this.colorFillStyle(r,m[0],m[1],m[2],w),r.fill(),f+=b)}};var sf={},Rq=100;sf.getPixelRatio=function(){var r=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var e=this.cy.window(),t=r.backingStorePixelRatio||r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1;return(e.devicePixelRatio||1)/t};sf.paintCache=function(r){for(var e=this.paintCaches=this.paintCaches||[],t=!0,n,i=0;i<e.length;i++)if(n=e[i],n.context===r){t=!1;break}return t&&(n={context:r},e.push(n)),n};sf.createGradientStyleFor=function(r,e,t,n,i){var a,o=this.usePaths(),s=t.pstyle(e+"-gradient-stop-colors").value,u=t.pstyle(e+"-gradient-stop-positions").pfValue;if(n==="radial-gradient")if(t.isEdge()){var l=t.sourceEndpoint(),c=t.targetEndpoint(),f=t.midpoint(),d=My(l,f),v=My(c,f);a=r.createRadialGradient(f.x,f.y,0,f.x,f.y,Math.max(d,v))}else{var p=o?{x:0,y:0}:t.position(),m=t.paddedWidth(),w=t.paddedHeight();a=r.createRadialGradient(p.x,p.y,0,p.x,p.y,Math.max(m,w))}else if(t.isEdge()){var b=t.sourceEndpoint(),y=t.targetEndpoint();a=r.createLinearGradient(b.x,b.y,y.x,y.y)}else{var _=o?{x:0,y:0}:t.position(),S=t.paddedWidth(),A=t.paddedHeight(),D=S/2,R=A/2,k=t.pstyle("background-gradient-direction").value;switch(k){case"to-bottom":a=r.createLinearGradient(_.x,_.y-R,_.x,_.y+R);break;case"to-top":a=r.createLinearGradient(_.x,_.y+R,_.x,_.y-R);break;case"to-left":a=r.createLinearGradient(_.x+D,_.y,_.x-D,_.y);break;case"to-right":a=r.createLinearGradient(_.x-D,_.y,_.x+D,_.y);break;case"to-bottom-right":case"to-right-bottom":a=r.createLinearGradient(_.x-D,_.y-R,_.x+D,_.y+R);break;case"to-top-right":case"to-right-top":a=r.createLinearGradient(_.x-D,_.y+R,_.x+D,_.y-R);break;case"to-bottom-left":case"to-left-bottom":a=r.createLinearGradient(_.x+D,_.y-R,_.x-D,_.y+R);break;case"to-top-left":case"to-left-top":a=r.createLinearGradient(_.x+D,_.y+R,_.x-D,_.y-R);break}}if(!a)return null;for(var j=u.length===s.length,F=s.length,z=0;z<F;z++)a.addColorStop(j?u[z]:z/(F-1),"rgba("+s[z][0]+","+s[z][1]+","+s[z][2]+","+i+")");return a};sf.gradientFillStyle=function(r,e,t,n){var i=this.createGradientStyleFor(r,"background",e,t,n);if(!i)return null;r.fillStyle=i};sf.colorFillStyle=function(r,e,t,n,i){r.fillStyle="rgba("+e+","+t+","+n+","+i+")"};sf.eleFillStyle=function(r,e,t){var n=e.pstyle("background-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientFillStyle(r,e,n,t);else{var i=e.pstyle("background-color").value;this.colorFillStyle(r,i[0],i[1],i[2],t)}};sf.gradientStrokeStyle=function(r,e,t,n){var i=this.createGradientStyleFor(r,"line",e,t,n);if(!i)return null;r.strokeStyle=i};sf.colorStrokeStyle=function(r,e,t,n,i){r.strokeStyle="rgba("+e+","+t+","+n+","+i+")"};sf.eleStrokeStyle=function(r,e,t){var n=e.pstyle("line-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientStrokeStyle(r,e,n,t);else{var i=e.pstyle("line-color").value;this.colorStrokeStyle(r,i[0],i[1],i[2],t)}};sf.matchCanvasSize=function(r){var e=this,t=e.data,n=e.findContainerClientCoords(),i=n[2],a=n[3],o=e.getPixelRatio(),s=e.motionBlurPxRatio;(r===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]||r===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG])&&(o=s);var u=i*o,l=a*o,c;if(!(u===e.canvasWidth&&l===e.canvasHeight)){e.fontCaches=null;var f=t.canvasContainer;f.style.width=i+"px",f.style.height=a+"px";for(var d=0;d<e.CANVAS_LAYERS;d++)c=t.canvases[d],c.width=u,c.height=l,c.style.width=i+"px",c.style.height=a+"px";for(var d=0;d<e.BUFFER_COUNT;d++)c=t.bufferCanvases[d],c.width=u,c.height=l,c.style.width=i+"px",c.style.height=a+"px";e.textureMult=1,o<=1&&(c=t.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,c.width=u*e.textureMult,c.height=l*e.textureMult),e.canvasWidth=u,e.canvasHeight=l,e.pixelRatio=o}};sf.renderTo=function(r,e,t,n){this.render({forcedContext:r,forcedZoom:e,forcedPan:t,drawAllLayers:!0,forcedPxRatio:n})};sf.clearCanvas=function(){var r=this,e=r.data;function t(n){n.clearRect(0,0,r.canvasWidth,r.canvasHeight)}t(e.contexts[r.NODE]),t(e.contexts[r.DRAG])};sf.render=function(r){var e=this;r=r||P3();var t=e.cy,n=r.forcedContext,i=r.drawAllLayers,a=r.drawOnlyNodeLayer,o=r.forcedZoom,s=r.forcedPan,u=r.forcedPxRatio===void 0?this.getPixelRatio():r.forcedPxRatio,l=e.data,c=l.canvasNeedsRedraw,f=e.textureOnViewport&&!n&&(e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming),d=r.motionBlur!==void 0?r.motionBlur:e.motionBlur,v=e.motionBlurPxRatio,p=t.hasCompoundNodes(),m=e.hoverData.draggingEles,w=!!(e.hoverData.selecting||e.touchData.selecting);d=d&&!n&&e.motionBlurEnabled&&!w;var b=d;n||(e.prevPxRatio!==u&&(e.invalidateContainerClientCoordsCache(),e.matchCanvasSize(e.container),e.redrawHint("eles",!0),e.redrawHint("drag",!0)),e.prevPxRatio=u),!n&&e.motionBlurTimeout&&clearTimeout(e.motionBlurTimeout),d&&(e.mbFrames==null&&(e.mbFrames=0),e.mbFrames++,e.mbFrames<3&&(b=!1),e.mbFrames>e.minMbLowQualFrames&&(e.motionBlurPxRatio=e.mbPxRBlurry)),e.clearingMotionBlur&&(e.motionBlurPxRatio=1),e.textureDrawLastFrame&&!f&&(c[e.NODE]=!0,c[e.SELECT_BOX]=!0);var y=t.style(),_=t.zoom(),S=o!==void 0?o:_,A=t.pan(),D={x:A.x,y:A.y},R={zoom:_,pan:{x:A.x,y:A.y}},k=e.prevViewport,j=k===void 0||R.zoom!==k.zoom||R.pan.x!==k.pan.x||R.pan.y!==k.pan.y;!j&&!(m&&!p)&&(e.motionBlurPxRatio=1),s&&(D=s),S*=u,D.x*=u,D.y*=u;var F=e.getCachedZSortedEles();function z(ke,_e,Ie,Ge,Qe){var ot=ke.globalCompositeOperation;ke.globalCompositeOperation="destination-out",e.colorFillStyle(ke,255,255,255,e.motionBlurTransparency),ke.fillRect(_e,Ie,Ge,Qe),ke.globalCompositeOperation=ot}function q(ke,_e){var Ie,Ge,Qe,ot;!e.clearingMotionBlur&&(ke===l.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]||ke===l.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG])?(Ie={x:A.x*v,y:A.y*v},Ge=_*v,Qe=e.canvasWidth*v,ot=e.canvasHeight*v):(Ie=D,Ge=S,Qe=e.canvasWidth,ot=e.canvasHeight),ke.setTransform(1,0,0,1,0,0),_e==="motionBlur"?z(ke,0,0,Qe,ot):!n&&(_e===void 0||_e)&&ke.clearRect(0,0,Qe,ot),i||(ke.translate(Ie.x,Ie.y),ke.scale(Ge,Ge)),s&&ke.translate(s.x,s.y),o&&ke.scale(o,o)}if(f||(e.textureDrawLastFrame=!1),f){if(e.textureDrawLastFrame=!0,!e.textureCache){e.textureCache={},e.textureCache.bb=t.mutableElements().boundingBox(),e.textureCache.texture=e.data.bufferCanvases[e.TEXTURE_BUFFER];var $=e.data.bufferContexts[e.TEXTURE_BUFFER];$.setTransform(1,0,0,1,0,0),$.clearRect(0,0,e.canvasWidth*e.textureMult,e.canvasHeight*e.textureMult),e.render({forcedContext:$,drawOnlyNodeLayer:!0,forcedPxRatio:u*e.textureMult});var R=e.textureCache.viewport={zoom:t.zoom(),pan:t.pan(),width:e.canvasWidth,height:e.canvasHeight};R.mpan={x:(0-R.pan.x)/R.zoom,y:(0-R.pan.y)/R.zoom}}c[e.DRAG]=!1,c[e.NODE]=!1;var K=l.contexts[e.NODE],oe=e.textureCache.texture,R=e.textureCache.viewport;K.setTransform(1,0,0,1,0,0),d?z(K,0,0,R.width,R.height):K.clearRect(0,0,R.width,R.height);var J=y.core("outside-texture-bg-color").value,re=y.core("outside-texture-bg-opacity").value;e.colorFillStyle(K,J[0],J[1],J[2],re),K.fillRect(0,0,R.width,R.height);var _=t.zoom();q(K,!1),K.clearRect(R.mpan.x,R.mpan.y,R.width/R.zoom/u,R.height/R.zoom/u),K.drawImage(oe,R.mpan.x,R.mpan.y,R.width/R.zoom/u,R.height/R.zoom/u)}else e.textureOnViewport&&!n&&(e.textureCache=null);var ae=t.extent(),ve=e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming||e.hoverData.draggingEles||e.cy.animated(),se=e.hideEdgesOnViewport&&ve,ce=[];if(ce[e.NODE]=!c[e.NODE]&&d&&!e.clearedForMotionBlur[e.NODE]||e.clearingMotionBlur,ce[e.NODE]&&(e.clearedForMotionBlur[e.NODE]=!0),ce[e.DRAG]=!c[e.DRAG]&&d&&!e.clearedForMotionBlur[e.DRAG]||e.clearingMotionBlur,ce[e.DRAG]&&(e.clearedForMotionBlur[e.DRAG]=!0),c[e.NODE]||i||a||ce[e.NODE]){var pe=d&&!ce[e.NODE]&&v!==1,K=n||(pe?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]:l.contexts[e.NODE]),Pe=d&&!pe?"motionBlur":void 0;q(K,Pe),se?e.drawCachedNodes(K,F.nondrag,u,ae):e.drawLayeredElements(K,F.nondrag,u,ae),e.debug&&e.drawDebugPoints(K,F.nondrag),!i&&!d&&(c[e.NODE]=!1)}if(!a&&(c[e.DRAG]||i||ce[e.DRAG])){var pe=d&&!ce[e.DRAG]&&v!==1,K=n||(pe?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG]:l.contexts[e.DRAG]);q(K,d&&!pe?"motionBlur":void 0),se?e.drawCachedNodes(K,F.drag,u,ae):e.drawCachedElements(K,F.drag,u,ae),e.debug&&e.drawDebugPoints(K,F.drag),!i&&!d&&(c[e.DRAG]=!1)}if(this.drawSelectionRectangle(r,q),d&&v!==1){var de=l.contexts[e.NODE],ge=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE],Ce=l.contexts[e.DRAG],Ne=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG],De=function(_e,Ie,Ge){_e.setTransform(1,0,0,1,0,0),Ge||!b?_e.clearRect(0,0,e.canvasWidth,e.canvasHeight):z(_e,0,0,e.canvasWidth,e.canvasHeight);var Qe=v;_e.drawImage(Ie,0,0,e.canvasWidth*Qe,e.canvasHeight*Qe,0,0,e.canvasWidth,e.canvasHeight)};(c[e.NODE]||ce[e.NODE])&&(De(de,ge,ce[e.NODE]),c[e.NODE]=!1),(c[e.DRAG]||ce[e.DRAG])&&(De(Ce,Ne,ce[e.DRAG]),c[e.DRAG]=!1)}e.prevViewport=R,e.clearingMotionBlur&&(e.clearingMotionBlur=!1,e.motionBlurCleared=!0,e.motionBlur=!0),d&&(e.motionBlurTimeout=setTimeout(function(){e.motionBlurTimeout=null,e.clearedForMotionBlur[e.NODE]=!1,e.clearedForMotionBlur[e.DRAG]=!1,e.motionBlur=!1,e.clearingMotionBlur=!f,e.mbFrames=0,c[e.NODE]=!0,c[e.DRAG]=!0,e.redraw()},Rq)),n||t.emit("render")};var S0;sf.drawSelectionRectangle=function(r,e){var t=this,n=t.cy,i=t.data,a=n.style(),o=r.drawOnlyNodeLayer,s=r.drawAllLayers,u=i.canvasNeedsRedraw,l=r.forcedContext;if(t.showFps||!o&&u[t.SELECT_BOX]&&!s){var c=l||i.contexts[t.SELECT_BOX];if(e(c),t.selection[4]==1&&(t.hoverData.selecting||t.touchData.selecting)){var f=t.cy.zoom(),d=a.core("selection-box-border-width").value/f;c.lineWidth=d,c.fillStyle="rgba("+a.core("selection-box-color").value[0]+","+a.core("selection-box-color").value[1]+","+a.core("selection-box-color").value[2]+","+a.core("selection-box-opacity").value+")",c.fillRect(t.selection[0],t.selection[1],t.selection[2]-t.selection[0],t.selection[3]-t.selection[1]),d>0&&(c.strokeStyle="rgba("+a.core("selection-box-border-color").value[0]+","+a.core("selection-box-border-color").value[1]+","+a.core("selection-box-border-color").value[2]+","+a.core("selection-box-opacity").value+")",c.strokeRect(t.selection[0],t.selection[1],t.selection[2]-t.selection[0],t.selection[3]-t.selection[1]))}if(i.bgActivePosistion&&!t.hoverData.selecting){var f=t.cy.zoom(),v=i.bgActivePosistion;c.fillStyle="rgba("+a.core("active-bg-color").value[0]+","+a.core("active-bg-color").value[1]+","+a.core("active-bg-color").value[2]+","+a.core("active-bg-opacity").value+")",c.beginPath(),c.arc(v.x,v.y,a.core("active-bg-size").pfValue/f,0,2*Math.PI),c.fill()}var p=t.lastRedrawTime;if(t.showFps&&p){p=Math.round(p);var m=Math.round(1e3/p),w="1 frame = "+p+" ms = "+m+" fps";if(c.setTransform(1,0,0,1,0,0),c.fillStyle="rgba(255, 0, 0, 0.75)",c.strokeStyle="rgba(255, 0, 0, 0.75)",c.font="30px Arial",!S0){var b=c.measureText(w);S0=b.actualBoundingBoxAscent}c.fillText(w,0,S0);var y=60;c.strokeRect(0,S0+10,250,20),c.fillRect(0,S0+10,250*Math.min(m/y,1),20)}s||(u[t.SELECT_BOX]=!1)}};function JP(r,e,t){var n=r.createShader(e);if(r.shaderSource(n,t),r.compileShader(n),!r.getShaderParameter(n,r.COMPILE_STATUS))throw new Error(r.getShaderInfoLog(n));return n}function Pq(r,e,t){var n=JP(r,r.VERTEX_SHADER,e),i=JP(r,r.FRAGMENT_SHADER,t),a=r.createProgram();if(r.attachShader(a,n),r.attachShader(a,i),r.linkProgram(a),!r.getProgramParameter(a,r.LINK_STATUS))throw new Error("Could not initialize shaders");return a}function Dq(r,e,t){t===void 0&&(t=e);var n=r.makeOffscreenCanvas(e,t),i=n.context=n.getContext("2d");return n.clear=function(){return i.clearRect(0,0,n.width,n.height)},n.clear(),n}function T2(r){var e=r.pixelRatio,t=r.cy.zoom(),n=r.cy.pan();return{zoom:t*e,pan:{x:n.x*e,y:n.y*e}}}function Iq(r,e,t,n,i){var a=n*t+e.x,o=i*t+e.y;return o=Math.round(r.canvasHeight-o),[a,o]}function O0(r,e,t){var n=r[0]/255,i=r[1]/255,a=r[2]/255,o=e,s=t||new Array(4);return s[0]=n*o,s[1]=i*o,s[2]=a*o,s[3]=o,s}function _m(r,e){var t=e||new Array(4);return t[0]=(r>>0&255)/255,t[1]=(r>>8&255)/255,t[2]=(r>>16&255)/255,t[3]=(r>>24&255)/255,t}function kq(r){return r[0]+(r[1]<<8)+(r[2]<<16)+(r[3]<<24)}function Mq(r,e){var t=r.createTexture();return t.buffer=function(n){r.bindTexture(r.TEXTURE_2D,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR_MIPMAP_NEAREST),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,n),r.generateMipmap(r.TEXTURE_2D),r.bindTexture(r.TEXTURE_2D,null)},t.deleteTexture=function(){r.deleteTexture(t)},t}function Gj(r,e){switch(e){case"float":return[1,r.FLOAT,4];case"vec2":return[2,r.FLOAT,4];case"vec3":return[3,r.FLOAT,4];case"vec4":return[4,r.FLOAT,4];case"int":return[1,r.INT,4];case"ivec2":return[2,r.INT,4]}}function Hj(r,e,t){switch(e){case r.FLOAT:return new Float32Array(t);case r.INT:return new Int32Array(t)}}function Nq(r,e,t,n,i,a){switch(e){case r.FLOAT:return new Float32Array(t.buffer,a*n,i);case r.INT:return new Int32Array(t.buffer,a*n,i)}}function Lq(r,e,t,n){var i=Gj(r,e),a=sl(i,2),o=a[0],s=a[1],u=Hj(r,s,n),l=r.createBuffer();return r.bindBuffer(r.ARRAY_BUFFER,l),r.bufferData(r.ARRAY_BUFFER,u,r.STATIC_DRAW),s===r.FLOAT?r.vertexAttribPointer(t,o,s,!1,0,0):s===r.INT&&r.vertexAttribIPointer(t,o,s,0,0),r.enableVertexAttribArray(t),r.bindBuffer(r.ARRAY_BUFFER,null),l}function mg(r,e,t,n){var i=Gj(r,t),a=sl(i,3),o=a[0],s=a[1],u=a[2],l=Hj(r,s,e*o),c=o*u,f=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,f),r.bufferData(r.ARRAY_BUFFER,e*c,r.DYNAMIC_DRAW),r.enableVertexAttribArray(n),s===r.FLOAT?r.vertexAttribPointer(n,o,s,!1,c,0):s===r.INT&&r.vertexAttribIPointer(n,o,s,c,0),r.vertexAttribDivisor(n,1),r.bindBuffer(r.ARRAY_BUFFER,null);for(var d=new Array(e),v=0;v<e;v++)d[v]=Nq(r,s,l,c,o,v);return f.dataArray=l,f.stride=c,f.size=o,f.getView=function(p){return d[p]},f.setPoint=function(p,m,w){var b=d[p];b[0]=m,b[1]=w},f.bufferSubData=function(p){r.bindBuffer(r.ARRAY_BUFFER,f),p?r.bufferSubData(r.ARRAY_BUFFER,0,l,0,p*o):r.bufferSubData(r.ARRAY_BUFFER,0,l)},f}function jq(r,e,t){for(var n=9,i=new Float32Array(e*n),a=new Array(e),o=0;o<e;o++){var s=o*n*4;a[o]=new Float32Array(i.buffer,s,n)}var u=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,u),r.bufferData(r.ARRAY_BUFFER,i.byteLength,r.DYNAMIC_DRAW);for(var l=0;l<3;l++){var c=t+l;r.enableVertexAttribArray(c),r.vertexAttribPointer(c,3,r.FLOAT,!1,3*12,l*12),r.vertexAttribDivisor(c,1)}return r.bindBuffer(r.ARRAY_BUFFER,null),u.getMatrixView=function(f){return a[f]},u.setData=function(f,d){a[d].set(f,0)},u.bufferSubData=function(){r.bindBuffer(r.ARRAY_BUFFER,u),r.bufferSubData(r.ARRAY_BUFFER,0,i)},u}function Bq(r){var e=r.createFramebuffer();r.bindFramebuffer(r.FRAMEBUFFER,e);var t=r.createTexture();return r.bindTexture(r.TEXTURE_2D,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,t,0),r.bindFramebuffer(r.FRAMEBUFFER,null),e.setFramebufferAttachmentSizes=function(n,i){r.bindTexture(r.TEXTURE_2D,t),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,n,i,0,r.RGBA,r.UNSIGNED_BYTE,null)},e}var eD=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var r=0,e=arguments.length;e--;)r+=arguments[e]*arguments[e];return Math.sqrt(r)});function E_(){var r=new eD(9);return eD!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[5]=0,r[6]=0,r[7]=0),r[0]=1,r[4]=1,r[8]=1,r}function Vj(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=1,r[5]=0,r[6]=0,r[7]=0,r[8]=1,r}function Fq(r,e,t){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],d=t[0],v=t[1],p=t[2],m=t[3],w=t[4],b=t[5],y=t[6],_=t[7],S=t[8];return r[0]=d*n+v*o+p*l,r[1]=d*i+v*s+p*c,r[2]=d*a+v*u+p*f,r[3]=m*n+w*o+b*l,r[4]=m*i+w*s+b*c,r[5]=m*a+w*u+b*f,r[6]=y*n+_*o+S*l,r[7]=y*i+_*s+S*c,r[8]=y*a+_*u+S*f,r}function G_(r,e,t){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],d=t[0],v=t[1];return r[0]=n,r[1]=i,r[2]=a,r[3]=o,r[4]=s,r[5]=u,r[6]=d*n+v*o+l,r[7]=d*i+v*s+c,r[8]=d*a+v*u+f,r}function $j(r,e,t){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],d=Math.sin(t),v=Math.cos(t);return r[0]=v*n+d*o,r[1]=v*i+d*s,r[2]=v*a+d*u,r[3]=v*o-d*n,r[4]=v*s-d*i,r[5]=v*u-d*a,r[6]=l,r[7]=c,r[8]=f,r}function C2(r,e,t){var n=t[0],i=t[1];return r[0]=n*e[0],r[1]=n*e[1],r[2]=n*e[2],r[3]=i*e[3],r[4]=i*e[4],r[5]=i*e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r}function Uq(r,e,t){return r[0]=2/e,r[1]=0,r[2]=0,r[3]=0,r[4]=-2/t,r[5]=0,r[6]=-1,r[7]=1,r[8]=1,r}var W0={SCREEN:{name:"screen",screen:!0},PICKING:{name:"picking",picking:!0}},tD=Pu({texRows:24}),wm=Pu({collection:"default",getKey:null,drawElement:null,getBoundingBox:null,getRotation:null,getRotationPoint:null,getRotationOffset:null,isVisible:function(){return!0},getPadding:0}),zq=function(){function r(e,t,n,i){Fg(this,r),this.debugID=Math.floor(Math.random()*1e4),this.r=e,this.texSize=t,this.texRows=n,this.texHeight=Math.floor(t/n),this.enableWrapping=!0,this.locked=!1,this.texture=null,this.needsBuffer=!0,this.freePointer={x:0,row:0},this.keyToLocation=new Map,this.canvas=i(e,t,t),this.scratch=i(e,t,this.texHeight,"scratch")}return Ug(r,[{key:"lock",value:function(){this.locked=!0}},{key:"getKeys",value:function(){return new Set(this.keyToLocation.keys())}},{key:"getScale",value:function(t){var n=t.w,i=t.h,a=this.texHeight,o=this.texSize,s=a/i,u=n*s,l=i*s;return u>o&&(s=o/n,u=n*s,l=i*s),{scale:s,texW:u,texH:l}}},{key:"draw",value:function(t,n,i){var a=this;if(this.locked)throw new Error("can't draw, atlas is locked");var o=this.texSize,s=this.texRows,u=this.texHeight,l=this.getScale(n),c=l.scale,f=l.texW,d=l.texH,v=[null,null],p=function(_,S){if(i&&S){var A=S.context,D=_.x,R=_.row,k=D,j=u*R;A.save(),A.translate(k,j),A.scale(c,c),i(A,n),A.restore()}},m=function(){p(a.freePointer,a.canvas),v[0]={x:a.freePointer.x,y:a.freePointer.row*u,w:f,h:d},v[1]={x:a.freePointer.x+f,y:a.freePointer.row*u,w:0,h:d},a.freePointer.x+=f,a.freePointer.x==o&&(a.freePointer.x=0,a.freePointer.row++)},w=function(){var _=a.scratch,S=a.canvas;_.clear(),p({x:0,row:0},_);var A=o-a.freePointer.x,D=f-A,R=u;{var k=a.freePointer.x,j=a.freePointer.row*u,F=A;S.context.drawImage(_,0,0,F,R,k,j,F,R),v[0]={x:k,y:j,w:F,h:d}}{var z=A,q=(a.freePointer.row+1)*u,$=D;S&&S.context.drawImage(_,z,0,$,R,0,q,$,R),v[1]={x:0,y:q,w:$,h:d}}a.freePointer.x=D,a.freePointer.row++},b=function(){a.freePointer.x=0,a.freePointer.row++};if(this.freePointer.x+f<=o)m();else{if(this.freePointer.row>=s-1)return!1;this.freePointer.x===o?(b(),m()):this.enableWrapping?w():(b(),m())}return this.keyToLocation.set(t,v),this.needsBuffer=!0,v}},{key:"getOffsets",value:function(t){return this.keyToLocation.get(t)}},{key:"isEmpty",value:function(){return this.freePointer.x===0&&this.freePointer.row===0}},{key:"canFit",value:function(t){if(this.locked)return!1;var n=this.texSize,i=this.texRows,a=this.getScale(t),o=a.texW;return this.freePointer.x+o>n?this.freePointer.row<i-1:!0}},{key:"bufferIfNeeded",value:function(t){this.texture||(this.texture=Mq(t,this.debugID)),this.needsBuffer&&(this.texture.buffer(this.canvas),this.needsBuffer=!1,this.locked&&(this.canvas=null,this.scratch=null))}},{key:"dispose",value:function(){this.texture&&(this.texture.deleteTexture(),this.texture=null),this.canvas=null,this.scratch=null,this.locked=!0}}])}(),qq=function(){function r(e,t,n,i){Fg(this,r),this.r=e,this.texSize=t,this.texRows=n,this.createTextureCanvas=i,this.atlases=[],this.styleKeyToAtlas=new Map,this.markedKeys=new Set}return Ug(r,[{key:"getKeys",value:function(){return new Set(this.styleKeyToAtlas.keys())}},{key:"_createAtlas",value:function(){var t=this.r,n=this.texSize,i=this.texRows,a=this.createTextureCanvas;return new zq(t,n,i,a)}},{key:"_getScratchCanvas",value:function(){if(!this.scratch){var t=this.r,n=this.texSize,i=this.texRows,a=this.createTextureCanvas,o=Math.floor(n/i);this.scratch=a(t,n,o,"scratch")}return this.scratch}},{key:"draw",value:function(t,n,i){var a=this.styleKeyToAtlas.get(t);return a||(a=this.atlases[this.atlases.length-1],(!a||!a.canFit(n))&&(a&&a.lock(),a=this._createAtlas(),this.atlases.push(a)),a.draw(t,n,i),this.styleKeyToAtlas.set(t,a)),a}},{key:"getAtlas",value:function(t){return this.styleKeyToAtlas.get(t)}},{key:"hasAtlas",value:function(t){return this.styleKeyToAtlas.has(t)}},{key:"markKeyForGC",value:function(t){this.markedKeys.add(t)}},{key:"gc",value:function(){var t=this,n=this.markedKeys;if(n.size===0){console.log("nothing to garbage collect");return}var i=[],a=new Map,o=null,s=dv(this.atlases),u;try{var l=function(){var f=u.value,d=f.getKeys(),v=Gq(n,d);if(v.size===0)return i.push(f),d.forEach(function(A){return a.set(A,f)}),1;o||(o=t._createAtlas(),i.push(o));var p=dv(d),m;try{for(p.s();!(m=p.n()).done;){var w=m.value;if(!v.has(w)){var b=f.getOffsets(w),y=sl(b,2),_=y[0],S=y[1];o.canFit({w:_.w+S.w,h:_.h})||(o.lock(),o=t._createAtlas(),i.push(o)),t._copyTextureToNewAtlas(w,f,o),a.set(w,o)}}}catch(A){p.e(A)}finally{p.f()}f.dispose()};for(s.s();!(u=s.n()).done;)l()}catch(c){s.e(c)}finally{s.f()}this.atlases=i,this.styleKeyToAtlas=a,this.markedKeys=new Set}},{key:"_copyTextureToNewAtlas",value:function(t,n,i){var a=n.getOffsets(t),o=sl(a,2),s=o[0],u=o[1];if(u.w===0)i.draw(t,s,function(d){d.drawImage(n.canvas,s.x,s.y,s.w,s.h,0,0,s.w,s.h)});else{var l=this._getScratchCanvas();l.clear(),l.context.drawImage(n.canvas,s.x,s.y,s.w,s.h,0,0,s.w,s.h),l.context.drawImage(n.canvas,u.x,u.y,u.w,u.h,s.w,0,u.w,u.h);var c=s.w+u.w,f=s.h;i.draw(t,{w:c,h:f},function(d){d.drawImage(l,0,0,c,f,0,0,c,f)})}}},{key:"getCounts",value:function(){return{keyCount:this.styleKeyToAtlas.size,atlasCount:new Set(this.styleKeyToAtlas.values()).size}}}])}();function Gq(r,e){return r.intersection?r.intersection(e):new Set(h3(r).filter(function(t){return e.has(t)}))}var Hq=function(){function r(e,t){Fg(this,r),this.r=e,this.globalOptions=t,this.atlasSize=t.webglTexSize,this.maxAtlasesPerBatch=t.webglTexPerBatch,this.renderTypes=new Map,this.collections=new Map,this.typeAndIdToKey=new Map,this.batchAtlases=[]}return Ug(r,[{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"getMaxAtlasesPerBatch",value:function(){return this.maxAtlasesPerBatch}},{key:"addAtlasCollection",value:function(t,n){var i=this.globalOptions,a=i.webglTexSize,o=i.createTextureCanvas,s=n.texRows,u=this._cacheScratchCanvas(o),l=new qq(this.r,a,s,u);this.collections.set(t,l)}},{key:"addRenderType",value:function(t,n){var i=n.collection;if(!this.collections.has(i))throw new Error("invalid atlas collection name '".concat(i,"'"));var a=this.collections.get(i),o=en({type:t,atlasCollection:a},n);this.renderTypes.set(t,o)}},{key:"getRenderTypeOpts",value:function(t){return this.renderTypes.get(t)}},{key:"getAtlasCollection",value:function(t){return this.collections.get(t)}},{key:"_cacheScratchCanvas",value:function(t){var n=-1,i=-1,a=null;return function(o,s,u,l){return l?((!a||s!=n||u!=i)&&(n=s,i=u,a=t(o,s,u)),a):t(o,s,u)}}},{key:"_key",value:function(t,n){return"".concat(t,"-").concat(n)}},{key:"invalidate",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.forceRedraw,a=i===void 0?!1:i,o=n.filterEle,s=o===void 0?function(){return!0}:o,u=n.filterType,l=u===void 0?function(){return!0}:u,c=!1,f=!1,d=dv(t),v;try{for(d.s();!(v=d.n()).done;){var p=v.value;if(s(p)){var m=dv(this.renderTypes.values()),w;try{for(m.s();!(w=m.n()).done;){var b=w.value,y=b.type;if(l(y)){var _=b.getKey(p),S=this.collections.get(b.collection);if(a)S.markKeyForGC(_),f=!0;else{var A=b.getID?b.getID(p):p.id(),D=this._key(y,A),R=this.typeAndIdToKey.get(D);R!==void 0&&R!==_&&(this.typeAndIdToKey.delete(D),S.markKeyForGC(R),c=!0)}}}}catch(k){m.e(k)}finally{m.f()}}}}catch(k){d.e(k)}finally{d.f()}return f&&(this.gc(),c=!1),c}},{key:"gc",value:function(){var t=dv(this.collections.values()),n;try{for(t.s();!(n=t.n()).done;){var i=n.value;i.gc()}}catch(a){t.e(a)}finally{t.f()}}},{key:"getOrCreateAtlas",value:function(t,n,i){var a=this.renderTypes.get(n),o=a.getKey(t);i||(i=a.getBoundingBox(t));var s=this.collections.get(a.collection),u=!1,l=s.draw(o,i,function(d){a.drawElement(d,t,i,!0,!0),u=!0});if(u){var c=a.getID?a.getID(t):t.id(),f=this._key(n,c);this.typeAndIdToKey.set(f,o)}return l}},{key:"startBatch",value:function(){this.batchAtlases=[]}},{key:"getAtlasCount",value:function(){return this.batchAtlases.length}},{key:"getAtlases",value:function(){return this.batchAtlases}},{key:"canAddToCurrentBatch",value:function(t,n){if(this.batchAtlases.length===this.maxAtlasesPerBatch){var i=this.renderTypes.get(n),a=i.getKey(t),o=this.collections.get(i.collection),s=o.getAtlas(a);return!!s&&this.batchAtlases.includes(s)}return!0}},{key:"getAtlasIndexForBatch",value:function(t){var n=this.batchAtlases.indexOf(t);if(n<0){if(this.batchAtlases.length===this.maxAtlasesPerBatch)return;this.batchAtlases.push(t),n=this.batchAtlases.length-1}return n}},{key:"getIndexArray",value:function(){return Array.from({length:this.maxAtlasesPerBatch},function(t,n){return n})}},{key:"getAtlasInfo",value:function(t,n){var i=this.renderTypes.get(n),a=i.getBoundingBox(t),o=this.getOrCreateAtlas(t,n,a),s=this.getAtlasIndexForBatch(o);if(s!==void 0){var u=i.getKey(t),l=o.getOffsets(u),c=sl(l,2),f=c[0],d=c[1];return{index:s,tex1:f,tex2:d,bb:a}}}},{key:"setTransformMatrix",value:function(t,n,i,a){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=this.getRenderTypeOpts(i),u=s.getPadding?s.getPadding(t):0;if(a){var l=a.bb,c=a.tex1,f=a.tex2,d=c.w/(c.w+f.w);o||(d=1-d);var v=this.getAdjustedBB(l,u,o,d);this._applyTransformMatrix(n,v,s,t)}else{var p=s.getBoundingBox(t),m=this.getAdjustedBB(p,u,!0,1);this._applyTransformMatrix(n,m,s,t)}}},{key:"_applyTransformMatrix",value:function(t,n,i,a){var o,s;Vj(t);var u=i.getRotation?i.getRotation(a):0;if(u!==0){var l=i.getRotationPoint(a),c=l.x,f=l.y;G_(t,t,[c,f]),$j(t,t,u);var d=i.getRotationOffset(a);o=d.x+n.xOffset,s=d.y}else o=n.x1,s=n.y1;G_(t,t,[o,s]),C2(t,t,[n.w,n.h])}},{key:"getAdjustedBB",value:function(t,n,i,a){var o=t.x1,s=t.y1,u=t.w,l=t.h;n&&(o-=n,s-=n,u+=2*n,l+=2*n);var c=0,f=u*a;return i&&a<1?u=f:!i&&a<1&&(c=u-f,o+=c,u=f),{x1:o,y1:s,w:u,h:l,xOffset:c}}},{key:"getDebugInfo",value:function(){var t=[],n=dv(this.collections),i;try{for(n.s();!(i=n.n()).done;){var a=sl(i.value,2),o=a[0],s=a[1],u=s.getCounts(),l=u.keyCount,c=u.atlasCount;t.push({type:o,keyCount:l,atlasCount:c})}}catch(f){n.e(f)}finally{n.f()}return t}}])}(),Wb=0,rD=1,nD=2,bE=3,iD=4,Vq=function(){function r(e,t,n){Fg(this,r),this.r=e,this.gl=t,this.maxInstances=n.webglBatchSize,this.atlasSize=n.webglTexSize,this.bgColor=n.bgColor,this.debug=n.webglDebug,this.batchDebugInfo=[],n.enableWrapping=!0,n.createTextureCanvas=Dq,this.atlasManager=new Hq(e,n),this.program=this.createShaderProgram(W0.SCREEN),this.pickingProgram=this.createShaderProgram(W0.PICKING),this.vao=this.createVAO()}return Ug(r,[{key:"addAtlasCollection",value:function(t,n){this.atlasManager.addAtlasCollection(t,n)}},{key:"addAtlasRenderType",value:function(t,n){this.atlasManager.addRenderType(t,n)}},{key:"invalidate",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.type,a=this.atlasManager;return i?a.invalidate(t,{filterType:function(s){return s===i},forceRedraw:!0}):a.invalidate(t)}},{key:"gc",value:function(){this.atlasManager.gc()}},{key:"createShaderProgram",value:function(t){var n=this.gl,i=`#version 300 es
      precision highp float;

      uniform mat3 uPanZoomMatrix;
      uniform int  uAtlasSize;
      
      // instanced
      in vec2 aPosition; 

      in mat3 aTransform;

      // what are we rendering?
      in int aVertType;

      // for picking
      in vec4 aIndex;
      
      // For textures
      in int aAtlasId; // which shader unit/atlas to use
      in vec4 aTex; // x/y/w/h of texture in atlas

      // for edges
      in vec4 aPointAPointB;
      in vec4 aPointCPointD;
      in float aLineWidth;
      in vec4 aColor;

      out vec2 vTexCoord;
      out vec4 vColor;
      flat out int vAtlasId;
      flat out vec4 vIndex;
      flat out int vVertType;

      void main(void) {
        int vid = gl_VertexID;
        vec2 position = aPosition;

        if(aVertType == `.concat(Wb,`) {
          float texX = aTex.x;
          float texY = aTex.y;
          float texW = aTex.z;
          float texH = aTex.w;

          int vid = gl_VertexID;

          if(vid == 1 || vid == 2 || vid == 4) {
            texX += texW;
          }
          if(vid == 2 || vid == 4 || vid == 5) {
            texY += texH;
          }

          float d = float(uAtlasSize);
          vTexCoord = vec2(texX / d, texY / d); // tex coords must be between 0 and 1

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(iD,`) {
          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
          vColor = aColor;
        }
        else if(aVertType == `).concat(rD,`) {
          vec2 source = aPointAPointB.xy;
          vec2 target = aPointAPointB.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 xBasis = target - source;
          vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));
          vec2 point = source + xBasis * position.x + yBasis * aLineWidth * position.y;

          gl_Position = vec4(uPanZoomMatrix * vec3(point, 1.0), 1.0);
          vColor = aColor;
        } 
        else if(aVertType == `).concat(nD,`) {
          vec2 pointA = aPointAPointB.xy;
          vec2 pointB = aPointAPointB.zw;
          vec2 pointC = aPointCPointD.xy;
          vec2 pointD = aPointCPointD.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 p0 = pointA;
          vec2 p1 = pointB;
          vec2 p2 = pointC;
          vec2 pos = position;
          if(position.x == 1.0) {
            p0 = pointD;
            p1 = pointC;
            p2 = pointB;
            pos = vec2(0.0, -position.y);
          }

          vec2 p01 = p1 - p0;
          vec2 p12 = p2 - p1;
          vec2 p21 = p1 - p2;

          // Find the normal vector.
          vec2 tangent = normalize(normalize(p12) + normalize(p01));
          vec2 normal = vec2(-tangent.y, tangent.x);

          // Find the vector perpendicular to p0 -> p1.
          vec2 p01Norm = normalize(vec2(-p01.y, p01.x));

          // Determine the bend direction.
          float sigma = sign(dot(p01 + p21, normal));
          float width = aLineWidth;

          if(sign(pos.y) == -sigma) {
            // This is an intersecting vertex. Adjust the position so that there's no overlap.
            vec2 point = 0.5 * width * normal * -sigma / dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          } else {
            // This is a non-intersecting vertex. Treat it like a mitre join.
            vec2 point = 0.5 * width * normal * sigma * dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          }

          vColor = aColor;
        } 
        else if(aVertType == `).concat(bE,` && vid < 3) {
          // massage the first triangle into an edge arrow
          if(vid == 0)
            position = vec2(-0.15, -0.3);
          if(vid == 1)
            position = vec2( 0.0,   0.0);
          if(vid == 2)
            position = vec2( 0.15, -0.3);

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
          vColor = aColor;
        }
        else {
          gl_Position = vec4(2.0, 0.0, 0.0, 1.0); // discard vertex by putting it outside webgl clip space
        }

        vAtlasId = aAtlasId;
        vIndex = aIndex;
        vVertType = aVertType;
      }
    `),a=this.atlasManager.getIndexArray(),o=`#version 300 es
      precision highp float;

      // define texture unit for each node in the batch
      `.concat(a.map(function(l){return"uniform sampler2D uTexture".concat(l,";")}).join(`
	`),`

      uniform vec4 uBGColor;

      in vec2 vTexCoord;
      in vec4 vColor;
      flat in int vAtlasId;
      flat in vec4 vIndex;
      flat in int vVertType;

      out vec4 outColor;

      void main(void) {
        if(vVertType == `).concat(Wb,`) {
          `).concat(a.map(function(l){return"if(vAtlasId == ".concat(l,") outColor = texture(uTexture").concat(l,", vTexCoord);")}).join(`
	else `),`
        } else if(vVertType == `).concat(bE,`) {
          // blend arrow color with background (using premultiplied alpha)
          outColor.rgb = vColor.rgb + (uBGColor.rgb * (1.0 - vColor.a)); 
          outColor.a = 1.0; // make opaque, masks out line under arrow
        } else {
          outColor = vColor;
        }

        `).concat(t.picking?`if(outColor.a == 0.0) discard;
             else outColor = vIndex;`:"",`
      }
    `),s=Pq(n,i,o);s.aPosition=n.getAttribLocation(s,"aPosition"),s.aIndex=n.getAttribLocation(s,"aIndex"),s.aVertType=n.getAttribLocation(s,"aVertType"),s.aTransform=n.getAttribLocation(s,"aTransform"),s.aAtlasId=n.getAttribLocation(s,"aAtlasId"),s.aTex=n.getAttribLocation(s,"aTex"),s.aPointAPointB=n.getAttribLocation(s,"aPointAPointB"),s.aPointCPointD=n.getAttribLocation(s,"aPointCPointD"),s.aLineWidth=n.getAttribLocation(s,"aLineWidth"),s.aColor=n.getAttribLocation(s,"aColor"),s.uPanZoomMatrix=n.getUniformLocation(s,"uPanZoomMatrix"),s.uAtlasSize=n.getUniformLocation(s,"uAtlasSize"),s.uBGColor=n.getUniformLocation(s,"uBGColor"),s.uTextures=[];for(var u=0;u<this.atlasManager.getMaxAtlasesPerBatch();u++)s.uTextures.push(n.getUniformLocation(s,"uTexture".concat(u)));return s}},{key:"createVAO",value:function(){var t=[0,0,1,0,1,1,0,0,1,1,0,1];this.vertexCount=t.length/2;var n=this.maxInstances,i=this.gl,a=this.program,o=i.createVertexArray();return i.bindVertexArray(o),Lq(i,"vec2",a.aPosition,t),this.transformBuffer=jq(i,n,a.aTransform),this.indexBuffer=mg(i,n,"vec4",a.aIndex),this.vertTypeBuffer=mg(i,n,"int",a.aVertType),this.atlasIdBuffer=mg(i,n,"int",a.aAtlasId),this.texBuffer=mg(i,n,"vec4",a.aTex),this.pointAPointBBuffer=mg(i,n,"vec4",a.aPointAPointB),this.pointCPointDBuffer=mg(i,n,"vec4",a.aPointCPointD),this.lineWidthBuffer=mg(i,n,"float",a.aLineWidth),this.colorBuffer=mg(i,n,"vec4",a.aColor),i.bindVertexArray(null),o}},{key:"buffers",get:function(){var t=this;return this._buffers||(this._buffers=Object.keys(this).filter(function(n){return n.endsWith("Buffer")}).map(function(n){return t[n]})),this._buffers}},{key:"startFrame",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:W0.SCREEN;this.panZoomMatrix=t,this.renderTarget=n,this.batchDebugInfo=[],this.wrappedCount=0,this.rectangleCount=0,this.startBatch()}},{key:"startBatch",value:function(){this.instanceCount=0,this.atlasManager.startBatch()}},{key:"endFrame",value:function(){this.endBatch()}},{key:"getTempMatrix",value:function(){return this.tempMatrix=this.tempMatrix||E_()}},{key:"drawTexture",value:function(t,n,i){var a=this.atlasManager;if(t.visible()&&a.getRenderTypeOpts(i).isVisible(t)){a.canAddToCurrentBatch(t,i)||this.endBatch(),this.instanceCount+1>=this.maxInstances&&this.endBatch();var o=this.instanceCount;this.vertTypeBuffer.getView(o)[0]=Wb;var s=this.indexBuffer.getView(o);_m(n,s);var u=a.getAtlasInfo(t,i),l=u.index,c=u.tex1,f=u.tex2;f.w>0&&this.wrappedCount++;for(var d=!0,v=0,p=[c,f];v<p.length;v++){var m=p[v];if(m.w!=0){var w=this.instanceCount;this.vertTypeBuffer.getView(w)[0]=Wb;var b=this.indexBuffer.getView(w);_m(n,b);var y=this.atlasIdBuffer.getView(w);y[0]=l;var _=this.texBuffer.getView(w);_[0]=m.x,_[1]=m.y,_[2]=m.w,_[3]=m.h;var S=this.transformBuffer.getMatrixView(w);a.setTransformMatrix(t,S,i,u,d),this.instanceCount++}d=!1}this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"drawSimpleRectangle",value:function(t,n,i){if(t.visible()){var a=this.atlasManager,o=this.instanceCount;this.vertTypeBuffer.getView(o)[0]=iD;var s=this.indexBuffer.getView(o);_m(n,s);var u=t.pstyle("background-color").value,l=t.pstyle("background-opacity").value,c=this.colorBuffer.getView(o);O0(u,l,c);var f=this.transformBuffer.getMatrixView(o);a.setTransformMatrix(t,f,i),this.rectangleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"drawEdgeArrow",value:function(t,n,i){if(t.visible()){var a=t._private.rscratch,o,s,u;if(i==="source"?(o=a.arrowStartX,s=a.arrowStartY,u=a.srcArrowAngle):(o=a.arrowEndX,s=a.arrowEndY,u=a.tgtArrowAngle),!(isNaN(o)||o==null||isNaN(s)||s==null||isNaN(u)||u==null)){var l=t.pstyle(i+"-arrow-shape").value;if(l!=="none"){var c=t.pstyle(i+"-arrow-color").value,f=t.pstyle("opacity").value,d=t.pstyle("line-opacity").value,v=f*d,p=t.pstyle("width").pfValue,m=t.pstyle("arrow-scale").value,w=this.r.getArrowWidth(p,m),b=this.instanceCount,y=this.transformBuffer.getMatrixView(b);Vj(y),G_(y,y,[o,s]),C2(y,y,[w,w]),$j(y,y,u),this.vertTypeBuffer.getView(b)[0]=bE;var _=this.indexBuffer.getView(b);_m(n,_);var S=this.colorBuffer.getView(b);O0(c,v,S),this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"drawEdgeLine",value:function(t,n){if(t.visible()){var i=this.getEdgePoints(t);if(i){var a=t.pstyle("opacity").value,o=t.pstyle("line-opacity").value,s=t.pstyle("width").pfValue,u=t.pstyle("line-color").value,l=a*o;if(i.length/2+this.instanceCount>this.maxInstances&&this.endBatch(),i.length==4){var c=this.instanceCount;this.vertTypeBuffer.getView(c)[0]=rD;var f=this.indexBuffer.getView(c);_m(n,f);var d=this.colorBuffer.getView(c);O0(u,l,d);var v=this.lineWidthBuffer.getView(c);v[0]=s;var p=this.pointAPointBBuffer.getView(c);p[0]=i[0],p[1]=i[1],p[2]=i[2],p[3]=i[3],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}else for(var m=0;m<i.length-2;m+=2){var w=this.instanceCount;this.vertTypeBuffer.getView(w)[0]=nD;var b=this.indexBuffer.getView(w);_m(n,b);var y=this.colorBuffer.getView(w);O0(u,l,y);var _=this.lineWidthBuffer.getView(w);_[0]=s;var S=i[m-2],A=i[m-1],D=i[m],R=i[m+1],k=i[m+2],j=i[m+3],F=i[m+4],z=i[m+5];m==0&&(S=2*D-k+.001,A=2*R-j+.001),m==i.length-4&&(F=2*k-D+.001,z=2*j-R+.001);var q=this.pointAPointBBuffer.getView(w);q[0]=S,q[1]=A,q[2]=D,q[3]=R;var $=this.pointCPointDBuffer.getView(w);$[0]=k,$[1]=j,$[2]=F,$[3]=z,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"getEdgePoints",value:function(t){var n=t._private.rscratch;if(!(n.badLine||n.allpts==null||isNaN(n.allpts[0]))){var i=n.allpts;if(i.length==4)return i;var a=this.getNumSegments(t);return this.getCurveSegmentPoints(i,a)}}},{key:"getNumSegments",value:function(t){var n=15;return Math.min(Math.max(n,5),this.maxInstances)}},{key:"getCurveSegmentPoints",value:function(t,n){if(t.length==4)return t;for(var i=Array((n+1)*2),a=0;a<=n;a++)if(a==0)i[0]=t[0],i[1]=t[1];else if(a==n)i[a*2]=t[t.length-2],i[a*2+1]=t[t.length-1];else{var o=a/n;this.setCurvePoint(t,o,i,a*2)}return i}},{key:"setCurvePoint",value:function(t,n,i,a){if(t.length<=2)i[a]=t[0],i[a+1]=t[1];else{for(var o=Array(t.length-2),s=0;s<o.length;s+=2){var u=(1-n)*t[s]+n*t[s+2],l=(1-n)*t[s+1]+n*t[s+3];o[s]=u,o[s+1]=l}return this.setCurvePoint(o,n,i,a)}}},{key:"endBatch",value:function(){var t=this.gl,n=this.vao,i=this.vertexCount,a=this.instanceCount;if(a!==0){var o=this.renderTarget.picking?this.pickingProgram:this.program;t.useProgram(o),t.bindVertexArray(n);var s=dv(this.buffers),u;try{for(s.s();!(u=s.n()).done;){var l=u.value;l.bufferSubData(a)}}catch(p){s.e(p)}finally{s.f()}for(var c=this.atlasManager.getAtlases(),f=0;f<c.length;f++)c[f].bufferIfNeeded(t);for(var d=0;d<c.length;d++)t.activeTexture(t.TEXTURE0+d),t.bindTexture(t.TEXTURE_2D,c[d].texture),t.uniform1i(o.uTextures[d],d);t.uniformMatrix3fv(o.uPanZoomMatrix,!1,this.panZoomMatrix),t.uniform1i(o.uAtlasSize,this.atlasManager.getAtlasSize());var v=O0(this.bgColor,1);t.uniform4fv(o.uBGColor,v),t.drawArraysInstanced(t.TRIANGLES,0,i,a),t.bindVertexArray(null),t.bindTexture(t.TEXTURE_2D,null),this.debug&&this.batchDebugInfo.push({count:a,atlasCount:c.length}),this.startBatch()}}},{key:"getDebugInfo",value:function(){var t=this.atlasManager.getDebugInfo(),n=t.reduce(function(o,s){return o+s.atlasCount},0),i=this.batchDebugInfo,a=i.reduce(function(o,s){return o+s.count},0);return{atlasInfo:t,totalAtlases:n,wrappedCount:this.wrappedCount,rectangleCount:this.rectangleCount,batchCount:i.length,batchInfo:i,totalInstances:a}}}])}();function aD(r,e){return"rgba(".concat(r[0],", ").concat(r[1],", ").concat(r[2],", ").concat(e,")")}var $q=function(){function r(e){Fg(this,r),this.r=e}return Ug(r,[{key:"getStyleKey",value:function(t,n){var i=this.getStyle(t,n),a=i.shape,o=i.opacity,s=i.color;if(!a)return null;var u=n.width(),l=n.height(),c=aD(s,o);return Pg("".concat(a,"-").concat(u,"-").concat(l,"-").concat(c))}},{key:"isVisible",value:function(t,n){var i=n.pstyle("".concat(t,"-opacity")).value;return i>0}},{key:"getStyle",value:function(t,n){var i=n.pstyle("".concat(t,"-opacity")).value,a=n.pstyle("".concat(t,"-color")).value,o=n.pstyle("".concat(t,"-shape")).value;return{opacity:i,color:a,shape:o}}},{key:"getPadding",value:function(t,n){return n.pstyle("".concat(t,"-padding")).pfValue}},{key:"draw",value:function(t,n,i,a){if(this.isVisible(t,i)){var o=this.r,s=a.w,u=a.h,l=s/2,c=u/2,f=this.getStyle(t,i),d=f.shape,v=f.color,p=f.opacity;n.save(),n.fillStyle=aD(v,p),d==="round-rectangle"||d==="roundrectangle"?o.drawRoundRectanglePath(n,l,c,s,u,"auto"):d==="ellipse"&&o.drawEllipsePath(n,l,c,s,u),n.fill(),n.restore()}}}])}(),Wj={};Wj.initWebgl=function(r,e){var t=this,n=t.data.contexts[t.WEBGL];r.bgColor=Wq(t),r.webglTexSize=Math.min(r.webglTexSize,n.getParameter(n.MAX_TEXTURE_SIZE)),r.webglTexRows=Math.min(r.webglTexRows,54),r.webglTexRowsNodes=Math.min(r.webglTexRowsNodes,54),r.webglBatchSize=Math.min(r.webglBatchSize,16384),r.webglTexPerBatch=Math.min(r.webglTexPerBatch,n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS)),t.webglDebug=r.webglDebug,t.webglDebugShowAtlases=r.webglDebugShowAtlases,t.pickingFrameBuffer=Bq(n),t.pickingFrameBuffer.needsDraw=!0;var i=function(l){return function(c){return t.getTextAngle(c,l)}},a=function(l){return function(c){var f=c.pstyle(l);return f&&f.value}};t.drawing=new Vq(t,n,r);var o=new $q(t);t.drawing.addAtlasCollection("node",tD({texRows:r.webglTexRowsNodes})),t.drawing.addAtlasCollection("label",tD({texRows:r.webglTexRows})),t.drawing.addAtlasRenderType("node-body",wm({collection:"node",getKey:e.getStyleKey,getBoundingBox:e.getElementBox,drawElement:e.drawElement})),t.drawing.addAtlasRenderType("label",wm({collection:"label",getKey:e.getLabelKey,getBoundingBox:e.getLabelBox,drawElement:e.drawLabel,getRotation:i(null),getRotationPoint:e.getLabelRotationPoint,getRotationOffset:e.getLabelRotationOffset,isVisible:a("label")})),t.drawing.addAtlasRenderType("node-overlay",wm({collection:"node",getBoundingBox:e.getElementBox,getKey:function(l){return o.getStyleKey("overlay",l)},drawElement:function(l,c,f){return o.draw("overlay",l,c,f)},isVisible:function(l){return o.isVisible("overlay",l)},getPadding:function(l){return o.getPadding("overlay",l)}})),t.drawing.addAtlasRenderType("node-underlay",wm({collection:"node",getBoundingBox:e.getElementBox,getKey:function(l){return o.getStyleKey("underlay",l)},drawElement:function(l,c,f){return o.draw("underlay",l,c,f)},isVisible:function(l){return o.isVisible("underlay",l)},getPadding:function(l){return o.getPadding("underlay",l)}})),t.drawing.addAtlasRenderType("edge-source-label",wm({collection:"label",getKey:e.getSourceLabelKey,getBoundingBox:e.getSourceLabelBox,drawElement:e.drawSourceLabel,getRotation:i("source"),getRotationPoint:e.getSourceLabelRotationPoint,getRotationOffset:e.getSourceLabelRotationOffset,isVisible:a("source-label")})),t.drawing.addAtlasRenderType("edge-target-label",wm({collection:"label",getKey:e.getTargetLabelKey,getBoundingBox:e.getTargetLabelBox,drawElement:e.drawTargetLabel,getRotation:i("target"),getRotationPoint:e.getTargetLabelRotationPoint,getRotationOffset:e.getTargetLabelRotationOffset,isVisible:a("target-label")}));var s=wb(function(){console.log("garbage collect flag set"),t.data.gc=!0},1e4);t.onUpdateEleCalcs(function(u,l){var c=!1;l&&l.length>0&&(c|=t.drawing.invalidate(l)),c&&s()}),Yq(t)};function Wq(r){var e=r.cy.container(),t=e&&e.style&&e.style.backgroundColor||"white";return b3(t)}function Yq(r){{var e=r.render;r.render=function(a){a=a||{};var o=r.cy;r.webgl&&(o.zoom()>Bj?(Xq(r),e.call(r,a)):(Kq(r),Xj(r,a,W0.SCREEN)))}}{var t=r.matchCanvasSize;r.matchCanvasSize=function(a){t.call(r,a),r.pickingFrameBuffer.setFramebufferAttachmentSizes(r.canvasWidth,r.canvasHeight),r.pickingFrameBuffer.needsDraw=!0}}r.findNearestElements=function(a,o,s,u){return r9(r,a,o)};{var n=r.invalidateCachedZSortedEles;r.invalidateCachedZSortedEles=function(){n.call(r),r.pickingFrameBuffer.needsDraw=!0}}{var i=r.notify;r.notify=function(a,o){i.call(r,a,o),a==="viewport"||a==="bounds"?r.pickingFrameBuffer.needsDraw=!0:a==="background"&&r.drawing.invalidate(o,{type:"node-body"})}}}function Xq(r){var e=r.data.contexts[r.WEBGL];e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)}function Kq(r){var e=function(n){n.save(),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,r.canvasWidth,r.canvasHeight),n.restore()};e(r.data.contexts[r.NODE]),e(r.data.contexts[r.DRAG])}function Zq(r){var e=r.canvasWidth,t=r.canvasHeight,n=T2(r),i=n.pan,a=n.zoom,o=E_();G_(o,o,[i.x,i.y]),C2(o,o,[a,a]);var s=E_();Uq(s,e,t);var u=E_();return Fq(u,s,o),u}function Yj(r,e){var t=r.canvasWidth,n=r.canvasHeight,i=T2(r),a=i.pan,o=i.zoom;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t,n),e.translate(a.x,a.y),e.scale(o,o)}function Qq(r,e){r.drawSelectionRectangle(e,function(t){return Yj(r,t)})}function Jq(r){var e=r.data.contexts[r.NODE];e.save(),Yj(r,e),e.strokeStyle="rgba(0, 0, 0, 0.3)",e.beginPath(),e.moveTo(-1e3,0),e.lineTo(1e3,0),e.stroke(),e.beginPath(),e.moveTo(0,-1e3),e.lineTo(0,1e3),e.stroke(),e.restore()}function e9(r){var e=function(i,a,o){for(var s=i.atlasManager.getAtlasCollection(a),u=r.data.contexts[r.NODE],l=.125,c=s.atlases,f=0;f<c.length;f++){var d=c[f],v=d.canvas;if(v){var p=v.width,m=v.height,w=p*f,b=v.height*o;u.save(),u.scale(l,l),u.drawImage(v,w,b),u.strokeStyle="black",u.rect(w,b,p,m),u.stroke(),u.restore()}}},t=0;e(r.drawing,"node",t++),e(r.drawing,"label",t++)}function t9(r,e,t,n,i){var a,o,s,u,l=T2(r),c=l.pan,f=l.zoom;{var d=Iq(r,c,f,e,t),v=sl(d,2),p=v[0],m=v[1],w=6;a=p-w/2,o=m-w/2,s=w,u=w}if(s===0||u===0)return[];var b=r.data.contexts[r.WEBGL];b.bindFramebuffer(b.FRAMEBUFFER,r.pickingFrameBuffer),r.pickingFrameBuffer.needsDraw&&(b.viewport(0,0,b.canvas.width,b.canvas.height),Xj(r,null,W0.PICKING),r.pickingFrameBuffer.needsDraw=!1);var y=s*u,_=new Uint8Array(y*4);b.readPixels(a,o,s,u,b.RGBA,b.UNSIGNED_BYTE,_),b.bindFramebuffer(b.FRAMEBUFFER,null);for(var S=new Set,A=0;A<y;A++){var D=_.slice(A*4,A*4+4),R=kq(D)-1;R>=0&&S.add(R)}return S}function r9(r,e,t){var n=t9(r,e,t),i=r.getCachedZSortedEles(),a,o,s=dv(n),u;try{for(s.s();!(u=s.n()).done;){var l=u.value,c=i[l];if(!a&&c.isNode()&&(a=c),!o&&c.isEdge()&&(o=c),a&&o)break}}catch(f){s.e(f)}finally{s.f()}return[a,o].filter(Boolean)}function n9(r){return r.pstyle("shape").value==="rectangle"&&r.pstyle("background-fill").value==="solid"&&r.pstyle("border-width").pfValue===0&&r.pstyle("background-image").strValue==="none"}function _E(r,e,t){var n=r.drawing;e+=1,t.isNode()?(n.drawTexture(t,e,"node-underlay"),n9(t)?n.drawSimpleRectangle(t,e,"node-body"):n.drawTexture(t,e,"node-body"),n.drawTexture(t,e,"label"),n.drawTexture(t,e,"node-overlay")):(n.drawEdgeLine(t,e),n.drawEdgeArrow(t,e,"source"),n.drawEdgeArrow(t,e,"target"),n.drawTexture(t,e,"label"),n.drawTexture(t,e,"edge-source-label"),n.drawTexture(t,e,"edge-target-label"))}function Xj(r,e,t){var n;r.webglDebug&&(n=performance.now());var i=r.drawing,a=0;if(t.screen&&r.data.canvasNeedsRedraw[r.SELECT_BOX]&&Qq(r,e),r.data.canvasNeedsRedraw[r.NODE]||t.picking){var o=r.data.contexts[r.WEBGL];t.screen?(o.clearColor(0,0,0,0),o.enable(o.BLEND),o.blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA)):o.disable(o.BLEND),o.clear(o.COLOR_BUFFER_BIT|o.DEPTH_BUFFER_BIT),o.viewport(0,0,o.canvas.width,o.canvas.height);var s=Zq(r),u=r.getCachedZSortedEles();if(a=u.length,i.startFrame(s,t),t.screen){for(var l=0;l<u.nondrag.length;l++)_E(r,l,u.nondrag[l]);for(var c=0;c<u.drag.length;c++)_E(r,c,u.drag[c])}else if(t.picking)for(var f=0;f<u.length;f++)_E(r,f,u[f]);i.endFrame(),t.screen&&r.webglDebugShowAtlases&&(Jq(r),e9(r)),r.data.canvasNeedsRedraw[r.NODE]=!1,r.data.canvasNeedsRedraw[r.DRAG]=!1}if(r.webglDebug){var d=performance.now(),v=!1,p=Math.ceil(d-n),m=i.getDebugInfo(),w=["".concat(a," elements"),"".concat(m.totalInstances," instances"),"".concat(m.batchCount," batches"),"".concat(m.totalAtlases," atlases"),"".concat(m.wrappedCount," wrapped textures"),"".concat(m.rectangleCount," simple rectangles")].join(", ");if(v)console.log("WebGL (".concat(t.name,") - time ").concat(p,"ms, ").concat(w));else{console.log("WebGL (".concat(t.name,") - frame time ").concat(p,"ms")),console.log("Totals:"),console.log("  ".concat(w)),console.log("Texture Atlases Used:");var b=m.atlasInfo,y=dv(b),_;try{for(y.s();!(_=y.n()).done;){var S=_.value;console.log("  ".concat(S.type,": ").concat(S.keyCount," keys, ").concat(S.atlasCount," atlases"))}}catch(A){y.e(A)}finally{y.f()}console.log("")}}r.data.gc&&(console.log("Garbage Collect!"),r.data.gc=!1,i.gc())}var qg={};qg.drawPolygonPath=function(r,e,t,n,i,a){var o=n/2,s=i/2;r.beginPath&&r.beginPath(),r.moveTo(e+o*a[0],t+s*a[1]);for(var u=1;u<a.length/2;u++)r.lineTo(e+o*a[u*2],t+s*a[u*2+1]);r.closePath()};qg.drawRoundPolygonPath=function(r,e,t,n,i,a,o){o.forEach(function(s){return Rj(r,s)}),r.closePath()};qg.drawRoundRectanglePath=function(r,e,t,n,i,a){var o=n/2,s=i/2,u=a==="auto"?Ny(n,i):Math.min(a,s,o);r.beginPath&&r.beginPath(),r.moveTo(e,t-s),r.arcTo(e+o,t-s,e+o,t,u),r.arcTo(e+o,t+s,e,t+s,u),r.arcTo(e-o,t+s,e-o,t,u),r.arcTo(e-o,t-s,e,t-s,u),r.lineTo(e,t-s),r.closePath()};qg.drawBottomRoundRectanglePath=function(r,e,t,n,i,a){var o=n/2,s=i/2,u=a==="auto"?Ny(n,i):a;r.beginPath&&r.beginPath(),r.moveTo(e,t-s),r.lineTo(e+o,t-s),r.lineTo(e+o,t),r.arcTo(e+o,t+s,e,t+s,u),r.arcTo(e-o,t+s,e-o,t,u),r.lineTo(e-o,t-s),r.lineTo(e,t-s),r.closePath()};qg.drawCutRectanglePath=function(r,e,t,n,i,a,o){var s=n/2,u=i/2,l=o==="auto"?h2():o;r.beginPath&&r.beginPath(),r.moveTo(e-s+l,t-u),r.lineTo(e+s-l,t-u),r.lineTo(e+s,t-u+l),r.lineTo(e+s,t+u-l),r.lineTo(e+s-l,t+u),r.lineTo(e-s+l,t+u),r.lineTo(e-s,t+u-l),r.lineTo(e-s,t-u+l),r.closePath()};qg.drawBarrelPath=function(r,e,t,n,i){var a=n/2,o=i/2,s=e-a,u=e+a,l=t-o,c=t+o,f=OC(n,i),d=f.widthOffset,v=f.heightOffset,p=f.ctrlPtOffsetPct*d;r.beginPath&&r.beginPath(),r.moveTo(s,l+v),r.lineTo(s,c-v),r.quadraticCurveTo(s+p,c,s+d,c),r.lineTo(u-d,c),r.quadraticCurveTo(u-p,c,u,c-v),r.lineTo(u,l+v),r.quadraticCurveTo(u-p,l,u-d,l),r.lineTo(s+d,l),r.quadraticCurveTo(s+p,l,s,l+v),r.closePath()};var oD=Math.sin(0),sD=Math.cos(0),FC={},UC={},Kj=Math.PI/40;for(var Em=0*Math.PI;Em<2*Math.PI;Em+=Kj)FC[Em]=Math.sin(Em),UC[Em]=Math.cos(Em);qg.drawEllipsePath=function(r,e,t,n,i){if(r.beginPath&&r.beginPath(),r.ellipse)r.ellipse(e,t,n/2,i/2,0,0,2*Math.PI);else for(var a,o,s=n/2,u=i/2,l=0*Math.PI;l<2*Math.PI;l+=Kj)a=e-s*FC[l]*oD+s*UC[l]*sD,o=t+u*UC[l]*oD+u*FC[l]*sD,l===0?r.moveTo(a,o):r.lineTo(a,o);r.closePath()};var Cb={};Cb.createBuffer=function(r,e){var t=document.createElement("canvas");return t.width=r,t.height=e,[t,t.getContext("2d")]};Cb.bufferCanvasImage=function(r){var e=this.cy,t=e.mutableElements(),n=t.boundingBox(),i=this.findContainerClientCoords(),a=r.full?Math.ceil(n.w):i[2],o=r.full?Math.ceil(n.h):i[3],s=gr(r.maxWidth)||gr(r.maxHeight),u=this.getPixelRatio(),l=1;if(r.scale!==void 0)a*=r.scale,o*=r.scale,l=r.scale;else if(s){var c=1/0,f=1/0;gr(r.maxWidth)&&(c=l*r.maxWidth/a),gr(r.maxHeight)&&(f=l*r.maxHeight/o),l=Math.min(c,f),a*=l,o*=l}s||(a*=u,o*=u,l*=u);var d=document.createElement("canvas");d.width=a,d.height=o,d.style.width=a+"px",d.style.height=o+"px";var v=d.getContext("2d");if(a>0&&o>0){v.clearRect(0,0,a,o),v.globalCompositeOperation="source-over";var p=this.getCachedZSortedEles();if(r.full)v.translate(-n.x1*l,-n.y1*l),v.scale(l,l),this.drawElements(v,p),v.scale(1/l,1/l),v.translate(n.x1*l,n.y1*l);else{var m=e.pan(),w={x:m.x*l,y:m.y*l};l*=e.zoom(),v.translate(w.x,w.y),v.scale(l,l),this.drawElements(v,p),v.scale(1/l,1/l),v.translate(-w.x,-w.y)}r.bg&&(v.globalCompositeOperation="destination-over",v.fillStyle=r.bg,v.rect(0,0,a,o),v.fill())}return d};function i9(r,e){for(var t=atob(r),n=new ArrayBuffer(t.length),i=new Uint8Array(n),a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return new Blob([n],{type:e})}function uD(r){var e=r.indexOf(",");return r.substr(e+1)}function Zj(r,e,t){var n=function(){return e.toDataURL(t,r.quality)};switch(r.output){case"blob-promise":return new e0(function(i,a){try{e.toBlob(function(o){o!=null?i(o):a(new Error("`canvas.toBlob()` sent a null value in its callback"))},t,r.quality)}catch(o){a(o)}});case"blob":return i9(uD(n()),t);case"base64":return uD(n());case"base64uri":default:return n()}}Cb.png=function(r){return Zj(r,this.bufferCanvasImage(r),"image/png")};Cb.jpg=function(r){return Zj(r,this.bufferCanvasImage(r),"image/jpeg")};var Qj={};Qj.nodeShapeImpl=function(r,e,t,n,i,a,o,s){switch(r){case"ellipse":return this.drawEllipsePath(e,t,n,i,a);case"polygon":return this.drawPolygonPath(e,t,n,i,a,o);case"round-polygon":return this.drawRoundPolygonPath(e,t,n,i,a,o,s);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,t,n,i,a,s);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,t,n,i,a,o,s);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,t,n,i,a,s);case"barrel":return this.drawBarrelPath(e,t,n,i,a)}};var a9=Jj,Hn=Jj.prototype;Hn.CANVAS_LAYERS=3;Hn.SELECT_BOX=0;Hn.DRAG=1;Hn.NODE=2;Hn.WEBGL=3;Hn.CANVAS_TYPES=["2d","2d","2d","webgl2"];Hn.BUFFER_COUNT=3;Hn.TEXTURE_BUFFER=0;Hn.MOTIONBLUR_BUFFER_NODE=1;Hn.MOTIONBLUR_BUFFER_DRAG=2;function Jj(r){var e=this,t=e.cy.window(),n=t.document;r.webgl&&(Hn.CANVAS_LAYERS=e.CANVAS_LAYERS=4,console.log("webgl rendering enabled")),e.data={canvases:new Array(Hn.CANVAS_LAYERS),contexts:new Array(Hn.CANVAS_LAYERS),canvasNeedsRedraw:new Array(Hn.CANVAS_LAYERS),bufferCanvases:new Array(Hn.BUFFER_COUNT),bufferContexts:new Array(Hn.CANVAS_LAYERS)};var i="-webkit-tap-highlight-color",a="rgba(0,0,0,0)";e.data.canvasContainer=n.createElement("div");var o=e.data.canvasContainer.style;e.data.canvasContainer.style[i]=a,o.position="relative",o.zIndex="0",o.overflow="hidden";var s=r.cy.container();s.appendChild(e.data.canvasContainer),s.style[i]=a;var u={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};fF()&&(u["-ms-touch-action"]="none",u["touch-action"]="none");for(var l=0;l<Hn.CANVAS_LAYERS;l++){var c=e.data.canvases[l]=n.createElement("canvas"),f=Hn.CANVAS_TYPES[l];e.data.contexts[l]=c.getContext(f),e.data.contexts[l]||Ho("Could not create canvas of type "+f),Object.keys(u).forEach(function(ke){c.style[ke]=u[ke]}),c.style.position="absolute",c.setAttribute("data-id","layer"+l),c.style.zIndex=String(Hn.CANVAS_LAYERS-l),e.data.canvasContainer.appendChild(c),e.data.canvasNeedsRedraw[l]=!1}e.data.topCanvas=e.data.canvases[0],e.data.canvases[Hn.NODE].setAttribute("data-id","layer"+Hn.NODE+"-node"),e.data.canvases[Hn.SELECT_BOX].setAttribute("data-id","layer"+Hn.SELECT_BOX+"-selectbox"),e.data.canvases[Hn.DRAG].setAttribute("data-id","layer"+Hn.DRAG+"-drag"),e.data.canvases[Hn.WEBGL]&&e.data.canvases[Hn.WEBGL].setAttribute("data-id","layer"+Hn.WEBGL+"-webgl");for(var l=0;l<Hn.BUFFER_COUNT;l++)e.data.bufferCanvases[l]=n.createElement("canvas"),e.data.bufferContexts[l]=e.data.bufferCanvases[l].getContext("2d"),e.data.bufferCanvases[l].style.position="absolute",e.data.bufferCanvases[l].setAttribute("data-id","buffer"+l),e.data.bufferCanvases[l].style.zIndex=String(-l-1),e.data.bufferCanvases[l].style.visibility="hidden";e.pathsEnabled=!0;var d=Ff(),v=function(_e){return{x:(_e.x1+_e.x2)/2,y:(_e.y1+_e.y2)/2}},p=function(_e){return{x:-_e.w/2,y:-_e.h/2}},m=function(_e){var Ie=_e[0]._private,Ge=Ie.oldBackgroundTimestamp===Ie.backgroundTimestamp;return!Ge},w=function(_e){return _e[0]._private.nodeKey},b=function(_e){return _e[0]._private.labelStyleKey},y=function(_e){return _e[0]._private.sourceLabelStyleKey},_=function(_e){return _e[0]._private.targetLabelStyleKey},S=function(_e,Ie,Ge,Qe,ot){return e.drawElement(_e,Ie,Ge,!1,!1,ot)},A=function(_e,Ie,Ge,Qe,ot){return e.drawElementText(_e,Ie,Ge,Qe,"main",ot)},D=function(_e,Ie,Ge,Qe,ot){return e.drawElementText(_e,Ie,Ge,Qe,"source",ot)},R=function(_e,Ie,Ge,Qe,ot){return e.drawElementText(_e,Ie,Ge,Qe,"target",ot)},k=function(_e){return _e.boundingBox(),_e[0]._private.bodyBounds},j=function(_e){return _e.boundingBox(),_e[0]._private.labelBounds.main||d},F=function(_e){return _e.boundingBox(),_e[0]._private.labelBounds.source||d},z=function(_e){return _e.boundingBox(),_e[0]._private.labelBounds.target||d},q=function(_e,Ie){return Ie},$=function(_e){return v(k(_e))},K=function(_e,Ie,Ge){var Qe=_e?_e+"-":"";return{x:Ie.x+Ge.pstyle(Qe+"text-margin-x").pfValue,y:Ie.y+Ge.pstyle(Qe+"text-margin-y").pfValue}},oe=function(_e,Ie,Ge){var Qe=_e[0]._private.rscratch;return{x:Qe[Ie],y:Qe[Ge]}},J=function(_e){return K("",oe(_e,"labelX","labelY"),_e)},re=function(_e){return K("source",oe(_e,"sourceLabelX","sourceLabelY"),_e)},ae=function(_e){return K("target",oe(_e,"targetLabelX","targetLabelY"),_e)},ve=function(_e){return p(k(_e))},se=function(_e){return p(F(_e))},ce=function(_e){return p(z(_e))},pe=function(_e){var Ie=j(_e),Ge=p(j(_e));if(_e.isNode()){switch(_e.pstyle("text-halign").value){case"left":Ge.x=-Ie.w-(Ie.leftPad||0);break;case"right":Ge.x=-(Ie.rightPad||0);break}switch(_e.pstyle("text-valign").value){case"top":Ge.y=-Ie.h-(Ie.topPad||0);break;case"bottom":Ge.y=-(Ie.botPad||0);break}}return Ge},Pe=e.data.eleTxrCache=new F0(e,{getKey:w,doesEleInvalidateKey:m,drawElement:S,getBoundingBox:k,getRotationPoint:$,getRotationOffset:ve,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),de=e.data.lblTxrCache=new F0(e,{getKey:b,drawElement:A,getBoundingBox:j,getRotationPoint:J,getRotationOffset:pe,isVisible:q}),ge=e.data.slbTxrCache=new F0(e,{getKey:y,drawElement:D,getBoundingBox:F,getRotationPoint:re,getRotationOffset:se,isVisible:q}),Ce=e.data.tlbTxrCache=new F0(e,{getKey:_,drawElement:R,getBoundingBox:z,getRotationPoint:ae,getRotationOffset:ce,isVisible:q}),Ne=e.data.lyrTxrCache=new Fj(e);e.onUpdateEleCalcs(function(_e,Ie){Pe.invalidateElements(Ie),de.invalidateElements(Ie),ge.invalidateElements(Ie),Ce.invalidateElements(Ie),Ne.invalidateElements(Ie);for(var Ge=0;Ge<Ie.length;Ge++){var Qe=Ie[Ge]._private;Qe.oldBackgroundTimestamp=Qe.backgroundTimestamp}});var De=function(_e){for(var Ie=0;Ie<_e.length;Ie++)Ne.enqueueElementRefinement(_e[Ie].ele)};Pe.onDequeue(De),de.onDequeue(De),ge.onDequeue(De),Ce.onDequeue(De),r.webgl&&e.initWebgl(r,{getStyleKey:w,getLabelKey:b,getSourceLabelKey:y,getTargetLabelKey:_,drawElement:S,drawLabel:A,drawSourceLabel:D,drawTargetLabel:R,getElementBox:k,getLabelBox:j,getSourceLabelBox:F,getTargetLabelBox:z,getElementRotationPoint:$,getElementRotationOffset:ve,getLabelRotationPoint:J,getSourceLabelRotationPoint:re,getTargetLabelRotationPoint:ae,getLabelRotationOffset:pe,getSourceLabelRotationOffset:se,getTargetLabelRotationOffset:ce})}Hn.redrawHint=function(r,e){var t=this;switch(r){case"eles":t.data.canvasNeedsRedraw[Hn.NODE]=e;break;case"drag":t.data.canvasNeedsRedraw[Hn.DRAG]=e;break;case"select":t.data.canvasNeedsRedraw[Hn.SELECT_BOX]=e;break;case"gc":t.data.gc=!0;break}};var o9=typeof Path2D<"u";Hn.path2dEnabled=function(r){if(r===void 0)return this.pathsEnabled;this.pathsEnabled=!!r};Hn.usePaths=function(){return o9&&this.pathsEnabled};Hn.setImgSmoothing=function(r,e){r.imageSmoothingEnabled!=null?r.imageSmoothingEnabled=e:(r.webkitImageSmoothingEnabled=e,r.mozImageSmoothingEnabled=e,r.msImageSmoothingEnabled=e)};Hn.getImgSmoothing=function(r){return r.imageSmoothingEnabled!=null?r.imageSmoothingEnabled:r.webkitImageSmoothingEnabled||r.mozImageSmoothingEnabled||r.msImageSmoothingEnabled};Hn.makeOffscreenCanvas=function(r,e){var t;if((typeof OffscreenCanvas>"u"?"undefined":Ru(OffscreenCanvas))!=="undefined")t=new OffscreenCanvas(r,e);else{var n=this.cy.window(),i=n.document;t=i.createElement("canvas"),t.width=r,t.height=e}return t};[Uj,up,Wp,O2,zy,a0,sf,Wj,qg,Cb,Qj].forEach(function(r){en(Hn,r)});var s9=[{name:"null",impl:Tj},{name:"base",impl:Lj},{name:"canvas",impl:a9}],u9=[{type:"layout",extensions:Uz},{type:"renderer",extensions:s9}],e4={},t4={};function r4(r,e,t){var n=t,i=function(k){_a("Can not register `"+e+"` for `"+r+"` since `"+k+"` already exists in the prototype and can not be overridden")};if(r==="core"){if(sb.prototype[e])return i(e);sb.prototype[e]=t}else if(r==="collection"){if(jl.prototype[e])return i(e);jl.prototype[e]=t}else if(r==="layout"){for(var a=function(k){this.options=k,t.call(this,k),Li(this._private)||(this._private={}),this._private.cy=k.cy,this._private.listeners=[],this.createEmitter()},o=a.prototype=Object.create(t.prototype),s=[],u=0;u<s.length;u++){var l=s[u];o[l]=o[l]||function(){return this}}o.start&&!o.run?o.run=function(){return this.start(),this}:!o.start&&o.run&&(o.start=function(){return this.run(),this});var c=t.prototype.stop;o.stop=function(){var R=this.options;if(R&&R.animate){var k=this.animations;if(k)for(var j=0;j<k.length;j++)k[j].stop()}return c?c.call(this):this.emit("layoutstop"),this},o.destroy||(o.destroy=function(){return this}),o.cy=function(){return this._private.cy};var f=function(k){return k._private.cy},d={addEventFields:function(k,j){j.layout=k,j.cy=f(k),j.target=k},bubble:function(){return!0},parent:function(k){return f(k)}};en(o,{createEmitter:function(){return this._private.emitter=new u1(d,this),this},emitter:function(){return this._private.emitter},on:function(k,j){return this.emitter().on(k,j),this},one:function(k,j){return this.emitter().one(k,j),this},once:function(k,j){return this.emitter().one(k,j),this},removeListener:function(k,j){return this.emitter().removeListener(k,j),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(k,j){return this.emitter().emit(k,j),this}}),ba.eventAliasesOn(o),n=a}else if(r==="renderer"&&e!=="null"&&e!=="base"){var v=n4("renderer","base"),p=v.prototype,m=t,w=t.prototype,b=function(){v.apply(this,arguments),m.apply(this,arguments)},y=b.prototype;for(var _ in p){var S=p[_],A=w[_]!=null;if(A)return i(_);y[_]=S}for(var D in w)y[D]=w[D];p.clientFunctions.forEach(function(R){y[R]=y[R]||function(){Ho("Renderer does not implement `renderer."+R+"()` on its prototype")}}),n=b}else if(r==="__proto__"||r==="constructor"||r==="prototype")return Ho(r+" is an illegal type to be registered, possibly lead to prototype pollutions");return _3({map:e4,keys:[r,e],value:n})}function n4(r,e){return w3({map:e4,keys:[r,e]})}function l9(r,e,t,n,i){return _3({map:t4,keys:[r,e,t,n],value:i})}function c9(r,e,t,n){return w3({map:t4,keys:[r,e,t,n]})}var zC=function(){if(arguments.length===2)return n4.apply(null,arguments);if(arguments.length===3)return r4.apply(null,arguments);if(arguments.length===4)return c9.apply(null,arguments);if(arguments.length===5)return l9.apply(null,arguments);Ho("Invalid extension access syntax")};sb.prototype.extension=zC;u9.forEach(function(r){r.extensions.forEach(function(e){r4(r.type,e.name,e.impl)})});var H_=function(){if(!(this instanceof H_))return new H_;this.length=0},By=H_.prototype;By.instanceString=function(){return"stylesheet"};By.selector=function(r){var e=this.length++;return this[e]={selector:r,properties:[]},this};By.css=function(r,e){var t=this.length-1;if($r(r))this[t].properties.push({name:r,value:e});else if(Li(r))for(var n=r,i=Object.keys(n),a=0;a<i.length;a++){var o=i[a],s=n[o];if(s!=null){var u=ul.properties[o]||ul.properties[Q_(o)];if(u!=null){var l=u.name,c=s;this[t].properties.push({name:l,value:c})}}}return this};By.style=By.css;By.generateStyle=function(r){var e=new ul(r);return this.appendToStyle(e)};By.appendToStyle=function(r){for(var e=0;e<this.length;e++){var t=this[e],n=t.selector,i=t.properties;r.selector(n);for(var a=0;a<i.length;a++){var o=i[a];r.css(o.name,o.value)}}return r};var f9="3.31.2",Ng=function(e){if(e===void 0&&(e={}),Li(e))return new sb(e);if($r(e))return zC.apply(zC,arguments)};Ng.use=function(r){var e=Array.prototype.slice.call(arguments,1);return e.unshift(Ng),r.apply(null,e),this};Ng.warnings=function(r){return A3(r)};Ng.version=f9;Ng.stylesheet=Ng.Stylesheet=H_;var x_={exports:{}},S_={exports:{}},O_={exports:{}},h9=O_.exports,lD;function d9(){return lD||(lD=1,function(r,e){(function(n,i){r.exports=i()})(h9,function(){return function(t){var n={};function i(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return t[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=n,i.i=function(a){return a},i.d=function(a,o,s){i.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:s})},i.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(o,"a",o),o},i.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},i.p="",i(i.s=26)}([function(t,n,i){function a(){}a.QUALITY=1,a.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,a.DEFAULT_INCREMENTAL=!1,a.DEFAULT_ANIMATION_ON_LAYOUT=!0,a.DEFAULT_ANIMATION_DURING_LAYOUT=!1,a.DEFAULT_ANIMATION_PERIOD=50,a.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,a.DEFAULT_GRAPH_MARGIN=15,a.NODE_DIMENSIONS_INCLUDE_LABELS=!1,a.SIMPLE_NODE_SIZE=40,a.SIMPLE_NODE_HALF_SIZE=a.SIMPLE_NODE_SIZE/2,a.EMPTY_COMPOUND_NODE_SIZE=40,a.MIN_EDGE_LENGTH=1,a.WORLD_BOUNDARY=1e6,a.INITIAL_WORLD_BOUNDARY=a.WORLD_BOUNDARY/1e3,a.WORLD_CENTER_X=1200,a.WORLD_CENTER_Y=900,t.exports=a},function(t,n,i){var a=i(2),o=i(8),s=i(9);function u(c,f,d){a.call(this,d),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=d,this.bendpoints=[],this.source=c,this.target=f}u.prototype=Object.create(a.prototype);for(var l in a)u[l]=a[l];u.prototype.getSource=function(){return this.source},u.prototype.getTarget=function(){return this.target},u.prototype.isInterGraph=function(){return this.isInterGraph},u.prototype.getLength=function(){return this.length},u.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},u.prototype.getBendpoints=function(){return this.bendpoints},u.prototype.getLca=function(){return this.lca},u.prototype.getSourceInLca=function(){return this.sourceInLca},u.prototype.getTargetInLca=function(){return this.targetInLca},u.prototype.getOtherEnd=function(c){if(this.source===c)return this.target;if(this.target===c)return this.source;throw"Node is not incident with this edge"},u.prototype.getOtherEndInGraph=function(c,f){for(var d=this.getOtherEnd(c),v=f.getGraphManager().getRoot();;){if(d.getOwner()==f)return d;if(d.getOwner()==v)break;d=d.getOwner().getParent()}return null},u.prototype.updateLength=function(){var c=new Array(4);this.isOverlapingSourceAndTarget=o.getIntersection(this.target.getRect(),this.source.getRect(),c),this.isOverlapingSourceAndTarget||(this.lengthX=c[0]-c[2],this.lengthY=c[1]-c[3],Math.abs(this.lengthX)<1&&(this.lengthX=s.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=s.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},u.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=s.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=s.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},t.exports=u},function(t,n,i){function a(o){this.vGraphObject=o}t.exports=a},function(t,n,i){var a=i(2),o=i(10),s=i(13),u=i(0),l=i(16),c=i(4);function f(v,p,m,w){m==null&&w==null&&(w=p),a.call(this,w),v.graphManager!=null&&(v=v.graphManager),this.estimatedSize=o.MIN_VALUE,this.inclusionTreeDepth=o.MAX_VALUE,this.vGraphObject=w,this.edges=[],this.graphManager=v,m!=null&&p!=null?this.rect=new s(p.x,p.y,m.width,m.height):this.rect=new s}f.prototype=Object.create(a.prototype);for(var d in a)f[d]=a[d];f.prototype.getEdges=function(){return this.edges},f.prototype.getChild=function(){return this.child},f.prototype.getOwner=function(){return this.owner},f.prototype.getWidth=function(){return this.rect.width},f.prototype.setWidth=function(v){this.rect.width=v},f.prototype.getHeight=function(){return this.rect.height},f.prototype.setHeight=function(v){this.rect.height=v},f.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},f.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},f.prototype.getCenter=function(){return new c(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},f.prototype.getLocation=function(){return new c(this.rect.x,this.rect.y)},f.prototype.getRect=function(){return this.rect},f.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},f.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},f.prototype.setRect=function(v,p){this.rect.x=v.x,this.rect.y=v.y,this.rect.width=p.width,this.rect.height=p.height},f.prototype.setCenter=function(v,p){this.rect.x=v-this.rect.width/2,this.rect.y=p-this.rect.height/2},f.prototype.setLocation=function(v,p){this.rect.x=v,this.rect.y=p},f.prototype.moveBy=function(v,p){this.rect.x+=v,this.rect.y+=p},f.prototype.getEdgeListToNode=function(v){var p=[],m=this;return m.edges.forEach(function(w){if(w.target==v){if(w.source!=m)throw"Incorrect edge source!";p.push(w)}}),p},f.prototype.getEdgesBetween=function(v){var p=[],m=this;return m.edges.forEach(function(w){if(!(w.source==m||w.target==m))throw"Incorrect edge source and/or target";(w.target==v||w.source==v)&&p.push(w)}),p},f.prototype.getNeighborsList=function(){var v=new Set,p=this;return p.edges.forEach(function(m){if(m.source==p)v.add(m.target);else{if(m.target!=p)throw"Incorrect incidency!";v.add(m.source)}}),v},f.prototype.withChildren=function(){var v=new Set,p,m;if(v.add(this),this.child!=null)for(var w=this.child.getNodes(),b=0;b<w.length;b++)p=w[b],m=p.withChildren(),m.forEach(function(y){v.add(y)});return v},f.prototype.getNoOfChildren=function(){var v=0,p;if(this.child==null)v=1;else for(var m=this.child.getNodes(),w=0;w<m.length;w++)p=m[w],v+=p.getNoOfChildren();return v==0&&(v=1),v},f.prototype.getEstimatedSize=function(){if(this.estimatedSize==o.MIN_VALUE)throw"assert failed";return this.estimatedSize},f.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},f.prototype.scatter=function(){var v,p,m=-u.INITIAL_WORLD_BOUNDARY,w=u.INITIAL_WORLD_BOUNDARY;v=u.WORLD_CENTER_X+l.nextDouble()*(w-m)+m;var b=-u.INITIAL_WORLD_BOUNDARY,y=u.INITIAL_WORLD_BOUNDARY;p=u.WORLD_CENTER_Y+l.nextDouble()*(y-b)+b,this.rect.x=v,this.rect.y=p},f.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var v=this.getChild();if(v.updateBounds(!0),this.rect.x=v.getLeft(),this.rect.y=v.getTop(),this.setWidth(v.getRight()-v.getLeft()),this.setHeight(v.getBottom()-v.getTop()),u.NODE_DIMENSIONS_INCLUDE_LABELS){var p=v.getRight()-v.getLeft(),m=v.getBottom()-v.getTop();this.labelWidth>p&&(this.rect.x-=(this.labelWidth-p)/2,this.setWidth(this.labelWidth)),this.labelHeight>m&&(this.labelPos=="center"?this.rect.y-=(this.labelHeight-m)/2:this.labelPos=="top"&&(this.rect.y-=this.labelHeight-m),this.setHeight(this.labelHeight))}}},f.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==o.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},f.prototype.transform=function(v){var p=this.rect.x;p>u.WORLD_BOUNDARY?p=u.WORLD_BOUNDARY:p<-u.WORLD_BOUNDARY&&(p=-u.WORLD_BOUNDARY);var m=this.rect.y;m>u.WORLD_BOUNDARY?m=u.WORLD_BOUNDARY:m<-u.WORLD_BOUNDARY&&(m=-u.WORLD_BOUNDARY);var w=new c(p,m),b=v.inverseTransformPoint(w);this.setLocation(b.x,b.y)},f.prototype.getLeft=function(){return this.rect.x},f.prototype.getRight=function(){return this.rect.x+this.rect.width},f.prototype.getTop=function(){return this.rect.y},f.prototype.getBottom=function(){return this.rect.y+this.rect.height},f.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},t.exports=f},function(t,n,i){function a(o,s){o==null&&s==null?(this.x=0,this.y=0):(this.x=o,this.y=s)}a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a.prototype.setX=function(o){this.x=o},a.prototype.setY=function(o){this.y=o},a.prototype.getDifference=function(o){return new DimensionD(this.x-o.x,this.y-o.y)},a.prototype.getCopy=function(){return new a(this.x,this.y)},a.prototype.translate=function(o){return this.x+=o.width,this.y+=o.height,this},t.exports=a},function(t,n,i){var a=i(2),o=i(10),s=i(0),u=i(6),l=i(3),c=i(1),f=i(13),d=i(12),v=i(11);function p(w,b,y){a.call(this,y),this.estimatedSize=o.MIN_VALUE,this.margin=s.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=w,b!=null&&b instanceof u?this.graphManager=b:b!=null&&b instanceof Layout&&(this.graphManager=b.graphManager)}p.prototype=Object.create(a.prototype);for(var m in a)p[m]=a[m];p.prototype.getNodes=function(){return this.nodes},p.prototype.getEdges=function(){return this.edges},p.prototype.getGraphManager=function(){return this.graphManager},p.prototype.getParent=function(){return this.parent},p.prototype.getLeft=function(){return this.left},p.prototype.getRight=function(){return this.right},p.prototype.getTop=function(){return this.top},p.prototype.getBottom=function(){return this.bottom},p.prototype.isConnected=function(){return this.isConnected},p.prototype.add=function(w,b,y){if(b==null&&y==null){var _=w;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(_)>-1)throw"Node already in graph!";return _.owner=this,this.getNodes().push(_),_}else{var S=w;if(!(this.getNodes().indexOf(b)>-1&&this.getNodes().indexOf(y)>-1))throw"Source or target not in graph!";if(!(b.owner==y.owner&&b.owner==this))throw"Both owners must be this graph!";return b.owner!=y.owner?null:(S.source=b,S.target=y,S.isInterGraph=!1,this.getEdges().push(S),b.edges.push(S),y!=b&&y.edges.push(S),S)}},p.prototype.remove=function(w){var b=w;if(w instanceof l){if(b==null)throw"Node is null!";if(!(b.owner!=null&&b.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var y=b.edges.slice(),_,S=y.length,A=0;A<S;A++)_=y[A],_.isInterGraph?this.graphManager.remove(_):_.source.owner.remove(_);var D=this.nodes.indexOf(b);if(D==-1)throw"Node not in owner node list!";this.nodes.splice(D,1)}else if(w instanceof c){var _=w;if(_==null)throw"Edge is null!";if(!(_.source!=null&&_.target!=null))throw"Source and/or target is null!";if(!(_.source.owner!=null&&_.target.owner!=null&&_.source.owner==this&&_.target.owner==this))throw"Source and/or target owner is invalid!";var R=_.source.edges.indexOf(_),k=_.target.edges.indexOf(_);if(!(R>-1&&k>-1))throw"Source and/or target doesn't know this edge!";_.source.edges.splice(R,1),_.target!=_.source&&_.target.edges.splice(k,1);var D=_.source.owner.getEdges().indexOf(_);if(D==-1)throw"Not in owner's edge list!";_.source.owner.getEdges().splice(D,1)}},p.prototype.updateLeftTop=function(){for(var w=o.MAX_VALUE,b=o.MAX_VALUE,y,_,S,A=this.getNodes(),D=A.length,R=0;R<D;R++){var k=A[R];y=k.getTop(),_=k.getLeft(),w>y&&(w=y),b>_&&(b=_)}return w==o.MAX_VALUE?null:(A[0].getParent().paddingLeft!=null?S=A[0].getParent().paddingLeft:S=this.margin,this.left=b-S,this.top=w-S,new d(this.left,this.top))},p.prototype.updateBounds=function(w){for(var b=o.MAX_VALUE,y=-o.MAX_VALUE,_=o.MAX_VALUE,S=-o.MAX_VALUE,A,D,R,k,j,F=this.nodes,z=F.length,q=0;q<z;q++){var $=F[q];w&&$.child!=null&&$.updateBounds(),A=$.getLeft(),D=$.getRight(),R=$.getTop(),k=$.getBottom(),b>A&&(b=A),y<D&&(y=D),_>R&&(_=R),S<k&&(S=k)}var K=new f(b,_,y-b,S-_);b==o.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),F[0].getParent().paddingLeft!=null?j=F[0].getParent().paddingLeft:j=this.margin,this.left=K.x-j,this.right=K.x+K.width+j,this.top=K.y-j,this.bottom=K.y+K.height+j},p.calculateBounds=function(w){for(var b=o.MAX_VALUE,y=-o.MAX_VALUE,_=o.MAX_VALUE,S=-o.MAX_VALUE,A,D,R,k,j=w.length,F=0;F<j;F++){var z=w[F];A=z.getLeft(),D=z.getRight(),R=z.getTop(),k=z.getBottom(),b>A&&(b=A),y<D&&(y=D),_>R&&(_=R),S<k&&(S=k)}var q=new f(b,_,y-b,S-_);return q},p.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},p.prototype.getEstimatedSize=function(){if(this.estimatedSize==o.MIN_VALUE)throw"assert failed";return this.estimatedSize},p.prototype.calcEstimatedSize=function(){for(var w=0,b=this.nodes,y=b.length,_=0;_<y;_++){var S=b[_];w+=S.calcEstimatedSize()}return w==0?this.estimatedSize=s.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=w/Math.sqrt(this.nodes.length),this.estimatedSize},p.prototype.updateConnected=function(){var w=this;if(this.nodes.length==0){this.isConnected=!0;return}var b=new v,y=new Set,_=this.nodes[0],S,A,D=_.withChildren();for(D.forEach(function(q){b.push(q),y.add(q)});b.length!==0;){_=b.shift(),S=_.getEdges();for(var R=S.length,k=0;k<R;k++){var j=S[k];if(A=j.getOtherEndInGraph(_,this),A!=null&&!y.has(A)){var F=A.withChildren();F.forEach(function(q){b.push(q),y.add(q)})}}}if(this.isConnected=!1,y.size>=this.nodes.length){var z=0;y.forEach(function(q){q.owner==w&&z++}),z==this.nodes.length&&(this.isConnected=!0)}},t.exports=p},function(t,n,i){var a,o=i(1);function s(u){a=i(5),this.layout=u,this.graphs=[],this.edges=[]}s.prototype.addRoot=function(){var u=this.layout.newGraph(),l=this.layout.newNode(null),c=this.add(u,l);return this.setRootGraph(c),this.rootGraph},s.prototype.add=function(u,l,c,f,d){if(c==null&&f==null&&d==null){if(u==null)throw"Graph is null!";if(l==null)throw"Parent node is null!";if(this.graphs.indexOf(u)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(u),u.parent!=null)throw"Already has a parent!";if(l.child!=null)throw"Already has a child!";return u.parent=l,l.child=u,u}else{d=c,f=l,c=u;var v=f.getOwner(),p=d.getOwner();if(!(v!=null&&v.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(p!=null&&p.getGraphManager()==this))throw"Target not in this graph mgr!";if(v==p)return c.isInterGraph=!1,v.add(c,f,d);if(c.isInterGraph=!0,c.source=f,c.target=d,this.edges.indexOf(c)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(c),!(c.source!=null&&c.target!=null))throw"Edge source and/or target is null!";if(!(c.source.edges.indexOf(c)==-1&&c.target.edges.indexOf(c)==-1))throw"Edge already in source and/or target incidency list!";return c.source.edges.push(c),c.target.edges.push(c),c}},s.prototype.remove=function(u){if(u instanceof a){var l=u;if(l.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(l==this.rootGraph||l.parent!=null&&l.parent.graphManager==this))throw"Invalid parent node!";var c=[];c=c.concat(l.getEdges());for(var f,d=c.length,v=0;v<d;v++)f=c[v],l.remove(f);var p=[];p=p.concat(l.getNodes());var m;d=p.length;for(var v=0;v<d;v++)m=p[v],l.remove(m);l==this.rootGraph&&this.setRootGraph(null);var w=this.graphs.indexOf(l);this.graphs.splice(w,1),l.parent=null}else if(u instanceof o){if(f=u,f==null)throw"Edge is null!";if(!f.isInterGraph)throw"Not an inter-graph edge!";if(!(f.source!=null&&f.target!=null))throw"Source and/or target is null!";if(!(f.source.edges.indexOf(f)!=-1&&f.target.edges.indexOf(f)!=-1))throw"Source and/or target doesn't know this edge!";var w=f.source.edges.indexOf(f);if(f.source.edges.splice(w,1),w=f.target.edges.indexOf(f),f.target.edges.splice(w,1),!(f.source.owner!=null&&f.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(f.source.owner.getGraphManager().edges.indexOf(f)==-1)throw"Not in owner graph manager's edge list!";var w=f.source.owner.getGraphManager().edges.indexOf(f);f.source.owner.getGraphManager().edges.splice(w,1)}},s.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},s.prototype.getGraphs=function(){return this.graphs},s.prototype.getAllNodes=function(){if(this.allNodes==null){for(var u=[],l=this.getGraphs(),c=l.length,f=0;f<c;f++)u=u.concat(l[f].getNodes());this.allNodes=u}return this.allNodes},s.prototype.resetAllNodes=function(){this.allNodes=null},s.prototype.resetAllEdges=function(){this.allEdges=null},s.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},s.prototype.getAllEdges=function(){if(this.allEdges==null){var u=[],l=this.getGraphs();l.length;for(var c=0;c<l.length;c++)u=u.concat(l[c].getEdges());u=u.concat(this.edges),this.allEdges=u}return this.allEdges},s.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},s.prototype.setAllNodesToApplyGravitation=function(u){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=u},s.prototype.getRoot=function(){return this.rootGraph},s.prototype.setRootGraph=function(u){if(u.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=u,u.parent==null&&(u.parent=this.layout.newNode("Root node"))},s.prototype.getLayout=function(){return this.layout},s.prototype.isOneAncestorOfOther=function(u,l){if(!(u!=null&&l!=null))throw"assert failed";if(u==l)return!0;var c=u.getOwner(),f;do{if(f=c.getParent(),f==null)break;if(f==l)return!0;if(c=f.getOwner(),c==null)break}while(!0);c=l.getOwner();do{if(f=c.getParent(),f==null)break;if(f==u)return!0;if(c=f.getOwner(),c==null)break}while(!0);return!1},s.prototype.calcLowestCommonAncestors=function(){for(var u,l,c,f,d,v=this.getAllEdges(),p=v.length,m=0;m<p;m++){if(u=v[m],l=u.source,c=u.target,u.lca=null,u.sourceInLca=l,u.targetInLca=c,l==c){u.lca=l.getOwner();continue}for(f=l.getOwner();u.lca==null;){for(u.targetInLca=c,d=c.getOwner();u.lca==null;){if(d==f){u.lca=d;break}if(d==this.rootGraph)break;if(u.lca!=null)throw"assert failed";u.targetInLca=d.getParent(),d=u.targetInLca.getOwner()}if(f==this.rootGraph)break;u.lca==null&&(u.sourceInLca=f.getParent(),f=u.sourceInLca.getOwner())}if(u.lca==null)throw"assert failed"}},s.prototype.calcLowestCommonAncestor=function(u,l){if(u==l)return u.getOwner();var c=u.getOwner();do{if(c==null)break;var f=l.getOwner();do{if(f==null)break;if(f==c)return f;f=f.getParent().getOwner()}while(!0);c=c.getParent().getOwner()}while(!0);return c},s.prototype.calcInclusionTreeDepths=function(u,l){u==null&&l==null&&(u=this.rootGraph,l=1);for(var c,f=u.getNodes(),d=f.length,v=0;v<d;v++)c=f[v],c.inclusionTreeDepth=l,c.child!=null&&this.calcInclusionTreeDepths(c.child,l+1)},s.prototype.includesInvalidEdge=function(){for(var u,l=this.edges.length,c=0;c<l;c++)if(u=this.edges[c],this.isOneAncestorOfOther(u.source,u.target))return!0;return!1},t.exports=s},function(t,n,i){var a=i(0);function o(){}for(var s in a)o[s]=a[s];o.MAX_ITERATIONS=2500,o.DEFAULT_EDGE_LENGTH=50,o.DEFAULT_SPRING_STRENGTH=.45,o.DEFAULT_REPULSION_STRENGTH=4500,o.DEFAULT_GRAVITY_STRENGTH=.4,o.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,o.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,o.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,o.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,o.COOLING_ADAPTATION_FACTOR=.33,o.ADAPTATION_LOWER_NODE_LIMIT=1e3,o.ADAPTATION_UPPER_NODE_LIMIT=5e3,o.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,o.MAX_NODE_DISPLACEMENT=o.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,o.MIN_REPULSION_DIST=o.DEFAULT_EDGE_LENGTH/10,o.CONVERGENCE_CHECK_PERIOD=100,o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,o.MIN_EDGE_LENGTH=1,o.GRID_CALCULATION_CHECK_PERIOD=10,t.exports=o},function(t,n,i){var a=i(12);function o(){}o.calcSeparationAmount=function(s,u,l,c){if(!s.intersects(u))throw"assert failed";var f=new Array(2);this.decideDirectionsForOverlappingNodes(s,u,f),l[0]=Math.min(s.getRight(),u.getRight())-Math.max(s.x,u.x),l[1]=Math.min(s.getBottom(),u.getBottom())-Math.max(s.y,u.y),s.getX()<=u.getX()&&s.getRight()>=u.getRight()?l[0]+=Math.min(u.getX()-s.getX(),s.getRight()-u.getRight()):u.getX()<=s.getX()&&u.getRight()>=s.getRight()&&(l[0]+=Math.min(s.getX()-u.getX(),u.getRight()-s.getRight())),s.getY()<=u.getY()&&s.getBottom()>=u.getBottom()?l[1]+=Math.min(u.getY()-s.getY(),s.getBottom()-u.getBottom()):u.getY()<=s.getY()&&u.getBottom()>=s.getBottom()&&(l[1]+=Math.min(s.getY()-u.getY(),u.getBottom()-s.getBottom()));var d=Math.abs((u.getCenterY()-s.getCenterY())/(u.getCenterX()-s.getCenterX()));u.getCenterY()===s.getCenterY()&&u.getCenterX()===s.getCenterX()&&(d=1);var v=d*l[0],p=l[1]/d;l[0]<p?p=l[0]:v=l[1],l[0]=-1*f[0]*(p/2+c),l[1]=-1*f[1]*(v/2+c)},o.decideDirectionsForOverlappingNodes=function(s,u,l){s.getCenterX()<u.getCenterX()?l[0]=-1:l[0]=1,s.getCenterY()<u.getCenterY()?l[1]=-1:l[1]=1},o.getIntersection2=function(s,u,l){var c=s.getCenterX(),f=s.getCenterY(),d=u.getCenterX(),v=u.getCenterY();if(s.intersects(u))return l[0]=c,l[1]=f,l[2]=d,l[3]=v,!0;var p=s.getX(),m=s.getY(),w=s.getRight(),b=s.getX(),y=s.getBottom(),_=s.getRight(),S=s.getWidthHalf(),A=s.getHeightHalf(),D=u.getX(),R=u.getY(),k=u.getRight(),j=u.getX(),F=u.getBottom(),z=u.getRight(),q=u.getWidthHalf(),$=u.getHeightHalf(),K=!1,oe=!1;if(c===d){if(f>v)return l[0]=c,l[1]=m,l[2]=d,l[3]=F,!1;if(f<v)return l[0]=c,l[1]=y,l[2]=d,l[3]=R,!1}else if(f===v){if(c>d)return l[0]=p,l[1]=f,l[2]=k,l[3]=v,!1;if(c<d)return l[0]=w,l[1]=f,l[2]=D,l[3]=v,!1}else{var J=s.height/s.width,re=u.height/u.width,ae=(v-f)/(d-c),ve=void 0,se=void 0,ce=void 0,pe=void 0,Pe=void 0,de=void 0;if(-J===ae?c>d?(l[0]=b,l[1]=y,K=!0):(l[0]=w,l[1]=m,K=!0):J===ae&&(c>d?(l[0]=p,l[1]=m,K=!0):(l[0]=_,l[1]=y,K=!0)),-re===ae?d>c?(l[2]=j,l[3]=F,oe=!0):(l[2]=k,l[3]=R,oe=!0):re===ae&&(d>c?(l[2]=D,l[3]=R,oe=!0):(l[2]=z,l[3]=F,oe=!0)),K&&oe)return!1;if(c>d?f>v?(ve=this.getCardinalDirection(J,ae,4),se=this.getCardinalDirection(re,ae,2)):(ve=this.getCardinalDirection(-J,ae,3),se=this.getCardinalDirection(-re,ae,1)):f>v?(ve=this.getCardinalDirection(-J,ae,1),se=this.getCardinalDirection(-re,ae,3)):(ve=this.getCardinalDirection(J,ae,2),se=this.getCardinalDirection(re,ae,4)),!K)switch(ve){case 1:pe=m,ce=c+-A/ae,l[0]=ce,l[1]=pe;break;case 2:ce=_,pe=f+S*ae,l[0]=ce,l[1]=pe;break;case 3:pe=y,ce=c+A/ae,l[0]=ce,l[1]=pe;break;case 4:ce=b,pe=f+-S*ae,l[0]=ce,l[1]=pe;break}if(!oe)switch(se){case 1:de=R,Pe=d+-$/ae,l[2]=Pe,l[3]=de;break;case 2:Pe=z,de=v+q*ae,l[2]=Pe,l[3]=de;break;case 3:de=F,Pe=d+$/ae,l[2]=Pe,l[3]=de;break;case 4:Pe=j,de=v+-q*ae,l[2]=Pe,l[3]=de;break}}return!1},o.getCardinalDirection=function(s,u,l){return s>u?l:1+l%4},o.getIntersection=function(s,u,l,c){if(c==null)return this.getIntersection2(s,u,l);var f=s.x,d=s.y,v=u.x,p=u.y,m=l.x,w=l.y,b=c.x,y=c.y,_=void 0,S=void 0,A=void 0,D=void 0,R=void 0,k=void 0,j=void 0,F=void 0,z=void 0;return A=p-d,R=f-v,j=v*d-f*p,D=y-w,k=m-b,F=b*w-m*y,z=A*k-D*R,z===0?null:(_=(R*F-k*j)/z,S=(D*j-A*F)/z,new a(_,S))},o.angleOfVector=function(s,u,l,c){var f=void 0;return s!==l?(f=Math.atan((c-u)/(l-s)),l<s?f+=Math.PI:c<u&&(f+=this.TWO_PI)):c<u?f=this.ONE_AND_HALF_PI:f=this.HALF_PI,f},o.doIntersect=function(s,u,l,c){var f=s.x,d=s.y,v=u.x,p=u.y,m=l.x,w=l.y,b=c.x,y=c.y,_=(v-f)*(y-w)-(b-m)*(p-d);if(_===0)return!1;var S=((y-w)*(b-f)+(m-b)*(y-d))/_,A=((d-p)*(b-f)+(v-f)*(y-d))/_;return 0<S&&S<1&&0<A&&A<1},o.HALF_PI=.5*Math.PI,o.ONE_AND_HALF_PI=1.5*Math.PI,o.TWO_PI=2*Math.PI,o.THREE_PI=3*Math.PI,t.exports=o},function(t,n,i){function a(){}a.sign=function(o){return o>0?1:o<0?-1:0},a.floor=function(o){return o<0?Math.ceil(o):Math.floor(o)},a.ceil=function(o){return o<0?Math.floor(o):Math.ceil(o)},t.exports=a},function(t,n,i){function a(){}a.MAX_VALUE=2147483647,a.MIN_VALUE=-2147483648,t.exports=a},function(t,n,i){var a=function(){function f(d,v){for(var p=0;p<v.length;p++){var m=v[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}return function(d,v,p){return v&&f(d.prototype,v),p&&f(d,p),d}}();function o(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}var s=function(d){return{value:d,next:null,prev:null}},u=function(d,v,p,m){return d!==null?d.next=v:m.head=v,p!==null?p.prev=v:m.tail=v,v.prev=d,v.next=p,m.length++,v},l=function(d,v){var p=d.prev,m=d.next;return p!==null?p.next=m:v.head=m,m!==null?m.prev=p:v.tail=p,d.prev=d.next=null,v.length--,d},c=function(){function f(d){var v=this;o(this,f),this.length=0,this.head=null,this.tail=null,d!=null&&d.forEach(function(p){return v.push(p)})}return a(f,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(v,p){return u(p.prev,s(v),p,this)}},{key:"insertAfter",value:function(v,p){return u(p,s(v),p.next,this)}},{key:"insertNodeBefore",value:function(v,p){return u(p.prev,v,p,this)}},{key:"insertNodeAfter",value:function(v,p){return u(p,v,p.next,this)}},{key:"push",value:function(v){return u(this.tail,s(v),null,this)}},{key:"unshift",value:function(v){return u(null,s(v),this.head,this)}},{key:"remove",value:function(v){return l(v,this)}},{key:"pop",value:function(){return l(this.tail,this).value}},{key:"popNode",value:function(){return l(this.tail,this)}},{key:"shift",value:function(){return l(this.head,this).value}},{key:"shiftNode",value:function(){return l(this.head,this)}},{key:"get_object_at",value:function(v){if(v<=this.length()){for(var p=1,m=this.head;p<v;)m=m.next,p++;return m.value}}},{key:"set_object_at",value:function(v,p){if(v<=this.length()){for(var m=1,w=this.head;m<v;)w=w.next,m++;w.value=p}}}]),f}();t.exports=c},function(t,n,i){function a(o,s,u){this.x=null,this.y=null,o==null&&s==null&&u==null?(this.x=0,this.y=0):typeof o=="number"&&typeof s=="number"&&u==null?(this.x=o,this.y=s):o.constructor.name=="Point"&&s==null&&u==null&&(u=o,this.x=u.x,this.y=u.y)}a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a.prototype.getLocation=function(){return new a(this.x,this.y)},a.prototype.setLocation=function(o,s,u){o.constructor.name=="Point"&&s==null&&u==null?(u=o,this.setLocation(u.x,u.y)):typeof o=="number"&&typeof s=="number"&&u==null&&(parseInt(o)==o&&parseInt(s)==s?this.move(o,s):(this.x=Math.floor(o+.5),this.y=Math.floor(s+.5)))},a.prototype.move=function(o,s){this.x=o,this.y=s},a.prototype.translate=function(o,s){this.x+=o,this.y+=s},a.prototype.equals=function(o){if(o.constructor.name=="Point"){var s=o;return this.x==s.x&&this.y==s.y}return this==o},a.prototype.toString=function(){return new a().constructor.name+"[x="+this.x+",y="+this.y+"]"},t.exports=a},function(t,n,i){function a(o,s,u,l){this.x=0,this.y=0,this.width=0,this.height=0,o!=null&&s!=null&&u!=null&&l!=null&&(this.x=o,this.y=s,this.width=u,this.height=l)}a.prototype.getX=function(){return this.x},a.prototype.setX=function(o){this.x=o},a.prototype.getY=function(){return this.y},a.prototype.setY=function(o){this.y=o},a.prototype.getWidth=function(){return this.width},a.prototype.setWidth=function(o){this.width=o},a.prototype.getHeight=function(){return this.height},a.prototype.setHeight=function(o){this.height=o},a.prototype.getRight=function(){return this.x+this.width},a.prototype.getBottom=function(){return this.y+this.height},a.prototype.intersects=function(o){return!(this.getRight()<o.x||this.getBottom()<o.y||o.getRight()<this.x||o.getBottom()<this.y)},a.prototype.getCenterX=function(){return this.x+this.width/2},a.prototype.getMinX=function(){return this.getX()},a.prototype.getMaxX=function(){return this.getX()+this.width},a.prototype.getCenterY=function(){return this.y+this.height/2},a.prototype.getMinY=function(){return this.getY()},a.prototype.getMaxY=function(){return this.getY()+this.height},a.prototype.getWidthHalf=function(){return this.width/2},a.prototype.getHeightHalf=function(){return this.height/2},t.exports=a},function(t,n,i){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s};function o(){}o.lastID=0,o.createID=function(s){return o.isPrimitive(s)?s:(s.uniqueID!=null||(s.uniqueID=o.getString(),o.lastID++),s.uniqueID)},o.getString=function(s){return s==null&&(s=o.lastID),"Object#"+s},o.isPrimitive=function(s){var u=typeof s>"u"?"undefined":a(s);return s==null||u!="object"&&u!="function"},t.exports=o},function(t,n,i){function a(m){if(Array.isArray(m)){for(var w=0,b=Array(m.length);w<m.length;w++)b[w]=m[w];return b}else return Array.from(m)}var o=i(0),s=i(6),u=i(3),l=i(1),c=i(5),f=i(4),d=i(17),v=i(27);function p(m){v.call(this),this.layoutQuality=o.QUALITY,this.createBendsAsNeeded=o.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=o.DEFAULT_INCREMENTAL,this.animationOnLayout=o.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=o.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=o.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=o.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new s(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,m!=null&&(this.isRemoteUse=m)}p.RANDOM_SEED=1,p.prototype=Object.create(v.prototype),p.prototype.getGraphManager=function(){return this.graphManager},p.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},p.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},p.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},p.prototype.newGraphManager=function(){var m=new s(this);return this.graphManager=m,m},p.prototype.newGraph=function(m){return new c(null,this.graphManager,m)},p.prototype.newNode=function(m){return new u(this.graphManager,m)},p.prototype.newEdge=function(m){return new l(null,null,m)},p.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},p.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var m;return this.checkLayoutSuccess()?m=!1:m=this.layout(),o.ANIMATE==="during"?!1:(m&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,m)},p.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},p.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var m=this.graphManager.getAllEdges(),w=0;w<m.length;w++)m[w];for(var b=this.graphManager.getRoot().getNodes(),w=0;w<b.length;w++)b[w];this.update(this.graphManager.getRoot())}},p.prototype.update=function(m){if(m==null)this.update2();else if(m instanceof u){var w=m;if(w.getChild()!=null)for(var b=w.getChild().getNodes(),y=0;y<b.length;y++)update(b[y]);if(w.vGraphObject!=null){var _=w.vGraphObject;_.update(w)}}else if(m instanceof l){var S=m;if(S.vGraphObject!=null){var A=S.vGraphObject;A.update(S)}}else if(m instanceof c){var D=m;if(D.vGraphObject!=null){var R=D.vGraphObject;R.update(D)}}},p.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=o.QUALITY,this.animationDuringLayout=o.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=o.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=o.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=o.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=o.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=o.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},p.prototype.transform=function(m){if(m==null)this.transform(new f(0,0));else{var w=new d,b=this.graphManager.getRoot().updateLeftTop();if(b!=null){w.setWorldOrgX(m.x),w.setWorldOrgY(m.y),w.setDeviceOrgX(b.x),w.setDeviceOrgY(b.y);for(var y=this.getAllNodes(),_,S=0;S<y.length;S++)_=y[S],_.transform(w)}}},p.prototype.positionNodesRandomly=function(m){if(m==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var w,b,y=m.getNodes(),_=0;_<y.length;_++)w=y[_],b=w.getChild(),b==null||b.getNodes().length==0?w.scatter():(this.positionNodesRandomly(b),w.updateBounds())},p.prototype.getFlatForest=function(){for(var m=[],w=!0,b=this.graphManager.getRoot().getNodes(),y=!0,_=0;_<b.length;_++)b[_].getChild()!=null&&(y=!1);if(!y)return m;var S=new Set,A=[],D=new Map,R=[];for(R=R.concat(b);R.length>0&&w;){for(A.push(R[0]);A.length>0&&w;){var k=A[0];A.splice(0,1),S.add(k);for(var j=k.getEdges(),_=0;_<j.length;_++){var F=j[_].getOtherEnd(k);if(D.get(k)!=F)if(!S.has(F))A.push(F),D.set(F,k);else{w=!1;break}}}if(!w)m=[];else{var z=[].concat(a(S));m.push(z);for(var _=0;_<z.length;_++){var q=z[_],$=R.indexOf(q);$>-1&&R.splice($,1)}S=new Set,D=new Map}}return m},p.prototype.createDummyNodesForBendpoints=function(m){for(var w=[],b=m.source,y=this.graphManager.calcLowestCommonAncestor(m.source,m.target),_=0;_<m.bendpoints.length;_++){var S=this.newNode(null);S.setRect(new Point(0,0),new Dimension(1,1)),y.add(S);var A=this.newEdge(null);this.graphManager.add(A,b,S),w.add(S),b=S}var A=this.newEdge(null);return this.graphManager.add(A,b,m.target),this.edgeToDummyNodes.set(m,w),m.isInterGraph()?this.graphManager.remove(m):y.remove(m),w},p.prototype.createBendpointsFromDummyNodes=function(){var m=[];m=m.concat(this.graphManager.getAllEdges()),m=[].concat(a(this.edgeToDummyNodes.keys())).concat(m);for(var w=0;w<m.length;w++){var b=m[w];if(b.bendpoints.length>0){for(var y=this.edgeToDummyNodes.get(b),_=0;_<y.length;_++){var S=y[_],A=new f(S.getCenterX(),S.getCenterY()),D=b.bendpoints.get(_);D.x=A.x,D.y=A.y,S.getOwner().remove(S)}this.graphManager.add(b,b.source,b.target)}}},p.transform=function(m,w,b,y){if(b!=null&&y!=null){var _=w;if(m<=50){var S=w/b;_-=(w-S)/50*(50-m)}else{var A=w*y;_+=(A-w)/50*(m-50)}return _}else{var D,R;return m<=50?(D=9*w/500,R=w/10):(D=9*w/50,R=-8*w),D*m+R}},p.findCenterOfTree=function(m){var w=[];w=w.concat(m);var b=[],y=new Map,_=!1,S=null;(w.length==1||w.length==2)&&(_=!0,S=w[0]);for(var A=0;A<w.length;A++){var D=w[A],R=D.getNeighborsList().size;y.set(D,D.getNeighborsList().size),R==1&&b.push(D)}var k=[];for(k=k.concat(b);!_;){var j=[];j=j.concat(k),k=[];for(var A=0;A<w.length;A++){var D=w[A],F=w.indexOf(D);F>=0&&w.splice(F,1);var z=D.getNeighborsList();z.forEach(function(K){if(b.indexOf(K)<0){var oe=y.get(K),J=oe-1;J==1&&k.push(K),y.set(K,J)}})}b=b.concat(k),(w.length==1||w.length==2)&&(_=!0,S=w[0])}return S},p.prototype.setGraphManager=function(m){this.graphManager=m},t.exports=p},function(t,n,i){function a(){}a.seed=1,a.x=0,a.nextDouble=function(){return a.x=Math.sin(a.seed++)*1e4,a.x-Math.floor(a.x)},t.exports=a},function(t,n,i){var a=i(4);function o(s,u){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}o.prototype.getWorldOrgX=function(){return this.lworldOrgX},o.prototype.setWorldOrgX=function(s){this.lworldOrgX=s},o.prototype.getWorldOrgY=function(){return this.lworldOrgY},o.prototype.setWorldOrgY=function(s){this.lworldOrgY=s},o.prototype.getWorldExtX=function(){return this.lworldExtX},o.prototype.setWorldExtX=function(s){this.lworldExtX=s},o.prototype.getWorldExtY=function(){return this.lworldExtY},o.prototype.setWorldExtY=function(s){this.lworldExtY=s},o.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},o.prototype.setDeviceOrgX=function(s){this.ldeviceOrgX=s},o.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},o.prototype.setDeviceOrgY=function(s){this.ldeviceOrgY=s},o.prototype.getDeviceExtX=function(){return this.ldeviceExtX},o.prototype.setDeviceExtX=function(s){this.ldeviceExtX=s},o.prototype.getDeviceExtY=function(){return this.ldeviceExtY},o.prototype.setDeviceExtY=function(s){this.ldeviceExtY=s},o.prototype.transformX=function(s){var u=0,l=this.lworldExtX;return l!=0&&(u=this.ldeviceOrgX+(s-this.lworldOrgX)*this.ldeviceExtX/l),u},o.prototype.transformY=function(s){var u=0,l=this.lworldExtY;return l!=0&&(u=this.ldeviceOrgY+(s-this.lworldOrgY)*this.ldeviceExtY/l),u},o.prototype.inverseTransformX=function(s){var u=0,l=this.ldeviceExtX;return l!=0&&(u=this.lworldOrgX+(s-this.ldeviceOrgX)*this.lworldExtX/l),u},o.prototype.inverseTransformY=function(s){var u=0,l=this.ldeviceExtY;return l!=0&&(u=this.lworldOrgY+(s-this.ldeviceOrgY)*this.lworldExtY/l),u},o.prototype.inverseTransformPoint=function(s){var u=new a(this.inverseTransformX(s.x),this.inverseTransformY(s.y));return u},t.exports=o},function(t,n,i){function a(v){if(Array.isArray(v)){for(var p=0,m=Array(v.length);p<v.length;p++)m[p]=v[p];return m}else return Array.from(v)}var o=i(15),s=i(7),u=i(0),l=i(8),c=i(9);function f(){o.call(this),this.useSmartIdealEdgeLengthCalculation=s.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=s.DEFAULT_EDGE_LENGTH,this.springConstant=s.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=s.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=s.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=s.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=s.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=s.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*s.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=s.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=s.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=s.MAX_ITERATIONS}f.prototype=Object.create(o.prototype);for(var d in o)f[d]=o[d];f.prototype.initParameters=function(){o.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=s.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},f.prototype.calcIdealEdgeLengths=function(){for(var v,p,m,w,b,y,_=this.getGraphManager().getAllEdges(),S=0;S<_.length;S++)v=_[S],v.idealLength=this.idealEdgeLength,v.isInterGraph&&(m=v.getSource(),w=v.getTarget(),b=v.getSourceInLca().getEstimatedSize(),y=v.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(v.idealLength+=b+y-2*u.SIMPLE_NODE_SIZE),p=v.getLca().getInclusionTreeDepth(),v.idealLength+=s.DEFAULT_EDGE_LENGTH*s.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(m.getInclusionTreeDepth()+w.getInclusionTreeDepth()-2*p))},f.prototype.initSpringEmbedder=function(){var v=this.getAllNodes().length;this.incremental?(v>s.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*s.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(v-s.ADAPTATION_LOWER_NODE_LIMIT)/(s.ADAPTATION_UPPER_NODE_LIMIT-s.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-s.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=s.MAX_NODE_DISPLACEMENT_INCREMENTAL):(v>s.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(s.COOLING_ADAPTATION_FACTOR,1-(v-s.ADAPTATION_LOWER_NODE_LIMIT)/(s.ADAPTATION_UPPER_NODE_LIMIT-s.ADAPTATION_LOWER_NODE_LIMIT)*(1-s.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=s.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},f.prototype.calcSpringForces=function(){for(var v=this.getAllEdges(),p,m=0;m<v.length;m++)p=v[m],this.calcSpringForce(p,p.idealLength)},f.prototype.calcRepulsionForces=function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,m,w,b,y,_=this.getAllNodes(),S;if(this.useFRGridVariant)for(this.totalIterations%s.GRID_CALCULATION_CHECK_PERIOD==1&&v&&this.updateGrid(),S=new Set,m=0;m<_.length;m++)b=_[m],this.calculateRepulsionForceOfANode(b,S,v,p),S.add(b);else for(m=0;m<_.length;m++)for(b=_[m],w=m+1;w<_.length;w++)y=_[w],b.getOwner()==y.getOwner()&&this.calcRepulsionForce(b,y)},f.prototype.calcGravitationalForces=function(){for(var v,p=this.getAllNodesToApplyGravitation(),m=0;m<p.length;m++)v=p[m],this.calcGravitationalForce(v)},f.prototype.moveNodes=function(){for(var v=this.getAllNodes(),p,m=0;m<v.length;m++)p=v[m],p.move()},f.prototype.calcSpringForce=function(v,p){var m=v.getSource(),w=v.getTarget(),b,y,_,S;if(this.uniformLeafNodeSizes&&m.getChild()==null&&w.getChild()==null)v.updateLengthSimple();else if(v.updateLength(),v.isOverlapingSourceAndTarget)return;b=v.getLength(),b!=0&&(y=this.springConstant*(b-p),_=y*(v.lengthX/b),S=y*(v.lengthY/b),m.springForceX+=_,m.springForceY+=S,w.springForceX-=_,w.springForceY-=S)},f.prototype.calcRepulsionForce=function(v,p){var m=v.getRect(),w=p.getRect(),b=new Array(2),y=new Array(4),_,S,A,D,R,k,j;if(m.intersects(w)){l.calcSeparationAmount(m,w,b,s.DEFAULT_EDGE_LENGTH/2),k=2*b[0],j=2*b[1];var F=v.noOfChildren*p.noOfChildren/(v.noOfChildren+p.noOfChildren);v.repulsionForceX-=F*k,v.repulsionForceY-=F*j,p.repulsionForceX+=F*k,p.repulsionForceY+=F*j}else this.uniformLeafNodeSizes&&v.getChild()==null&&p.getChild()==null?(_=w.getCenterX()-m.getCenterX(),S=w.getCenterY()-m.getCenterY()):(l.getIntersection(m,w,y),_=y[2]-y[0],S=y[3]-y[1]),Math.abs(_)<s.MIN_REPULSION_DIST&&(_=c.sign(_)*s.MIN_REPULSION_DIST),Math.abs(S)<s.MIN_REPULSION_DIST&&(S=c.sign(S)*s.MIN_REPULSION_DIST),A=_*_+S*S,D=Math.sqrt(A),R=this.repulsionConstant*v.noOfChildren*p.noOfChildren/A,k=R*_/D,j=R*S/D,v.repulsionForceX-=k,v.repulsionForceY-=j,p.repulsionForceX+=k,p.repulsionForceY+=j},f.prototype.calcGravitationalForce=function(v){var p,m,w,b,y,_,S,A;p=v.getOwner(),m=(p.getRight()+p.getLeft())/2,w=(p.getTop()+p.getBottom())/2,b=v.getCenterX()-m,y=v.getCenterY()-w,_=Math.abs(b)+v.getWidth()/2,S=Math.abs(y)+v.getHeight()/2,v.getOwner()==this.graphManager.getRoot()?(A=p.getEstimatedSize()*this.gravityRangeFactor,(_>A||S>A)&&(v.gravitationForceX=-this.gravityConstant*b,v.gravitationForceY=-this.gravityConstant*y)):(A=p.getEstimatedSize()*this.compoundGravityRangeFactor,(_>A||S>A)&&(v.gravitationForceX=-this.gravityConstant*b*this.compoundGravityConstant,v.gravitationForceY=-this.gravityConstant*y*this.compoundGravityConstant))},f.prototype.isConverged=function(){var v,p=!1;return this.totalIterations>this.maxIterations/3&&(p=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),v=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,v||p},f.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},f.prototype.calcNoOfChildrenForAllNodes=function(){for(var v,p=this.graphManager.getAllNodes(),m=0;m<p.length;m++)v=p[m],v.noOfChildren=v.getNoOfChildren()},f.prototype.calcGrid=function(v){var p=0,m=0;p=parseInt(Math.ceil((v.getRight()-v.getLeft())/this.repulsionRange)),m=parseInt(Math.ceil((v.getBottom()-v.getTop())/this.repulsionRange));for(var w=new Array(p),b=0;b<p;b++)w[b]=new Array(m);for(var b=0;b<p;b++)for(var y=0;y<m;y++)w[b][y]=new Array;return w},f.prototype.addNodeToGrid=function(v,p,m){var w=0,b=0,y=0,_=0;w=parseInt(Math.floor((v.getRect().x-p)/this.repulsionRange)),b=parseInt(Math.floor((v.getRect().width+v.getRect().x-p)/this.repulsionRange)),y=parseInt(Math.floor((v.getRect().y-m)/this.repulsionRange)),_=parseInt(Math.floor((v.getRect().height+v.getRect().y-m)/this.repulsionRange));for(var S=w;S<=b;S++)for(var A=y;A<=_;A++)this.grid[S][A].push(v),v.setGridCoordinates(w,b,y,_)},f.prototype.updateGrid=function(){var v,p,m=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),v=0;v<m.length;v++)p=m[v],this.addNodeToGrid(p,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},f.prototype.calculateRepulsionForceOfANode=function(v,p,m,w){if(this.totalIterations%s.GRID_CALCULATION_CHECK_PERIOD==1&&m||w){var b=new Set;v.surrounding=new Array;for(var y,_=this.grid,S=v.startX-1;S<v.finishX+2;S++)for(var A=v.startY-1;A<v.finishY+2;A++)if(!(S<0||A<0||S>=_.length||A>=_[0].length)){for(var D=0;D<_[S][A].length;D++)if(y=_[S][A][D],!(v.getOwner()!=y.getOwner()||v==y)&&!p.has(y)&&!b.has(y)){var R=Math.abs(v.getCenterX()-y.getCenterX())-(v.getWidth()/2+y.getWidth()/2),k=Math.abs(v.getCenterY()-y.getCenterY())-(v.getHeight()/2+y.getHeight()/2);R<=this.repulsionRange&&k<=this.repulsionRange&&b.add(y)}}v.surrounding=[].concat(a(b))}for(S=0;S<v.surrounding.length;S++)this.calcRepulsionForce(v,v.surrounding[S])},f.prototype.calcRepulsionRange=function(){return 0},t.exports=f},function(t,n,i){var a=i(1),o=i(7);function s(l,c,f){a.call(this,l,c,f),this.idealLength=o.DEFAULT_EDGE_LENGTH}s.prototype=Object.create(a.prototype);for(var u in a)s[u]=a[u];t.exports=s},function(t,n,i){var a=i(3);function o(u,l,c,f){a.call(this,u,l,c,f),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}o.prototype=Object.create(a.prototype);for(var s in a)o[s]=a[s];o.prototype.setGridCoordinates=function(u,l,c,f){this.startX=u,this.finishX=l,this.startY=c,this.finishY=f},t.exports=o},function(t,n,i){function a(o,s){this.width=0,this.height=0,o!==null&&s!==null&&(this.height=s,this.width=o)}a.prototype.getWidth=function(){return this.width},a.prototype.setWidth=function(o){this.width=o},a.prototype.getHeight=function(){return this.height},a.prototype.setHeight=function(o){this.height=o},t.exports=a},function(t,n,i){var a=i(14);function o(){this.map={},this.keys=[]}o.prototype.put=function(s,u){var l=a.createID(s);this.contains(l)||(this.map[l]=u,this.keys.push(s))},o.prototype.contains=function(s){return a.createID(s),this.map[s]!=null},o.prototype.get=function(s){var u=a.createID(s);return this.map[u]},o.prototype.keySet=function(){return this.keys},t.exports=o},function(t,n,i){var a=i(14);function o(){this.set={}}o.prototype.add=function(s){var u=a.createID(s);this.contains(u)||(this.set[u]=s)},o.prototype.remove=function(s){delete this.set[a.createID(s)]},o.prototype.clear=function(){this.set={}},o.prototype.contains=function(s){return this.set[a.createID(s)]==s},o.prototype.isEmpty=function(){return this.size()===0},o.prototype.size=function(){return Object.keys(this.set).length},o.prototype.addAllTo=function(s){for(var u=Object.keys(this.set),l=u.length,c=0;c<l;c++)s.push(this.set[u[c]])},o.prototype.size=function(){return Object.keys(this.set).length},o.prototype.addAll=function(s){for(var u=s.length,l=0;l<u;l++){var c=s[l];this.add(c)}},t.exports=o},function(t,n,i){var a=function(){function l(c,f){for(var d=0;d<f.length;d++){var v=f[d];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(c,v.key,v)}}return function(c,f,d){return f&&l(c.prototype,f),d&&l(c,d),c}}();function o(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var s=i(11),u=function(){function l(c,f){o(this,l),(f!==null||f!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var d=void 0;c instanceof s?d=c.size():d=c.length,this._quicksort(c,0,d-1)}return a(l,[{key:"_quicksort",value:function(f,d,v){if(d<v){var p=this._partition(f,d,v);this._quicksort(f,d,p),this._quicksort(f,p+1,v)}}},{key:"_partition",value:function(f,d,v){for(var p=this._get(f,d),m=d,w=v;;){for(;this.compareFunction(p,this._get(f,w));)w--;for(;this.compareFunction(this._get(f,m),p);)m++;if(m<w)this._swap(f,m,w),m++,w--;else return w}}},{key:"_get",value:function(f,d){return f instanceof s?f.get_object_at(d):f[d]}},{key:"_set",value:function(f,d,v){f instanceof s?f.set_object_at(d,v):f[d]=v}},{key:"_swap",value:function(f,d,v){var p=this._get(f,d);this._set(f,d,this._get(f,v)),this._set(f,v,p)}},{key:"_defaultCompareFunction",value:function(f,d){return d>f}}]),l}();t.exports=u},function(t,n,i){var a=function(){function u(l,c){for(var f=0;f<c.length;f++){var d=c[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}return function(l,c,f){return c&&u(l.prototype,c),f&&u(l,f),l}}();function o(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}var s=function(){function u(l,c){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,v=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;o(this,u),this.sequence1=l,this.sequence2=c,this.match_score=f,this.mismatch_penalty=d,this.gap_penalty=v,this.iMax=l.length+1,this.jMax=c.length+1,this.grid=new Array(this.iMax);for(var p=0;p<this.iMax;p++){this.grid[p]=new Array(this.jMax);for(var m=0;m<this.jMax;m++)this.grid[p][m]=0}this.tracebackGrid=new Array(this.iMax);for(var w=0;w<this.iMax;w++){this.tracebackGrid[w]=new Array(this.jMax);for(var b=0;b<this.jMax;b++)this.tracebackGrid[w][b]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return a(u,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var c=1;c<this.jMax;c++)this.grid[0][c]=this.grid[0][c-1]+this.gap_penalty,this.tracebackGrid[0][c]=[!1,!1,!0];for(var f=1;f<this.iMax;f++)this.grid[f][0]=this.grid[f-1][0]+this.gap_penalty,this.tracebackGrid[f][0]=[!1,!0,!1];for(var d=1;d<this.iMax;d++)for(var v=1;v<this.jMax;v++){var p=void 0;this.sequence1[d-1]===this.sequence2[v-1]?p=this.grid[d-1][v-1]+this.match_score:p=this.grid[d-1][v-1]+this.mismatch_penalty;var m=this.grid[d-1][v]+this.gap_penalty,w=this.grid[d][v-1]+this.gap_penalty,b=[p,m,w],y=this.arrayAllMaxIndexes(b);this.grid[d][v]=b[y[0]],this.tracebackGrid[d][v]=[y.includes(0),y.includes(1),y.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var c=[];for(c.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});c[0];){var f=c[0],d=this.tracebackGrid[f.pos[0]][f.pos[1]];d[0]&&c.push({pos:[f.pos[0]-1,f.pos[1]-1],seq1:this.sequence1[f.pos[0]-1]+f.seq1,seq2:this.sequence2[f.pos[1]-1]+f.seq2}),d[1]&&c.push({pos:[f.pos[0]-1,f.pos[1]],seq1:this.sequence1[f.pos[0]-1]+f.seq1,seq2:"-"+f.seq2}),d[2]&&c.push({pos:[f.pos[0],f.pos[1]-1],seq1:"-"+f.seq1,seq2:this.sequence2[f.pos[1]-1]+f.seq2}),f.pos[0]===0&&f.pos[1]===0&&this.alignments.push({sequence1:f.seq1,sequence2:f.seq2}),c.shift()}return this.alignments}},{key:"getAllIndexes",value:function(c,f){for(var d=[],v=-1;(v=c.indexOf(f,v+1))!==-1;)d.push(v);return d}},{key:"arrayAllMaxIndexes",value:function(c){return this.getAllIndexes(c,Math.max.apply(null,c))}}]),u}();t.exports=s},function(t,n,i){var a=function(){};a.FDLayout=i(18),a.FDLayoutConstants=i(7),a.FDLayoutEdge=i(19),a.FDLayoutNode=i(20),a.DimensionD=i(21),a.HashMap=i(22),a.HashSet=i(23),a.IGeometry=i(8),a.IMath=i(9),a.Integer=i(10),a.Point=i(12),a.PointD=i(4),a.RandomSeed=i(16),a.RectangleD=i(13),a.Transform=i(17),a.UniqueIDGeneretor=i(14),a.Quicksort=i(24),a.LinkedList=i(11),a.LGraphObject=i(2),a.LGraph=i(5),a.LEdge=i(1),a.LGraphManager=i(6),a.LNode=i(3),a.Layout=i(15),a.LayoutConstants=i(0),a.NeedlemanWunsch=i(25),t.exports=a},function(t,n,i){function a(){this.listeners=[]}var o=a.prototype;o.addListener=function(s,u){this.listeners.push({event:s,callback:u})},o.removeListener=function(s,u){for(var l=this.listeners.length;l>=0;l--){var c=this.listeners[l];c.event===s&&c.callback===u&&this.listeners.splice(l,1)}},o.emit=function(s,u){for(var l=0;l<this.listeners.length;l++){var c=this.listeners[l];s===c.event&&c.callback(u)}},t.exports=a}])})}(O_)),O_.exports}var v9=S_.exports,cD;function p9(){return cD||(cD=1,function(r,e){(function(n,i){r.exports=i(d9())})(v9,function(t){return function(n){var i={};function a(o){if(i[o])return i[o].exports;var s=i[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=n,a.c=i,a.i=function(o){return o},a.d=function(o,s,u){a.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:u})},a.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(s,"a",s),s},a.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},a.p="",a(a.s=7)}([function(n,i){n.exports=t},function(n,i,a){var o=a(0).FDLayoutConstants;function s(){}for(var u in o)s[u]=o[u];s.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,s.DEFAULT_RADIAL_SEPARATION=o.DEFAULT_EDGE_LENGTH,s.DEFAULT_COMPONENT_SEPERATION=60,s.TILE=!0,s.TILING_PADDING_VERTICAL=10,s.TILING_PADDING_HORIZONTAL=10,s.TREE_REDUCTION_ON_INCREMENTAL=!1,n.exports=s},function(n,i,a){var o=a(0).FDLayoutEdge;function s(l,c,f){o.call(this,l,c,f)}s.prototype=Object.create(o.prototype);for(var u in o)s[u]=o[u];n.exports=s},function(n,i,a){var o=a(0).LGraph;function s(l,c,f){o.call(this,l,c,f)}s.prototype=Object.create(o.prototype);for(var u in o)s[u]=o[u];n.exports=s},function(n,i,a){var o=a(0).LGraphManager;function s(l){o.call(this,l)}s.prototype=Object.create(o.prototype);for(var u in o)s[u]=o[u];n.exports=s},function(n,i,a){var o=a(0).FDLayoutNode,s=a(0).IMath;function u(c,f,d,v){o.call(this,c,f,d,v)}u.prototype=Object.create(o.prototype);for(var l in o)u[l]=o[l];u.prototype.move=function(){var c=this.graphManager.getLayout();this.displacementX=c.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=c.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>c.coolingFactor*c.maxNodeDisplacement&&(this.displacementX=c.coolingFactor*c.maxNodeDisplacement*s.sign(this.displacementX)),Math.abs(this.displacementY)>c.coolingFactor*c.maxNodeDisplacement&&(this.displacementY=c.coolingFactor*c.maxNodeDisplacement*s.sign(this.displacementY)),this.child==null?this.moveBy(this.displacementX,this.displacementY):this.child.getNodes().length==0?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),c.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},u.prototype.propogateDisplacementToChildren=function(c,f){for(var d=this.getChild().getNodes(),v,p=0;p<d.length;p++)v=d[p],v.getChild()==null?(v.moveBy(c,f),v.displacementX+=c,v.displacementY+=f):v.propogateDisplacementToChildren(c,f)},u.prototype.setPred1=function(c){this.pred1=c},u.prototype.getPred1=function(){return pred1},u.prototype.getPred2=function(){return pred2},u.prototype.setNext=function(c){this.next=c},u.prototype.getNext=function(){return next},u.prototype.setProcessed=function(c){this.processed=c},u.prototype.isProcessed=function(){return processed},n.exports=u},function(n,i,a){var o=a(0).FDLayout,s=a(4),u=a(3),l=a(5),c=a(2),f=a(1),d=a(0).FDLayoutConstants,v=a(0).LayoutConstants,p=a(0).Point,m=a(0).PointD,w=a(0).Layout,b=a(0).Integer,y=a(0).IGeometry,_=a(0).LGraph,S=a(0).Transform;function A(){o.call(this),this.toBeTiled={}}A.prototype=Object.create(o.prototype);for(var D in o)A[D]=o[D];A.prototype.newGraphManager=function(){var R=new s(this);return this.graphManager=R,R},A.prototype.newGraph=function(R){return new u(null,this.graphManager,R)},A.prototype.newNode=function(R){return new l(this.graphManager,R)},A.prototype.newEdge=function(R){return new c(null,null,R)},A.prototype.initParameters=function(){o.prototype.initParameters.call(this,arguments),this.isSubLayout||(f.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=f.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=f.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=d.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=d.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=d.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=d.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=d.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=d.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/d.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=d.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1)},A.prototype.layout=function(){var R=v.DEFAULT_CREATE_BENDS_AS_NEEDED;return R&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},A.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(f.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var k=new Set(this.getAllNodes()),j=this.nodesWithGravity.filter(function(q){return k.has(q)});this.graphManager.setAllNodesToApplyGravitation(j)}}else{var R=this.getFlatForest();if(R.length>0)this.positionNodesRadially(R);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var k=new Set(this.getAllNodes()),j=this.nodesWithGravity.filter(function(F){return k.has(F)});this.graphManager.setAllNodesToApplyGravitation(j),this.positionNodesRandomly()}}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},A.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%d.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var R=new Set(this.getAllNodes()),k=this.nodesWithGravity.filter(function(z){return R.has(z)});this.graphManager.setAllNodesToApplyGravitation(k),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=d.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=d.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var j=!this.isTreeGrowing&&!this.isGrowthFinished,F=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(j,F),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},A.prototype.getPositionsData=function(){for(var R=this.graphManager.getAllNodes(),k={},j=0;j<R.length;j++){var F=R[j].rect,z=R[j].id;k[z]={id:z,x:F.getCenterX(),y:F.getCenterY(),w:F.width,h:F.height}}return k},A.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var R=!1;if(d.ANIMATE==="during")this.emit("layoutstarted");else{for(;!R;)R=this.tick();this.graphManager.updateBounds()}},A.prototype.calculateNodesToApplyGravitationTo=function(){var R=[],k,j=this.graphManager.getGraphs(),F=j.length,z;for(z=0;z<F;z++)k=j[z],k.updateConnected(),k.isConnected||(R=R.concat(k.getNodes()));return R},A.prototype.createBendpoints=function(){var R=[];R=R.concat(this.graphManager.getAllEdges());var k=new Set,j;for(j=0;j<R.length;j++){var F=R[j];if(!k.has(F)){var z=F.getSource(),q=F.getTarget();if(z==q)F.getBendpoints().push(new m),F.getBendpoints().push(new m),this.createDummyNodesForBendpoints(F),k.add(F);else{var $=[];if($=$.concat(z.getEdgeListToNode(q)),$=$.concat(q.getEdgeListToNode(z)),!k.has($[0])){if($.length>1){var K;for(K=0;K<$.length;K++){var oe=$[K];oe.getBendpoints().push(new m),this.createDummyNodesForBendpoints(oe)}}$.forEach(function(J){k.add(J)})}}}if(k.size==R.length)break}},A.prototype.positionNodesRadially=function(R){for(var k=new p(0,0),j=Math.ceil(Math.sqrt(R.length)),F=0,z=0,q=0,$=new m(0,0),K=0;K<R.length;K++){K%j==0&&(q=0,z=F,K!=0&&(z+=f.DEFAULT_COMPONENT_SEPERATION),F=0);var oe=R[K],J=w.findCenterOfTree(oe);k.x=q,k.y=z,$=A.radialLayout(oe,J,k),$.y>F&&(F=Math.floor($.y)),q=Math.floor($.x+f.DEFAULT_COMPONENT_SEPERATION)}this.transform(new m(v.WORLD_CENTER_X-$.x/2,v.WORLD_CENTER_Y-$.y/2))},A.radialLayout=function(R,k,j){var F=Math.max(this.maxDiagonalInTree(R),f.DEFAULT_RADIAL_SEPARATION);A.branchRadialLayout(k,null,0,359,0,F);var z=_.calculateBounds(R),q=new S;q.setDeviceOrgX(z.getMinX()),q.setDeviceOrgY(z.getMinY()),q.setWorldOrgX(j.x),q.setWorldOrgY(j.y);for(var $=0;$<R.length;$++){var K=R[$];K.transform(q)}var oe=new m(z.getMaxX(),z.getMaxY());return q.inverseTransformPoint(oe)},A.branchRadialLayout=function(R,k,j,F,z,q){var $=(F-j+1)/2;$<0&&($+=180);var K=($+j)%360,oe=K*y.TWO_PI/360,J=z*Math.cos(oe),re=z*Math.sin(oe);R.setCenter(J,re);var ae=[];ae=ae.concat(R.getEdges());var ve=ae.length;k!=null&&ve--;for(var se=0,ce=ae.length,pe,Pe=R.getEdgesBetween(k);Pe.length>1;){var de=Pe[0];Pe.splice(0,1);var ge=ae.indexOf(de);ge>=0&&ae.splice(ge,1),ce--,ve--}k!=null?pe=(ae.indexOf(Pe[0])+1)%ce:pe=0;for(var Ce=Math.abs(F-j)/ve,Ne=pe;se!=ve;Ne=++Ne%ce){var De=ae[Ne].getOtherEnd(R);if(De!=k){var ke=(j+se*Ce)%360,_e=(ke+Ce)%360;A.branchRadialLayout(De,R,ke,_e,z+q,q),se++}}},A.maxDiagonalInTree=function(R){for(var k=b.MIN_VALUE,j=0;j<R.length;j++){var F=R[j],z=F.getDiagonal();z>k&&(k=z)}return k},A.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},A.prototype.groupZeroDegreeMembers=function(){var R=this,k={};this.memberGroups={},this.idToDummyNode={};for(var j=[],F=this.graphManager.getAllNodes(),z=0;z<F.length;z++){var q=F[z],$=q.getParent();this.getNodeDegreeWithChildren(q)===0&&($.id==null||!this.getToBeTiled($))&&j.push(q)}for(var z=0;z<j.length;z++){var q=j[z],K=q.getParent().id;typeof k[K]>"u"&&(k[K]=[]),k[K]=k[K].concat(q)}Object.keys(k).forEach(function(oe){if(k[oe].length>1){var J="DummyCompound_"+oe;R.memberGroups[J]=k[oe];var re=k[oe][0].getParent(),ae=new l(R.graphManager);ae.id=J,ae.paddingLeft=re.paddingLeft||0,ae.paddingRight=re.paddingRight||0,ae.paddingBottom=re.paddingBottom||0,ae.paddingTop=re.paddingTop||0,R.idToDummyNode[J]=ae;var ve=R.getGraphManager().add(R.newGraph(),ae),se=re.getChild();se.add(ae);for(var ce=0;ce<k[oe].length;ce++){var pe=k[oe][ce];se.remove(pe),ve.add(pe)}}})},A.prototype.clearCompounds=function(){var R={},k={};this.performDFSOnCompounds();for(var j=0;j<this.compoundOrder.length;j++)k[this.compoundOrder[j].id]=this.compoundOrder[j],R[this.compoundOrder[j].id]=[].concat(this.compoundOrder[j].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[j].getChild()),this.compoundOrder[j].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(R,k)},A.prototype.clearZeroDegreeMembers=function(){var R=this,k=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(j){var F=R.idToDummyNode[j];k[j]=R.tileNodes(R.memberGroups[j],F.paddingLeft+F.paddingRight),F.rect.width=k[j].width,F.rect.height=k[j].height})},A.prototype.repopulateCompounds=function(){for(var R=this.compoundOrder.length-1;R>=0;R--){var k=this.compoundOrder[R],j=k.id,F=k.paddingLeft,z=k.paddingTop;this.adjustLocations(this.tiledMemberPack[j],k.rect.x,k.rect.y,F,z)}},A.prototype.repopulateZeroDegreeMembers=function(){var R=this,k=this.tiledZeroDegreePack;Object.keys(k).forEach(function(j){var F=R.idToDummyNode[j],z=F.paddingLeft,q=F.paddingTop;R.adjustLocations(k[j],F.rect.x,F.rect.y,z,q)})},A.prototype.getToBeTiled=function(R){var k=R.id;if(this.toBeTiled[k]!=null)return this.toBeTiled[k];var j=R.getChild();if(j==null)return this.toBeTiled[k]=!1,!1;for(var F=j.getNodes(),z=0;z<F.length;z++){var q=F[z];if(this.getNodeDegree(q)>0)return this.toBeTiled[k]=!1,!1;if(q.getChild()==null){this.toBeTiled[q.id]=!1;continue}if(!this.getToBeTiled(q))return this.toBeTiled[k]=!1,!1}return this.toBeTiled[k]=!0,!0},A.prototype.getNodeDegree=function(R){R.id;for(var k=R.getEdges(),j=0,F=0;F<k.length;F++){var z=k[F];z.getSource().id!==z.getTarget().id&&(j=j+1)}return j},A.prototype.getNodeDegreeWithChildren=function(R){var k=this.getNodeDegree(R);if(R.getChild()==null)return k;for(var j=R.getChild().getNodes(),F=0;F<j.length;F++){var z=j[F];k+=this.getNodeDegreeWithChildren(z)}return k},A.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},A.prototype.fillCompexOrderByDFS=function(R){for(var k=0;k<R.length;k++){var j=R[k];j.getChild()!=null&&this.fillCompexOrderByDFS(j.getChild().getNodes()),this.getToBeTiled(j)&&this.compoundOrder.push(j)}},A.prototype.adjustLocations=function(R,k,j,F,z){k+=F,j+=z;for(var q=k,$=0;$<R.rows.length;$++){var K=R.rows[$];k=q;for(var oe=0,J=0;J<K.length;J++){var re=K[J];re.rect.x=k,re.rect.y=j,k+=re.rect.width+R.horizontalPadding,re.rect.height>oe&&(oe=re.rect.height)}j+=oe+R.verticalPadding}},A.prototype.tileCompoundMembers=function(R,k){var j=this;this.tiledMemberPack=[],Object.keys(R).forEach(function(F){var z=k[F];j.tiledMemberPack[F]=j.tileNodes(R[F],z.paddingLeft+z.paddingRight),z.rect.width=j.tiledMemberPack[F].width,z.rect.height=j.tiledMemberPack[F].height})},A.prototype.tileNodes=function(R,k){var j=f.TILING_PADDING_VERTICAL,F=f.TILING_PADDING_HORIZONTAL,z={rows:[],rowWidth:[],rowHeight:[],width:0,height:k,verticalPadding:j,horizontalPadding:F};R.sort(function(K,oe){return K.rect.width*K.rect.height>oe.rect.width*oe.rect.height?-1:K.rect.width*K.rect.height<oe.rect.width*oe.rect.height?1:0});for(var q=0;q<R.length;q++){var $=R[q];z.rows.length==0?this.insertNodeToRow(z,$,0,k):this.canAddHorizontal(z,$.rect.width,$.rect.height)?this.insertNodeToRow(z,$,this.getShortestRowIndex(z),k):this.insertNodeToRow(z,$,z.rows.length,k),this.shiftToLastRow(z)}return z},A.prototype.insertNodeToRow=function(R,k,j,F){var z=F;if(j==R.rows.length){var q=[];R.rows.push(q),R.rowWidth.push(z),R.rowHeight.push(0)}var $=R.rowWidth[j]+k.rect.width;R.rows[j].length>0&&($+=R.horizontalPadding),R.rowWidth[j]=$,R.width<$&&(R.width=$);var K=k.rect.height;j>0&&(K+=R.verticalPadding);var oe=0;K>R.rowHeight[j]&&(oe=R.rowHeight[j],R.rowHeight[j]=K,oe=R.rowHeight[j]-oe),R.height+=oe,R.rows[j].push(k)},A.prototype.getShortestRowIndex=function(R){for(var k=-1,j=Number.MAX_VALUE,F=0;F<R.rows.length;F++)R.rowWidth[F]<j&&(k=F,j=R.rowWidth[F]);return k},A.prototype.getLongestRowIndex=function(R){for(var k=-1,j=Number.MIN_VALUE,F=0;F<R.rows.length;F++)R.rowWidth[F]>j&&(k=F,j=R.rowWidth[F]);return k},A.prototype.canAddHorizontal=function(R,k,j){var F=this.getShortestRowIndex(R);if(F<0)return!0;var z=R.rowWidth[F];if(z+R.horizontalPadding+k<=R.width)return!0;var q=0;R.rowHeight[F]<j&&F>0&&(q=j+R.verticalPadding-R.rowHeight[F]);var $;R.width-z>=k+R.horizontalPadding?$=(R.height+q)/(z+k+R.horizontalPadding):$=(R.height+q)/R.width,q=j+R.verticalPadding;var K;return R.width<k?K=(R.height+q)/k:K=(R.height+q)/R.width,K<1&&(K=1/K),$<1&&($=1/$),$<K},A.prototype.shiftToLastRow=function(R){var k=this.getLongestRowIndex(R),j=R.rowWidth.length-1,F=R.rows[k],z=F[F.length-1],q=z.width+R.horizontalPadding;if(R.width-R.rowWidth[j]>q&&k!=j){F.splice(-1,1),R.rows[j].push(z),R.rowWidth[k]=R.rowWidth[k]-q,R.rowWidth[j]=R.rowWidth[j]+q,R.width=R.rowWidth[instance.getLongestRowIndex(R)];for(var $=Number.MIN_VALUE,K=0;K<F.length;K++)F[K].height>$&&($=F[K].height);k>0&&($+=R.verticalPadding);var oe=R.rowHeight[k]+R.rowHeight[j];R.rowHeight[k]=$,R.rowHeight[j]<z.height+R.verticalPadding&&(R.rowHeight[j]=z.height+R.verticalPadding);var J=R.rowHeight[k]+R.rowHeight[j];R.height+=J-oe,this.shiftToLastRow(R)}},A.prototype.tilingPreLayout=function(){f.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},A.prototype.tilingPostLayout=function(){f.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},A.prototype.reduceTrees=function(){for(var R=[],k=!0,j;k;){var F=this.graphManager.getAllNodes(),z=[];k=!1;for(var q=0;q<F.length;q++)j=F[q],j.getEdges().length==1&&!j.getEdges()[0].isInterGraph&&j.getChild()==null&&(z.push([j,j.getEdges()[0],j.getOwner()]),k=!0);if(k==!0){for(var $=[],K=0;K<z.length;K++)z[K][0].getEdges().length==1&&($.push(z[K]),z[K][0].getOwner().remove(z[K][0]));R.push($),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=R},A.prototype.growTree=function(R){for(var k=R.length,j=R[k-1],F,z=0;z<j.length;z++)F=j[z],this.findPlaceforPrunedNode(F),F[2].add(F[0]),F[2].add(F[1],F[1].source,F[1].target);R.splice(R.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},A.prototype.findPlaceforPrunedNode=function(R){var k,j,F=R[0];F==R[1].source?j=R[1].target:j=R[1].source;var z=j.startX,q=j.finishX,$=j.startY,K=j.finishY,oe=0,J=0,re=0,ae=0,ve=[oe,re,J,ae];if($>0)for(var se=z;se<=q;se++)ve[0]+=this.grid[se][$-1].length+this.grid[se][$].length-1;if(q<this.grid.length-1)for(var se=$;se<=K;se++)ve[1]+=this.grid[q+1][se].length+this.grid[q][se].length-1;if(K<this.grid[0].length-1)for(var se=z;se<=q;se++)ve[2]+=this.grid[se][K+1].length+this.grid[se][K].length-1;if(z>0)for(var se=$;se<=K;se++)ve[3]+=this.grid[z-1][se].length+this.grid[z][se].length-1;for(var ce=b.MAX_VALUE,pe,Pe,de=0;de<ve.length;de++)ve[de]<ce?(ce=ve[de],pe=1,Pe=de):ve[de]==ce&&pe++;if(pe==3&&ce==0)ve[0]==0&&ve[1]==0&&ve[2]==0?k=1:ve[0]==0&&ve[1]==0&&ve[3]==0?k=0:ve[0]==0&&ve[2]==0&&ve[3]==0?k=3:ve[1]==0&&ve[2]==0&&ve[3]==0&&(k=2);else if(pe==2&&ce==0){var ge=Math.floor(Math.random()*2);ve[0]==0&&ve[1]==0?ge==0?k=0:k=1:ve[0]==0&&ve[2]==0?ge==0?k=0:k=2:ve[0]==0&&ve[3]==0?ge==0?k=0:k=3:ve[1]==0&&ve[2]==0?ge==0?k=1:k=2:ve[1]==0&&ve[3]==0?ge==0?k=1:k=3:ge==0?k=2:k=3}else if(pe==4&&ce==0){var ge=Math.floor(Math.random()*4);k=ge}else k=Pe;k==0?F.setCenter(j.getCenterX(),j.getCenterY()-j.getHeight()/2-d.DEFAULT_EDGE_LENGTH-F.getHeight()/2):k==1?F.setCenter(j.getCenterX()+j.getWidth()/2+d.DEFAULT_EDGE_LENGTH+F.getWidth()/2,j.getCenterY()):k==2?F.setCenter(j.getCenterX(),j.getCenterY()+j.getHeight()/2+d.DEFAULT_EDGE_LENGTH+F.getHeight()/2):F.setCenter(j.getCenterX()-j.getWidth()/2-d.DEFAULT_EDGE_LENGTH-F.getWidth()/2,j.getCenterY())},n.exports=A},function(n,i,a){var o={};o.layoutBase=a(0),o.CoSEConstants=a(1),o.CoSEEdge=a(2),o.CoSEGraph=a(3),o.CoSEGraphManager=a(4),o.CoSELayout=a(6),o.CoSENode=a(5),n.exports=o}])})}(S_)),S_.exports}var g9=x_.exports,fD;function y9(){return fD||(fD=1,function(r,e){(function(n,i){r.exports=i(p9())})(g9,function(t){return function(n){var i={};function a(o){if(i[o])return i[o].exports;var s=i[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=n,a.c=i,a.i=function(o){return o},a.d=function(o,s,u){a.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:u})},a.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(s,"a",s),s},a.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},a.p="",a(a.s=1)}([function(n,i){n.exports=t},function(n,i,a){var o=a(0).layoutBase.LayoutConstants,s=a(0).layoutBase.FDLayoutConstants,u=a(0).CoSEConstants,l=a(0).CoSELayout,c=a(0).CoSENode,f=a(0).layoutBase.PointD,d=a(0).layoutBase.DimensionD,v={ready:function(){},stop:function(){},quality:"default",nodeDimensionsIncludeLabels:!1,refresh:30,fit:!0,padding:10,randomize:!0,nodeRepulsion:4500,idealEdgeLength:50,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,animate:"end",animationDuration:500,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.5};function p(y,_){var S={};for(var A in y)S[A]=y[A];for(var A in _)S[A]=_[A];return S}function m(y){this.options=p(v,y),w(this.options)}var w=function(_){_.nodeRepulsion!=null&&(u.DEFAULT_REPULSION_STRENGTH=s.DEFAULT_REPULSION_STRENGTH=_.nodeRepulsion),_.idealEdgeLength!=null&&(u.DEFAULT_EDGE_LENGTH=s.DEFAULT_EDGE_LENGTH=_.idealEdgeLength),_.edgeElasticity!=null&&(u.DEFAULT_SPRING_STRENGTH=s.DEFAULT_SPRING_STRENGTH=_.edgeElasticity),_.nestingFactor!=null&&(u.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=s.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=_.nestingFactor),_.gravity!=null&&(u.DEFAULT_GRAVITY_STRENGTH=s.DEFAULT_GRAVITY_STRENGTH=_.gravity),_.numIter!=null&&(u.MAX_ITERATIONS=s.MAX_ITERATIONS=_.numIter),_.gravityRange!=null&&(u.DEFAULT_GRAVITY_RANGE_FACTOR=s.DEFAULT_GRAVITY_RANGE_FACTOR=_.gravityRange),_.gravityCompound!=null&&(u.DEFAULT_COMPOUND_GRAVITY_STRENGTH=s.DEFAULT_COMPOUND_GRAVITY_STRENGTH=_.gravityCompound),_.gravityRangeCompound!=null&&(u.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=s.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=_.gravityRangeCompound),_.initialEnergyOnIncremental!=null&&(u.DEFAULT_COOLING_FACTOR_INCREMENTAL=s.DEFAULT_COOLING_FACTOR_INCREMENTAL=_.initialEnergyOnIncremental),_.quality=="draft"?o.QUALITY=0:_.quality=="proof"?o.QUALITY=2:o.QUALITY=1,u.NODE_DIMENSIONS_INCLUDE_LABELS=s.NODE_DIMENSIONS_INCLUDE_LABELS=o.NODE_DIMENSIONS_INCLUDE_LABELS=_.nodeDimensionsIncludeLabels,u.DEFAULT_INCREMENTAL=s.DEFAULT_INCREMENTAL=o.DEFAULT_INCREMENTAL=!_.randomize,u.ANIMATE=s.ANIMATE=o.ANIMATE=_.animate,u.TILE=_.tile,u.TILING_PADDING_VERTICAL=typeof _.tilingPaddingVertical=="function"?_.tilingPaddingVertical.call():_.tilingPaddingVertical,u.TILING_PADDING_HORIZONTAL=typeof _.tilingPaddingHorizontal=="function"?_.tilingPaddingHorizontal.call():_.tilingPaddingHorizontal};m.prototype.run=function(){var y,_,S=this.options;this.idToLNode={};var A=this.layout=new l,D=this;D.stopped=!1,this.cy=this.options.cy,this.cy.trigger({type:"layoutstart",layout:this});var R=A.newGraphManager();this.gm=R;var k=this.options.eles.nodes(),j=this.options.eles.edges();this.root=R.addRoot(),this.processChildrenList(this.root,this.getTopMostNodes(k),A);for(var F=0;F<j.length;F++){var z=j[F],q=this.idToLNode[z.data("source")],$=this.idToLNode[z.data("target")];if(q!==$&&q.getEdgesBetween($).length==0){var K=R.add(A.newEdge(),q,$);K.id=z.id()}}var oe=function(ae,ve){typeof ae=="number"&&(ae=ve);var se=ae.data("id"),ce=D.idToLNode[se];return{x:ce.getRect().getCenterX(),y:ce.getRect().getCenterY()}},J=function re(){for(var ae=function(){S.fit&&S.cy.fit(S.eles,S.padding),y||(y=!0,D.cy.one("layoutready",S.ready),D.cy.trigger({type:"layoutready",layout:D}))},ve=D.options.refresh,se,ce=0;ce<ve&&!se;ce++)se=D.stopped||D.layout.tick();if(se){A.checkLayoutSuccess()&&!A.isSubLayout&&A.doPostLayout(),A.tilingPostLayout&&A.tilingPostLayout(),A.isLayoutFinished=!0,D.options.eles.nodes().positions(oe),ae(),D.cy.one("layoutstop",D.options.stop),D.cy.trigger({type:"layoutstop",layout:D}),_&&cancelAnimationFrame(_),y=!1;return}var pe=D.layout.getPositionsData();S.eles.nodes().positions(function(Pe,de){if(typeof Pe=="number"&&(Pe=de),!Pe.isParent()){for(var ge=Pe.id(),Ce=pe[ge],Ne=Pe;Ce==null&&(Ce=pe[Ne.data("parent")]||pe["DummyCompound_"+Ne.data("parent")],pe[ge]=Ce,Ne=Ne.parent()[0],Ne!=null););return Ce!=null?{x:Ce.x,y:Ce.y}:{x:Pe.position("x"),y:Pe.position("y")}}}),ae(),_=requestAnimationFrame(re)};return A.addListener("layoutstarted",function(){D.options.animate==="during"&&(_=requestAnimationFrame(J))}),A.runLayout(),this.options.animate!=="during"&&(D.options.eles.nodes().not(":parent").layoutPositions(D,D.options,oe),y=!1),this},m.prototype.getTopMostNodes=function(y){for(var _={},S=0;S<y.length;S++)_[y[S].id()]=!0;var A=y.filter(function(D,R){typeof D=="number"&&(D=R);for(var k=D.parent()[0];k!=null;){if(_[k.id()])return!1;k=k.parent()[0]}return!0});return A},m.prototype.processChildrenList=function(y,_,S){for(var A=_.length,D=0;D<A;D++){var R=_[D],k=R.children(),j,F=R.layoutDimensions({nodeDimensionsIncludeLabels:this.options.nodeDimensionsIncludeLabels});if(R.outerWidth()!=null&&R.outerHeight()!=null?j=y.add(new c(S.graphManager,new f(R.position("x")-F.w/2,R.position("y")-F.h/2),new d(parseFloat(F.w),parseFloat(F.h)))):j=y.add(new c(this.graphManager)),j.id=R.data("id"),j.paddingLeft=parseInt(R.css("padding")),j.paddingTop=parseInt(R.css("padding")),j.paddingRight=parseInt(R.css("padding")),j.paddingBottom=parseInt(R.css("padding")),this.options.nodeDimensionsIncludeLabels&&R.isParent()){var z=R.boundingBox({includeLabels:!0,includeNodes:!1}).w,q=R.boundingBox({includeLabels:!0,includeNodes:!1}).h,$=R.css("text-halign");j.labelWidth=z,j.labelHeight=q,j.labelPos=$}if(this.idToLNode[R.data("id")]=j,isNaN(j.rect.x)&&(j.rect.x=0),isNaN(j.rect.y)&&(j.rect.y=0),k!=null&&k.length>0){var K;K=S.getGraphManager().add(S.newGraph(),j),this.processChildrenList(K,k,S)}}},m.prototype.stop=function(){return this.stopped=!0,this};var b=function(_){_("layout","cose-bilkent",m)};typeof cytoscape<"u"&&b(cytoscape),n.exports=b}])})}(x_)),x_.exports}var m9=y9();const b9=Qm(m9);Ng.use(b9);const _9="cose-bilkent",w9=(r,e)=>{const t=Ng({headless:!0,styleEnabled:!1});t.add(r);const n={};return t.layout({name:_9,animate:!1,spacingFactor:e,quality:"default",tile:!1,randomize:!0,stop:()=>{t.nodes().forEach(a=>{n[a.id()]={...a.position()}})}}).run(),{positions:n}};class E9{start(){}postMessage(e){const{elements:t,spacingFactor:n}=e,i=w9(t,n);this.onmessage({data:i})}onmessage(){}close(){}}const x9={port:new E9},S9=()=>new SharedWorker(new URL("/assets/CoseBilkentLayout.worker-CWTfKOft.js",import.meta.url),{type:"module",name:"CoseBilkentLayout"});function O9(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var wE,hD;function T9(){if(hD)return wE;hD=1;function r(){this.__data__=[],this.size=0}return wE=r,wE}var EE,dD;function A2(){if(dD)return EE;dD=1;function r(e,t){return e===t||e!==e&&t!==t}return EE=r,EE}var xE,vD;function g1(){if(vD)return xE;vD=1;var r=A2();function e(t,n){for(var i=t.length;i--;)if(r(t[i][0],n))return i;return-1}return xE=e,xE}var SE,pD;function C9(){if(pD)return SE;pD=1;var r=g1(),e=Array.prototype,t=e.splice;function n(i){var a=this.__data__,o=r(a,i);if(o<0)return!1;var s=a.length-1;return o==s?a.pop():t.call(a,o,1),--this.size,!0}return SE=n,SE}var OE,gD;function A9(){if(gD)return OE;gD=1;var r=g1();function e(t){var n=this.__data__,i=r(n,t);return i<0?void 0:n[i][1]}return OE=e,OE}var TE,yD;function R9(){if(yD)return TE;yD=1;var r=g1();function e(t){return r(this.__data__,t)>-1}return TE=e,TE}var CE,mD;function P9(){if(mD)return CE;mD=1;var r=g1();function e(t,n){var i=this.__data__,a=r(i,t);return a<0?(++this.size,i.push([t,n])):i[a][1]=n,this}return CE=e,CE}var AE,bD;function y1(){if(bD)return AE;bD=1;var r=T9(),e=C9(),t=A9(),n=R9(),i=P9();function a(o){var s=-1,u=o==null?0:o.length;for(this.clear();++s<u;){var l=o[s];this.set(l[0],l[1])}}return a.prototype.clear=r,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=n,a.prototype.set=i,AE=a,AE}var RE,_D;function D9(){if(_D)return RE;_D=1;var r=y1();function e(){this.__data__=new r,this.size=0}return RE=e,RE}var PE,wD;function I9(){if(wD)return PE;wD=1;function r(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}return PE=r,PE}var DE,ED;function k9(){if(ED)return DE;ED=1;function r(e){return this.__data__.get(e)}return DE=r,DE}var IE,xD;function M9(){if(xD)return IE;xD=1;function r(e){return this.__data__.has(e)}return IE=r,IE}var kE,SD;function i4(){if(SD)return kE;SD=1;var r=typeof xg=="object"&&xg&&xg.Object===Object&&xg;return kE=r,kE}var ME,OD;function lp(){if(OD)return ME;OD=1;var r=i4(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=r||e||Function("return this")();return ME=t,ME}var NE,TD;function o0(){if(TD)return NE;TD=1;var r=lp(),e=r.Symbol;return NE=e,NE}var LE,CD;function N9(){if(CD)return LE;CD=1;var r=o0(),e=Object.prototype,t=e.hasOwnProperty,n=e.toString,i=r?r.toStringTag:void 0;function a(o){var s=t.call(o,i),u=o[i];try{o[i]=void 0;var l=!0}catch{}var c=n.call(o);return l&&(s?o[i]=u:delete o[i]),c}return LE=a,LE}var jE,AD;function L9(){if(AD)return jE;AD=1;var r=Object.prototype,e=r.toString;function t(n){return e.call(n)}return jE=t,jE}var BE,RD;function s0(){if(RD)return BE;RD=1;var r=o0(),e=N9(),t=L9(),n="[object Null]",i="[object Undefined]",a=r?r.toStringTag:void 0;function o(s){return s==null?s===void 0?i:n:a&&a in Object(s)?e(s):t(s)}return BE=o,BE}var FE,PD;function qy(){if(PD)return FE;PD=1;function r(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return FE=r,FE}var UE,DD;function m1(){if(DD)return UE;DD=1;var r=s0(),e=qy(),t="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(s){if(!e(s))return!1;var u=r(s);return u==n||u==i||u==t||u==a}return UE=o,UE}var zE,ID;function j9(){if(ID)return zE;ID=1;var r=lp(),e=r["__core-js_shared__"];return zE=e,zE}var qE,kD;function B9(){if(kD)return qE;kD=1;var r=j9(),e=function(){var n=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function t(n){return!!e&&e in n}return qE=t,qE}var GE,MD;function a4(){if(MD)return GE;MD=1;var r=Function.prototype,e=r.toString;function t(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return GE=t,GE}var HE,ND;function F9(){if(ND)return HE;ND=1;var r=m1(),e=B9(),t=qy(),n=a4(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,s=Object.prototype,u=o.toString,l=s.hasOwnProperty,c=RegExp("^"+u.call(l).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(d){if(!t(d)||e(d))return!1;var v=r(d)?c:a;return v.test(n(d))}return HE=f,HE}var VE,LD;function U9(){if(LD)return VE;LD=1;function r(e,t){return e==null?void 0:e[t]}return VE=r,VE}var $E,jD;function Gy(){if(jD)return $E;jD=1;var r=F9(),e=U9();function t(n,i){var a=e(n,i);return r(a)?a:void 0}return $E=t,$E}var WE,BD;function R2(){if(BD)return WE;BD=1;var r=Gy(),e=lp(),t=r(e,"Map");return WE=t,WE}var YE,FD;function b1(){if(FD)return YE;FD=1;var r=Gy(),e=r(Object,"create");return YE=e,YE}var XE,UD;function z9(){if(UD)return XE;UD=1;var r=b1();function e(){this.__data__=r?r(null):{},this.size=0}return XE=e,XE}var KE,zD;function q9(){if(zD)return KE;zD=1;function r(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return KE=r,KE}var ZE,qD;function G9(){if(qD)return ZE;qD=1;var r=b1(),e="__lodash_hash_undefined__",t=Object.prototype,n=t.hasOwnProperty;function i(a){var o=this.__data__;if(r){var s=o[a];return s===e?void 0:s}return n.call(o,a)?o[a]:void 0}return ZE=i,ZE}var QE,GD;function H9(){if(GD)return QE;GD=1;var r=b1(),e=Object.prototype,t=e.hasOwnProperty;function n(i){var a=this.__data__;return r?a[i]!==void 0:t.call(a,i)}return QE=n,QE}var JE,HD;function V9(){if(HD)return JE;HD=1;var r=b1(),e="__lodash_hash_undefined__";function t(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=r&&i===void 0?e:i,this}return JE=t,JE}var ex,VD;function $9(){if(VD)return ex;VD=1;var r=z9(),e=q9(),t=G9(),n=H9(),i=V9();function a(o){var s=-1,u=o==null?0:o.length;for(this.clear();++s<u;){var l=o[s];this.set(l[0],l[1])}}return a.prototype.clear=r,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=n,a.prototype.set=i,ex=a,ex}var tx,$D;function W9(){if($D)return tx;$D=1;var r=$9(),e=y1(),t=R2();function n(){this.size=0,this.__data__={hash:new r,map:new(t||e),string:new r}}return tx=n,tx}var rx,WD;function Y9(){if(WD)return rx;WD=1;function r(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return rx=r,rx}var nx,YD;function _1(){if(YD)return nx;YD=1;var r=Y9();function e(t,n){var i=t.__data__;return r(n)?i[typeof n=="string"?"string":"hash"]:i.map}return nx=e,nx}var ix,XD;function X9(){if(XD)return ix;XD=1;var r=_1();function e(t){var n=r(this,t).delete(t);return this.size-=n?1:0,n}return ix=e,ix}var ax,KD;function K9(){if(KD)return ax;KD=1;var r=_1();function e(t){return r(this,t).get(t)}return ax=e,ax}var ox,ZD;function Z9(){if(ZD)return ox;ZD=1;var r=_1();function e(t){return r(this,t).has(t)}return ox=e,ox}var sx,QD;function Q9(){if(QD)return sx;QD=1;var r=_1();function e(t,n){var i=r(this,t),a=i.size;return i.set(t,n),this.size+=i.size==a?0:1,this}return sx=e,sx}var ux,JD;function P2(){if(JD)return ux;JD=1;var r=W9(),e=X9(),t=K9(),n=Z9(),i=Q9();function a(o){var s=-1,u=o==null?0:o.length;for(this.clear();++s<u;){var l=o[s];this.set(l[0],l[1])}}return a.prototype.clear=r,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=n,a.prototype.set=i,ux=a,ux}var lx,eI;function J9(){if(eI)return lx;eI=1;var r=y1(),e=R2(),t=P2(),n=200;function i(a,o){var s=this.__data__;if(s instanceof r){var u=s.__data__;if(!e||u.length<n-1)return u.push([a,o]),this.size=++s.size,this;s=this.__data__=new t(u)}return s.set(a,o),this.size=s.size,this}return lx=i,lx}var cx,tI;function D2(){if(tI)return cx;tI=1;var r=y1(),e=D9(),t=I9(),n=k9(),i=M9(),a=J9();function o(s){var u=this.__data__=new r(s);this.size=u.size}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=i,o.prototype.set=a,cx=o,cx}var fx,rI;function I2(){if(rI)return fx;rI=1;function r(e,t){for(var n=-1,i=e==null?0:e.length;++n<i&&t(e[n],n,e)!==!1;);return e}return fx=r,fx}var hx,nI;function o4(){if(nI)return hx;nI=1;var r=Gy(),e=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch{}}();return hx=e,hx}var dx,iI;function s4(){if(iI)return dx;iI=1;var r=o4();function e(t,n,i){n=="__proto__"&&r?r(t,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[n]=i}return dx=e,dx}var vx,aI;function u4(){if(aI)return vx;aI=1;var r=s4(),e=A2(),t=Object.prototype,n=t.hasOwnProperty;function i(a,o,s){var u=a[o];(!(n.call(a,o)&&e(u,s))||s===void 0&&!(o in a))&&r(a,o,s)}return vx=i,vx}var px,oI;function w1(){if(oI)return px;oI=1;var r=u4(),e=s4();function t(n,i,a,o){var s=!a;a||(a={});for(var u=-1,l=i.length;++u<l;){var c=i[u],f=o?o(a[c],n[c],c,a,n):void 0;f===void 0&&(f=n[c]),s?e(a,c,f):r(a,c,f)}return a}return px=t,px}var gx,sI;function e7(){if(sI)return gx;sI=1;function r(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}return gx=r,gx}var yx,uI;function Yp(){if(uI)return yx;uI=1;function r(e){return e!=null&&typeof e=="object"}return yx=r,yx}var mx,lI;function t7(){if(lI)return mx;lI=1;var r=s0(),e=Yp(),t="[object Arguments]";function n(i){return e(i)&&r(i)==t}return mx=n,mx}var bx,cI;function E1(){if(cI)return bx;cI=1;var r=t7(),e=Yp(),t=Object.prototype,n=t.hasOwnProperty,i=t.propertyIsEnumerable,a=r(function(){return arguments}())?r:function(o){return e(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return bx=a,bx}var _x,fI;function cl(){if(fI)return _x;fI=1;var r=Array.isArray;return _x=r,_x}var U0={exports:{}},wx,hI;function r7(){if(hI)return wx;hI=1;function r(){return!1}return wx=r,wx}U0.exports;var dI;function Ab(){return dI||(dI=1,function(r,e){var t=lp(),n=r7(),i=e&&!e.nodeType&&e,a=i&&!0&&r&&!r.nodeType&&r,o=a&&a.exports===i,s=o?t.Buffer:void 0,u=s?s.isBuffer:void 0,l=u||n;r.exports=l}(U0,U0.exports)),U0.exports}var Ex,vI;function l4(){if(vI)return Ex;vI=1;var r=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(n,i){var a=typeof n;return i=i??r,!!i&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return Ex=t,Ex}var xx,pI;function k2(){if(pI)return xx;pI=1;var r=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=r}return xx=e,xx}var Sx,gI;function n7(){if(gI)return Sx;gI=1;var r=s0(),e=k2(),t=Yp(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",s="[object Error]",u="[object Function]",l="[object Map]",c="[object Number]",f="[object Object]",d="[object RegExp]",v="[object Set]",p="[object String]",m="[object WeakMap]",w="[object ArrayBuffer]",b="[object DataView]",y="[object Float32Array]",_="[object Float64Array]",S="[object Int8Array]",A="[object Int16Array]",D="[object Int32Array]",R="[object Uint8Array]",k="[object Uint8ClampedArray]",j="[object Uint16Array]",F="[object Uint32Array]",z={};z[y]=z[_]=z[S]=z[A]=z[D]=z[R]=z[k]=z[j]=z[F]=!0,z[n]=z[i]=z[w]=z[a]=z[b]=z[o]=z[s]=z[u]=z[l]=z[c]=z[f]=z[d]=z[v]=z[p]=z[m]=!1;function q($){return t($)&&e($.length)&&!!z[r($)]}return Sx=q,Sx}var Ox,yI;function M2(){if(yI)return Ox;yI=1;function r(e){return function(t){return e(t)}}return Ox=r,Ox}var z0={exports:{}};z0.exports;var mI;function N2(){return mI||(mI=1,function(r,e){var t=i4(),n=e&&!e.nodeType&&e,i=n&&!0&&r&&!r.nodeType&&r,a=i&&i.exports===n,o=a&&t.process,s=function(){try{var u=i&&i.require&&i.require("util").types;return u||o&&o.binding&&o.binding("util")}catch{}}();r.exports=s}(z0,z0.exports)),z0.exports}var Tx,bI;function x1(){if(bI)return Tx;bI=1;var r=n7(),e=M2(),t=N2(),n=t&&t.isTypedArray,i=n?e(n):r;return Tx=i,Tx}var Cx,_I;function c4(){if(_I)return Cx;_I=1;var r=e7(),e=E1(),t=cl(),n=Ab(),i=l4(),a=x1(),o=Object.prototype,s=o.hasOwnProperty;function u(l,c){var f=t(l),d=!f&&e(l),v=!f&&!d&&n(l),p=!f&&!d&&!v&&a(l),m=f||d||v||p,w=m?r(l.length,String):[],b=w.length;for(var y in l)(c||s.call(l,y))&&!(m&&(y=="length"||v&&(y=="offset"||y=="parent")||p&&(y=="buffer"||y=="byteLength"||y=="byteOffset")||i(y,b)))&&w.push(y);return w}return Cx=u,Cx}var Ax,wI;function S1(){if(wI)return Ax;wI=1;var r=Object.prototype;function e(t){var n=t&&t.constructor,i=typeof n=="function"&&n.prototype||r;return t===i}return Ax=e,Ax}var Rx,EI;function f4(){if(EI)return Rx;EI=1;function r(e,t){return function(n){return e(t(n))}}return Rx=r,Rx}var Px,xI;function i7(){if(xI)return Px;xI=1;var r=f4(),e=r(Object.keys,Object);return Px=e,Px}var Dx,SI;function L2(){if(SI)return Dx;SI=1;var r=S1(),e=i7(),t=Object.prototype,n=t.hasOwnProperty;function i(a){if(!r(a))return e(a);var o=[];for(var s in Object(a))n.call(a,s)&&s!="constructor"&&o.push(s);return o}return Dx=i,Dx}var Ix,OI;function Hy(){if(OI)return Ix;OI=1;var r=m1(),e=k2();function t(n){return n!=null&&e(n.length)&&!r(n)}return Ix=t,Ix}var kx,TI;function Vy(){if(TI)return kx;TI=1;var r=c4(),e=L2(),t=Hy();function n(i){return t(i)?r(i):e(i)}return kx=n,kx}var Mx,CI;function a7(){if(CI)return Mx;CI=1;var r=w1(),e=Vy();function t(n,i){return n&&r(i,e(i),n)}return Mx=t,Mx}var Nx,AI;function o7(){if(AI)return Nx;AI=1;function r(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}return Nx=r,Nx}var Lx,RI;function s7(){if(RI)return Lx;RI=1;var r=qy(),e=S1(),t=o7(),n=Object.prototype,i=n.hasOwnProperty;function a(o){if(!r(o))return t(o);var s=e(o),u=[];for(var l in o)l=="constructor"&&(s||!i.call(o,l))||u.push(l);return u}return Lx=a,Lx}var jx,PI;function j2(){if(PI)return jx;PI=1;var r=c4(),e=s7(),t=Hy();function n(i){return t(i)?r(i,!0):e(i)}return jx=n,jx}var Bx,DI;function u7(){if(DI)return Bx;DI=1;var r=w1(),e=j2();function t(n,i){return n&&r(i,e(i),n)}return Bx=t,Bx}var q0={exports:{}};q0.exports;var II;function l7(){return II||(II=1,function(r,e){var t=lp(),n=e&&!e.nodeType&&e,i=n&&!0&&r&&!r.nodeType&&r,a=i&&i.exports===n,o=a?t.Buffer:void 0,s=o?o.allocUnsafe:void 0;function u(l,c){if(c)return l.slice();var f=l.length,d=s?s(f):new l.constructor(f);return l.copy(d),d}r.exports=u}(q0,q0.exports)),q0.exports}var Fx,kI;function c7(){if(kI)return Fx;kI=1;function r(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}return Fx=r,Fx}var Ux,MI;function h4(){if(MI)return Ux;MI=1;function r(e,t){for(var n=-1,i=e==null?0:e.length,a=0,o=[];++n<i;){var s=e[n];t(s,n,e)&&(o[a++]=s)}return o}return Ux=r,Ux}var zx,NI;function d4(){if(NI)return zx;NI=1;function r(){return[]}return zx=r,zx}var qx,LI;function B2(){if(LI)return qx;LI=1;var r=h4(),e=d4(),t=Object.prototype,n=t.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),r(i(o),function(s){return n.call(o,s)}))}:e;return qx=a,qx}var Gx,jI;function f7(){if(jI)return Gx;jI=1;var r=w1(),e=B2();function t(n,i){return r(n,e(n),i)}return Gx=t,Gx}var Hx,BI;function F2(){if(BI)return Hx;BI=1;function r(e,t){for(var n=-1,i=t.length,a=e.length;++n<i;)e[a+n]=t[n];return e}return Hx=r,Hx}var Vx,FI;function U2(){if(FI)return Vx;FI=1;var r=f4(),e=r(Object.getPrototypeOf,Object);return Vx=e,Vx}var $x,UI;function v4(){if(UI)return $x;UI=1;var r=F2(),e=U2(),t=B2(),n=d4(),i=Object.getOwnPropertySymbols,a=i?function(o){for(var s=[];o;)r(s,t(o)),o=e(o);return s}:n;return $x=a,$x}var Wx,zI;function h7(){if(zI)return Wx;zI=1;var r=w1(),e=v4();function t(n,i){return r(n,e(n),i)}return Wx=t,Wx}var Yx,qI;function p4(){if(qI)return Yx;qI=1;var r=F2(),e=cl();function t(n,i,a){var o=i(n);return e(n)?o:r(o,a(n))}return Yx=t,Yx}var Xx,GI;function g4(){if(GI)return Xx;GI=1;var r=p4(),e=B2(),t=Vy();function n(i){return r(i,t,e)}return Xx=n,Xx}var Kx,HI;function d7(){if(HI)return Kx;HI=1;var r=p4(),e=v4(),t=j2();function n(i){return r(i,t,e)}return Kx=n,Kx}var Zx,VI;function v7(){if(VI)return Zx;VI=1;var r=Gy(),e=lp(),t=r(e,"DataView");return Zx=t,Zx}var Qx,$I;function p7(){if($I)return Qx;$I=1;var r=Gy(),e=lp(),t=r(e,"Promise");return Qx=t,Qx}var Jx,WI;function y4(){if(WI)return Jx;WI=1;var r=Gy(),e=lp(),t=r(e,"Set");return Jx=t,Jx}var eS,YI;function g7(){if(YI)return eS;YI=1;var r=Gy(),e=lp(),t=r(e,"WeakMap");return eS=t,eS}var tS,XI;function u0(){if(XI)return tS;XI=1;var r=v7(),e=R2(),t=p7(),n=y4(),i=g7(),a=s0(),o=a4(),s="[object Map]",u="[object Object]",l="[object Promise]",c="[object Set]",f="[object WeakMap]",d="[object DataView]",v=o(r),p=o(e),m=o(t),w=o(n),b=o(i),y=a;return(r&&y(new r(new ArrayBuffer(1)))!=d||e&&y(new e)!=s||t&&y(t.resolve())!=l||n&&y(new n)!=c||i&&y(new i)!=f)&&(y=function(_){var S=a(_),A=S==u?_.constructor:void 0,D=A?o(A):"";if(D)switch(D){case v:return d;case p:return s;case m:return l;case w:return c;case b:return f}return S}),tS=y,tS}var rS,KI;function y7(){if(KI)return rS;KI=1;var r=Object.prototype,e=r.hasOwnProperty;function t(n){var i=n.length,a=new n.constructor(i);return i&&typeof n[0]=="string"&&e.call(n,"index")&&(a.index=n.index,a.input=n.input),a}return rS=t,rS}var nS,ZI;function m4(){if(ZI)return nS;ZI=1;var r=lp(),e=r.Uint8Array;return nS=e,nS}var iS,QI;function z2(){if(QI)return iS;QI=1;var r=m4();function e(t){var n=new t.constructor(t.byteLength);return new r(n).set(new r(t)),n}return iS=e,iS}var aS,JI;function m7(){if(JI)return aS;JI=1;var r=z2();function e(t,n){var i=n?r(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}return aS=e,aS}var oS,ek;function b7(){if(ek)return oS;ek=1;var r=/\w*$/;function e(t){var n=new t.constructor(t.source,r.exec(t));return n.lastIndex=t.lastIndex,n}return oS=e,oS}var sS,tk;function _7(){if(tk)return sS;tk=1;var r=o0(),e=r?r.prototype:void 0,t=e?e.valueOf:void 0;function n(i){return t?Object(t.call(i)):{}}return sS=n,sS}var uS,rk;function w7(){if(rk)return uS;rk=1;var r=z2();function e(t,n){var i=n?r(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}return uS=e,uS}var lS,nk;function E7(){if(nk)return lS;nk=1;var r=z2(),e=m7(),t=b7(),n=_7(),i=w7(),a="[object Boolean]",o="[object Date]",s="[object Map]",u="[object Number]",l="[object RegExp]",c="[object Set]",f="[object String]",d="[object Symbol]",v="[object ArrayBuffer]",p="[object DataView]",m="[object Float32Array]",w="[object Float64Array]",b="[object Int8Array]",y="[object Int16Array]",_="[object Int32Array]",S="[object Uint8Array]",A="[object Uint8ClampedArray]",D="[object Uint16Array]",R="[object Uint32Array]";function k(j,F,z){var q=j.constructor;switch(F){case v:return r(j);case a:case o:return new q(+j);case p:return e(j,z);case m:case w:case b:case y:case _:case S:case A:case D:case R:return i(j,z);case s:return new q;case u:case f:return new q(j);case l:return t(j);case c:return new q;case d:return n(j)}}return lS=k,lS}var cS,ik;function b4(){if(ik)return cS;ik=1;var r=qy(),e=Object.create,t=function(){function n(){}return function(i){if(!r(i))return{};if(e)return e(i);n.prototype=i;var a=new n;return n.prototype=void 0,a}}();return cS=t,cS}var fS,ak;function x7(){if(ak)return fS;ak=1;var r=b4(),e=U2(),t=S1();function n(i){return typeof i.constructor=="function"&&!t(i)?r(e(i)):{}}return fS=n,fS}var hS,ok;function S7(){if(ok)return hS;ok=1;var r=u0(),e=Yp(),t="[object Map]";function n(i){return e(i)&&r(i)==t}return hS=n,hS}var dS,sk;function O7(){if(sk)return dS;sk=1;var r=S7(),e=M2(),t=N2(),n=t&&t.isMap,i=n?e(n):r;return dS=i,dS}var vS,uk;function T7(){if(uk)return vS;uk=1;var r=u0(),e=Yp(),t="[object Set]";function n(i){return e(i)&&r(i)==t}return vS=n,vS}var pS,lk;function C7(){if(lk)return pS;lk=1;var r=T7(),e=M2(),t=N2(),n=t&&t.isSet,i=n?e(n):r;return pS=i,pS}var gS,ck;function A7(){if(ck)return gS;ck=1;var r=D2(),e=I2(),t=u4(),n=a7(),i=u7(),a=l7(),o=c7(),s=f7(),u=h7(),l=g4(),c=d7(),f=u0(),d=y7(),v=E7(),p=x7(),m=cl(),w=Ab(),b=O7(),y=qy(),_=C7(),S=Vy(),A=j2(),D=1,R=2,k=4,j="[object Arguments]",F="[object Array]",z="[object Boolean]",q="[object Date]",$="[object Error]",K="[object Function]",oe="[object GeneratorFunction]",J="[object Map]",re="[object Number]",ae="[object Object]",ve="[object RegExp]",se="[object Set]",ce="[object String]",pe="[object Symbol]",Pe="[object WeakMap]",de="[object ArrayBuffer]",ge="[object DataView]",Ce="[object Float32Array]",Ne="[object Float64Array]",De="[object Int8Array]",ke="[object Int16Array]",_e="[object Int32Array]",Ie="[object Uint8Array]",Ge="[object Uint8ClampedArray]",Qe="[object Uint16Array]",ot="[object Uint32Array]",Tt={};Tt[j]=Tt[F]=Tt[de]=Tt[ge]=Tt[z]=Tt[q]=Tt[Ce]=Tt[Ne]=Tt[De]=Tt[ke]=Tt[_e]=Tt[J]=Tt[re]=Tt[ae]=Tt[ve]=Tt[se]=Tt[ce]=Tt[pe]=Tt[Ie]=Tt[Ge]=Tt[Qe]=Tt[ot]=!0,Tt[$]=Tt[K]=Tt[Pe]=!1;function zt(pt,Q,ne,fe,Ue,qe){var We,ft=Q&D,Ht=Q&R,Et=Q&k;if(ne&&(We=Ue?ne(pt,fe,Ue,qe):ne(pt)),We!==void 0)return We;if(!y(pt))return pt;var Se=m(pt);if(Se){if(We=d(pt),!ft)return o(pt,We)}else{var Ke=f(pt),ht=Ke==K||Ke==oe;if(w(pt))return a(pt,ft);if(Ke==ae||Ke==j||ht&&!Ue){if(We=Ht||ht?{}:p(pt),!ft)return Ht?u(pt,i(We,pt)):s(pt,n(We,pt))}else{if(!Tt[Ke])return Ue?pt:{};We=v(pt,Ke,ft)}}qe||(qe=new r);var ct=qe.get(pt);if(ct)return ct;qe.set(pt,We),_(pt)?pt.forEach(function(Rt){We.add(zt(Rt,Q,ne,Rt,pt,qe))}):b(pt)&&pt.forEach(function(Rt,Jt){We.set(Jt,zt(Rt,Q,ne,Jt,pt,qe))});var xt=Et?Ht?c:l:Ht?A:S,er=Se?void 0:xt(pt);return e(er||pt,function(Rt,Jt){er&&(Jt=Rt,Rt=pt[Jt]),t(We,Jt,zt(Rt,Q,ne,Jt,pt,qe))}),We}return gS=zt,gS}var yS,fk;function R7(){if(fk)return yS;fk=1;var r=A7(),e=4;function t(n){return r(n,e)}return yS=t,yS}var mS,hk;function _4(){if(hk)return mS;hk=1;function r(e){return function(){return e}}return mS=r,mS}var bS,dk;function P7(){if(dk)return bS;dk=1;function r(e){return function(t,n,i){for(var a=-1,o=Object(t),s=i(t),u=s.length;u--;){var l=s[e?u:++a];if(n(o[l],l,o)===!1)break}return t}}return bS=r,bS}var _S,vk;function D7(){if(vk)return _S;vk=1;var r=P7(),e=r();return _S=e,_S}var wS,pk;function w4(){if(pk)return wS;pk=1;var r=D7(),e=Vy();function t(n,i){return n&&r(n,i,e)}return wS=t,wS}var ES,gk;function I7(){if(gk)return ES;gk=1;var r=Hy();function e(t,n){return function(i,a){if(i==null)return i;if(!r(i))return t(i,a);for(var o=i.length,s=n?o:-1,u=Object(i);(n?s--:++s<o)&&a(u[s],s,u)!==!1;);return i}}return ES=e,ES}var xS,yk;function O1(){if(yk)return xS;yk=1;var r=w4(),e=I7(),t=e(r);return xS=t,xS}var SS,mk;function T1(){if(mk)return SS;mk=1;function r(e){return e}return SS=r,SS}var OS,bk;function k7(){if(bk)return OS;bk=1;var r=T1();function e(t){return typeof t=="function"?t:r}return OS=e,OS}var TS,_k;function M7(){if(_k)return TS;_k=1;var r=I2(),e=O1(),t=k7(),n=cl();function i(a,o){var s=n(a)?r:e;return s(a,t(o))}return TS=i,TS}var CS,wk;function N7(){return wk||(wk=1,CS=M7()),CS}var AS,Ek;function L7(){if(Ek)return AS;Ek=1;var r=O1();function e(t,n){var i=[];return r(t,function(a,o,s){n(a,o,s)&&i.push(a)}),i}return AS=e,AS}var RS,xk;function j7(){if(xk)return RS;xk=1;var r="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,r),this}return RS=e,RS}var PS,Sk;function B7(){if(Sk)return PS;Sk=1;function r(e){return this.__data__.has(e)}return PS=r,PS}var DS,Ok;function E4(){if(Ok)return DS;Ok=1;var r=P2(),e=j7(),t=B7();function n(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new r;++a<o;)this.add(i[a])}return n.prototype.add=n.prototype.push=e,n.prototype.has=t,DS=n,DS}var IS,Tk;function F7(){if(Tk)return IS;Tk=1;function r(e,t){for(var n=-1,i=e==null?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}return IS=r,IS}var kS,Ck;function x4(){if(Ck)return kS;Ck=1;function r(e,t){return e.has(t)}return kS=r,kS}var MS,Ak;function S4(){if(Ak)return MS;Ak=1;var r=E4(),e=F7(),t=x4(),n=1,i=2;function a(o,s,u,l,c,f){var d=u&n,v=o.length,p=s.length;if(v!=p&&!(d&&p>v))return!1;var m=f.get(o),w=f.get(s);if(m&&w)return m==s&&w==o;var b=-1,y=!0,_=u&i?new r:void 0;for(f.set(o,s),f.set(s,o);++b<v;){var S=o[b],A=s[b];if(l)var D=d?l(A,S,b,s,o,f):l(S,A,b,o,s,f);if(D!==void 0){if(D)continue;y=!1;break}if(_){if(!e(s,function(R,k){if(!t(_,k)&&(S===R||c(S,R,u,l,f)))return _.push(k)})){y=!1;break}}else if(!(S===A||c(S,A,u,l,f))){y=!1;break}}return f.delete(o),f.delete(s),y}return MS=a,MS}var NS,Rk;function U7(){if(Rk)return NS;Rk=1;function r(e){var t=-1,n=Array(e.size);return e.forEach(function(i,a){n[++t]=[a,i]}),n}return NS=r,NS}var LS,Pk;function q2(){if(Pk)return LS;Pk=1;function r(e){var t=-1,n=Array(e.size);return e.forEach(function(i){n[++t]=i}),n}return LS=r,LS}var jS,Dk;function z7(){if(Dk)return jS;Dk=1;var r=o0(),e=m4(),t=A2(),n=S4(),i=U7(),a=q2(),o=1,s=2,u="[object Boolean]",l="[object Date]",c="[object Error]",f="[object Map]",d="[object Number]",v="[object RegExp]",p="[object Set]",m="[object String]",w="[object Symbol]",b="[object ArrayBuffer]",y="[object DataView]",_=r?r.prototype:void 0,S=_?_.valueOf:void 0;function A(D,R,k,j,F,z,q){switch(k){case y:if(D.byteLength!=R.byteLength||D.byteOffset!=R.byteOffset)return!1;D=D.buffer,R=R.buffer;case b:return!(D.byteLength!=R.byteLength||!z(new e(D),new e(R)));case u:case l:case d:return t(+D,+R);case c:return D.name==R.name&&D.message==R.message;case v:case m:return D==R+"";case f:var $=i;case p:var K=j&o;if($||($=a),D.size!=R.size&&!K)return!1;var oe=q.get(D);if(oe)return oe==R;j|=s,q.set(D,R);var J=n($(D),$(R),j,F,z,q);return q.delete(D),J;case w:if(S)return S.call(D)==S.call(R)}return!1}return jS=A,jS}var BS,Ik;function q7(){if(Ik)return BS;Ik=1;var r=g4(),e=1,t=Object.prototype,n=t.hasOwnProperty;function i(a,o,s,u,l,c){var f=s&e,d=r(a),v=d.length,p=r(o),m=p.length;if(v!=m&&!f)return!1;for(var w=v;w--;){var b=d[w];if(!(f?b in o:n.call(o,b)))return!1}var y=c.get(a),_=c.get(o);if(y&&_)return y==o&&_==a;var S=!0;c.set(a,o),c.set(o,a);for(var A=f;++w<v;){b=d[w];var D=a[b],R=o[b];if(u)var k=f?u(R,D,b,o,a,c):u(D,R,b,a,o,c);if(!(k===void 0?D===R||l(D,R,s,u,c):k)){S=!1;break}A||(A=b=="constructor")}if(S&&!A){var j=a.constructor,F=o.constructor;j!=F&&"constructor"in a&&"constructor"in o&&!(typeof j=="function"&&j instanceof j&&typeof F=="function"&&F instanceof F)&&(S=!1)}return c.delete(a),c.delete(o),S}return BS=i,BS}var FS,kk;function G7(){if(kk)return FS;kk=1;var r=D2(),e=S4(),t=z7(),n=q7(),i=u0(),a=cl(),o=Ab(),s=x1(),u=1,l="[object Arguments]",c="[object Array]",f="[object Object]",d=Object.prototype,v=d.hasOwnProperty;function p(m,w,b,y,_,S){var A=a(m),D=a(w),R=A?c:i(m),k=D?c:i(w);R=R==l?f:R,k=k==l?f:k;var j=R==f,F=k==f,z=R==k;if(z&&o(m)){if(!o(w))return!1;A=!0,j=!1}if(z&&!j)return S||(S=new r),A||s(m)?e(m,w,b,y,_,S):t(m,w,R,b,y,_,S);if(!(b&u)){var q=j&&v.call(m,"__wrapped__"),$=F&&v.call(w,"__wrapped__");if(q||$){var K=q?m.value():m,oe=$?w.value():w;return S||(S=new r),_(K,oe,b,y,S)}}return z?(S||(S=new r),n(m,w,b,y,_,S)):!1}return FS=p,FS}var US,Mk;function O4(){if(Mk)return US;Mk=1;var r=G7(),e=Yp();function t(n,i,a,o,s){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:r(n,i,a,o,t,s)}return US=t,US}var zS,Nk;function H7(){if(Nk)return zS;Nk=1;var r=D2(),e=O4(),t=1,n=2;function i(a,o,s,u){var l=s.length,c=l,f=!u;if(a==null)return!c;for(a=Object(a);l--;){var d=s[l];if(f&&d[2]?d[1]!==a[d[0]]:!(d[0]in a))return!1}for(;++l<c;){d=s[l];var v=d[0],p=a[v],m=d[1];if(f&&d[2]){if(p===void 0&&!(v in a))return!1}else{var w=new r;if(u)var b=u(p,m,v,a,o,w);if(!(b===void 0?e(m,p,t|n,u,w):b))return!1}}return!0}return zS=i,zS}var qS,Lk;function T4(){if(Lk)return qS;Lk=1;var r=qy();function e(t){return t===t&&!r(t)}return qS=e,qS}var GS,jk;function V7(){if(jk)return GS;jk=1;var r=T4(),e=Vy();function t(n){for(var i=e(n),a=i.length;a--;){var o=i[a],s=n[o];i[a]=[o,s,r(s)]}return i}return GS=t,GS}var HS,Bk;function C4(){if(Bk)return HS;Bk=1;function r(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}return HS=r,HS}var VS,Fk;function $7(){if(Fk)return VS;Fk=1;var r=H7(),e=V7(),t=C4();function n(i){var a=e(i);return a.length==1&&a[0][2]?t(a[0][0],a[0][1]):function(o){return o===i||r(o,i,a)}}return VS=n,VS}var $S,Uk;function G2(){if(Uk)return $S;Uk=1;var r=s0(),e=Yp(),t="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&r(i)==t}return $S=n,$S}var WS,zk;function H2(){if(zk)return WS;zk=1;var r=cl(),e=G2(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){if(r(a))return!1;var s=typeof a;return s=="number"||s=="symbol"||s=="boolean"||a==null||e(a)?!0:n.test(a)||!t.test(a)||o!=null&&a in Object(o)}return WS=i,WS}var YS,qk;function W7(){if(qk)return YS;qk=1;var r=P2(),e="Expected a function";function t(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var o=arguments,s=i?i.apply(this,o):o[0],u=a.cache;if(u.has(s))return u.get(s);var l=n.apply(this,o);return a.cache=u.set(s,l)||u,l};return a.cache=new(t.Cache||r),a}return t.Cache=r,YS=t,YS}var XS,Gk;function Y7(){if(Gk)return XS;Gk=1;var r=W7(),e=500;function t(n){var i=r(n,function(o){return a.size===e&&a.clear(),o}),a=i.cache;return i}return XS=t,XS}var KS,Hk;function X7(){if(Hk)return KS;Hk=1;var r=Y7(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t=/\\(\\)?/g,n=r(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(o,s,u,l){a.push(u?l.replace(t,"$1"):s||o)}),a});return KS=n,KS}var ZS,Vk;function V2(){if(Vk)return ZS;Vk=1;function r(e,t){for(var n=-1,i=e==null?0:e.length,a=Array(i);++n<i;)a[n]=t(e[n],n,e);return a}return ZS=r,ZS}var QS,$k;function K7(){if($k)return QS;$k=1;var r=o0(),e=V2(),t=cl(),n=G2(),i=r?r.prototype:void 0,a=i?i.toString:void 0;function o(s){if(typeof s=="string")return s;if(t(s))return e(s,o)+"";if(n(s))return a?a.call(s):"";var u=s+"";return u=="0"&&1/s==-1/0?"-0":u}return QS=o,QS}var JS,Wk;function Z7(){if(Wk)return JS;Wk=1;var r=K7();function e(t){return t==null?"":r(t)}return JS=e,JS}var eO,Yk;function A4(){if(Yk)return eO;Yk=1;var r=cl(),e=H2(),t=X7(),n=Z7();function i(a,o){return r(a)?a:e(a,o)?[a]:t(n(a))}return eO=i,eO}var tO,Xk;function C1(){if(Xk)return tO;Xk=1;var r=G2();function e(t){if(typeof t=="string"||r(t))return t;var n=t+"";return n=="0"&&1/t==-1/0?"-0":n}return tO=e,tO}var rO,Kk;function R4(){if(Kk)return rO;Kk=1;var r=A4(),e=C1();function t(n,i){i=r(i,n);for(var a=0,o=i.length;n!=null&&a<o;)n=n[e(i[a++])];return a&&a==o?n:void 0}return rO=t,rO}var nO,Zk;function Q7(){if(Zk)return nO;Zk=1;var r=R4();function e(t,n,i){var a=t==null?void 0:r(t,n);return a===void 0?i:a}return nO=e,nO}var iO,Qk;function J7(){if(Qk)return iO;Qk=1;function r(e,t){return e!=null&&t in Object(e)}return iO=r,iO}var aO,Jk;function P4(){if(Jk)return aO;Jk=1;var r=A4(),e=E1(),t=cl(),n=l4(),i=k2(),a=C1();function o(s,u,l){u=r(u,s);for(var c=-1,f=u.length,d=!1;++c<f;){var v=a(u[c]);if(!(d=s!=null&&l(s,v)))break;s=s[v]}return d||++c!=f?d:(f=s==null?0:s.length,!!f&&i(f)&&n(v,f)&&(t(s)||e(s)))}return aO=o,aO}var oO,eM;function eG(){if(eM)return oO;eM=1;var r=J7(),e=P4();function t(n,i){return n!=null&&e(n,i,r)}return oO=t,oO}var sO,tM;function tG(){if(tM)return sO;tM=1;var r=O4(),e=Q7(),t=eG(),n=H2(),i=T4(),a=C4(),o=C1(),s=1,u=2;function l(c,f){return n(c)&&i(f)?a(o(c),f):function(d){var v=e(d,c);return v===void 0&&v===f?t(d,c):r(f,v,s|u)}}return sO=l,sO}var uO,rM;function D4(){if(rM)return uO;rM=1;function r(e){return function(t){return t==null?void 0:t[e]}}return uO=r,uO}var lO,nM;function rG(){if(nM)return lO;nM=1;var r=R4();function e(t){return function(n){return r(n,t)}}return lO=e,lO}var cO,iM;function nG(){if(iM)return cO;iM=1;var r=D4(),e=rG(),t=H2(),n=C1();function i(a){return t(a)?r(n(a)):e(a)}return cO=i,cO}var fO,aM;function A1(){if(aM)return fO;aM=1;var r=$7(),e=tG(),t=T1(),n=cl(),i=nG();function a(o){return typeof o=="function"?o:o==null?t:typeof o=="object"?n(o)?e(o[0],o[1]):r(o):i(o)}return fO=a,fO}var hO,oM;function iG(){if(oM)return hO;oM=1;var r=h4(),e=L7(),t=A1(),n=cl();function i(a,o){var s=n(a)?r:e;return s(a,t(o,3))}return hO=i,hO}var dO,sM;function aG(){if(sM)return dO;sM=1;var r=Object.prototype,e=r.hasOwnProperty;function t(n,i){return n!=null&&e.call(n,i)}return dO=t,dO}var vO,uM;function oG(){if(uM)return vO;uM=1;var r=aG(),e=P4();function t(n,i){return n!=null&&e(n,i,r)}return vO=t,vO}var pO,lM;function sG(){if(lM)return pO;lM=1;var r=L2(),e=u0(),t=E1(),n=cl(),i=Hy(),a=Ab(),o=S1(),s=x1(),u="[object Map]",l="[object Set]",c=Object.prototype,f=c.hasOwnProperty;function d(v){if(v==null)return!0;if(i(v)&&(n(v)||typeof v=="string"||typeof v.splice=="function"||a(v)||s(v)||t(v)))return!v.length;var p=e(v);if(p==u||p==l)return!v.size;if(o(v))return!r(v).length;for(var m in v)if(f.call(v,m))return!1;return!0}return pO=d,pO}var gO,cM;function uG(){if(cM)return gO;cM=1;function r(e){return e===void 0}return gO=r,gO}var yO,fM;function lG(){if(fM)return yO;fM=1;var r=O1(),e=Hy();function t(n,i){var a=-1,o=e(n)?Array(n.length):[];return r(n,function(s,u,l){o[++a]=i(s,u,l)}),o}return yO=t,yO}var mO,hM;function cG(){if(hM)return mO;hM=1;var r=V2(),e=A1(),t=lG(),n=cl();function i(a,o){var s=n(a)?r:t;return s(a,e(o,3))}return mO=i,mO}var bO,dM;function fG(){if(dM)return bO;dM=1;function r(e,t,n,i){var a=-1,o=e==null?0:e.length;for(i&&o&&(n=e[++a]);++a<o;)n=t(n,e[a],a,e);return n}return bO=r,bO}var _O,vM;function hG(){if(vM)return _O;vM=1;function r(e,t,n,i,a){return a(e,function(o,s,u){n=i?(i=!1,o):t(n,o,s,u)}),n}return _O=r,_O}var wO,pM;function dG(){if(pM)return wO;pM=1;var r=fG(),e=O1(),t=A1(),n=hG(),i=cl();function a(o,s,u){var l=i(o)?r:n,c=arguments.length<3;return l(o,t(s,4),u,c,e)}return wO=a,wO}var EO,gM;function vG(){if(gM)return EO;gM=1;var r=s0(),e=cl(),t=Yp(),n="[object String]";function i(a){return typeof a=="string"||!e(a)&&t(a)&&r(a)==n}return EO=i,EO}var xO,yM;function pG(){if(yM)return xO;yM=1;var r=D4(),e=r("length");return xO=e,xO}var SO,mM;function gG(){if(mM)return SO;mM=1;var r="\\ud800-\\udfff",e="\\u0300-\\u036f",t="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+t+n,a="\\ufe0e\\ufe0f",o="\\u200d",s=RegExp("["+o+r+i+a+"]");function u(l){return s.test(l)}return SO=u,SO}var OO,bM;function yG(){if(bM)return OO;bM=1;var r="\\ud800-\\udfff",e="\\u0300-\\u036f",t="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+t+n,a="\\ufe0e\\ufe0f",o="["+r+"]",s="["+i+"]",u="\\ud83c[\\udffb-\\udfff]",l="(?:"+s+"|"+u+")",c="[^"+r+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",d="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",p=l+"?",m="["+a+"]?",w="(?:"+v+"(?:"+[c,f,d].join("|")+")"+m+p+")*",b=m+p+w,y="(?:"+[c+s+"?",s,f,d,o].join("|")+")",_=RegExp(u+"(?="+u+")|"+y+b,"g");function S(A){for(var D=_.lastIndex=0;_.test(A);)++D;return D}return OO=S,OO}var TO,_M;function mG(){if(_M)return TO;_M=1;var r=pG(),e=gG(),t=yG();function n(i){return e(i)?t(i):r(i)}return TO=n,TO}var CO,wM;function bG(){if(wM)return CO;wM=1;var r=L2(),e=u0(),t=Hy(),n=vG(),i=mG(),a="[object Map]",o="[object Set]";function s(u){if(u==null)return 0;if(t(u))return n(u)?i(u):u.length;var l=e(u);return l==a||l==o?u.size:r(u).length}return CO=s,CO}var AO,EM;function _G(){if(EM)return AO;EM=1;var r=I2(),e=b4(),t=w4(),n=A1(),i=U2(),a=cl(),o=Ab(),s=m1(),u=qy(),l=x1();function c(f,d,v){var p=a(f),m=p||o(f)||l(f);if(d=n(d,4),v==null){var w=f&&f.constructor;m?v=p?new w:[]:u(f)?v=s(w)?e(i(f)):{}:v={}}return(m?r:t)(f,function(b,y,_){return d(v,b,y,_)}),v}return AO=c,AO}var RO,xM;function wG(){if(xM)return RO;xM=1;var r=o0(),e=E1(),t=cl(),n=r?r.isConcatSpreadable:void 0;function i(a){return t(a)||e(a)||!!(n&&a&&a[n])}return RO=i,RO}var PO,SM;function EG(){if(SM)return PO;SM=1;var r=F2(),e=wG();function t(n,i,a,o,s){var u=-1,l=n.length;for(a||(a=e),s||(s=[]);++u<l;){var c=n[u];i>0&&a(c)?i>1?t(c,i-1,a,o,s):r(s,c):o||(s[s.length]=c)}return s}return PO=t,PO}var DO,OM;function xG(){if(OM)return DO;OM=1;function r(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}return DO=r,DO}var IO,TM;function SG(){if(TM)return IO;TM=1;var r=xG(),e=Math.max;function t(n,i,a){return i=e(i===void 0?n.length-1:i,0),function(){for(var o=arguments,s=-1,u=e(o.length-i,0),l=Array(u);++s<u;)l[s]=o[i+s];s=-1;for(var c=Array(i+1);++s<i;)c[s]=o[s];return c[i]=a(l),r(n,this,c)}}return IO=t,IO}var kO,CM;function OG(){if(CM)return kO;CM=1;var r=_4(),e=o4(),t=T1(),n=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:r(a),writable:!0})}:t;return kO=n,kO}var MO,AM;function TG(){if(AM)return MO;AM=1;var r=800,e=16,t=Date.now;function n(i){var a=0,o=0;return function(){var s=t(),u=e-(s-o);if(o=s,u>0){if(++a>=r)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return MO=n,MO}var NO,RM;function CG(){if(RM)return NO;RM=1;var r=OG(),e=TG(),t=e(r);return NO=t,NO}var LO,PM;function AG(){if(PM)return LO;PM=1;var r=T1(),e=SG(),t=CG();function n(i,a){return t(e(i,a,r),i+"")}return LO=n,LO}var jO,DM;function RG(){if(DM)return jO;DM=1;function r(e,t,n,i){for(var a=e.length,o=n+(i?1:-1);i?o--:++o<a;)if(t(e[o],o,e))return o;return-1}return jO=r,jO}var BO,IM;function PG(){if(IM)return BO;IM=1;function r(e){return e!==e}return BO=r,BO}var FO,kM;function DG(){if(kM)return FO;kM=1;function r(e,t,n){for(var i=n-1,a=e.length;++i<a;)if(e[i]===t)return i;return-1}return FO=r,FO}var UO,MM;function IG(){if(MM)return UO;MM=1;var r=RG(),e=PG(),t=DG();function n(i,a,o){return a===a?t(i,a,o):r(i,e,o)}return UO=n,UO}var zO,NM;function kG(){if(NM)return zO;NM=1;var r=IG();function e(t,n){var i=t==null?0:t.length;return!!i&&r(t,n,0)>-1}return zO=e,zO}var qO,LM;function MG(){if(LM)return qO;LM=1;function r(e,t,n){for(var i=-1,a=e==null?0:e.length;++i<a;)if(n(t,e[i]))return!0;return!1}return qO=r,qO}var GO,jM;function NG(){if(jM)return GO;jM=1;function r(){}return GO=r,GO}var HO,BM;function LG(){if(BM)return HO;BM=1;var r=y4(),e=NG(),t=q2(),n=1/0,i=r&&1/t(new r([,-0]))[1]==n?function(a){return new r(a)}:e;return HO=i,HO}var VO,FM;function jG(){if(FM)return VO;FM=1;var r=E4(),e=kG(),t=MG(),n=x4(),i=LG(),a=q2(),o=200;function s(u,l,c){var f=-1,d=e,v=u.length,p=!0,m=[],w=m;if(c)p=!1,d=t;else if(v>=o){var b=l?null:i(u);if(b)return a(b);p=!1,d=n,w=new r}else w=l?[]:m;e:for(;++f<v;){var y=u[f],_=l?l(y):y;if(y=c||y!==0?y:0,p&&_===_){for(var S=w.length;S--;)if(w[S]===_)continue e;l&&w.push(_),m.push(y)}else d(w,_,c)||(w!==m&&w.push(_),m.push(y))}return m}return VO=s,VO}var $O,UM;function BG(){if(UM)return $O;UM=1;var r=Hy(),e=Yp();function t(n){return e(n)&&r(n)}return $O=t,$O}var WO,zM;function FG(){if(zM)return WO;zM=1;var r=EG(),e=AG(),t=jG(),n=BG(),i=e(function(a){return t(r(a,1,n,!0))});return WO=i,WO}var YO,qM;function UG(){if(qM)return YO;qM=1;var r=V2();function e(t,n){return r(n,function(i){return t[i]})}return YO=e,YO}var XO,GM;function zG(){if(GM)return XO;GM=1;var r=UG(),e=Vy();function t(n){return n==null?[]:r(n,e(n))}return XO=t,XO}var KO,HM;function Ed(){if(HM)return KO;HM=1;var r;if(typeof O9=="function")try{r={clone:R7(),constant:_4(),each:N7(),filter:iG(),has:oG(),isArray:cl(),isEmpty:sG(),isFunction:m1(),isUndefined:uG(),keys:Vy(),map:cG(),reduce:dG(),size:bG(),transform:_G(),union:FG(),values:zG()}}catch{}return r||(r=window._),KO=r,KO}var ZO,VM;function $2(){if(VM)return ZO;VM=1;var r=Ed();ZO=i;var e="\0",t="\0",n="";function i(c){this._isDirected=r.has(c,"directed")?c.directed:!0,this._isMultigraph=r.has(c,"multigraph")?c.multigraph:!1,this._isCompound=r.has(c,"compound")?c.compound:!1,this._label=void 0,this._defaultNodeLabelFn=r.constant(void 0),this._defaultEdgeLabelFn=r.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[t]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(c){return this._label=c,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(c){return r.isFunction(c)||(c=r.constant(c)),this._defaultNodeLabelFn=c,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return r.keys(this._nodes)},i.prototype.sources=function(){var c=this;return r.filter(this.nodes(),function(f){return r.isEmpty(c._in[f])})},i.prototype.sinks=function(){var c=this;return r.filter(this.nodes(),function(f){return r.isEmpty(c._out[f])})},i.prototype.setNodes=function(c,f){var d=arguments,v=this;return r.each(c,function(p){d.length>1?v.setNode(p,f):v.setNode(p)}),this},i.prototype.setNode=function(c,f){return r.has(this._nodes,c)?(arguments.length>1&&(this._nodes[c]=f),this):(this._nodes[c]=arguments.length>1?f:this._defaultNodeLabelFn(c),this._isCompound&&(this._parent[c]=t,this._children[c]={},this._children[t][c]=!0),this._in[c]={},this._preds[c]={},this._out[c]={},this._sucs[c]={},++this._nodeCount,this)},i.prototype.node=function(c){return this._nodes[c]},i.prototype.hasNode=function(c){return r.has(this._nodes,c)},i.prototype.removeNode=function(c){var f=this;if(r.has(this._nodes,c)){var d=function(v){f.removeEdge(f._edgeObjs[v])};delete this._nodes[c],this._isCompound&&(this._removeFromParentsChildList(c),delete this._parent[c],r.each(this.children(c),function(v){f.setParent(v)}),delete this._children[c]),r.each(r.keys(this._in[c]),d),delete this._in[c],delete this._preds[c],r.each(r.keys(this._out[c]),d),delete this._out[c],delete this._sucs[c],--this._nodeCount}return this},i.prototype.setParent=function(c,f){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(r.isUndefined(f))f=t;else{f+="";for(var d=f;!r.isUndefined(d);d=this.parent(d))if(d===c)throw new Error("Setting "+f+" as parent of "+c+" would create a cycle");this.setNode(f)}return this.setNode(c),this._removeFromParentsChildList(c),this._parent[c]=f,this._children[f][c]=!0,this},i.prototype._removeFromParentsChildList=function(c){delete this._children[this._parent[c]][c]},i.prototype.parent=function(c){if(this._isCompound){var f=this._parent[c];if(f!==t)return f}},i.prototype.children=function(c){if(r.isUndefined(c)&&(c=t),this._isCompound){var f=this._children[c];if(f)return r.keys(f)}else{if(c===t)return this.nodes();if(this.hasNode(c))return[]}},i.prototype.predecessors=function(c){var f=this._preds[c];if(f)return r.keys(f)},i.prototype.successors=function(c){var f=this._sucs[c];if(f)return r.keys(f)},i.prototype.neighbors=function(c){var f=this.predecessors(c);if(f)return r.union(f,this.successors(c))},i.prototype.isLeaf=function(c){var f;return this.isDirected()?f=this.successors(c):f=this.neighbors(c),f.length===0},i.prototype.filterNodes=function(c){var f=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});f.setGraph(this.graph());var d=this;r.each(this._nodes,function(m,w){c(w)&&f.setNode(w,m)}),r.each(this._edgeObjs,function(m){f.hasNode(m.v)&&f.hasNode(m.w)&&f.setEdge(m,d.edge(m))});var v={};function p(m){var w=d.parent(m);return w===void 0||f.hasNode(w)?(v[m]=w,w):w in v?v[w]:p(w)}return this._isCompound&&r.each(f.nodes(),function(m){f.setParent(m,p(m))}),f},i.prototype.setDefaultEdgeLabel=function(c){return r.isFunction(c)||(c=r.constant(c)),this._defaultEdgeLabelFn=c,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return r.values(this._edgeObjs)},i.prototype.setPath=function(c,f){var d=this,v=arguments;return r.reduce(c,function(p,m){return v.length>1?d.setEdge(p,m,f):d.setEdge(p,m),m}),this},i.prototype.setEdge=function(){var c,f,d,v,p=!1,m=arguments[0];typeof m=="object"&&m!==null&&"v"in m?(c=m.v,f=m.w,d=m.name,arguments.length===2&&(v=arguments[1],p=!0)):(c=m,f=arguments[1],d=arguments[3],arguments.length>2&&(v=arguments[2],p=!0)),c=""+c,f=""+f,r.isUndefined(d)||(d=""+d);var w=s(this._isDirected,c,f,d);if(r.has(this._edgeLabels,w))return p&&(this._edgeLabels[w]=v),this;if(!r.isUndefined(d)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(c),this.setNode(f),this._edgeLabels[w]=p?v:this._defaultEdgeLabelFn(c,f,d);var b=u(this._isDirected,c,f,d);return c=b.v,f=b.w,Object.freeze(b),this._edgeObjs[w]=b,a(this._preds[f],c),a(this._sucs[c],f),this._in[f][w]=b,this._out[c][w]=b,this._edgeCount++,this},i.prototype.edge=function(c,f,d){var v=arguments.length===1?l(this._isDirected,arguments[0]):s(this._isDirected,c,f,d);return this._edgeLabels[v]},i.prototype.hasEdge=function(c,f,d){var v=arguments.length===1?l(this._isDirected,arguments[0]):s(this._isDirected,c,f,d);return r.has(this._edgeLabels,v)},i.prototype.removeEdge=function(c,f,d){var v=arguments.length===1?l(this._isDirected,arguments[0]):s(this._isDirected,c,f,d),p=this._edgeObjs[v];return p&&(c=p.v,f=p.w,delete this._edgeLabels[v],delete this._edgeObjs[v],o(this._preds[f],c),o(this._sucs[c],f),delete this._in[f][v],delete this._out[c][v],this._edgeCount--),this},i.prototype.inEdges=function(c,f){var d=this._in[c];if(d){var v=r.values(d);return f?r.filter(v,function(p){return p.v===f}):v}},i.prototype.outEdges=function(c,f){var d=this._out[c];if(d){var v=r.values(d);return f?r.filter(v,function(p){return p.w===f}):v}},i.prototype.nodeEdges=function(c,f){var d=this.inEdges(c,f);if(d)return d.concat(this.outEdges(c,f))};function a(c,f){c[f]?c[f]++:c[f]=1}function o(c,f){--c[f]||delete c[f]}function s(c,f,d,v){var p=""+f,m=""+d;if(!c&&p>m){var w=p;p=m,m=w}return p+n+m+n+(r.isUndefined(v)?e:v)}function u(c,f,d,v){var p=""+f,m=""+d;if(!c&&p>m){var w=p;p=m,m=w}var b={v:p,w:m};return v&&(b.name=v),b}function l(c,f){return s(c,f.v,f.w,f.name)}return ZO}var QO,$M;function qG(){return $M||($M=1,QO="2.1.8"),QO}var JO,WM;function GG(){return WM||(WM=1,JO={Graph:$2(),version:qG()}),JO}var eT,YM;function HG(){if(YM)return eT;YM=1;var r=Ed(),e=$2();eT={write:t,read:a};function t(o){var s={options:{directed:o.isDirected(),multigraph:o.isMultigraph(),compound:o.isCompound()},nodes:n(o),edges:i(o)};return r.isUndefined(o.graph())||(s.value=r.clone(o.graph())),s}function n(o){return r.map(o.nodes(),function(s){var u=o.node(s),l=o.parent(s),c={v:s};return r.isUndefined(u)||(c.value=u),r.isUndefined(l)||(c.parent=l),c})}function i(o){return r.map(o.edges(),function(s){var u=o.edge(s),l={v:s.v,w:s.w};return r.isUndefined(s.name)||(l.name=s.name),r.isUndefined(u)||(l.value=u),l})}function a(o){var s=new e(o.options).setGraph(o.value);return r.each(o.nodes,function(u){s.setNode(u.v,u.value),u.parent&&s.setParent(u.v,u.parent)}),r.each(o.edges,function(u){s.setEdge({v:u.v,w:u.w,name:u.name},u.value)}),s}return eT}var tT,XM;function VG(){if(XM)return tT;XM=1;var r=Ed();tT=e;function e(t){var n={},i=[],a;function o(s){r.has(n,s)||(n[s]=!0,a.push(s),r.each(t.successors(s),o),r.each(t.predecessors(s),o))}return r.each(t.nodes(),function(s){a=[],o(s),a.length&&i.push(a)}),i}return tT}var rT,KM;function I4(){if(KM)return rT;KM=1;var r=Ed();rT=e;function e(){this._arr=[],this._keyIndices={}}return e.prototype.size=function(){return this._arr.length},e.prototype.keys=function(){return this._arr.map(function(t){return t.key})},e.prototype.has=function(t){return r.has(this._keyIndices,t)},e.prototype.priority=function(t){var n=this._keyIndices[t];if(n!==void 0)return this._arr[n].priority},e.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},e.prototype.add=function(t,n){var i=this._keyIndices;if(t=String(t),!r.has(i,t)){var a=this._arr,o=a.length;return i[t]=o,a.push({key:t,priority:n}),this._decrease(o),!0}return!1},e.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},e.prototype.decrease=function(t,n){var i=this._keyIndices[t];if(n>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[i].priority+" New: "+n);this._arr[i].priority=n,this._decrease(i)},e.prototype._heapify=function(t){var n=this._arr,i=2*t,a=i+1,o=t;i<n.length&&(o=n[i].priority<n[o].priority?i:o,a<n.length&&(o=n[a].priority<n[o].priority?a:o),o!==t&&(this._swap(t,o),this._heapify(o)))},e.prototype._decrease=function(t){for(var n=this._arr,i=n[t].priority,a;t!==0&&(a=t>>1,!(n[a].priority<i));)this._swap(t,a),t=a},e.prototype._swap=function(t,n){var i=this._arr,a=this._keyIndices,o=i[t],s=i[n];i[t]=s,i[n]=o,a[s.key]=t,a[o.key]=n},rT}var nT,ZM;function k4(){if(ZM)return nT;ZM=1;var r=Ed(),e=I4();nT=n;var t=r.constant(1);function n(a,o,s,u){return i(a,String(o),s||t,u||function(l){return a.outEdges(l)})}function i(a,o,s,u){var l={},c=new e,f,d,v=function(p){var m=p.v!==f?p.v:p.w,w=l[m],b=s(p),y=d.distance+b;if(b<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+p+" Weight: "+b);y<w.distance&&(w.distance=y,w.predecessor=f,c.decrease(m,y))};for(a.nodes().forEach(function(p){var m=p===o?0:Number.POSITIVE_INFINITY;l[p]={distance:m},c.add(p,m)});c.size()>0&&(f=c.removeMin(),d=l[f],d.distance!==Number.POSITIVE_INFINITY);)u(f).forEach(v);return l}return nT}var iT,QM;function $G(){if(QM)return iT;QM=1;var r=k4(),e=Ed();iT=t;function t(n,i,a){return e.transform(n.nodes(),function(o,s){o[s]=r(n,s,i,a)},{})}return iT}var aT,JM;function M4(){if(JM)return aT;JM=1;var r=Ed();aT=e;function e(t){var n=0,i=[],a={},o=[];function s(u){var l=a[u]={onStack:!0,lowlink:n,index:n++};if(i.push(u),t.successors(u).forEach(function(d){r.has(a,d)?a[d].onStack&&(l.lowlink=Math.min(l.lowlink,a[d].index)):(s(d),l.lowlink=Math.min(l.lowlink,a[d].lowlink))}),l.lowlink===l.index){var c=[],f;do f=i.pop(),a[f].onStack=!1,c.push(f);while(u!==f);o.push(c)}}return t.nodes().forEach(function(u){r.has(a,u)||s(u)}),o}return aT}var oT,eN;function WG(){if(eN)return oT;eN=1;var r=Ed(),e=M4();oT=t;function t(n){return r.filter(e(n),function(i){return i.length>1||i.length===1&&n.hasEdge(i[0],i[0])})}return oT}var sT,tN;function YG(){if(tN)return sT;tN=1;var r=Ed();sT=t;var e=r.constant(1);function t(i,a,o){return n(i,a||e,o||function(s){return i.outEdges(s)})}function n(i,a,o){var s={},u=i.nodes();return u.forEach(function(l){s[l]={},s[l][l]={distance:0},u.forEach(function(c){l!==c&&(s[l][c]={distance:Number.POSITIVE_INFINITY})}),o(l).forEach(function(c){var f=c.v===l?c.w:c.v,d=a(c);s[l][f]={distance:d,predecessor:l}})}),u.forEach(function(l){var c=s[l];u.forEach(function(f){var d=s[f];u.forEach(function(v){var p=d[l],m=c[v],w=d[v],b=p.distance+m.distance;b<w.distance&&(w.distance=b,w.predecessor=m.predecessor)})})}),s}return sT}var uT,rN;function N4(){if(rN)return uT;rN=1;var r=Ed();uT=e,e.CycleException=t;function e(n){var i={},a={},o=[];function s(u){if(r.has(a,u))throw new t;r.has(i,u)||(a[u]=!0,i[u]=!0,r.each(n.predecessors(u),s),delete a[u],o.push(u))}if(r.each(n.sinks(),s),r.size(i)!==n.nodeCount())throw new t;return o}function t(){}return t.prototype=new Error,uT}var lT,nN;function XG(){if(nN)return lT;nN=1;var r=N4();lT=e;function e(t){try{r(t)}catch(n){if(n instanceof r.CycleException)return!1;throw n}return!0}return lT}var cT,iN;function L4(){if(iN)return cT;iN=1;var r=Ed();cT=e;function e(n,i,a){r.isArray(i)||(i=[i]);var o=(n.isDirected()?n.successors:n.neighbors).bind(n),s=[],u={};return r.each(i,function(l){if(!n.hasNode(l))throw new Error("Graph does not have node: "+l);t(n,l,a==="post",u,o,s)}),s}function t(n,i,a,o,s,u){r.has(o,i)||(o[i]=!0,a||u.push(i),r.each(s(i),function(l){t(n,l,a,o,s,u)}),a&&u.push(i))}return cT}var fT,aN;function KG(){if(aN)return fT;aN=1;var r=L4();fT=e;function e(t,n){return r(t,n,"post")}return fT}var hT,oN;function ZG(){if(oN)return hT;oN=1;var r=L4();hT=e;function e(t,n){return r(t,n,"pre")}return hT}var dT,sN;function QG(){if(sN)return dT;sN=1;var r=Ed(),e=$2(),t=I4();dT=n;function n(i,a){var o=new e,s={},u=new t,l;function c(d){var v=d.v===l?d.w:d.v,p=u.priority(v);if(p!==void 0){var m=a(d);m<p&&(s[v]=l,u.decrease(v,m))}}if(i.nodeCount()===0)return o;r.each(i.nodes(),function(d){u.add(d,Number.POSITIVE_INFINITY),o.setNode(d)}),u.decrease(i.nodes()[0],0);for(var f=!1;u.size()>0;){if(l=u.removeMin(),r.has(s,l))o.setEdge(l,s[l]);else{if(f)throw new Error("Input graph is not connected: "+i);f=!0}i.nodeEdges(l).forEach(c)}return o}return dT}var vT,uN;function JG(){return uN||(uN=1,vT={components:VG(),dijkstra:k4(),dijkstraAll:$G(),findCycles:WG(),floydWarshall:YG(),isAcyclic:XG(),postorder:KG(),preorder:ZG(),prim:QG(),tarjan:M4(),topsort:N4()}),vT}var pT,lN;function _d(){if(lN)return pT;lN=1;var r=GG();return pT={Graph:r.Graph,json:HG(),alg:JG(),version:r.version},pT}var G0={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var eH=G0.exports,cN;function vo(){return cN||(cN=1,function(r,e){(function(){var t,n="4.17.21",i=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",s="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",l=500,c="__lodash_placeholder__",f=1,d=2,v=4,p=1,m=2,w=1,b=2,y=4,_=8,S=16,A=32,D=64,R=128,k=256,j=512,F=30,z="...",q=800,$=16,K=1,oe=2,J=3,re=1/0,ae=9007199254740991,ve=17976931348623157e292,se=NaN,ce=4294967295,pe=ce-1,Pe=ce>>>1,de=[["ary",R],["bind",w],["bindKey",b],["curry",_],["curryRight",S],["flip",j],["partial",A],["partialRight",D],["rearg",k]],ge="[object Arguments]",Ce="[object Array]",Ne="[object AsyncFunction]",De="[object Boolean]",ke="[object Date]",_e="[object DOMException]",Ie="[object Error]",Ge="[object Function]",Qe="[object GeneratorFunction]",ot="[object Map]",Tt="[object Number]",zt="[object Null]",pt="[object Object]",Q="[object Promise]",ne="[object Proxy]",fe="[object RegExp]",Ue="[object Set]",qe="[object String]",We="[object Symbol]",ft="[object Undefined]",Ht="[object WeakMap]",Et="[object WeakSet]",Se="[object ArrayBuffer]",Ke="[object DataView]",ht="[object Float32Array]",ct="[object Float64Array]",xt="[object Int8Array]",er="[object Int16Array]",Rt="[object Int32Array]",Jt="[object Uint8Array]",mr="[object Uint8ClampedArray]",Mr="[object Uint16Array]",cr="[object Uint32Array]",Fr=/\b__p \+= '';/g,Dr=/\b(__p \+=) '' \+/g,Cr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,On=/&(?:amp|lt|gt|quot|#39);/g,Rn=/[&<>"']/g,Ha=RegExp(On.source),ni=RegExp(Rn.source),Vn=/<%-([\s\S]+?)%>/g,ii=/<%([\s\S]+?)%>/g,ui=/<%=([\s\S]+?)%>/g,ji=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,la=/^\w*$/,ca=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pn=/[\\^$.*+?()[\]{}|]/g,ai=RegExp(Pn.source),fa=/^\s+/,po=/\s/,Qi=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Wr=/\{\n\/\* \[wrapped with (.+)\] \*/,zn=/,? & /,Na=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,wa=/[()=,{}\[\]\/\s]/,Va=/\\(\\)?/g,Fs=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,$a=/\w*$/,ko=/^[-+]0x[0-9a-f]+$/i,Bi=/^0b[01]+$/i,Us=/^\[object .+?Constructor\]$/,lf=/^0o[0-7]+$/i,go=/^(?:0|[1-9]\d*)$/,Oi=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,iu=/($^)/,Mo=/['\n\r\u2028\u2029\\]/g,wi="\\ud800-\\udfff",ha="\\u0300-\\u036f",Nr="\\ufe20-\\ufe2f",La="\\u20d0-\\u20ff",da=ha+Nr+La,Tn="\\u2700-\\u27bf",gn="a-z\\xdf-\\xf6\\xf8-\\xff",Ji="\\xac\\xb1\\xd7\\xf7",fl="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Gf="\\u2000-\\u206f",gc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Th="A-Z\\xc0-\\xd6\\xd8-\\xde",Xn="\\ufe0e\\ufe0f",yc=Ji+fl+Gf+gc,Wo="[']",hl="["+wi+"]",cf="["+yc+"]",Ta="["+da+"]",dl="\\d+",Wa="["+Tn+"]",ff="["+gn+"]",Hf="[^"+wi+yc+dl+Tn+gn+Th+"]",hn="\\ud83c[\\udffb-\\udfff]",ro="(?:"+Ta+"|"+hn+")",No="[^"+wi+"]",Vf="(?:\\ud83c[\\udde6-\\uddff]){2}",fr="[\\ud800-\\udbff][\\udc00-\\udfff]",mc="["+Th+"]",$f="\\u200d",au="(?:"+ff+"|"+Hf+")",Fl="(?:"+mc+"|"+Hf+")",ps="(?:"+Wo+"(?:d|ll|m|re|s|t|ve))?",kn="(?:"+Wo+"(?:D|LL|M|RE|S|T|VE))?",Yo=ro+"?",bc="["+Xn+"]?",Ch="(?:"+$f+"(?:"+[No,Vf,fr].join("|")+")"+bc+Yo+")*",vl="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",_c="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ah=bc+Yo+Ch,wc="(?:"+[Wa,Vf,fr].join("|")+")"+Ah,Ul="(?:"+[No+Ta+"?",Ta,Vf,fr,hl].join("|")+")",zs=RegExp(Wo,"g"),no=RegExp(Ta,"g"),Ec=RegExp(hn+"(?="+hn+")|"+Ul+Ah,"g"),zl=RegExp([mc+"?"+ff+"+"+ps+"(?="+[cf,mc,"$"].join("|")+")",Fl+"+"+kn+"(?="+[cf,mc+au,"$"].join("|")+")",mc+"?"+au+"+"+ps,mc+"+"+kn,_c,vl,dl,wc].join("|"),"g"),ou=RegExp("["+$f+wi+da+Xn+"]"),xc=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ku=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],hf=-1,$n={};$n[ht]=$n[ct]=$n[xt]=$n[er]=$n[Rt]=$n[Jt]=$n[mr]=$n[Mr]=$n[cr]=!0,$n[ge]=$n[Ce]=$n[Se]=$n[De]=$n[Ke]=$n[ke]=$n[Ie]=$n[Ge]=$n[ot]=$n[Tt]=$n[pt]=$n[fe]=$n[Ue]=$n[qe]=$n[Ht]=!1;var tn={};tn[ge]=tn[Ce]=tn[Se]=tn[Ke]=tn[De]=tn[ke]=tn[ht]=tn[ct]=tn[xt]=tn[er]=tn[Rt]=tn[ot]=tn[Tt]=tn[pt]=tn[fe]=tn[Ue]=tn[qe]=tn[We]=tn[Jt]=tn[mr]=tn[Mr]=tn[cr]=!0,tn[Ie]=tn[Ge]=tn[Ht]=!1;var Wf={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Ca={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},pl={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},su={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},gs=parseFloat,bv=parseInt,Yf=typeof xg=="object"&&xg&&xg.Object===Object&&xg,gl=typeof self=="object"&&self&&self.Object===Object&&self,li=Yf||gl||Function("return this")(),Sc=e&&!e.nodeType&&e,yo=Sc&&!0&&r&&!r.nodeType&&r,Oc=yo&&yo.exports===Sc,Rh=Oc&&Yf.process,io=function(){try{var ut=yo&&yo.require&&yo.require("util").types;return ut||Rh&&Rh.binding&&Rh.binding("util")}catch{}}(),Fi=io&&io.isArrayBuffer,Mu=io&&io.isDate,Nu=io&&io.isMap,uu=io&&io.isRegExp,Ct=io&&io.isSet,Lt=io&&io.isTypedArray;function Nt(ut,It,mt){switch(mt.length){case 0:return ut.call(It);case 1:return ut.call(It,mt[0]);case 2:return ut.call(It,mt[0],mt[1]);case 3:return ut.call(It,mt[0],mt[1],mt[2])}return ut.apply(It,mt)}function vr(ut,It,mt,yr){for(var Ir=-1,_n=ut==null?0:ut.length;++Ir<_n;){var xa=ut[Ir];It(yr,xa,mt(xa),ut)}return yr}function Pr(ut,It){for(var mt=-1,yr=ut==null?0:ut.length;++mt<yr&&It(ut[mt],mt,ut)!==!1;);return ut}function Ln(ut,It){for(var mt=ut==null?0:ut.length;mt--&&It(ut[mt],mt,ut)!==!1;);return ut}function Ya(ut,It){for(var mt=-1,yr=ut==null?0:ut.length;++mt<yr;)if(!It(ut[mt],mt,ut))return!1;return!0}function ao(ut,It){for(var mt=-1,yr=ut==null?0:ut.length,Ir=0,_n=[];++mt<yr;){var xa=ut[mt];It(xa,mt,ut)&&(_n[Ir++]=xa)}return _n}function ci(ut,It){var mt=ut==null?0:ut.length;return!!mt&&ql(ut,It,0)>-1}function Sd(ut,It,mt){for(var yr=-1,Ir=ut==null?0:ut.length;++yr<Ir;)if(mt(It,ut[yr]))return!0;return!1}function ea(ut,It){for(var mt=-1,yr=ut==null?0:ut.length,Ir=Array(yr);++mt<yr;)Ir[mt]=It(ut[mt],mt,ut);return Ir}function Ea(ut,It){for(var mt=-1,yr=It.length,Ir=ut.length;++mt<yr;)ut[Ir+mt]=It[mt];return ut}function Ph(ut,It,mt,yr){var Ir=-1,_n=ut==null?0:ut.length;for(yr&&_n&&(mt=ut[++Ir]);++Ir<_n;)mt=It(mt,ut[Ir],Ir,ut);return mt}function Zp(ut,It,mt,yr){var Ir=ut==null?0:ut.length;for(yr&&Ir&&(mt=ut[--Ir]);Ir--;)mt=It(mt,ut[Ir],Ir,ut);return mt}function df(ut,It){for(var mt=-1,yr=ut==null?0:ut.length;++mt<yr;)if(It(ut[mt],mt,ut))return!0;return!1}var Xf=yl("length");function vf(ut){return ut.split("")}function jn(ut){return ut.match(Na)||[]}function Dh(ut,It,mt){var yr;return mt(ut,function(Ir,_n,xa){if(It(Ir,_n,xa))return yr=_n,!1}),yr}function Tc(ut,It,mt,yr){for(var Ir=ut.length,_n=mt+(yr?1:-1);yr?_n--:++_n<Ir;)if(It(ut[_n],_n,ut))return _n;return-1}function ql(ut,It,mt){return It===It?Jp(ut,It,mt):Tc(ut,Lu,mt)}function Ih(ut,It,mt,yr){for(var Ir=mt-1,_n=ut.length;++Ir<_n;)if(yr(ut[Ir],It))return Ir;return-1}function Lu(ut){return ut!==ut}function Od(ut,It){var mt=ut==null?0:ut.length;return mt?Cc(ut,It)/mt:se}function yl(ut){return function(It){return It==null?t:It[ut]}}function ju(ut){return function(It){return ut==null?t:ut[It]}}function Kf(ut,It,mt,yr,Ir){return Ir(ut,function(_n,xa,xe){mt=yr?(yr=!1,_n):It(mt,_n,xa,xe)}),mt}function cp(ut,It){var mt=ut.length;for(ut.sort(It);mt--;)ut[mt]=ut[mt].value;return ut}function Cc(ut,It){for(var mt,yr=-1,Ir=ut.length;++yr<Ir;){var _n=It(ut[yr]);_n!==t&&(mt=mt===t?_n:mt+_n)}return mt}function Gl(ut,It){for(var mt=-1,yr=Array(ut);++mt<ut;)yr[mt]=It(mt);return yr}function fp(ut,It){return ea(It,function(mt){return[mt,ut[mt]]})}function Td(ut){return ut&&ut.slice(0,ra(ut)+1).replace(fa,"")}function Xo(ut){return function(It){return ut(It)}}function Ac(ut,It){return ea(It,function(mt){return ut[mt]})}function Bu(ut,It){return ut.has(It)}function Rc(ut,It){for(var mt=-1,yr=ut.length;++mt<yr&&ql(It,ut[mt],0)>-1;);return mt}function kh(ut,It){for(var mt=ut.length;mt--&&ql(It,ut[mt],0)>-1;);return mt}function Qp(ut,It){for(var mt=ut.length,yr=0;mt--;)ut[mt]===It&&++yr;return yr}var mo=ju(Wf),Cd=ju(Ca);function Ad(ut){return"\\"+su[ut]}function Zf(ut,It){return ut==null?t:ut[It]}function Hl(ut){return ou.test(ut)}function _v(ut){return xc.test(ut)}function Ko(ut){for(var It,mt=[];!(It=ut.next()).done;)mt.push(It.value);return mt}function bo(ut){var It=-1,mt=Array(ut.size);return ut.forEach(function(yr,Ir){mt[++It]=[Ir,yr]}),mt}function Ti(ut,It){return function(mt){return ut(It(mt))}}function ta(ut,It){for(var mt=-1,yr=ut.length,Ir=0,_n=[];++mt<yr;){var xa=ut[mt];(xa===It||xa===c)&&(ut[mt]=c,_n[Ir++]=mt)}return _n}function wv(ut){var It=-1,mt=Array(ut.size);return ut.forEach(function(yr){mt[++It]=yr}),mt}function Wg(ut){var It=-1,mt=Array(ut.size);return ut.forEach(function(yr){mt[++It]=[yr,yr]}),mt}function Jp(ut,It,mt){for(var yr=mt-1,Ir=ut.length;++yr<Ir;)if(ut[yr]===It)return yr;return-1}function qs(ut,It,mt){for(var yr=mt+1;yr--;)if(ut[yr]===It)return yr;return yr}function Er(ut){return Hl(ut)?Qf(ut):Xf(ut)}function _o(ut){return Hl(ut)?gf(ut):vf(ut)}function ra(ut){for(var It=ut.length;It--&&po.test(ut.charAt(It)););return It}var pf=ju(pl);function Qf(ut){for(var It=Ec.lastIndex=0;Ec.test(ut);)++It;return It}function gf(ut){return ut.match(Ec)||[]}function Rd(ut){return ut.match(zl)||[]}var Fu=function ut(It){It=It==null?li:Pc.defaults(li.Object(),It,Pc.pick(li,ku));var mt=It.Array,yr=It.Date,Ir=It.Error,_n=It.Function,xa=It.Math,xe=It.Object,ml=It.RegExp,Pd=It.String,na=It.TypeError,yn=mt.prototype,Dc=_n.prototype,Gs=xe.prototype,oo=It["__core-js_shared__"],Uu=Dc.toString,on=Gs.hasOwnProperty,zu=0,Dd=function(){var P=/[^.]+$/.exec(oo&&oo.keys&&oo.keys.IE_PROTO||"");return P?"Symbol(src)_1."+P:""}(),va=Gs.toString,Hs=Uu.call(xe),yf=li._,Jf=ml("^"+Uu.call(on).replace(Pn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),bl=Oc?It.Buffer:t,ln=It.Symbol,Ic=It.Uint8Array,ys=bl?bl.allocUnsafe:t,mf=Ti(xe.getPrototypeOf,xe),ms=xe.create,so=Gs.propertyIsEnumerable,eh=yn.splice,Lo=ln?ln.isConcatSpreadable:t,qu=ln?ln.iterator:t,Aa=ln?ln.toStringTag:t,Zo=function(){try{var P=nc(xe,"defineProperty");return P({},"",{}),P}catch{}}(),Id=It.clearTimeout!==li.clearTimeout&&It.clearTimeout,_l=yr&&yr.now!==li.Date.now&&yr.now,kd=It.setTimeout!==li.setTimeout&&It.setTimeout,Ci=xa.ceil,Gu=xa.floor,kc=xe.getOwnPropertySymbols,lu=bl?bl.isBuffer:t,bf=It.isFinite,Qo=yn.join,Xa=Ti(xe.keys,xe),Ui=xa.max,wn=xa.min,Hu=yr.now,cu=It.parseInt,Md=xa.random,Vl=yn.reverse,wl=nc(It,"DataView"),zi=nc(It,"Map"),fi=nc(It,"Promise"),mn=nc(It,"Set"),Vu=nc(It,"WeakMap"),Jo=nc(xe,"create"),El=Vu&&new Vu,es={},hp=aa(wl),Ev=aa(zi),$l=aa(fi),_f=aa(mn),th=aa(Vu),Wl=ln?ln.prototype:t,bs=Wl?Wl.valueOf:t,_s=Wl?Wl.toString:t;function Re(P){if(Ia(P)&&!Zr(P)&&!(P instanceof sn)){if(P instanceof Lr)return P;if(on.call(P,"__wrapped__"))return Qa(P)}return new Lr(P)}var ws=function(){function P(){}return function(L){if(!ki(L))return{};if(ms)return ms(L);P.prototype=L;var V=new P;return P.prototype=t,V}}();function ts(){}function Lr(P,L){this.__wrapped__=P,this.__actions__=[],this.__chain__=!!L,this.__index__=0,this.__values__=t}Re.templateSettings={escape:Vn,evaluate:ii,interpolate:ui,variable:"",imports:{_:Re}},Re.prototype=ts.prototype,Re.prototype.constructor=Re,Lr.prototype=ws(ts.prototype),Lr.prototype.constructor=Lr;function sn(P){this.__wrapped__=P,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ce,this.__views__=[]}function Mc(){var P=new sn(this.__wrapped__);return P.__actions__=ga(this.__actions__),P.__dir__=this.__dir__,P.__filtered__=this.__filtered__,P.__iteratees__=ga(this.__iteratees__),P.__takeCount__=this.__takeCount__,P.__views__=ga(this.__views__),P}function Yl(){if(this.__filtered__){var P=new sn(this);P.__dir__=-1,P.__filtered__=!0}else P=this.clone(),P.__dir__*=-1;return P}function xl(){var P=this.__wrapped__.value(),L=this.__dir__,V=Zr(P),ie=L<0,be=V?P.length:0,Me=bp(0,be,this.__views__),Xe=Me.start,it=Me.end,_t=it-Xe,Wt=ie?it:Xe-1,Yt=this.__iteratees__,Zt=Yt.length,br=0,Br=wn(_t,this.__takeCount__);if(!V||!ie&&be==_t&&Br==_t)return Af(P,this.__actions__);var nn=[];e:for(;_t--&&br<Br;){Wt+=L;for(var Un=-1,an=P[Wt];++Un<Zt;){var ti=Yt[Un],bi=ti.iteratee,wh=ti.type,ef=bi(an);if(wh==oe)an=ef;else if(!ef){if(wh==K)continue e;break e}}nn[br++]=an}return nn}sn.prototype=ws(ts.prototype),sn.prototype.constructor=sn;function qi(P){var L=-1,V=P==null?0:P.length;for(this.clear();++L<V;){var ie=P[L];this.set(ie[0],ie[1])}}function xv(){this.__data__=Jo?Jo(null):{},this.size=0}function fu(P){var L=this.has(P)&&delete this.__data__[P];return this.size-=L?1:0,L}function eg(P){var L=this.__data__;if(Jo){var V=L[P];return V===u?t:V}return on.call(L,P)?L[P]:t}function Nd(P){var L=this.__data__;return Jo?L[P]!==t:on.call(L,P)}function rh(P,L){var V=this.__data__;return this.size+=this.has(P)?0:1,V[P]=Jo&&L===t?u:L,this}qi.prototype.clear=xv,qi.prototype.delete=fu,qi.prototype.get=eg,qi.prototype.has=Nd,qi.prototype.set=rh;function oi(P){var L=-1,V=P==null?0:P.length;for(this.clear();++L<V;){var ie=P[L];this.set(ie[0],ie[1])}}function Ld(){this.__data__=[],this.size=0}function jo(P){var L=this.__data__,V=xf(L,P);if(V<0)return!1;var ie=L.length-1;return V==ie?L.pop():eh.call(L,V,1),--this.size,!0}function xr(P){var L=this.__data__,V=xf(L,P);return V<0?t:L[V][1]}function Mh(P){return xf(this.__data__,P)>-1}function ja(P,L){var V=this.__data__,ie=xf(V,P);return ie<0?(++this.size,V.push([P,L])):V[ie][1]=L,this}oi.prototype.clear=Ld,oi.prototype.delete=jo,oi.prototype.get=xr,oi.prototype.has=Mh,oi.prototype.set=ja;function Ba(P){var L=-1,V=P==null?0:P.length;for(this.clear();++L<V;){var ie=P[L];this.set(ie[0],ie[1])}}function hu(){this.size=0,this.__data__={hash:new qi,map:new(zi||oi),string:new qi}}function Nh(P){var L=Cs(this,P).delete(P);return this.size-=L?1:0,L}function tg(P){return Cs(this,P).get(P)}function wf(P){return Cs(this,P).has(P)}function $u(P,L){var V=Cs(this,P),ie=V.size;return V.set(P,L),this.size+=V.size==ie?0:1,this}Ba.prototype.clear=hu,Ba.prototype.delete=Nh,Ba.prototype.get=tg,Ba.prototype.has=wf,Ba.prototype.set=$u;function wo(P){var L=-1,V=P==null?0:P.length;for(this.__data__=new Ba;++L<V;)this.add(P[L])}function Sv(P){return this.__data__.set(P,u),this}function Vs(P){return this.__data__.has(P)}wo.prototype.add=wo.prototype.push=Sv,wo.prototype.has=Vs;function Bo(P){var L=this.__data__=new oi(P);this.size=L.size}function Ef(){this.__data__=new oi,this.size=0}function Nc(P){var L=this.__data__,V=L.delete(P);return this.size=L.size,V}function nh(P){return this.__data__.get(P)}function dp(P){return this.__data__.has(P)}function Lc(P,L){var V=this.__data__;if(V instanceof oi){var ie=V.__data__;if(!zi||ie.length<i-1)return ie.push([P,L]),this.size=++V.size,this;V=this.__data__=new Ba(ie)}return V.set(P,L),this.size=V.size,this}Bo.prototype.clear=Ef,Bo.prototype.delete=Nc,Bo.prototype.get=nh,Bo.prototype.has=dp,Bo.prototype.set=Lc;function jd(P,L){var V=Zr(P),ie=!V&&Xc(P),be=!V&&!ie&&gh(P),Me=!V&&!ie&&!be&&uv(P),Xe=V||ie||be||Me,it=Xe?Gl(P.length,Pd):[],_t=it.length;for(var Wt in P)(L||on.call(P,Wt))&&!(Xe&&(Wt=="length"||be&&(Wt=="offset"||Wt=="parent")||Me&&(Wt=="buffer"||Wt=="byteLength"||Wt=="byteOffset")||Pl(Wt,_t)))&&it.push(Wt);return it}function uo(P){var L=P.length;return L?P[Of(0,L-1)]:t}function Wu(P,L){return nd(ga(P),xs(L,0,P.length))}function Lh(P){return nd(ga(P))}function Es(P,L,V){(V!==t&&!Js(P[L],V)||V===t&&!(L in P))&&vu(P,L,V)}function Yu(P,L,V){var ie=P[L];(!(on.call(P,L)&&Js(ie,V))||V===t&&!(L in P))&&vu(P,L,V)}function xf(P,L){for(var V=P.length;V--;)if(Js(P[V][0],L))return V;return-1}function Eo(P,L,V,ie){return Xu(P,function(be,Me,Xe){L(ie,be,V(be),Xe)}),ie}function $s(P,L){return P&&is(L,$t(L),P)}function du(P,L){return P&&is(L,Be(L),P)}function vu(P,L,V){L=="__proto__"&&Zo?Zo(P,L,{configurable:!0,enumerable:!0,value:V,writable:!0}):P[L]=V}function ih(P,L){for(var V=-1,ie=L.length,be=mt(ie),Me=P==null;++V<ie;)be[V]=Me?t:et(P,L[V]);return be}function xs(P,L,V){return P===P&&(V!==t&&(P=P<=V?P:V),L!==t&&(P=P>=L?P:L)),P}function xo(P,L,V,ie,be,Me){var Xe,it=L&f,_t=L&d,Wt=L&v;if(V&&(Xe=be?V(P,ie,be,Me):V(P)),Xe!==t)return Xe;if(!ki(P))return P;var Yt=Zr(P);if(Yt){if(Xe=_p(P),!it)return ga(P,Xe)}else{var Zt=So(P),br=Zt==Ge||Zt==Qe;if(gh(P))return Iv(P,it);if(Zt==pt||Zt==ge||br&&!be){if(Xe=_t||br?{}:wp(P),!it)return _t?Vc(P,du(Xe,P)):Qh(P,$s(Xe,P))}else{if(!tn[Zt])return be?P:{};Xe=jv(P,Zt,it)}}Me||(Me=new Bo);var Br=Me.get(P);if(Br)return Br;Me.set(P,Xe),fy(P)?P.forEach(function(an){Xe.add(xo(an,L,V,an,P,Me))}):ur(P)&&P.forEach(function(an,ti){Xe.set(ti,xo(an,L,V,ti,P,Me))});var nn=Wt?_t?us:uh:_t?Be:$t,Un=Yt?t:nn(P);return Pr(Un||P,function(an,ti){Un&&(ti=an,an=P[ti]),Yu(Xe,ti,xo(an,L,V,ti,P,Me))}),Xe}function Bd(P){var L=$t(P);return function(V){return jh(V,P,L)}}function jh(P,L,V){var ie=V.length;if(P==null)return!ie;for(P=xe(P);ie--;){var be=V[ie],Me=L[be],Xe=P[be];if(Xe===t&&!(be in P)||!Me(Xe))return!1}return!0}function lo(P,L,V){if(typeof P!="function")throw new na(o);return Wc(function(){P.apply(t,V)},L)}function jc(P,L,V,ie){var be=-1,Me=ci,Xe=!0,it=P.length,_t=[],Wt=L.length;if(!it)return _t;V&&(L=ea(L,Xo(V))),ie?(Me=Sd,Xe=!1):L.length>=i&&(Me=Bu,Xe=!1,L=new wo(L));e:for(;++be<it;){var Yt=P[be],Zt=V==null?Yt:V(Yt);if(Yt=ie||Yt!==0?Yt:0,Xe&&Zt===Zt){for(var br=Wt;br--;)if(L[br]===Zt)continue e;_t.push(Yt)}else Me(L,Zt,ie)||_t.push(Yt)}return _t}var Xu=mp(Ka),Bh=mp(rs,!0);function Bc(P,L){var V=!0;return Xu(P,function(ie,be,Me){return V=!!L(ie,be,Me),V}),V}function Ku(P,L,V){for(var ie=-1,be=P.length;++ie<be;){var Me=P[ie],Xe=L(Me);if(Xe!=null&&(it===t?Xe===Xe&&!xu(Xe):V(Xe,it)))var it=Xe,_t=Me}return _t}function cn(P,L,V,ie){var be=P.length;for(V=O(V),V<0&&(V=-V>be?0:be+V),ie=ie===t||ie>be?be:O(ie),ie<0&&(ie+=be),ie=V>ie?0:B(ie);V<ie;)P[V++]=L;return P}function En(P,L){var V=[];return Xu(P,function(ie,be,Me){L(ie,be,Me)&&V.push(ie)}),V}function bn(P,L,V,ie,be){var Me=-1,Xe=P.length;for(V||(V=Rl),be||(be=[]);++Me<Xe;){var it=P[Me];L>0&&V(it)?L>1?bn(it,L-1,V,ie,be):Ea(be,it):ie||(be[be.length]=it)}return be}var Fc=gu(),Sl=gu(!0);function Ka(P,L){return P&&Fc(P,L,$t)}function rs(P,L){return P&&Sl(P,L,$t)}function Xl(P,L){return ao(L,function(V){return Wi(P[V])})}function ns(P,L){L=Qu(L,P);for(var V=0,ie=L.length;P!=null&&V<ie;)P=P[Zn(L[V++])];return V&&V==ie?P:t}function Ov(P,L,V){var ie=L(P);return Zr(P)?ie:Ea(ie,V(P))}function xn(P){return P==null?P===t?ft:zt:Aa&&Aa in xe(P)?Ys(P):Zd(P)}function Kl(P,L){return P>L}function Ur(P,L){return P!=null&&on.call(P,L)}function Zl(P,L){return P!=null&&L in xe(P)}function Fh(P,L,V){return P>=wn(L,V)&&P<Ui(L,V)}function Uc(P,L,V){for(var ie=V?Sd:ci,be=P[0].length,Me=P.length,Xe=Me,it=mt(Me),_t=1/0,Wt=[];Xe--;){var Yt=P[Xe];Xe&&L&&(Yt=ea(Yt,Xo(L))),_t=wn(Yt.length,_t),it[Xe]=!V&&(L||be>=120&&Yt.length>=120)?new wo(Xe&&Yt):t}Yt=P[0];var Zt=-1,br=it[0];e:for(;++Zt<be&&Wt.length<_t;){var Br=Yt[Zt],nn=L?L(Br):Br;if(Br=V||Br!==0?Br:0,!(br?Bu(br,nn):ie(Wt,nn,V))){for(Xe=Me;--Xe;){var Un=it[Xe];if(!(Un?Bu(Un,nn):ie(P[Xe],nn,V)))continue e}br&&br.push(nn),Wt.push(Br)}}return Wt}function Fd(P,L,V,ie){return Ka(P,function(be,Me,Xe){L(ie,V(be),Me,Xe)}),ie}function zc(P,L,V){L=Qu(L,P),P=As(P,L);var ie=P==null?P:P[Zn(Y(L))];return ie==null?t:Nt(ie,P,V)}function hi(P){return Ia(P)&&xn(P)==ge}function Fo(P){return Ia(P)&&xn(P)==Se}function Gi(P){return Ia(P)&&xn(P)==ke}function qc(P,L,V,ie,be){return P===L?!0:P==null||L==null||!Ia(P)&&!Ia(L)?P!==P&&L!==L:Ra(P,L,V,ie,qc,be)}function Ra(P,L,V,ie,be,Me){var Xe=Zr(P),it=Zr(L),_t=Xe?Ce:So(P),Wt=it?Ce:So(L);_t=_t==ge?pt:_t,Wt=Wt==ge?pt:Wt;var Yt=_t==pt,Zt=Wt==pt,br=_t==Wt;if(br&&gh(P)){if(!gh(L))return!1;Xe=!0,Yt=!1}if(br&&!Yt)return Me||(Me=new Bo),Xe||uv(P)?Lv(P,L,V,ie,be,Me):sh(P,L,_t,V,ie,be,Me);if(!(V&p)){var Br=Yt&&on.call(P,"__wrapped__"),nn=Zt&&on.call(L,"__wrapped__");if(Br||nn){var Un=Br?P.value():P,an=nn?L.value():L;return Me||(Me=new Bo),be(Un,an,V,ie,Me)}}return br?(Me||(Me=new Bo),Da(P,L,V,ie,be,Me)):!1}function co(P){return Ia(P)&&So(P)==ot}function Fa(P,L,V,ie){var be=V.length,Me=be,Xe=!ie;if(P==null)return!Me;for(P=xe(P);be--;){var it=V[be];if(Xe&&it[2]?it[1]!==P[it[0]]:!(it[0]in P))return!1}for(;++be<Me;){it=V[be];var _t=it[0],Wt=P[_t],Yt=it[1];if(Xe&&it[2]){if(Wt===t&&!(_t in P))return!1}else{var Zt=new Bo;if(ie)var br=ie(Wt,Yt,_t,P,L,Zt);if(!(br===t?qc(Yt,Wt,p|m,ie,Zt):br))return!1}}return!0}function Ss(P){if(!ki(P)||ch(P))return!1;var L=Wi(P)?Jf:Us;return L.test(aa(P))}function Tv(P){return Ia(P)&&xn(P)==fe}function Ol(P){return Ia(P)&&So(P)==Ue}function Cv(P){return Ia(P)&&fd(P.length)&&!!$n[xn(P)]}function pu(P){return typeof P=="function"?P:P==null?yt:typeof P=="object"?Zr(P)?zh(P[0],P[1]):Sf(P):mi(P)}function Uh(P){if(!Cn(P))return Xa(P);var L=[];for(var V in xe(P))on.call(P,V)&&V!="constructor"&&L.push(V);return L}function vp(P){if(!ki(P))return ls(P);var L=Cn(P),V=[];for(var ie in P)ie=="constructor"&&(L||!on.call(P,ie))||V.push(ie);return V}function Ql(P,L){return P<L}function Ud(P,L){var V=-1,ie=Co(P)?mt(P.length):[];return Xu(P,function(be,Me,Xe){ie[++V]=L(be,Me,Xe)}),ie}function Sf(P){var L=rn(P);return L.length==1&&L[0][2]?Uv(L[0][0],L[0][1]):function(V){return V===P||Fa(V,P,L)}}function zh(P,L){return Fv(P)&&rd(L)?Uv(Zn(P),L):function(V){var ie=et(V,P);return ie===t&&ie===L?jt(V,P):qc(L,ie,p|m)}}function Zu(P,L,V,ie,be){P!==L&&Fc(L,function(Me,Xe){if(be||(be=new Bo),ki(Me))pp(P,L,Xe,V,Zu,ie,be);else{var it=ie?ie(kf(P,Xe),Me,Xe+"",P,L,be):t;it===t&&(it=Me),Es(P,Xe,it)}},Be)}function pp(P,L,V,ie,be,Me,Xe){var it=kf(P,V),_t=kf(L,V),Wt=Xe.get(_t);if(Wt){Es(P,V,Wt);return}var Yt=Me?Me(it,_t,V+"",P,L,Xe):t,Zt=Yt===t;if(Zt){var br=Zr(_t),Br=!br&&gh(_t),nn=!br&&!Br&&uv(_t);Yt=_t,br||Br||nn?Zr(it)?Yt=it:qa(it)?Yt=ga(it):Br?(Zt=!1,Yt=Iv(_t,!0)):nn?(Zt=!1,Yt=kv(_t,!0)):Yt=[]:tu(_t)||Xc(_t)?(Yt=it,Xc(it)?Yt=G(it):(!ki(it)||Wi(it))&&(Yt=wp(_t))):Zt=!1}Zt&&(Xe.set(_t,Yt),be(Yt,_t,ie,Me,Xe),Xe.delete(_t)),Es(P,V,Yt)}function qh(P,L){var V=P.length;if(V)return L+=L<0?V:0,Pl(L,V)?P[L]:t}function Gc(P,L,V){L.length?L=ea(L,function(Me){return Zr(Me)?function(Xe){return ns(Xe,Me.length===1?Me[0]:Me)}:Me}):L=[yt];var ie=-1;L=ea(L,Xo(Vt()));var be=Ud(P,function(Me,Xe,it){var _t=ea(L,function(Wt){return Wt(Me)});return{criteria:_t,index:++ie,value:Me}});return cp(be,function(Me,Xe){return Pf(Me,Xe,V)})}function Av(P,L){return Gh(P,L,function(V,ie){return jt(P,ie)})}function Gh(P,L,V){for(var ie=-1,be=L.length,Me={};++ie<be;){var Xe=L[ie],it=ns(P,Xe);V(it,Xe)&&Cf(Me,Qu(Xe,P),it)}return Me}function Pa(P){return function(L){return ns(L,P)}}function Jl(P,L,V,ie){var be=ie?Ih:ql,Me=-1,Xe=L.length,it=P;for(P===L&&(L=ga(L)),V&&(it=ea(P,Xo(V)));++Me<Xe;)for(var _t=0,Wt=L[Me],Yt=V?V(Wt):Wt;(_t=be(it,Yt,_t,ie))>-1;)it!==P&&eh.call(it,_t,1),eh.call(P,_t,1);return P}function Rv(P,L){for(var V=P?L.length:0,ie=V-1;V--;){var be=L[V];if(V==ie||be!==Me){var Me=be;Pl(be)?eh.call(P,be,1):Tl(P,be)}}return P}function Of(P,L){return P+Gu(Md()*(L-P+1))}function Pv(P,L,V,ie){for(var be=-1,Me=Ui(Ci((L-P)/(V||1)),0),Xe=mt(Me);Me--;)Xe[ie?Me:++be]=P,P+=V;return Xe}function gp(P,L){var V="";if(!P||L<1||L>ae)return V;do L%2&&(V+=P),L=Gu(L/2),L&&(P+=P);while(L);return V}function Yr(P,L){return Qd(Xs(P,L,yt),P+"")}function Tf(P){return uo(pi(P))}function zd(P,L){var V=pi(P);return nd(V,xs(L,0,V.length))}function Cf(P,L,V,ie){if(!ki(P))return P;L=Qu(L,P);for(var be=-1,Me=L.length,Xe=Me-1,it=P;it!=null&&++be<Me;){var _t=Zn(L[be]),Wt=V;if(_t==="__proto__"||_t==="constructor"||_t==="prototype")return P;if(be!=Xe){var Yt=it[_t];Wt=ie?ie(Yt,_t,it):t,Wt===t&&(Wt=ki(Yt)?Yt:Pl(L[be+1])?[]:{})}Yu(it,_t,Wt),it=it[_t]}return P}var Hh=El?function(P,L){return El.set(P,L),P}:yt,Vh=Zo?function(P,L){return Zo(P,"toString",{configurable:!0,enumerable:!1,value:dt(L),writable:!0})}:yt;function $h(P){return nd(pi(P))}function pa(P,L,V){var ie=-1,be=P.length;L<0&&(L=-L>be?0:be+L),V=V>be?be:V,V<0&&(V+=be),be=L>V?0:V-L>>>0,L>>>=0;for(var Me=mt(be);++ie<be;)Me[ie]=P[ie+L];return Me}function yp(P,L){var V;return Xu(P,function(ie,be,Me){return V=L(ie,be,Me),!V}),!!V}function Wh(P,L,V){var ie=0,be=P==null?ie:P.length;if(typeof L=="number"&&L===L&&be<=Pe){for(;ie<be;){var Me=ie+be>>>1,Xe=P[Me];Xe!==null&&!xu(Xe)&&(V?Xe<=L:Xe<L)?ie=Me+1:be=Me}return be}return qd(P,L,yt,V)}function qd(P,L,V,ie){var be=0,Me=P==null?0:P.length;if(Me===0)return 0;L=V(L);for(var Xe=L!==L,it=L===null,_t=xu(L),Wt=L===t;be<Me;){var Yt=Gu((be+Me)/2),Zt=V(P[Yt]),br=Zt!==t,Br=Zt===null,nn=Zt===Zt,Un=xu(Zt);if(Xe)var an=ie||nn;else Wt?an=nn&&(ie||br):it?an=nn&&br&&(ie||!Br):_t?an=nn&&br&&!Br&&(ie||!Un):Br||Un?an=!1:an=ie?Zt<=L:Zt<L;an?be=Yt+1:Me=Yt}return wn(Me,pe)}function Yh(P,L){for(var V=-1,ie=P.length,be=0,Me=[];++V<ie;){var Xe=P[V],it=L?L(Xe):Xe;if(!V||!Js(it,_t)){var _t=it;Me[be++]=Xe===0?0:Xe}}return Me}function Dv(P){return typeof P=="number"?P:xu(P)?se:+P}function Ws(P){if(typeof P=="string")return P;if(Zr(P))return ea(P,Ws)+"";if(xu(P))return _s?_s.call(P):"";var L=P+"";return L=="0"&&1/P==-1/0?"-0":L}function Hc(P,L,V){var ie=-1,be=ci,Me=P.length,Xe=!0,it=[],_t=it;if(V)Xe=!1,be=Sd;else if(Me>=i){var Wt=L?null:yu(P);if(Wt)return wv(Wt);Xe=!1,be=Bu,_t=new wo}else _t=L?[]:it;e:for(;++ie<Me;){var Yt=P[ie],Zt=L?L(Yt):Yt;if(Yt=V||Yt!==0?Yt:0,Xe&&Zt===Zt){for(var br=_t.length;br--;)if(_t[br]===Zt)continue e;L&&_t.push(Zt),it.push(Yt)}else be(_t,Zt,V)||(_t!==it&&_t.push(Zt),it.push(Yt))}return it}function Tl(P,L){return L=Qu(L,P),P=As(P,L),P==null||delete P[Zn(Y(L))]}function Gd(P,L,V,ie){return Cf(P,L,V(ns(P,L)),ie)}function Hd(P,L,V,ie){for(var be=P.length,Me=ie?be:-1;(ie?Me--:++Me<be)&&L(P[Me],Me,P););return V?pa(P,ie?0:Me,ie?Me+1:be):pa(P,ie?Me+1:0,ie?be:Me)}function Af(P,L){var V=P;return V instanceof sn&&(V=V.value()),Ph(L,function(ie,be){return be.func.apply(be.thisArg,Ea([ie],be.args))},V)}function Xh(P,L,V){var ie=P.length;if(ie<2)return ie?Hc(P[0]):[];for(var be=-1,Me=mt(ie);++be<ie;)for(var Xe=P[be],it=-1;++it<ie;)it!=be&&(Me[be]=jc(Me[be]||Xe,P[it],L,V));return Hc(bn(Me,1),L,V)}function Kh(P,L,V){for(var ie=-1,be=P.length,Me=L.length,Xe={};++ie<be;){var it=ie<Me?L[ie]:t;V(Xe,P[ie],it)}return Xe}function ah(P){return qa(P)?P:[]}function Za(P){return typeof P=="function"?P:yt}function Qu(P,L){return Zr(P)?P:Fv(P,L)?[P]:Rs(W(P))}var Vd=Yr;function ec(P,L,V){var ie=P.length;return V=V===t?ie:V,!L&&V>=ie?P:pa(P,L,V)}var rg=Id||function(P){return li.clearTimeout(P)};function Iv(P,L){if(L)return P.slice();var V=P.length,ie=ys?ys(V):new P.constructor(V);return P.copy(ie),ie}function Cl(P){var L=new P.constructor(P.byteLength);return new Ic(L).set(new Ic(P)),L}function Rf(P,L){var V=L?Cl(P.buffer):P.buffer;return new P.constructor(V,P.byteOffset,P.byteLength)}function Zh(P){var L=new P.constructor(P.source,$a.exec(P));return L.lastIndex=P.lastIndex,L}function $d(P){return bs?xe(bs.call(P)):{}}function kv(P,L){var V=L?Cl(P.buffer):P.buffer;return new P.constructor(V,P.byteOffset,P.length)}function oh(P,L){if(P!==L){var V=P!==t,ie=P===null,be=P===P,Me=xu(P),Xe=L!==t,it=L===null,_t=L===L,Wt=xu(L);if(!it&&!Wt&&!Me&&P>L||Me&&Xe&&_t&&!it&&!Wt||ie&&Xe&&_t||!V&&_t||!be)return 1;if(!ie&&!Me&&!Wt&&P<L||Wt&&V&&be&&!ie&&!Me||it&&V&&be||!Xe&&be||!_t)return-1}return 0}function Pf(P,L,V){for(var ie=-1,be=P.criteria,Me=L.criteria,Xe=be.length,it=V.length;++ie<Xe;){var _t=oh(be[ie],Me[ie]);if(_t){if(ie>=it)return _t;var Wt=V[ie];return _t*(Wt=="desc"?-1:1)}}return P.index-L.index}function Mv(P,L,V,ie){for(var be=-1,Me=P.length,Xe=V.length,it=-1,_t=L.length,Wt=Ui(Me-Xe,0),Yt=mt(_t+Wt),Zt=!ie;++it<_t;)Yt[it]=L[it];for(;++be<Xe;)(Zt||be<Me)&&(Yt[V[be]]=P[be]);for(;Wt--;)Yt[it++]=P[be++];return Yt}function ng(P,L,V,ie){for(var be=-1,Me=P.length,Xe=-1,it=V.length,_t=-1,Wt=L.length,Yt=Ui(Me-it,0),Zt=mt(Yt+Wt),br=!ie;++be<Yt;)Zt[be]=P[be];for(var Br=be;++_t<Wt;)Zt[Br+_t]=L[_t];for(;++Xe<it;)(br||be<Me)&&(Zt[Br+V[Xe]]=P[be++]);return Zt}function ga(P,L){var V=-1,ie=P.length;for(L||(L=mt(ie));++V<ie;)L[V]=P[V];return L}function is(P,L,V,ie){var be=!V;V||(V={});for(var Me=-1,Xe=L.length;++Me<Xe;){var it=L[Me],_t=ie?ie(V[it],P[it],it,V,P):t;_t===t&&(_t=P[it]),be?vu(V,it,_t):Yu(V,it,_t)}return V}function Qh(P,L){return is(P,ed(P),L)}function Vc(P,L){return is(P,qn(P),L)}function Df(P,L){return function(V,ie){var be=Zr(V)?vr:Eo,Me=L?L():{};return be(V,P,Vt(ie,2),Me)}}function Al(P){return Yr(function(L,V){var ie=-1,be=V.length,Me=be>1?V[be-1]:t,Xe=be>2?V[2]:t;for(Me=P.length>3&&typeof Me=="function"?(be--,Me):t,Xe&&zo(V[0],V[1],Xe)&&(Me=be<3?t:Me,be=1),L=xe(L);++ie<be;){var it=V[ie];it&&P(L,it,ie,Me)}return L})}function mp(P,L){return function(V,ie){if(V==null)return V;if(!Co(V))return P(V,ie);for(var be=V.length,Me=L?be:-1,Xe=xe(V);(L?Me--:++Me<be)&&ie(Xe[Me],Me,Xe)!==!1;);return V}}function gu(P){return function(L,V,ie){for(var be=-1,Me=xe(L),Xe=ie(L),it=Xe.length;it--;){var _t=Xe[P?it:++be];if(V(Me[_t],_t,Me)===!1)break}return L}}function Ju(P,L,V){var ie=L&w,be=Os(P);function Me(){var Xe=this&&this!==li&&this instanceof Me?be:P;return Xe.apply(ie?V:this,arguments)}return Me}function Uo(P){return function(L){L=W(L);var V=Hl(L)?_o(L):t,ie=V?V[0]:L.charAt(0),be=V?ec(V,1).join(""):L.slice(1);return ie[P]()+be}}function as(P){return function(L){return Ph(H(pn(L).replace(zs,"")),P,"")}}function Os(P){return function(){var L=arguments;switch(L.length){case 0:return new P;case 1:return new P(L[0]);case 2:return new P(L[0],L[1]);case 3:return new P(L[0],L[1],L[2]);case 4:return new P(L[0],L[1],L[2],L[3]);case 5:return new P(L[0],L[1],L[2],L[3],L[4]);case 6:return new P(L[0],L[1],L[2],L[3],L[4],L[5]);case 7:return new P(L[0],L[1],L[2],L[3],L[4],L[5],L[6])}var V=ws(P.prototype),ie=P.apply(V,L);return ki(ie)?ie:V}}function Wd(P,L,V){var ie=Os(P);function be(){for(var Me=arguments.length,Xe=mt(Me),it=Me,_t=lh(be);it--;)Xe[it]=arguments[it];var Wt=Me<3&&Xe[0]!==_t&&Xe[Me-1]!==_t?[]:ta(Xe,_t);if(Me-=Wt.length,Me<V)return Nv(P,L,Sa,be.placeholder,t,Xe,Wt,t,t,V-Me);var Yt=this&&this!==li&&this instanceof be?ie:P;return Nt(Yt,this,Xe)}return be}function tc(P){return function(L,V,ie){var be=xe(L);if(!Co(L)){var Me=Vt(V,3);L=$t(L),V=function(it){return Me(be[it],it,be)}}var Xe=P(L,V,ie);return Xe>-1?be[Me?L[Xe]:Xe]:t}}function ia(P){return di(function(L){var V=L.length,ie=V,be=Lr.prototype.thru;for(P&&L.reverse();ie--;){var Me=L[ie];if(typeof Me!="function")throw new na(o);if(be&&!Xe&&Xd(Me)=="wrapper")var Xe=new Lr([],!0)}for(ie=Xe?ie:V;++ie<V;){Me=L[ie];var it=Xd(Me),_t=it=="wrapper"?el(Me):t;_t&&dn(_t[0])&&_t[1]==(R|_|A|k)&&!_t[4].length&&_t[9]==1?Xe=Xe[Xd(_t[0])].apply(Xe,_t[3]):Xe=Me.length==1&&dn(Me)?Xe[it]():Xe.thru(Me)}return function(){var Wt=arguments,Yt=Wt[0];if(Xe&&Wt.length==1&&Zr(Yt))return Xe.plant(Yt).value();for(var Zt=0,br=V?L[Zt].apply(this,Wt):Yt;++Zt<V;)br=L[Zt].call(this,br);return br}})}function Sa(P,L,V,ie,be,Me,Xe,it,_t,Wt){var Yt=L&R,Zt=L&w,br=L&b,Br=L&(_|S),nn=L&j,Un=br?t:Os(P);function an(){for(var ti=arguments.length,bi=mt(ti),wh=ti;wh--;)bi[wh]=arguments[wh];if(Br)var ef=lh(an),Eh=Qp(bi,ef);if(ie&&(bi=Mv(bi,ie,be,Br)),Me&&(bi=ng(bi,Me,Xe,Br)),ti-=Eh,Br&&ti<Wt){var Ns=ta(bi,ef);return Nv(P,L,Sa,an.placeholder,V,bi,Ns,it,_t,Wt-ti)}var lv=Zt?V:this,Mp=br?lv[P]:P;return ti=bi.length,it?bi=Dl(bi,it):nn&&ti>1&&bi.reverse(),Yt&&_t<ti&&(bi.length=_t),this&&this!==li&&this instanceof an&&(Mp=Un||Os(Mp)),Mp.apply(lv,bi)}return an}function rc(P,L){return function(V,ie){return Fd(V,P,L(ie),{})}}function os(P,L){return function(V,ie){var be;if(V===t&&ie===t)return L;if(V!==t&&(be=V),ie!==t){if(be===t)return ie;typeof V=="string"||typeof ie=="string"?(V=Ws(V),ie=Ws(ie)):(V=Dv(V),ie=Dv(ie)),be=P(V,ie)}return be}}function Xr(P){return di(function(L){return L=ea(L,Xo(Vt())),Yr(function(V){var ie=this;return P(L,function(be){return Nt(be,ie,V)})})})}function Jh(P,L){L=L===t?" ":Ws(L);var V=L.length;if(V<2)return V?gp(L,P):L;var ie=gp(L,Ci(P/Er(L)));return Hl(L)?ec(_o(ie),0,P).join(""):ie.slice(0,P)}function ss(P,L,V,ie){var be=L&w,Me=Os(P);function Xe(){for(var it=-1,_t=arguments.length,Wt=-1,Yt=ie.length,Zt=mt(Yt+_t),br=this&&this!==li&&this instanceof Xe?Me:P;++Wt<Yt;)Zt[Wt]=ie[Wt];for(;_t--;)Zt[Wt++]=arguments[++it];return Nt(br,be?V:this,Zt)}return Xe}function Kn(P){return function(L,V,ie){return ie&&typeof ie!="number"&&zo(L,V,ie)&&(V=ie=t),L=C(L),V===t?(V=L,L=0):V=C(V),ie=ie===t?L<V?1:-1:C(ie),Pv(L,V,ie,P)}}function Ua(P){return function(L,V){return typeof L=="string"&&typeof V=="string"||(L=N(L),V=N(V)),P(L,V)}}function Nv(P,L,V,ie,be,Me,Xe,it,_t,Wt){var Yt=L&_,Zt=Yt?Xe:t,br=Yt?t:Xe,Br=Yt?Me:t,nn=Yt?t:Me;L|=Yt?A:D,L&=~(Yt?D:A),L&y||(L&=-4);var Un=[P,L,be,Br,Zt,nn,br,it,_t,Wt],an=V.apply(t,Un);return dn(P)&&fh(an,Un),an.placeholder=ie,Jd(an,P,L)}function If(P){var L=xa[P];return function(V,ie){if(V=N(V),ie=ie==null?0:wn(O(ie),292),ie&&bf(V)){var be=(W(V)+"e").split("e"),Me=L(be[0]+"e"+(+be[1]+ie));return be=(W(Me)+"e").split("e"),+(be[0]+"e"+(+be[1]-ie))}return L(V)}}var yu=mn&&1/wv(new mn([,-0]))[1]==re?function(P){return new mn(P)}:wr;function $c(P){return function(L){var V=So(L);return V==ot?bo(L):V==Ue?Wg(L):fp(L,P(L))}}function Ts(P,L,V,ie,be,Me,Xe,it){var _t=L&b;if(!_t&&typeof P!="function")throw new na(o);var Wt=ie?ie.length:0;if(Wt||(L&=-97,ie=be=t),Xe=Xe===t?Xe:Ui(O(Xe),0),it=it===t?it:O(it),Wt-=be?be.length:0,L&D){var Yt=ie,Zt=be;ie=be=t}var br=_t?t:el(P),Br=[P,L,V,ie,be,Yt,Zt,Me,Xe,it];if(br&&mu(Br,br),P=Br[0],L=Br[1],V=Br[2],ie=Br[3],be=Br[4],it=Br[9]=Br[9]===t?_t?0:P.length:Ui(Br[9]-Wt,0),!it&&L&(_|S)&&(L&=-25),!L||L==w)var nn=Ju(P,L,V);else L==_||L==S?nn=Wd(P,L,it):(L==A||L==(w|A))&&!be.length?nn=ss(P,L,V,ie):nn=Sa.apply(t,Br);var Un=br?Hh:fh;return Jd(Un(nn,Br),P,L)}function Ai(P,L,V,ie){return P===t||Js(P,Gs[V])&&!on.call(ie,V)?L:P}function Ri(P,L,V,ie,be,Me){return ki(P)&&ki(L)&&(Me.set(L,P),Zu(P,L,t,Ri,Me),Me.delete(L)),P}function Yd(P){return tu(P)?t:P}function Lv(P,L,V,ie,be,Me){var Xe=V&p,it=P.length,_t=L.length;if(it!=_t&&!(Xe&&_t>it))return!1;var Wt=Me.get(P),Yt=Me.get(L);if(Wt&&Yt)return Wt==L&&Yt==P;var Zt=-1,br=!0,Br=V&m?new wo:t;for(Me.set(P,L),Me.set(L,P);++Zt<it;){var nn=P[Zt],Un=L[Zt];if(ie)var an=Xe?ie(Un,nn,Zt,L,P,Me):ie(nn,Un,Zt,P,L,Me);if(an!==t){if(an)continue;br=!1;break}if(Br){if(!df(L,function(ti,bi){if(!Bu(Br,bi)&&(nn===ti||be(nn,ti,V,ie,Me)))return Br.push(bi)})){br=!1;break}}else if(!(nn===Un||be(nn,Un,V,ie,Me))){br=!1;break}}return Me.delete(P),Me.delete(L),br}function sh(P,L,V,ie,be,Me,Xe){switch(V){case Ke:if(P.byteLength!=L.byteLength||P.byteOffset!=L.byteOffset)return!1;P=P.buffer,L=L.buffer;case Se:return!(P.byteLength!=L.byteLength||!Me(new Ic(P),new Ic(L)));case De:case ke:case Tt:return Js(+P,+L);case Ie:return P.name==L.name&&P.message==L.message;case fe:case qe:return P==L+"";case ot:var it=bo;case Ue:var _t=ie&p;if(it||(it=wv),P.size!=L.size&&!_t)return!1;var Wt=Xe.get(P);if(Wt)return Wt==L;ie|=m,Xe.set(P,L);var Yt=Lv(it(P),it(L),ie,be,Me,Xe);return Xe.delete(P),Yt;case We:if(bs)return bs.call(P)==bs.call(L)}return!1}function Da(P,L,V,ie,be,Me){var Xe=V&p,it=uh(P),_t=it.length,Wt=uh(L),Yt=Wt.length;if(_t!=Yt&&!Xe)return!1;for(var Zt=_t;Zt--;){var br=it[Zt];if(!(Xe?br in L:on.call(L,br)))return!1}var Br=Me.get(P),nn=Me.get(L);if(Br&&nn)return Br==L&&nn==P;var Un=!0;Me.set(P,L),Me.set(L,P);for(var an=Xe;++Zt<_t;){br=it[Zt];var ti=P[br],bi=L[br];if(ie)var wh=Xe?ie(bi,ti,br,L,P,Me):ie(ti,bi,br,P,L,Me);if(!(wh===t?ti===bi||be(ti,bi,V,ie,Me):wh)){Un=!1;break}an||(an=br=="constructor")}if(Un&&!an){var ef=P.constructor,Eh=L.constructor;ef!=Eh&&"constructor"in P&&"constructor"in L&&!(typeof ef=="function"&&ef instanceof ef&&typeof Eh=="function"&&Eh instanceof Eh)&&(Un=!1)}return Me.delete(P),Me.delete(L),Un}function di(P){return Qd(Xs(P,t,hs),P+"")}function uh(P){return Ov(P,$t,ed)}function us(P){return Ov(P,Be,qn)}var el=El?function(P){return El.get(P)}:wr;function Xd(P){for(var L=P.name+"",V=es[L],ie=on.call(es,L)?V.length:0;ie--;){var be=V[ie],Me=be.func;if(Me==null||Me==P)return be.name}return L}function lh(P){var L=on.call(Re,"placeholder")?Re:P;return L.placeholder}function Vt(){var P=Re.iteratee||kr;return P=P===kr?pu:P,arguments.length?P(arguments[0],arguments[1]):P}function Cs(P,L){var V=P.__data__;return Pi(L)?V[typeof L=="string"?"string":"hash"]:V.map}function rn(P){for(var L=$t(P),V=L.length;V--;){var ie=L[V],be=P[ie];L[V]=[ie,be,rd(be)]}return L}function nc(P,L){var V=Zf(P,L);return Ss(V)?V:t}function Ys(P){var L=on.call(P,Aa),V=P[Aa];try{P[Aa]=t;var ie=!0}catch{}var be=va.call(P);return ie&&(L?P[Aa]=V:delete P[Aa]),be}var ed=kc?function(P){return P==null?[]:(P=xe(P),ao(kc(P),function(L){return so.call(P,L)}))}:q1,qn=kc?function(P){for(var L=[];P;)Ea(L,ed(P)),P=mf(P);return L}:q1,So=xn;(wl&&So(new wl(new ArrayBuffer(1)))!=Ke||zi&&So(new zi)!=ot||fi&&So(fi.resolve())!=Q||mn&&So(new mn)!=Ue||Vu&&So(new Vu)!=Ht)&&(So=function(P){var L=xn(P),V=L==pt?P.constructor:t,ie=V?aa(V):"";if(ie)switch(ie){case hp:return Ke;case Ev:return ot;case $l:return Q;case _f:return Ue;case th:return Ht}return L});function bp(P,L,V){for(var ie=-1,be=V.length;++ie<be;){var Me=V[ie],Xe=Me.size;switch(Me.type){case"drop":P+=Xe;break;case"dropRight":L-=Xe;break;case"take":L=wn(L,P+Xe);break;case"takeRight":P=Ui(P,L-Xe);break}}return{start:P,end:L}}function td(P){var L=P.match(Wr);return L?L[1].split(zn):[]}function Kd(P,L,V){L=Qu(L,P);for(var ie=-1,be=L.length,Me=!1;++ie<be;){var Xe=Zn(L[ie]);if(!(Me=P!=null&&V(P,Xe)))break;P=P[Xe]}return Me||++ie!=be?Me:(be=P==null?0:P.length,!!be&&fd(be)&&Pl(Xe,be)&&(Zr(P)||Xc(P)))}function _p(P){var L=P.length,V=new P.constructor(L);return L&&typeof P[0]=="string"&&on.call(P,"index")&&(V.index=P.index,V.input=P.input),V}function wp(P){return typeof P.constructor=="function"&&!Cn(P)?ws(mf(P)):{}}function jv(P,L,V){var ie=P.constructor;switch(L){case Se:return Cl(P);case De:case ke:return new ie(+P);case Ke:return Rf(P,V);case ht:case ct:case xt:case er:case Rt:case Jt:case mr:case Mr:case cr:return kv(P,V);case ot:return new ie;case Tt:case qe:return new ie(P);case fe:return Zh(P);case Ue:return new ie;case We:return $d(P)}}function Bv(P,L){var V=L.length;if(!V)return P;var ie=V-1;return L[ie]=(V>1?"& ":"")+L[ie],L=L.join(V>2?", ":" "),P.replace(Qi,`{
/* [wrapped with `+L+`] */
`)}function Rl(P){return Zr(P)||Xc(P)||!!(Lo&&P&&P[Lo])}function Pl(P,L){var V=typeof P;return L=L??ae,!!L&&(V=="number"||V!="symbol"&&go.test(P))&&P>-1&&P%1==0&&P<L}function zo(P,L,V){if(!ki(V))return!1;var ie=typeof L;return(ie=="number"?Co(V)&&Pl(L,V.length):ie=="string"&&L in V)?Js(V[L],P):!1}function Fv(P,L){if(Zr(P))return!1;var V=typeof P;return V=="number"||V=="symbol"||V=="boolean"||P==null||xu(P)?!0:la.test(P)||!ji.test(P)||L!=null&&P in xe(L)}function Pi(P){var L=typeof P;return L=="string"||L=="number"||L=="symbol"||L=="boolean"?P!=="__proto__":P===null}function dn(P){var L=Xd(P),V=Re[L];if(typeof V!="function"||!(L in sn.prototype))return!1;if(P===V)return!0;var ie=el(V);return!!ie&&P===ie[0]}function ch(P){return!!Dd&&Dd in P}var Oo=oo?Wi:G1;function Cn(P){var L=P&&P.constructor,V=typeof L=="function"&&L.prototype||Gs;return P===V}function rd(P){return P===P&&!ki(P)}function Uv(P,L){return function(V){return V==null?!1:V[P]===L&&(L!==t||P in xe(V))}}function zv(P){var L=Yv(P,function(ie){return V.size===l&&V.clear(),ie}),V=L.cache;return L}function mu(P,L){var V=P[1],ie=L[1],be=V|ie,Me=be<(w|b|R),Xe=ie==R&&V==_||ie==R&&V==k&&P[7].length<=L[8]||ie==(R|k)&&L[7].length<=L[8]&&V==_;if(!(Me||Xe))return P;ie&w&&(P[2]=L[2],be|=V&w?0:y);var it=L[3];if(it){var _t=P[3];P[3]=_t?Mv(_t,it,L[4]):it,P[4]=_t?ta(P[3],c):L[4]}return it=L[5],it&&(_t=P[5],P[5]=_t?ng(_t,it,L[6]):it,P[6]=_t?ta(P[5],c):L[6]),it=L[7],it&&(P[7]=it),ie&R&&(P[8]=P[8]==null?L[8]:wn(P[8],L[8])),P[9]==null&&(P[9]=L[9]),P[0]=L[0],P[1]=be,P}function ls(P){var L=[];if(P!=null)for(var V in xe(P))L.push(V);return L}function Zd(P){return va.call(P)}function Xs(P,L,V){return L=Ui(L===t?P.length-1:L,0),function(){for(var ie=arguments,be=-1,Me=Ui(ie.length-L,0),Xe=mt(Me);++be<Me;)Xe[be]=ie[L+be];be=-1;for(var it=mt(L+1);++be<L;)it[be]=ie[be];return it[L]=V(Xe),Nt(P,this,it)}}function As(P,L){return L.length<2?P:ns(P,pa(L,0,-1))}function Dl(P,L){for(var V=P.length,ie=wn(L.length,V),be=ga(P);ie--;){var Me=L[ie];P[ie]=Pl(Me,V)?be[Me]:t}return P}function kf(P,L){if(!(L==="constructor"&&typeof P[L]=="function")&&L!="__proto__")return P[L]}var fh=hh(Hh),Wc=kd||function(P,L){return li.setTimeout(P,L)},Qd=hh(Vh);function Jd(P,L,V){var ie=L+"";return Qd(P,Bv(ie,dh(td(ie),V)))}function hh(P){var L=0,V=0;return function(){var ie=Hu(),be=$-(ie-V);if(V=ie,be>0){if(++L>=q)return arguments[0]}else L=0;return P.apply(t,arguments)}}function nd(P,L){var V=-1,ie=P.length,be=ie-1;for(L=L===t?ie:L;++V<L;){var Me=Of(V,be),Xe=P[Me];P[Me]=P[V],P[V]=Xe}return P.length=L,P}var Rs=zv(function(P){var L=[];return P.charCodeAt(0)===46&&L.push(""),P.replace(ca,function(V,ie,be,Me){L.push(be?Me.replace(Va,"$1"):ie||V)}),L});function Zn(P){if(typeof P=="string"||xu(P))return P;var L=P+"";return L=="0"&&1/P==-1/0?"-0":L}function aa(P){if(P!=null){try{return Uu.call(P)}catch{}try{return P+""}catch{}}return""}function dh(P,L){return Pr(de,function(V){var ie="_."+V[0];L&V[1]&&!ci(P,ie)&&P.push(ie)}),P.sort()}function Qa(P){if(P instanceof sn)return P.clone();var L=new Lr(P.__wrapped__,P.__chain__);return L.__actions__=ga(P.__actions__),L.__index__=P.__index__,L.__values__=P.__values__,L}function Ks(P,L,V){(V?zo(P,L,V):L===t)?L=1:L=Ui(O(L),0);var ie=P==null?0:P.length;if(!ie||L<1)return[];for(var be=0,Me=0,Xe=mt(Ci(ie/L));be<ie;)Xe[Me++]=pa(P,be,be+=L);return Xe}function To(P){for(var L=-1,V=P==null?0:P.length,ie=0,be=[];++L<V;){var Me=P[L];Me&&(be[ie++]=Me)}return be}function Ep(){var P=arguments.length;if(!P)return[];for(var L=mt(P-1),V=arguments[0],ie=P;ie--;)L[ie-1]=arguments[ie];return Ea(Zr(V)?ga(V):[V],bn(L,1))}var Qn=Yr(function(P,L){return qa(P)?jc(P,bn(L,1,qa,!0)):[]}),cs=Yr(function(P,L){var V=Y(L);return qa(V)&&(V=t),qa(P)?jc(P,bn(L,1,qa,!0),Vt(V,2)):[]}),tl=Yr(function(P,L){var V=Y(L);return qa(V)&&(V=t),qa(P)?jc(P,bn(L,1,qa,!0),t,V):[]});function id(P,L,V){var ie=P==null?0:P.length;return ie?(L=V||L===t?1:O(L),pa(P,L<0?0:L,ie)):[]}function xp(P,L,V){var ie=P==null?0:P.length;return ie?(L=V||L===t?1:O(L),L=ie-L,pa(P,0,L<0?0:L)):[]}function Yg(P,L){return P&&P.length?Hd(P,Vt(L,3),!0,!0):[]}function ev(P,L){return P&&P.length?Hd(P,Vt(L,3),!0):[]}function ya(P,L,V,ie){var be=P==null?0:P.length;return be?(V&&typeof V!="number"&&zo(P,L,V)&&(V=0,ie=be),cn(P,L,V,ie)):[]}function bu(P,L,V){var ie=P==null?0:P.length;if(!ie)return-1;var be=V==null?0:O(V);return be<0&&(be=Ui(ie+be,0)),Tc(P,Vt(L,3),be)}function fs(P,L,V){var ie=P==null?0:P.length;if(!ie)return-1;var be=ie-1;return V!==t&&(be=O(V),be=V<0?Ui(ie+be,0):wn(be,ie-1)),Tc(P,Vt(L,3),be,!0)}function hs(P){var L=P==null?0:P.length;return L?bn(P,1):[]}function qv(P){var L=P==null?0:P.length;return L?bn(P,re):[]}function rl(P,L){var V=P==null?0:P.length;return V?(L=L===t?1:O(L),bn(P,L)):[]}function Yc(P){for(var L=-1,V=P==null?0:P.length,ie={};++L<V;){var be=P[L];ie[be[0]]=be[1]}return ie}function ic(P){return P&&P.length?P[0]:t}function Sp(P,L,V){var ie=P==null?0:P.length;if(!ie)return-1;var be=V==null?0:O(V);return be<0&&(be=Ui(ie+be,0)),ql(P,L,be)}function Hi(P){var L=P==null?0:P.length;return L?pa(P,0,-1):[]}var Il=Yr(function(P){var L=ea(P,ah);return L.length&&L[0]===P[0]?Uc(L):[]}),Gv=Yr(function(P){var L=Y(P),V=ea(P,ah);return L===Y(V)?L=t:V.pop(),V.length&&V[0]===P[0]?Uc(V,Vt(L,2)):[]}),I=Yr(function(P){var L=Y(P),V=ea(P,ah);return L=typeof L=="function"?L:t,L&&V.pop(),V.length&&V[0]===P[0]?Uc(V,t,L):[]});function U(P,L){return P==null?"":Qo.call(P,L)}function Y(P){var L=P==null?0:P.length;return L?P[L-1]:t}function le(P,L,V){var ie=P==null?0:P.length;if(!ie)return-1;var be=ie;return V!==t&&(be=O(V),be=be<0?Ui(ie+be,0):wn(be,ie-1)),L===L?qs(P,L,be):Tc(P,Lu,be,!0)}function me(P,L){return P&&P.length?qh(P,O(L)):t}var Le=Yr(Ze);function Ze(P,L){return P&&P.length&&L&&L.length?Jl(P,L):P}function nt(P,L,V){return P&&P.length&&L&&L.length?Jl(P,L,Vt(V,2)):P}function Ot(P,L,V){return P&&P.length&&L&&L.length?Jl(P,L,t,V):P}var qt=di(function(P,L){var V=P==null?0:P.length,ie=ih(P,L);return Rv(P,ea(L,function(be){return Pl(be,V)?+be:be}).sort(oh)),ie});function Gt(P,L){var V=[];if(!(P&&P.length))return V;var ie=-1,be=[],Me=P.length;for(L=Vt(L,3);++ie<Me;){var Xe=P[ie];L(Xe,ie,P)&&(V.push(Xe),be.push(ie))}return Rv(P,be),V}function Xt(P){return P==null?P:Vl.call(P)}function tr(P,L,V){var ie=P==null?0:P.length;return ie?(V&&typeof V!="number"&&zo(P,L,V)?(L=0,V=ie):(L=L==null?0:O(L),V=V===t?ie:O(V)),pa(P,L,V)):[]}function ir(P,L){return Wh(P,L)}function nr(P,L,V){return qd(P,L,Vt(V,2))}function Pt(P,L){var V=P==null?0:P.length;if(V){var ie=Wh(P,L);if(ie<V&&Js(P[ie],L))return ie}return-1}function Bt(P,L){return Wh(P,L,!0)}function _r(P,L,V){return qd(P,L,Vt(V,2),!0)}function ar(P,L){var V=P==null?0:P.length;if(V){var ie=Wh(P,L,!0)-1;if(Js(P[ie],L))return ie}return-1}function zr(P){return P&&P.length?Yh(P):[]}function Vr(P,L){return P&&P.length?Yh(P,Vt(L,2)):[]}function un(P){var L=P==null?0:P.length;return L?pa(P,1,L):[]}function hr(P,L,V){return P&&P.length?(L=V||L===t?1:O(L),pa(P,0,L<0?0:L)):[]}function Sr(P,L,V){var ie=P==null?0:P.length;return ie?(L=V||L===t?1:O(L),L=ie-L,pa(P,L<0?0:L,ie)):[]}function Di(P,L){return P&&P.length?Hd(P,Vt(L,3),!1,!0):[]}function Ii(P,L){return P&&P.length?Hd(P,Vt(L,3)):[]}var Vi=Yr(function(P){return Hc(bn(P,1,qa,!0))}),Jn=Yr(function(P){var L=Y(P);return qa(L)&&(L=t),Hc(bn(P,1,qa,!0),Vt(L,2))}),Ja=Yr(function(P){var L=Y(P);return L=typeof L=="function"?L:t,Hc(bn(P,1,qa,!0),t,L)});function Oa(P){return P&&P.length?Hc(P):[]}function nl(P,L){return P&&P.length?Hc(P,Vt(L,2)):[]}function _u(P,L){return L=typeof L=="function"?L:t,P&&P.length?Hc(P,t,L):[]}function Zs(P){if(!(P&&P.length))return[];var L=0;return P=ao(P,function(V){if(qa(V))return L=Ui(V.length,L),!0}),Gl(L,function(V){return ea(P,yl(V))})}function wu(P,L){if(!(P&&P.length))return[];var V=Zs(P);return L==null?V:ea(V,function(ie){return Nt(L,t,ie)})}var ac=Yr(function(P,L){return qa(P)?jc(P,L):[]}),za=Yr(function(P){return Xh(ao(P,qa))}),oc=Yr(function(P){var L=Y(P);return qa(L)&&(L=t),Xh(ao(P,qa),Vt(L,2))}),Ps=Yr(function(P){var L=Y(P);return L=typeof L=="function"?L:t,Xh(ao(P,qa),t,L)}),kl=Yr(Zs);function tv(P,L){return Kh(P||[],L||[],Yu)}function vh(P,L){return Kh(P||[],L||[],Cf)}var ad=Yr(function(P){var L=P.length,V=L>1?P[L-1]:t;return V=typeof V=="function"?(P.pop(),V):t,wu(P,V)});function qo(P){var L=Re(P);return L.__chain__=!0,L}function Xg(P,L){return L(P),P}function jr(P,L){return L(P)}var Kg=di(function(P){var L=P.length,V=L?P[0]:0,ie=this.__wrapped__,be=function(Me){return ih(Me,P)};return L>1||this.__actions__.length||!(ie instanceof sn)||!Pl(V)?this.thru(be):(ie=ie.slice(V,+V+(L?1:0)),ie.__actions__.push({func:jr,args:[be],thisArg:t}),new Lr(ie,this.__chain__).thru(function(Me){return L&&!Me.length&&Me.push(t),Me}))});function Qs(){return qo(this)}function ig(){return new Lr(this.value(),this.__chain__)}function rv(){this.__values__===t&&(this.__values__=x(this.value()));var P=this.__index__>=this.__values__.length,L=P?t:this.__values__[this.__index__++];return{done:P,value:L}}function Qy(){return this}function ph(P){for(var L,V=this;V instanceof ts;){var ie=Qa(V);ie.__index__=0,ie.__values__=t,L?be.__wrapped__=ie:L=ie;var be=ie;V=V.__wrapped__}return be.__wrapped__=P,L}function nv(){var P=this.__wrapped__;if(P instanceof sn){var L=P;return this.__actions__.length&&(L=new sn(this)),L=L.reverse(),L.__actions__.push({func:jr,args:[Xt],thisArg:t}),new Lr(L,this.__chain__)}return this.thru(Xt)}function iv(){return Af(this.__wrapped__,this.__actions__)}var Hv=Df(function(P,L,V){on.call(P,V)?++P[V]:vu(P,V,1)});function Vv(P,L,V){var ie=Zr(P)?Ya:Bc;return V&&zo(P,L,V)&&(L=t),ie(P,Vt(L,3))}function Op(P,L){var V=Zr(P)?ao:En;return V(P,Vt(L,3))}var Jy=tc(bu),$v=tc(fs);function Zg(P,L){return bn(Cp(P,L),1)}function Qg(P,L){return bn(Cp(P,L),re)}function em(P,L,V){return V=V===t?1:O(V),bn(Cp(P,L),V)}function tm(P,L){var V=Zr(P)?Pr:Xu;return V(P,Vt(L,3))}function Jg(P,L){var V=Zr(P)?Ln:Bh;return V(P,Vt(L,3))}var Tp=Df(function(P,L,V){on.call(P,V)?P[V].push(L):vu(P,V,[L])});function av(P,L,V,ie){P=Co(P)?P:pi(P),V=V&&!ie?O(V):0;var be=P.length;return V<0&&(V=Ui(be+V,0)),pg(P)?V<=be&&P.indexOf(L,V)>-1:!!be&&ql(P,L,V)>-1}var ag=Yr(function(P,L,V){var ie=-1,be=typeof L=="function",Me=Co(P)?mt(P.length):[];return Xu(P,function(Xe){Me[++ie]=be?Nt(L,Xe,V):zc(Xe,L,V)}),Me}),rm=Df(function(P,L,V){vu(P,V,L)});function Cp(P,L){var V=Zr(P)?ea:Ud;return V(P,Vt(L,3))}function ey(P,L,V,ie){return P==null?[]:(Zr(L)||(L=L==null?[]:[L]),V=ie?t:V,Zr(V)||(V=V==null?[]:[V]),Gc(P,L,V))}var nm=Df(function(P,L,V){P[V?0:1].push(L)},function(){return[[],[]]});function im(P,L,V){var ie=Zr(P)?Ph:Kf,be=arguments.length<3;return ie(P,Vt(L,4),V,be,Xu)}function am(P,L,V){var ie=Zr(P)?Zp:Kf,be=arguments.length<3;return ie(P,Vt(L,4),V,be,Bh)}function og(P,L){var V=Zr(P)?ao:En;return V(P,Xv(Vt(L,3)))}function om(P){var L=Zr(P)?uo:Tf;return L(P)}function ty(P,L,V){(V?zo(P,L,V):L===t)?L=1:L=O(L);var ie=Zr(P)?Wu:zd;return ie(P,L)}function $i(P){var L=Zr(P)?Lh:$h;return L(P)}function sg(P){if(P==null)return 0;if(Co(P))return pg(P)?Er(P):P.length;var L=So(P);return L==ot||L==Ue?P.size:Uh(P).length}function ry(P,L,V){var ie=Zr(P)?df:yp;return V&&zo(P,L,V)&&(L=t),ie(P,Vt(L,3))}var ug=Yr(function(P,L){if(P==null)return[];var V=L.length;return V>1&&zo(P,L[0],L[1])?L=[]:V>2&&zo(L[0],L[1],L[2])&&(L=[L[0]]),Gc(P,bn(L,1),[])}),od=_l||function(){return li.Date.now()};function ny(P,L){if(typeof L!="function")throw new na(o);return P=O(P),function(){if(--P<1)return L.apply(this,arguments)}}function iy(P,L,V){return L=V?t:L,L=P&&L==null?P.length:L,Ts(P,R,t,t,t,t,L)}function ov(P,L){var V;if(typeof L!="function")throw new na(o);return P=O(P),function(){return--P>0&&(V=L.apply(this,arguments)),P<=1&&(L=t),V}}var Eu=Yr(function(P,L,V){var ie=w;if(V.length){var be=ta(V,lh(Eu));ie|=A}return Ts(P,ie,L,V,be)}),sd=Yr(function(P,L,V){var ie=w|b;if(V.length){var be=ta(V,lh(sd));ie|=A}return Ts(L,ie,P,V,be)});function Wv(P,L,V){L=V?t:L;var ie=Ts(P,_,t,t,t,t,t,L);return ie.placeholder=Wv.placeholder,ie}function Ap(P,L,V){L=V?t:L;var ie=Ts(P,S,t,t,t,t,t,L);return ie.placeholder=Ap.placeholder,ie}function ud(P,L,V){var ie,be,Me,Xe,it,_t,Wt=0,Yt=!1,Zt=!1,br=!0;if(typeof P!="function")throw new na(o);L=N(L)||0,ki(V)&&(Yt=!!V.leading,Zt="maxWait"in V,Me=Zt?Ui(N(V.maxWait)||0,L):Me,br="trailing"in V?!!V.trailing:br);function Br(Ns){var lv=ie,Mp=be;return ie=be=t,Wt=Ns,Xe=P.apply(Mp,lv),Xe}function nn(Ns){return Wt=Ns,it=Wc(ti,L),Yt?Br(Ns):Xe}function Un(Ns){var lv=Ns-_t,Mp=Ns-Wt,TA=L-lv;return Zt?wn(TA,Me-Mp):TA}function an(Ns){var lv=Ns-_t,Mp=Ns-Wt;return _t===t||lv>=L||lv<0||Zt&&Mp>=Me}function ti(){var Ns=od();if(an(Ns))return bi(Ns);it=Wc(ti,Un(Ns))}function bi(Ns){return it=t,br&&ie?Br(Ns):(ie=be=t,Xe)}function wh(){it!==t&&rg(it),Wt=0,ie=_t=be=it=t}function ef(){return it===t?Xe:bi(od())}function Eh(){var Ns=od(),lv=an(Ns);if(ie=arguments,be=this,_t=Ns,lv){if(it===t)return nn(_t);if(Zt)return rg(it),it=Wc(ti,L),Br(_t)}return it===t&&(it=Wc(ti,L)),Xe}return Eh.cancel=wh,Eh.flush=ef,Eh}var Mf=Yr(function(P,L){return lo(P,1,L)}),ld=Yr(function(P,L,V){return lo(P,N(L)||0,V)});function Rp(P){return Ts(P,j)}function Yv(P,L){if(typeof P!="function"||L!=null&&typeof L!="function")throw new na(o);var V=function(){var ie=arguments,be=L?L.apply(this,ie):ie[0],Me=V.cache;if(Me.has(be))return Me.get(be);var Xe=P.apply(this,ie);return V.cache=Me.set(be,Xe)||Me,Xe};return V.cache=new(Yv.Cache||Ba),V}Yv.Cache=Ba;function Xv(P){if(typeof P!="function")throw new na(o);return function(){var L=arguments;switch(L.length){case 0:return!P.call(this);case 1:return!P.call(this,L[0]);case 2:return!P.call(this,L[0],L[1]);case 3:return!P.call(this,L[0],L[1],L[2])}return!P.apply(this,L)}}function ay(P){return ov(2,P)}var lg=Vd(function(P,L){L=L.length==1&&Zr(L[0])?ea(L[0],Xo(Vt())):ea(bn(L,1),Xo(Vt()));var V=L.length;return Yr(function(ie){for(var be=-1,Me=wn(ie.length,V);++be<Me;)ie[be]=L[be].call(this,ie[be]);return Nt(P,this,ie)})}),Pp=Yr(function(P,L){var V=ta(L,lh(Pp));return Ts(P,A,t,L,V)}),Dp=Yr(function(P,L){var V=ta(L,lh(Dp));return Ts(P,D,t,L,V)}),sm=di(function(P,L){return Ts(P,k,t,t,t,L)});function um(P,L){if(typeof P!="function")throw new na(o);return L=L===t?L:O(L),Yr(P,L)}function oy(P,L){if(typeof P!="function")throw new na(o);return L=L==null?0:Ui(O(L),0),Yr(function(V){var ie=V[L],be=ec(V,0,L);return ie&&Ea(be,ie),Nt(P,this,be)})}function sy(P,L,V){var ie=!0,be=!0;if(typeof P!="function")throw new na(o);return ki(V)&&(ie="leading"in V?!!V.leading:ie,be="trailing"in V?!!V.trailing:be),ud(P,L,{leading:ie,maxWait:L,trailing:be})}function uy(P){return iy(P,1)}function g0(P,L){return Pp(Za(L),P)}function Ds(){if(!arguments.length)return[];var P=arguments[0];return Zr(P)?P:[P]}function sv(P){return xo(P,v)}function y0(P,L){return L=typeof L=="function"?L:t,xo(P,v,L)}function ly(P){return xo(P,f|v)}function An(P,L){return L=typeof L=="function"?L:t,xo(P,f|v,L)}function Ip(P,L){return L==null||jh(P,L,$t(L))}function Js(P,L){return P===L||P!==P&&L!==L}var cy=Ua(Kl),cd=Ua(function(P,L){return P>=L}),Xc=hi(function(){return arguments}())?hi:function(P){return Ia(P)&&on.call(P,"callee")&&!so.call(P,"callee")},Zr=mt.isArray,cg=Fi?Xo(Fi):Fo;function Co(P){return P!=null&&fd(P.length)&&!Wi(P)}function qa(P){return Ia(P)&&Co(P)}function lm(P){return P===!0||P===!1||Ia(P)&&xn(P)==De}var gh=lu||G1,cm=Mu?Xo(Mu):Gi;function Kv(P){return Ia(P)&&P.nodeType===1&&!tu(P)}function fg(P){if(P==null)return!0;if(Co(P)&&(Zr(P)||typeof P=="string"||typeof P.splice=="function"||gh(P)||uv(P)||Xc(P)))return!P.length;var L=So(P);if(L==ot||L==Ue)return!P.size;if(Cn(P))return!Uh(P).length;for(var V in P)if(on.call(P,V))return!1;return!0}function Ei(P,L){return qc(P,L)}function hg(P,L,V){V=typeof V=="function"?V:t;var ie=V?V(P,L):t;return ie===t?qc(P,L,t,V):!!ie}function Ao(P){if(!Ia(P))return!1;var L=xn(P);return L==Ie||L==_e||typeof P.message=="string"&&typeof P.name=="string"&&!tu(P)}function fm(P){return typeof P=="number"&&bf(P)}function Wi(P){if(!ki(P))return!1;var L=xn(P);return L==Ge||L==Qe||L==Ne||L==ne}function dg(P){return typeof P=="number"&&P==O(P)}function fd(P){return typeof P=="number"&&P>-1&&P%1==0&&P<=ae}function ki(P){var L=typeof P;return P!=null&&(L=="object"||L=="function")}function Ia(P){return P!=null&&typeof P=="object"}var ur=Nu?Xo(Nu):co;function hd(P,L){return P===L||Fa(P,L,rn(L))}function il(P,L,V){return V=typeof V=="function"?V:t,Fa(P,L,rn(L),V)}function Zv(P){return eu(P)&&P!=+P}function hm(P){if(Oo(P))throw new Ir(a);return Ss(P)}function Gn(P){return P===null}function xi(P){return P==null}function eu(P){return typeof P=="number"||Ia(P)&&xn(P)==Tt}function tu(P){if(!Ia(P)||xn(P)!=pt)return!1;var L=mf(P);if(L===null)return!0;var V=on.call(L,"constructor")&&L.constructor;return typeof V=="function"&&V instanceof V&&Uu.call(V)==Hs}var ru=uu?Xo(uu):Tv;function vg(P){return dg(P)&&P>=-9007199254740991&&P<=ae}var fy=Ct?Xo(Ct):Ol;function pg(P){return typeof P=="string"||!Zr(P)&&Ia(P)&&xn(P)==qe}function xu(P){return typeof P=="symbol"||Ia(P)&&xn(P)==We}var uv=Lt?Xo(Lt):Cv;function Ml(P){return P===t}function kp(P){return Ia(P)&&So(P)==Ht}function dm(P){return Ia(P)&&xn(P)==Et}var vm=Ua(Ql),E=Ua(function(P,L){return P<=L});function x(P){if(!P)return[];if(Co(P))return pg(P)?_o(P):ga(P);if(qu&&P[qu])return Ko(P[qu]());var L=So(P),V=L==ot?bo:L==Ue?wv:pi;return V(P)}function C(P){if(!P)return P===0?P:0;if(P=N(P),P===re||P===-1/0){var L=P<0?-1:1;return L*ve}return P===P?P:0}function O(P){var L=C(P),V=L%1;return L===L?V?L-V:L:0}function B(P){return P?xs(O(P),0,ce):0}function N(P){if(typeof P=="number")return P;if(xu(P))return se;if(ki(P)){var L=typeof P.valueOf=="function"?P.valueOf():P;P=ki(L)?L+"":L}if(typeof P!="string")return P===0?P:+P;P=Td(P);var V=Bi.test(P);return V||lf.test(P)?bv(P.slice(2),V?2:8):ko.test(P)?se:+P}function G(P){return is(P,Be(P))}function X(P){return P?xs(O(P),-9007199254740991,ae):P===0?P:0}function W(P){return P==null?"":Ws(P)}var ee=Al(function(P,L){if(Cn(L)||Co(L)){is(L,$t(L),P);return}for(var V in L)on.call(L,V)&&Yu(P,V,L[V])}),te=Al(function(P,L){is(L,Be(L),P)}),ue=Al(function(P,L,V,ie){is(L,Be(L),P,ie)}),ye=Al(function(P,L,V,ie){is(L,$t(L),P,ie)}),Ee=di(ih);function Oe(P,L){var V=ws(P);return L==null?V:$s(V,L)}var we=Yr(function(P,L){P=xe(P);var V=-1,ie=L.length,be=ie>2?L[2]:t;for(be&&zo(L[0],L[1],be)&&(ie=1);++V<ie;)for(var Me=L[V],Xe=Be(Me),it=-1,_t=Xe.length;++it<_t;){var Wt=Xe[it],Yt=P[Wt];(Yt===t||Js(Yt,Gs[Wt])&&!on.call(P,Wt))&&(P[Wt]=Me[Wt])}return P}),Te=Yr(function(P){return P.push(t,Ri),Nt(st,t,P)});function ze(P,L){return Dh(P,Vt(L,3),Ka)}function He(P,L){return Dh(P,Vt(L,3),rs)}function Ye(P,L){return P==null?P:Fc(P,Vt(L,3),Be)}function Ve(P,L){return P==null?P:Sl(P,Vt(L,3),Be)}function tt(P,L){return P&&Ka(P,Vt(L,3))}function Je(P,L){return P&&rs(P,Vt(L,3))}function lt(P){return P==null?[]:Xl(P,$t(P))}function at(P){return P==null?[]:Xl(P,Be(P))}function et(P,L,V){var ie=P==null?t:ns(P,L);return ie===t?V:ie}function gt(P,L){return P!=null&&Kd(P,L,Ur)}function jt(P,L){return P!=null&&Kd(P,L,Zl)}var Kt=rc(function(P,L,V){L!=null&&typeof L.toString!="function"&&(L=va.call(L)),P[L]=V},dt(yt)),Ft=rc(function(P,L,V){L!=null&&typeof L.toString!="function"&&(L=va.call(L)),on.call(P,L)?P[L].push(V):P[L]=[V]},Vt),sr=Yr(zc);function $t(P){return Co(P)?jd(P):Uh(P)}function Be(P){return Co(P)?jd(P,!0):vp(P)}function je(P,L){var V={};return L=Vt(L,3),Ka(P,function(ie,be,Me){vu(V,L(ie,be,Me),ie)}),V}function Fe(P,L){var V={};return L=Vt(L,3),Ka(P,function(ie,be,Me){vu(V,be,L(ie,be,Me))}),V}var St=Al(function(P,L,V){Zu(P,L,V)}),st=Al(function(P,L,V,ie){Zu(P,L,V,ie)}),Dt=di(function(P,L){var V={};if(P==null)return V;var ie=!1;L=ea(L,function(Me){return Me=Qu(Me,P),ie||(ie=Me.length>1),Me}),is(P,us(P),V),ie&&(V=xo(V,f|d|v,Yd));for(var be=L.length;be--;)Tl(V,L[be]);return V});function rr(P,L){return lr(P,Xv(Vt(L)))}var dr=di(function(P,L){return P==null?{}:Av(P,L)});function lr(P,L){if(P==null)return{};var V=ea(us(P),function(ie){return[ie]});return L=Vt(L),Gh(P,V,function(ie,be){return L(ie,be[0])})}function Kr(P,L,V){L=Qu(L,P);var ie=-1,be=L.length;for(be||(be=1,P=t);++ie<be;){var Me=P==null?t:P[Zn(L[ie])];Me===t&&(ie=be,Me=V),P=Wi(Me)?Me.call(P):Me}return P}function Qr(P,L,V){return P==null?P:Cf(P,L,V)}function Sn(P,L,V,ie){return ie=typeof ie=="function"?ie:t,P==null?P:Cf(P,L,V,ie)}var vi=$c($t),Mi=$c(Be);function ei(P,L,V){var ie=Zr(P),be=ie||gh(P)||uv(P);if(L=Vt(L,4),V==null){var Me=P&&P.constructor;be?V=ie?new Me:[]:ki(P)?V=Wi(Me)?ws(mf(P)):{}:V={}}return(be?Pr:Ka)(P,function(Xe,it,_t){return L(V,Xe,it,_t)}),V}function Dn(P,L){return P==null?!0:Tl(P,L)}function vn(P,L,V){return P==null?P:Gd(P,L,Za(V))}function Wn(P,L,V,ie){return ie=typeof ie=="function"?ie:t,P==null?P:Gd(P,L,Za(V),ie)}function pi(P){return P==null?[]:Ac(P,$t(P))}function Yi(P){return P==null?[]:Ac(P,Be(P))}function Mn(P,L,V){return V===t&&(V=L,L=t),V!==t&&(V=N(V),V=V===V?V:0),L!==t&&(L=N(L),L=L===L?L:0),xs(N(P),L,V)}function si(P,L,V){return L=C(L),V===t?(V=L,L=0):V=C(V),P=N(P),Fh(P,L,V)}function Xi(P,L,V){if(V&&typeof V!="boolean"&&zo(P,L,V)&&(L=V=t),V===t&&(typeof L=="boolean"?(V=L,L=t):typeof P=="boolean"&&(V=P,P=t)),P===t&&L===t?(P=0,L=1):(P=C(P),L===t?(L=P,P=0):L=C(L)),P>L){var ie=P;P=L,L=ie}if(V||P%1||L%1){var be=Md();return wn(P+be*(L-P+gs("1e-"+((be+"").length-1))),L)}return Of(P,L)}var oa=as(function(P,L,V){return L=L.toLowerCase(),P+(V?sa(L):L)});function sa(P){return M(W(P).toLowerCase())}function pn(P){return P=W(P),P&&P.replace(Oi,mo).replace(no,"")}function gi(P,L,V){P=W(P),L=Ws(L);var ie=P.length;V=V===t?ie:xs(O(V),0,ie);var be=V;return V-=L.length,V>=0&&P.slice(V,be)==L}function In(P){return P=W(P),P&&ni.test(P)?P.replace(Rn,Cd):P}function fo(P){return P=W(P),P&&ai.test(P)?P.replace(Pn,"\\$&"):P}var Ro=as(function(P,L,V){return P+(V?"-":"")+L.toLowerCase()}),Is=as(function(P,L,V){return P+(V?" ":"")+L.toLowerCase()}),yh=Uo("toLowerCase");function Kc(P,L,V){P=W(P),L=O(L);var ie=L?Er(P):0;if(!L||ie>=L)return P;var be=(L-ie)/2;return Jh(Gu(be),V)+P+Jh(Ci(be),V)}function ds(P,L,V){P=W(P),L=O(L);var ie=L?Er(P):0;return L&&ie<L?P+Jh(L-ie,V):P}function ma(P,L,V){P=W(P),L=O(L);var ie=L?Er(P):0;return L&&ie<L?Jh(L-ie,V)+P:P}function yi(P,L,V){return V||L==null?L=0:L&&(L=+L),cu(W(P).replace(fa,""),L||0)}function ka(P,L,V){return(V?zo(P,L,V):L===t)?L=1:L=O(L),gp(W(P),L)}function ks(){var P=arguments,L=W(P[0]);return P.length<3?L:L.replace(P[1],P[2])}var Ms=as(function(P,L,V){return P+(V?"_":"")+L.toLowerCase()});function Su(P,L,V){return V&&typeof V!="number"&&zo(P,L,V)&&(L=V=t),V=V===t?ce:V>>>0,V?(P=W(P),P&&(typeof L=="string"||L!=null&&!ru(L))&&(L=Ws(L),!L&&Hl(P))?ec(_o(P),0,V):P.split(L,V)):[]}var Ki=as(function(P,L,V){return P+(V?" ":"")+M(L)});function mh(P,L,V){return P=W(P),V=V==null?0:xs(O(V),0,P.length),L=Ws(L),P.slice(V,V+L.length)==L}function Zc(P,L,V){var ie=Re.templateSettings;V&&zo(P,L,V)&&(L=t),P=W(P),L=ue({},L,ie,Ai);var be=ue({},L.imports,ie.imports,Ai),Me=$t(be),Xe=Ac(be,Me),it,_t,Wt=0,Yt=L.interpolate||iu,Zt="__p += '",br=ml((L.escape||iu).source+"|"+Yt.source+"|"+(Yt===ui?Fs:iu).source+"|"+(L.evaluate||iu).source+"|$","g"),Br="//# sourceURL="+(on.call(L,"sourceURL")?(L.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++hf+"]")+`
`;P.replace(br,function(an,ti,bi,wh,ef,Eh){return bi||(bi=wh),Zt+=P.slice(Wt,Eh).replace(Mo,Ad),ti&&(it=!0,Zt+=`' +
__e(`+ti+`) +
'`),ef&&(_t=!0,Zt+=`';
`+ef+`;
__p += '`),bi&&(Zt+=`' +
((__t = (`+bi+`)) == null ? '' : __t) +
'`),Wt=Eh+an.length,an}),Zt+=`';
`;var nn=on.call(L,"variable")&&L.variable;if(!nn)Zt=`with (obj) {
`+Zt+`
}
`;else if(wa.test(nn))throw new Ir(s);Zt=(_t?Zt.replace(Fr,""):Zt).replace(Dr,"$1").replace(Cr,"$1;"),Zt="function("+(nn||"obj")+`) {
`+(nn?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(it?", __e = _.escape":"")+(_t?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Zt+`return __p
}`;var Un=Z(function(){return _n(Me,Br+"return "+Zt).apply(t,Xe)});if(Un.source=Zt,Ao(Un))throw Un;return Un}function Qc(P){return W(P).toLowerCase()}function dd(P){return W(P).toUpperCase()}function bh(P,L,V){if(P=W(P),P&&(V||L===t))return Td(P);if(!P||!(L=Ws(L)))return P;var ie=_o(P),be=_o(L),Me=Rc(ie,be),Xe=kh(ie,be)+1;return ec(ie,Me,Xe).join("")}function _h(P,L,V){if(P=W(P),P&&(V||L===t))return P.slice(0,ra(P)+1);if(!P||!(L=Ws(L)))return P;var ie=_o(P),be=kh(ie,_o(L))+1;return ec(ie,0,be).join("")}function Jc(P,L,V){if(P=W(P),P&&(V||L===t))return P.replace(fa,"");if(!P||!(L=Ws(L)))return P;var ie=_o(P),be=Rc(ie,_o(L));return ec(ie,be).join("")}function h(P,L){var V=F,ie=z;if(ki(L)){var be="separator"in L?L.separator:be;V="length"in L?O(L.length):V,ie="omission"in L?Ws(L.omission):ie}P=W(P);var Me=P.length;if(Hl(P)){var Xe=_o(P);Me=Xe.length}if(V>=Me)return P;var it=V-Er(ie);if(it<1)return ie;var _t=Xe?ec(Xe,0,it).join(""):P.slice(0,it);if(be===t)return _t+ie;if(Xe&&(it+=_t.length-it),ru(be)){if(P.slice(it).search(be)){var Wt,Yt=_t;for(be.global||(be=ml(be.source,W($a.exec(be))+"g")),be.lastIndex=0;Wt=be.exec(Yt);)var Zt=Wt.index;_t=_t.slice(0,Zt===t?it:Zt)}}else if(P.indexOf(Ws(be),it)!=it){var br=_t.lastIndexOf(be);br>-1&&(_t=_t.slice(0,br))}return _t+ie}function g(P){return P=W(P),P&&Ha.test(P)?P.replace(On,pf):P}var T=as(function(P,L,V){return P+(V?" ":"")+L.toUpperCase()}),M=Uo("toUpperCase");function H(P,L,V){return P=W(P),L=V?t:L,L===t?_v(P)?Rd(P):jn(P):P.match(L)||[]}var Z=Yr(function(P,L){try{return Nt(P,t,L)}catch(V){return Ao(V)?V:new Ir(V)}}),he=di(function(P,L){return Pr(L,function(V){V=Zn(V),vu(P,V,Eu(P[V],P))}),P});function Ae(P){var L=P==null?0:P.length,V=Vt();return P=L?ea(P,function(ie){if(typeof ie[1]!="function")throw new na(o);return[V(ie[0]),ie[1]]}):[],Yr(function(ie){for(var be=-1;++be<L;){var Me=P[be];if(Nt(Me[0],this,ie))return Nt(Me[1],this,ie)}})}function $e(P){return Bd(xo(P,f))}function dt(P){return function(){return P}}function kt(P,L){return P==null||P!==P?L:P}var Ut=ia(),bt=ia(!0);function yt(P){return P}function kr(P){return pu(typeof P=="function"?P:xo(P,f))}function Rr(P){return Sf(xo(P,f))}function Bn(P,L){return zh(P,xo(L,f))}var vt=Yr(function(P,L){return function(V){return zc(V,P,L)}}),rt=Yr(function(P,L){return function(V){return zc(P,V,L)}});function wt(P,L,V){var ie=$t(L),be=Xl(L,ie);V==null&&!(ki(L)&&(be.length||!ie.length))&&(V=L,L=P,P=this,be=Xl(L,$t(L)));var Me=!(ki(V)&&"chain"in V)||!!V.chain,Xe=Wi(P);return Pr(be,function(it){var _t=L[it];P[it]=_t,Xe&&(P.prototype[it]=function(){var Wt=this.__chain__;if(Me||Wt){var Yt=P(this.__wrapped__),Zt=Yt.__actions__=ga(this.__actions__);return Zt.push({func:_t,args:arguments,thisArg:P}),Yt.__chain__=Wt,Yt}return _t.apply(P,Ea([this.value()],arguments))})}),P}function Mt(){return li._===this&&(li._=yf),this}function wr(){}function Fn(P){return P=O(P),Yr(function(L){return qh(L,P)})}var qr=Xr(ea),Jr=Xr(Ya),nu=Xr(df);function mi(P){return Fv(P)?yl(Zn(P)):Pa(P)}function Qv(P){return function(L){return P==null?t:ns(P,L)}}var z1=Kn(),hB=Kn(!0);function q1(){return[]}function G1(){return!1}function dB(){return{}}function vB(){return""}function pB(){return!0}function gB(P,L){if(P=O(P),P<1||P>ae)return[];var V=ce,ie=wn(P,ce);L=Vt(L),P-=ce;for(var be=Gl(ie,L);++V<P;)L(V);return be}function yB(P){return Zr(P)?ea(P,Zn):xu(P)?[P]:ga(Rs(W(P)))}function mB(P){var L=++zu;return W(P)+L}var bB=os(function(P,L){return P+L},0),_B=If("ceil"),wB=os(function(P,L){return P/L},1),EB=If("floor");function xB(P){return P&&P.length?Ku(P,yt,Kl):t}function SB(P,L){return P&&P.length?Ku(P,Vt(L,2),Kl):t}function OB(P){return Od(P,yt)}function TB(P,L){return Od(P,Vt(L,2))}function CB(P){return P&&P.length?Ku(P,yt,Ql):t}function AB(P,L){return P&&P.length?Ku(P,Vt(L,2),Ql):t}var RB=os(function(P,L){return P*L},1),PB=If("round"),DB=os(function(P,L){return P-L},0);function IB(P){return P&&P.length?Cc(P,yt):0}function kB(P,L){return P&&P.length?Cc(P,Vt(L,2)):0}return Re.after=ny,Re.ary=iy,Re.assign=ee,Re.assignIn=te,Re.assignInWith=ue,Re.assignWith=ye,Re.at=Ee,Re.before=ov,Re.bind=Eu,Re.bindAll=he,Re.bindKey=sd,Re.castArray=Ds,Re.chain=qo,Re.chunk=Ks,Re.compact=To,Re.concat=Ep,Re.cond=Ae,Re.conforms=$e,Re.constant=dt,Re.countBy=Hv,Re.create=Oe,Re.curry=Wv,Re.curryRight=Ap,Re.debounce=ud,Re.defaults=we,Re.defaultsDeep=Te,Re.defer=Mf,Re.delay=ld,Re.difference=Qn,Re.differenceBy=cs,Re.differenceWith=tl,Re.drop=id,Re.dropRight=xp,Re.dropRightWhile=Yg,Re.dropWhile=ev,Re.fill=ya,Re.filter=Op,Re.flatMap=Zg,Re.flatMapDeep=Qg,Re.flatMapDepth=em,Re.flatten=hs,Re.flattenDeep=qv,Re.flattenDepth=rl,Re.flip=Rp,Re.flow=Ut,Re.flowRight=bt,Re.fromPairs=Yc,Re.functions=lt,Re.functionsIn=at,Re.groupBy=Tp,Re.initial=Hi,Re.intersection=Il,Re.intersectionBy=Gv,Re.intersectionWith=I,Re.invert=Kt,Re.invertBy=Ft,Re.invokeMap=ag,Re.iteratee=kr,Re.keyBy=rm,Re.keys=$t,Re.keysIn=Be,Re.map=Cp,Re.mapKeys=je,Re.mapValues=Fe,Re.matches=Rr,Re.matchesProperty=Bn,Re.memoize=Yv,Re.merge=St,Re.mergeWith=st,Re.method=vt,Re.methodOf=rt,Re.mixin=wt,Re.negate=Xv,Re.nthArg=Fn,Re.omit=Dt,Re.omitBy=rr,Re.once=ay,Re.orderBy=ey,Re.over=qr,Re.overArgs=lg,Re.overEvery=Jr,Re.overSome=nu,Re.partial=Pp,Re.partialRight=Dp,Re.partition=nm,Re.pick=dr,Re.pickBy=lr,Re.property=mi,Re.propertyOf=Qv,Re.pull=Le,Re.pullAll=Ze,Re.pullAllBy=nt,Re.pullAllWith=Ot,Re.pullAt=qt,Re.range=z1,Re.rangeRight=hB,Re.rearg=sm,Re.reject=og,Re.remove=Gt,Re.rest=um,Re.reverse=Xt,Re.sampleSize=ty,Re.set=Qr,Re.setWith=Sn,Re.shuffle=$i,Re.slice=tr,Re.sortBy=ug,Re.sortedUniq=zr,Re.sortedUniqBy=Vr,Re.split=Su,Re.spread=oy,Re.tail=un,Re.take=hr,Re.takeRight=Sr,Re.takeRightWhile=Di,Re.takeWhile=Ii,Re.tap=Xg,Re.throttle=sy,Re.thru=jr,Re.toArray=x,Re.toPairs=vi,Re.toPairsIn=Mi,Re.toPath=yB,Re.toPlainObject=G,Re.transform=ei,Re.unary=uy,Re.union=Vi,Re.unionBy=Jn,Re.unionWith=Ja,Re.uniq=Oa,Re.uniqBy=nl,Re.uniqWith=_u,Re.unset=Dn,Re.unzip=Zs,Re.unzipWith=wu,Re.update=vn,Re.updateWith=Wn,Re.values=pi,Re.valuesIn=Yi,Re.without=ac,Re.words=H,Re.wrap=g0,Re.xor=za,Re.xorBy=oc,Re.xorWith=Ps,Re.zip=kl,Re.zipObject=tv,Re.zipObjectDeep=vh,Re.zipWith=ad,Re.entries=vi,Re.entriesIn=Mi,Re.extend=te,Re.extendWith=ue,wt(Re,Re),Re.add=bB,Re.attempt=Z,Re.camelCase=oa,Re.capitalize=sa,Re.ceil=_B,Re.clamp=Mn,Re.clone=sv,Re.cloneDeep=ly,Re.cloneDeepWith=An,Re.cloneWith=y0,Re.conformsTo=Ip,Re.deburr=pn,Re.defaultTo=kt,Re.divide=wB,Re.endsWith=gi,Re.eq=Js,Re.escape=In,Re.escapeRegExp=fo,Re.every=Vv,Re.find=Jy,Re.findIndex=bu,Re.findKey=ze,Re.findLast=$v,Re.findLastIndex=fs,Re.findLastKey=He,Re.floor=EB,Re.forEach=tm,Re.forEachRight=Jg,Re.forIn=Ye,Re.forInRight=Ve,Re.forOwn=tt,Re.forOwnRight=Je,Re.get=et,Re.gt=cy,Re.gte=cd,Re.has=gt,Re.hasIn=jt,Re.head=ic,Re.identity=yt,Re.includes=av,Re.indexOf=Sp,Re.inRange=si,Re.invoke=sr,Re.isArguments=Xc,Re.isArray=Zr,Re.isArrayBuffer=cg,Re.isArrayLike=Co,Re.isArrayLikeObject=qa,Re.isBoolean=lm,Re.isBuffer=gh,Re.isDate=cm,Re.isElement=Kv,Re.isEmpty=fg,Re.isEqual=Ei,Re.isEqualWith=hg,Re.isError=Ao,Re.isFinite=fm,Re.isFunction=Wi,Re.isInteger=dg,Re.isLength=fd,Re.isMap=ur,Re.isMatch=hd,Re.isMatchWith=il,Re.isNaN=Zv,Re.isNative=hm,Re.isNil=xi,Re.isNull=Gn,Re.isNumber=eu,Re.isObject=ki,Re.isObjectLike=Ia,Re.isPlainObject=tu,Re.isRegExp=ru,Re.isSafeInteger=vg,Re.isSet=fy,Re.isString=pg,Re.isSymbol=xu,Re.isTypedArray=uv,Re.isUndefined=Ml,Re.isWeakMap=kp,Re.isWeakSet=dm,Re.join=U,Re.kebabCase=Ro,Re.last=Y,Re.lastIndexOf=le,Re.lowerCase=Is,Re.lowerFirst=yh,Re.lt=vm,Re.lte=E,Re.max=xB,Re.maxBy=SB,Re.mean=OB,Re.meanBy=TB,Re.min=CB,Re.minBy=AB,Re.stubArray=q1,Re.stubFalse=G1,Re.stubObject=dB,Re.stubString=vB,Re.stubTrue=pB,Re.multiply=RB,Re.nth=me,Re.noConflict=Mt,Re.noop=wr,Re.now=od,Re.pad=Kc,Re.padEnd=ds,Re.padStart=ma,Re.parseInt=yi,Re.random=Xi,Re.reduce=im,Re.reduceRight=am,Re.repeat=ka,Re.replace=ks,Re.result=Kr,Re.round=PB,Re.runInContext=ut,Re.sample=om,Re.size=sg,Re.snakeCase=Ms,Re.some=ry,Re.sortedIndex=ir,Re.sortedIndexBy=nr,Re.sortedIndexOf=Pt,Re.sortedLastIndex=Bt,Re.sortedLastIndexBy=_r,Re.sortedLastIndexOf=ar,Re.startCase=Ki,Re.startsWith=mh,Re.subtract=DB,Re.sum=IB,Re.sumBy=kB,Re.template=Zc,Re.times=gB,Re.toFinite=C,Re.toInteger=O,Re.toLength=B,Re.toLower=Qc,Re.toNumber=N,Re.toSafeInteger=X,Re.toString=W,Re.toUpper=dd,Re.trim=bh,Re.trimEnd=_h,Re.trimStart=Jc,Re.truncate=h,Re.unescape=g,Re.uniqueId=mB,Re.upperCase=T,Re.upperFirst=M,Re.each=tm,Re.eachRight=Jg,Re.first=ic,wt(Re,function(){var P={};return Ka(Re,function(L,V){on.call(Re.prototype,V)||(P[V]=L)}),P}(),{chain:!1}),Re.VERSION=n,Pr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(P){Re[P].placeholder=Re}),Pr(["drop","take"],function(P,L){sn.prototype[P]=function(V){V=V===t?1:Ui(O(V),0);var ie=this.__filtered__&&!L?new sn(this):this.clone();return ie.__filtered__?ie.__takeCount__=wn(V,ie.__takeCount__):ie.__views__.push({size:wn(V,ce),type:P+(ie.__dir__<0?"Right":"")}),ie},sn.prototype[P+"Right"]=function(V){return this.reverse()[P](V).reverse()}}),Pr(["filter","map","takeWhile"],function(P,L){var V=L+1,ie=V==K||V==J;sn.prototype[P]=function(be){var Me=this.clone();return Me.__iteratees__.push({iteratee:Vt(be,3),type:V}),Me.__filtered__=Me.__filtered__||ie,Me}}),Pr(["head","last"],function(P,L){var V="take"+(L?"Right":"");sn.prototype[P]=function(){return this[V](1).value()[0]}}),Pr(["initial","tail"],function(P,L){var V="drop"+(L?"":"Right");sn.prototype[P]=function(){return this.__filtered__?new sn(this):this[V](1)}}),sn.prototype.compact=function(){return this.filter(yt)},sn.prototype.find=function(P){return this.filter(P).head()},sn.prototype.findLast=function(P){return this.reverse().find(P)},sn.prototype.invokeMap=Yr(function(P,L){return typeof P=="function"?new sn(this):this.map(function(V){return zc(V,P,L)})}),sn.prototype.reject=function(P){return this.filter(Xv(Vt(P)))},sn.prototype.slice=function(P,L){P=O(P);var V=this;return V.__filtered__&&(P>0||L<0)?new sn(V):(P<0?V=V.takeRight(-P):P&&(V=V.drop(P)),L!==t&&(L=O(L),V=L<0?V.dropRight(-L):V.take(L-P)),V)},sn.prototype.takeRightWhile=function(P){return this.reverse().takeWhile(P).reverse()},sn.prototype.toArray=function(){return this.take(ce)},Ka(sn.prototype,function(P,L){var V=/^(?:filter|find|map|reject)|While$/.test(L),ie=/^(?:head|last)$/.test(L),be=Re[ie?"take"+(L=="last"?"Right":""):L],Me=ie||/^find/.test(L);be&&(Re.prototype[L]=function(){var Xe=this.__wrapped__,it=ie?[1]:arguments,_t=Xe instanceof sn,Wt=it[0],Yt=_t||Zr(Xe),Zt=function(ti){var bi=be.apply(Re,Ea([ti],it));return ie&&br?bi[0]:bi};Yt&&V&&typeof Wt=="function"&&Wt.length!=1&&(_t=Yt=!1);var br=this.__chain__,Br=!!this.__actions__.length,nn=Me&&!br,Un=_t&&!Br;if(!Me&&Yt){Xe=Un?Xe:new sn(this);var an=P.apply(Xe,it);return an.__actions__.push({func:jr,args:[Zt],thisArg:t}),new Lr(an,br)}return nn&&Un?P.apply(this,it):(an=this.thru(Zt),nn?ie?an.value()[0]:an.value():an)})}),Pr(["pop","push","shift","sort","splice","unshift"],function(P){var L=yn[P],V=/^(?:push|sort|unshift)$/.test(P)?"tap":"thru",ie=/^(?:pop|shift)$/.test(P);Re.prototype[P]=function(){var be=arguments;if(ie&&!this.__chain__){var Me=this.value();return L.apply(Zr(Me)?Me:[],be)}return this[V](function(Xe){return L.apply(Zr(Xe)?Xe:[],be)})}}),Ka(sn.prototype,function(P,L){var V=Re[L];if(V){var ie=V.name+"";on.call(es,ie)||(es[ie]=[]),es[ie].push({name:L,func:V})}}),es[Sa(t,b).name]=[{name:"wrapper",func:t}],sn.prototype.clone=Mc,sn.prototype.reverse=Yl,sn.prototype.value=xl,Re.prototype.at=Kg,Re.prototype.chain=Qs,Re.prototype.commit=ig,Re.prototype.next=rv,Re.prototype.plant=ph,Re.prototype.reverse=nv,Re.prototype.toJSON=Re.prototype.valueOf=Re.prototype.value=iv,Re.prototype.first=Re.prototype.head,qu&&(Re.prototype[qu]=Qy),Re},Pc=Fu();yo?((yo.exports=Pc)._=Pc,Sc._=Pc):li._=Pc}).call(eH)}(G0,G0.exports)),G0.exports}var gT,fN;function tH(){if(fN)return gT;fN=1,gT=r;function r(){var n={};n._next=n._prev=n,this._sentinel=n}r.prototype.dequeue=function(){var n=this._sentinel,i=n._prev;if(i!==n)return e(i),i},r.prototype.enqueue=function(n){var i=this._sentinel;n._prev&&n._next&&e(n),n._next=i._next,i._next._prev=n,i._next=n,n._prev=i},r.prototype.toString=function(){for(var n=[],i=this._sentinel,a=i._prev;a!==i;)n.push(JSON.stringify(a,t)),a=a._prev;return"["+n.join(", ")+"]"};function e(n){n._prev._next=n._next,n._next._prev=n._prev,delete n._next,delete n._prev}function t(n,i){if(n!=="_next"&&n!=="_prev")return i}return gT}var yT,hN;function rH(){if(hN)return yT;hN=1;var r=vo(),e=_d().Graph,t=tH();yT=i;var n=r.constant(1);function i(l,c){if(l.nodeCount()<=1)return[];var f=s(l,c||n),d=a(f.graph,f.buckets,f.zeroIdx);return r.flatten(r.map(d,function(v){return l.outEdges(v.v,v.w)}),!0)}function a(l,c,f){for(var d=[],v=c[c.length-1],p=c[0],m;l.nodeCount();){for(;m=p.dequeue();)o(l,c,f,m);for(;m=v.dequeue();)o(l,c,f,m);if(l.nodeCount()){for(var w=c.length-2;w>0;--w)if(m=c[w].dequeue(),m){d=d.concat(o(l,c,f,m,!0));break}}}return d}function o(l,c,f,d,v){var p=v?[]:void 0;return r.forEach(l.inEdges(d.v),function(m){var w=l.edge(m),b=l.node(m.v);v&&p.push({v:m.v,w:m.w}),b.out-=w,u(c,f,b)}),r.forEach(l.outEdges(d.v),function(m){var w=l.edge(m),b=m.w,y=l.node(b);y.in-=w,u(c,f,y)}),l.removeNode(d.v),p}function s(l,c){var f=new e,d=0,v=0;r.forEach(l.nodes(),function(w){f.setNode(w,{v:w,in:0,out:0})}),r.forEach(l.edges(),function(w){var b=f.edge(w.v,w.w)||0,y=c(w),_=b+y;f.setEdge(w.v,w.w,_),v=Math.max(v,f.node(w.v).out+=y),d=Math.max(d,f.node(w.w).in+=y)});var p=r.range(v+d+3).map(function(){return new t}),m=d+1;return r.forEach(f.nodes(),function(w){u(p,m,f.node(w))}),{graph:f,buckets:p,zeroIdx:m}}function u(l,c,f){f.out?f.in?l[f.out-f.in+c].enqueue(f):l[l.length-1].enqueue(f):l[0].enqueue(f)}return yT}var mT,dN;function nH(){if(dN)return mT;dN=1;var r=vo(),e=rH();mT={run:t,undo:i};function t(a){var o=a.graph().acyclicer==="greedy"?e(a,s(a)):n(a);r.forEach(o,function(u){var l=a.edge(u);a.removeEdge(u),l.forwardName=u.name,l.reversed=!0,a.setEdge(u.w,u.v,l,r.uniqueId("rev"))});function s(u){return function(l){return u.edge(l).weight}}}function n(a){var o=[],s={},u={};function l(c){r.has(u,c)||(u[c]=!0,s[c]=!0,r.forEach(a.outEdges(c),function(f){r.has(s,f.w)?o.push(f):l(f.w)}),delete s[c])}return r.forEach(a.nodes(),l),o}function i(a){r.forEach(a.edges(),function(o){var s=a.edge(o);if(s.reversed){a.removeEdge(o);var u=s.forwardName;delete s.reversed,delete s.forwardName,a.setEdge(o.w,o.v,s,u)}})}return mT}var bT,vN;function jf(){if(vN)return bT;vN=1;var r=vo(),e=_d().Graph;bT={addDummyNode:t,simplify:n,asNonCompoundGraph:i,successorWeights:a,predecessorWeights:o,intersectRect:s,buildLayerMatrix:u,normalizeRanks:l,removeEmptyRanks:c,addBorderNode:f,maxRank:d,partition:v,time:p,notime:m};function t(w,b,y,_){var S;do S=r.uniqueId(_);while(w.hasNode(S));return y.dummy=b,w.setNode(S,y),S}function n(w){var b=new e().setGraph(w.graph());return r.forEach(w.nodes(),function(y){b.setNode(y,w.node(y))}),r.forEach(w.edges(),function(y){var _=b.edge(y.v,y.w)||{weight:0,minlen:1},S=w.edge(y);b.setEdge(y.v,y.w,{weight:_.weight+S.weight,minlen:Math.max(_.minlen,S.minlen)})}),b}function i(w){var b=new e({multigraph:w.isMultigraph()}).setGraph(w.graph());return r.forEach(w.nodes(),function(y){w.children(y).length||b.setNode(y,w.node(y))}),r.forEach(w.edges(),function(y){b.setEdge(y,w.edge(y))}),b}function a(w){var b=r.map(w.nodes(),function(y){var _={};return r.forEach(w.outEdges(y),function(S){_[S.w]=(_[S.w]||0)+w.edge(S).weight}),_});return r.zipObject(w.nodes(),b)}function o(w){var b=r.map(w.nodes(),function(y){var _={};return r.forEach(w.inEdges(y),function(S){_[S.v]=(_[S.v]||0)+w.edge(S).weight}),_});return r.zipObject(w.nodes(),b)}function s(w,b){var y=w.x,_=w.y,S=b.x-y,A=b.y-_,D=w.width/2,R=w.height/2;if(!S&&!A)throw new Error("Not possible to find intersection inside of the rectangle");var k,j;return Math.abs(A)*D>Math.abs(S)*R?(A<0&&(R=-R),k=R*S/A,j=R):(S<0&&(D=-D),k=D,j=D*A/S),{x:y+k,y:_+j}}function u(w){var b=r.map(r.range(d(w)+1),function(){return[]});return r.forEach(w.nodes(),function(y){var _=w.node(y),S=_.rank;r.isUndefined(S)||(b[S][_.order]=y)}),b}function l(w){var b=r.min(r.map(w.nodes(),function(y){return w.node(y).rank}));r.forEach(w.nodes(),function(y){var _=w.node(y);r.has(_,"rank")&&(_.rank-=b)})}function c(w){var b=r.min(r.map(w.nodes(),function(A){return w.node(A).rank})),y=[];r.forEach(w.nodes(),function(A){var D=w.node(A).rank-b;y[D]||(y[D]=[]),y[D].push(A)});var _=0,S=w.graph().nodeRankFactor;r.forEach(y,function(A,D){r.isUndefined(A)&&D%S!==0?--_:_&&r.forEach(A,function(R){w.node(R).rank+=_})})}function f(w,b,y,_){var S={width:0,height:0};return arguments.length>=4&&(S.rank=y,S.order=_),t(w,"border",S,b)}function d(w){return r.max(r.map(w.nodes(),function(b){var y=w.node(b).rank;if(!r.isUndefined(y))return y}))}function v(w,b){var y={lhs:[],rhs:[]};return r.forEach(w,function(_){b(_)?y.lhs.push(_):y.rhs.push(_)}),y}function p(w,b){var y=r.now();try{return b()}finally{console.log(w+" time: "+(r.now()-y)+"ms")}}function m(w,b){return b()}return bT}var _T,pN;function iH(){if(pN)return _T;pN=1;var r=vo(),e=jf();_T={run:t,undo:i};function t(a){a.graph().dummyChains=[],r.forEach(a.edges(),function(o){n(a,o)})}function n(a,o){var s=o.v,u=a.node(s).rank,l=o.w,c=a.node(l).rank,f=o.name,d=a.edge(o),v=d.labelRank;if(c!==u+1){a.removeEdge(o);var p,m,w;for(w=0,++u;u<c;++w,++u)d.points=[],m={width:0,height:0,edgeLabel:d,edgeObj:o,rank:u},p=e.addDummyNode(a,"edge",m,"_d"),u===v&&(m.width=d.width,m.height=d.height,m.dummy="edge-label",m.labelpos=d.labelpos),a.setEdge(s,p,{weight:d.weight},f),w===0&&a.graph().dummyChains.push(p),s=p;a.setEdge(s,l,{weight:d.weight},f)}}function i(a){r.forEach(a.graph().dummyChains,function(o){var s=a.node(o),u=s.edgeLabel,l;for(a.setEdge(s.edgeObj,u);s.dummy;)l=a.successors(o)[0],a.removeNode(o),u.points.push({x:s.x,y:s.y}),s.dummy==="edge-label"&&(u.x=s.x,u.y=s.y,u.width=s.width,u.height=s.height),o=l,s=a.node(o)})}return _T}var wT,gN;function V_(){if(gN)return wT;gN=1;var r=vo();wT={longestPath:e,slack:t};function e(n){var i={};function a(o){var s=n.node(o);if(r.has(i,o))return s.rank;i[o]=!0;var u=r.min(r.map(n.outEdges(o),function(l){return a(l.w)-n.edge(l).minlen}));return(u===Number.POSITIVE_INFINITY||u===void 0||u===null)&&(u=0),s.rank=u}r.forEach(n.sources(),a)}function t(n,i){return n.node(i.w).rank-n.node(i.v).rank-n.edge(i).minlen}return wT}var ET,yN;function j4(){if(yN)return ET;yN=1;var r=vo(),e=_d().Graph,t=V_().slack;ET=n;function n(s){var u=new e({directed:!1}),l=s.nodes()[0],c=s.nodeCount();u.setNode(l,{});for(var f,d;i(u,s)<c;)f=a(u,s),d=u.hasNode(f.v)?t(s,f):-t(s,f),o(u,s,d);return u}function i(s,u){function l(c){r.forEach(u.nodeEdges(c),function(f){var d=f.v,v=c===d?f.w:d;!s.hasNode(v)&&!t(u,f)&&(s.setNode(v,{}),s.setEdge(c,v,{}),l(v))})}return r.forEach(s.nodes(),l),s.nodeCount()}function a(s,u){return r.minBy(u.edges(),function(l){if(s.hasNode(l.v)!==s.hasNode(l.w))return t(u,l)})}function o(s,u,l){r.forEach(s.nodes(),function(c){u.node(c).rank+=l})}return ET}var xT,mN;function aH(){if(mN)return xT;mN=1;var r=vo(),e=j4(),t=V_().slack,n=V_().longestPath,i=_d().alg.preorder,a=_d().alg.postorder,o=jf().simplify;xT=s,s.initLowLimValues=f,s.initCutValues=u,s.calcCutValue=c,s.leaveEdge=v,s.enterEdge=p,s.exchangeEdges=m;function s(_){_=o(_),n(_);var S=e(_);f(S),u(S,_);for(var A,D;A=v(S);)D=p(S,_,A),m(S,_,A,D)}function u(_,S){var A=a(_,_.nodes());A=A.slice(0,A.length-1),r.forEach(A,function(D){l(_,S,D)})}function l(_,S,A){var D=_.node(A),R=D.parent;_.edge(A,R).cutvalue=c(_,S,A)}function c(_,S,A){var D=_.node(A),R=D.parent,k=!0,j=S.edge(A,R),F=0;return j||(k=!1,j=S.edge(R,A)),F=j.weight,r.forEach(S.nodeEdges(A),function(z){var q=z.v===A,$=q?z.w:z.v;if($!==R){var K=q===k,oe=S.edge(z).weight;if(F+=K?oe:-oe,b(_,A,$)){var J=_.edge(A,$).cutvalue;F+=K?-J:J}}}),F}function f(_,S){arguments.length<2&&(S=_.nodes()[0]),d(_,{},1,S)}function d(_,S,A,D,R){var k=A,j=_.node(D);return S[D]=!0,r.forEach(_.neighbors(D),function(F){r.has(S,F)||(A=d(_,S,A,F,D))}),j.low=k,j.lim=A++,R?j.parent=R:delete j.parent,A}function v(_){return r.find(_.edges(),function(S){return _.edge(S).cutvalue<0})}function p(_,S,A){var D=A.v,R=A.w;S.hasEdge(D,R)||(D=A.w,R=A.v);var k=_.node(D),j=_.node(R),F=k,z=!1;k.lim>j.lim&&(F=j,z=!0);var q=r.filter(S.edges(),function($){return z===y(_,_.node($.v),F)&&z!==y(_,_.node($.w),F)});return r.minBy(q,function($){return t(S,$)})}function m(_,S,A,D){var R=A.v,k=A.w;_.removeEdge(R,k),_.setEdge(D.v,D.w,{}),f(_),u(_,S),w(_,S)}function w(_,S){var A=r.find(_.nodes(),function(R){return!S.node(R).parent}),D=i(_,A);D=D.slice(1),r.forEach(D,function(R){var k=_.node(R).parent,j=S.edge(R,k),F=!1;j||(j=S.edge(k,R),F=!0),S.node(R).rank=S.node(k).rank+(F?j.minlen:-j.minlen)})}function b(_,S,A){return _.hasEdge(S,A)}function y(_,S,A){return A.low<=S.lim&&S.lim<=A.lim}return xT}var ST,bN;function oH(){if(bN)return ST;bN=1;var r=V_(),e=r.longestPath,t=j4(),n=aH();ST=i;function i(u){switch(u.graph().ranker){case"network-simplex":s(u);break;case"tight-tree":o(u);break;case"longest-path":a(u);break;default:s(u)}}var a=e;function o(u){e(u),t(u)}function s(u){n(u)}return ST}var OT,_N;function sH(){if(_N)return OT;_N=1;var r=vo();OT=e;function e(i){var a=n(i);r.forEach(i.graph().dummyChains,function(o){for(var s=i.node(o),u=s.edgeObj,l=t(i,a,u.v,u.w),c=l.path,f=l.lca,d=0,v=c[d],p=!0;o!==u.w;){if(s=i.node(o),p){for(;(v=c[d])!==f&&i.node(v).maxRank<s.rank;)d++;v===f&&(p=!1)}if(!p){for(;d<c.length-1&&i.node(v=c[d+1]).minRank<=s.rank;)d++;v=c[d]}i.setParent(o,v),o=i.successors(o)[0]}})}function t(i,a,o,s){var u=[],l=[],c=Math.min(a[o].low,a[s].low),f=Math.max(a[o].lim,a[s].lim),d,v;d=o;do d=i.parent(d),u.push(d);while(d&&(a[d].low>c||f>a[d].lim));for(v=d,d=s;(d=i.parent(d))!==v;)l.push(d);return{path:u.concat(l.reverse()),lca:v}}function n(i){var a={},o=0;function s(u){var l=o;r.forEach(i.children(u),s),a[u]={low:l,lim:o++}}return r.forEach(i.children(),s),a}return OT}var TT,wN;function uH(){if(wN)return TT;wN=1;var r=vo(),e=jf();TT={run:t,cleanup:o};function t(s){var u=e.addDummyNode(s,"root",{},"_root"),l=i(s),c=r.max(r.values(l))-1,f=2*c+1;s.graph().nestingRoot=u,r.forEach(s.edges(),function(v){s.edge(v).minlen*=f});var d=a(s)+1;r.forEach(s.children(),function(v){n(s,u,f,d,c,l,v)}),s.graph().nodeRankFactor=f}function n(s,u,l,c,f,d,v){var p=s.children(v);if(!p.length){v!==u&&s.setEdge(u,v,{weight:0,minlen:l});return}var m=e.addBorderNode(s,"_bt"),w=e.addBorderNode(s,"_bb"),b=s.node(v);s.setParent(m,v),b.borderTop=m,s.setParent(w,v),b.borderBottom=w,r.forEach(p,function(y){n(s,u,l,c,f,d,y);var _=s.node(y),S=_.borderTop?_.borderTop:y,A=_.borderBottom?_.borderBottom:y,D=_.borderTop?c:2*c,R=S!==A?1:f-d[v]+1;s.setEdge(m,S,{weight:D,minlen:R,nestingEdge:!0}),s.setEdge(A,w,{weight:D,minlen:R,nestingEdge:!0})}),s.parent(v)||s.setEdge(u,m,{weight:0,minlen:f+d[v]})}function i(s){var u={};function l(c,f){var d=s.children(c);d&&d.length&&r.forEach(d,function(v){l(v,f+1)}),u[c]=f}return r.forEach(s.children(),function(c){l(c,1)}),u}function a(s){return r.reduce(s.edges(),function(u,l){return u+s.edge(l).weight},0)}function o(s){var u=s.graph();s.removeNode(u.nestingRoot),delete u.nestingRoot,r.forEach(s.edges(),function(l){var c=s.edge(l);c.nestingEdge&&s.removeEdge(l)})}return TT}var CT,EN;function lH(){if(EN)return CT;EN=1;var r=vo(),e=jf();CT=t;function t(i){function a(o){var s=i.children(o),u=i.node(o);if(s.length&&r.forEach(s,a),r.has(u,"minRank")){u.borderLeft=[],u.borderRight=[];for(var l=u.minRank,c=u.maxRank+1;l<c;++l)n(i,"borderLeft","_bl",o,u,l),n(i,"borderRight","_br",o,u,l)}}r.forEach(i.children(),a)}function n(i,a,o,s,u,l){var c={width:0,height:0,rank:l,borderType:a},f=u[a][l-1],d=e.addDummyNode(i,"border",c,o);u[a][l]=d,i.setParent(d,s),f&&i.setEdge(f,d,{weight:1})}return CT}var AT,xN;function cH(){if(xN)return AT;xN=1;var r=vo();AT={adjust:e,undo:t};function e(l){var c=l.graph().rankdir.toLowerCase();(c==="lr"||c==="rl")&&n(l)}function t(l){var c=l.graph().rankdir.toLowerCase();(c==="bt"||c==="rl")&&a(l),(c==="lr"||c==="rl")&&(s(l),n(l))}function n(l){r.forEach(l.nodes(),function(c){i(l.node(c))}),r.forEach(l.edges(),function(c){i(l.edge(c))})}function i(l){var c=l.width;l.width=l.height,l.height=c}function a(l){r.forEach(l.nodes(),function(c){o(l.node(c))}),r.forEach(l.edges(),function(c){var f=l.edge(c);r.forEach(f.points,o),r.has(f,"y")&&o(f)})}function o(l){l.y=-l.y}function s(l){r.forEach(l.nodes(),function(c){u(l.node(c))}),r.forEach(l.edges(),function(c){var f=l.edge(c);r.forEach(f.points,u),r.has(f,"x")&&u(f)})}function u(l){var c=l.x;l.x=l.y,l.y=c}return AT}var RT,SN;function fH(){if(SN)return RT;SN=1;var r=vo();RT=e;function e(t){var n={},i=r.filter(t.nodes(),function(l){return!t.children(l).length}),a=r.max(r.map(i,function(l){return t.node(l).rank})),o=r.map(r.range(a+1),function(){return[]});function s(l){if(!r.has(n,l)){n[l]=!0;var c=t.node(l);o[c.rank].push(l),r.forEach(t.successors(l),s)}}var u=r.sortBy(i,function(l){return t.node(l).rank});return r.forEach(u,s),o}return RT}var PT,ON;function hH(){if(ON)return PT;ON=1;var r=vo();PT=e;function e(n,i){for(var a=0,o=1;o<i.length;++o)a+=t(n,i[o-1],i[o]);return a}function t(n,i,a){for(var o=r.zipObject(a,r.map(a,function(d,v){return v})),s=r.flatten(r.map(i,function(d){return r.sortBy(r.map(n.outEdges(d),function(v){return{pos:o[v.w],weight:n.edge(v).weight}}),"pos")}),!0),u=1;u<a.length;)u<<=1;var l=2*u-1;u-=1;var c=r.map(new Array(l),function(){return 0}),f=0;return r.forEach(s.forEach(function(d){var v=d.pos+u;c[v]+=d.weight;for(var p=0;v>0;)v%2&&(p+=c[v+1]),v=v-1>>1,c[v]+=d.weight;f+=d.weight*p})),f}return PT}var DT,TN;function dH(){if(TN)return DT;TN=1;var r=vo();DT=e;function e(t,n){return r.map(n,function(i){var a=t.inEdges(i);if(a.length){var o=r.reduce(a,function(s,u){var l=t.edge(u),c=t.node(u.v);return{sum:s.sum+l.weight*c.order,weight:s.weight+l.weight}},{sum:0,weight:0});return{v:i,barycenter:o.sum/o.weight,weight:o.weight}}else return{v:i}})}return DT}var IT,CN;function vH(){if(CN)return IT;CN=1;var r=vo();IT=e;function e(i,a){var o={};r.forEach(i,function(u,l){var c=o[u.v]={indegree:0,in:[],out:[],vs:[u.v],i:l};r.isUndefined(u.barycenter)||(c.barycenter=u.barycenter,c.weight=u.weight)}),r.forEach(a.edges(),function(u){var l=o[u.v],c=o[u.w];!r.isUndefined(l)&&!r.isUndefined(c)&&(c.indegree++,l.out.push(o[u.w]))});var s=r.filter(o,function(u){return!u.indegree});return t(s)}function t(i){var a=[];function o(l){return function(c){c.merged||(r.isUndefined(c.barycenter)||r.isUndefined(l.barycenter)||c.barycenter>=l.barycenter)&&n(l,c)}}function s(l){return function(c){c.in.push(l),--c.indegree===0&&i.push(c)}}for(;i.length;){var u=i.pop();a.push(u),r.forEach(u.in.reverse(),o(u)),r.forEach(u.out,s(u))}return r.map(r.filter(a,function(l){return!l.merged}),function(l){return r.pick(l,["vs","i","barycenter","weight"])})}function n(i,a){var o=0,s=0;i.weight&&(o+=i.barycenter*i.weight,s+=i.weight),a.weight&&(o+=a.barycenter*a.weight,s+=a.weight),i.vs=a.vs.concat(i.vs),i.barycenter=o/s,i.weight=s,i.i=Math.min(a.i,i.i),a.merged=!0}return IT}var kT,AN;function pH(){if(AN)return kT;AN=1;var r=vo(),e=jf();kT=t;function t(a,o){var s=e.partition(a,function(m){return r.has(m,"barycenter")}),u=s.lhs,l=r.sortBy(s.rhs,function(m){return-m.i}),c=[],f=0,d=0,v=0;u.sort(i(!!o)),v=n(c,l,v),r.forEach(u,function(m){v+=m.vs.length,c.push(m.vs),f+=m.barycenter*m.weight,d+=m.weight,v=n(c,l,v)});var p={vs:r.flatten(c,!0)};return d&&(p.barycenter=f/d,p.weight=d),p}function n(a,o,s){for(var u;o.length&&(u=r.last(o)).i<=s;)o.pop(),a.push(u.vs),s++;return s}function i(a){return function(o,s){return o.barycenter<s.barycenter?-1:o.barycenter>s.barycenter?1:a?s.i-o.i:o.i-s.i}}return kT}var MT,RN;function gH(){if(RN)return MT;RN=1;var r=vo(),e=dH(),t=vH(),n=pH();MT=i;function i(s,u,l,c){var f=s.children(u),d=s.node(u),v=d?d.borderLeft:void 0,p=d?d.borderRight:void 0,m={};v&&(f=r.filter(f,function(A){return A!==v&&A!==p}));var w=e(s,f);r.forEach(w,function(A){if(s.children(A.v).length){var D=i(s,A.v,l,c);m[A.v]=D,r.has(D,"barycenter")&&o(A,D)}});var b=t(w,l);a(b,m);var y=n(b,c);if(v&&(y.vs=r.flatten([v,y.vs,p],!0),s.predecessors(v).length)){var _=s.node(s.predecessors(v)[0]),S=s.node(s.predecessors(p)[0]);r.has(y,"barycenter")||(y.barycenter=0,y.weight=0),y.barycenter=(y.barycenter*y.weight+_.order+S.order)/(y.weight+2),y.weight+=2}return y}function a(s,u){r.forEach(s,function(l){l.vs=r.flatten(l.vs.map(function(c){return u[c]?u[c].vs:c}),!0)})}function o(s,u){r.isUndefined(s.barycenter)?(s.barycenter=u.barycenter,s.weight=u.weight):(s.barycenter=(s.barycenter*s.weight+u.barycenter*u.weight)/(s.weight+u.weight),s.weight+=u.weight)}return MT}var NT,PN;function yH(){if(PN)return NT;PN=1;var r=vo(),e=_d().Graph;NT=t;function t(i,a,o){var s=n(i),u=new e({compound:!0}).setGraph({root:s}).setDefaultNodeLabel(function(l){return i.node(l)});return r.forEach(i.nodes(),function(l){var c=i.node(l),f=i.parent(l);(c.rank===a||c.minRank<=a&&a<=c.maxRank)&&(u.setNode(l),u.setParent(l,f||s),r.forEach(i[o](l),function(d){var v=d.v===l?d.w:d.v,p=u.edge(v,l),m=r.isUndefined(p)?0:p.weight;u.setEdge(v,l,{weight:i.edge(d).weight+m})}),r.has(c,"minRank")&&u.setNode(l,{borderLeft:c.borderLeft[a],borderRight:c.borderRight[a]}))}),u}function n(i){for(var a;i.hasNode(a=r.uniqueId("_root")););return a}return NT}var LT,DN;function mH(){if(DN)return LT;DN=1;var r=vo();LT=e;function e(t,n,i){var a={},o;r.forEach(i,function(s){for(var u=t.parent(s),l,c;u;){if(l=t.parent(u),l?(c=a[l],a[l]=u):(c=o,o=u),c&&c!==u){n.setEdge(c,u);return}u=l}})}return LT}var jT,IN;function bH(){if(IN)return jT;IN=1;var r=vo(),e=fH(),t=hH(),n=gH(),i=yH(),a=mH(),o=_d().Graph,s=jf();jT=u;function u(d){var v=s.maxRank(d),p=l(d,r.range(1,v+1),"inEdges"),m=l(d,r.range(v-1,-1,-1),"outEdges"),w=e(d);f(d,w);for(var b=Number.POSITIVE_INFINITY,y,_=0,S=0;S<4;++_,++S){c(_%2?p:m,_%4>=2),w=s.buildLayerMatrix(d);var A=t(d,w);A<b&&(S=0,y=r.cloneDeep(w),b=A)}f(d,y)}function l(d,v,p){return r.map(v,function(m){return i(d,m,p)})}function c(d,v){var p=new o;r.forEach(d,function(m){var w=m.graph().root,b=n(m,w,p,v);r.forEach(b.vs,function(y,_){m.node(y).order=_}),a(m,p,b.vs)})}function f(d,v){r.forEach(v,function(p){r.forEach(p,function(m,w){d.node(m).order=w})})}return jT}var BT,kN;function _H(){if(kN)return BT;kN=1;var r=vo(),e=_d().Graph,t=jf();BT={positionX:p,findType1Conflicts:n,findType2Conflicts:i,addConflict:o,hasConflict:s,verticalAlignment:u,horizontalCompaction:l,alignCoordinates:d,findSmallestWidthAlignment:f,balance:v};function n(b,y){var _={};function S(A,D){var R=0,k=0,j=A.length,F=r.last(D);return r.forEach(D,function(z,q){var $=a(b,z),K=$?b.node($).order:j;($||z===F)&&(r.forEach(D.slice(k,q+1),function(oe){r.forEach(b.predecessors(oe),function(J){var re=b.node(J),ae=re.order;(ae<R||K<ae)&&!(re.dummy&&b.node(oe).dummy)&&o(_,J,oe)})}),k=q+1,R=K)}),D}return r.reduce(y,S),_}function i(b,y){var _={};if(b.nodeCount()>1e3)return _;function S(D,R,k,j,F){var z;r.forEach(r.range(R,k),function(q){z=D[q],b.node(z).dummy&&r.forEach(b.predecessors(z),function($){var K=b.node($);K.dummy&&(K.order<j||K.order>F)&&o(_,$,z)})})}function A(D,R){var k=-1,j,F=0;return r.forEach(R,function(z,q){if(b.node(z).dummy==="border"){var $=b.predecessors(z);$.length&&(j=b.node($[0]).order,S(R,F,q,k,j),F=q,k=j)}S(R,F,R.length,j,D.length)}),R}return r.reduce(y,A),_}function a(b,y){if(b.node(y).dummy)return r.find(b.predecessors(y),function(_){return b.node(_).dummy})}function o(b,y,_){if(y>_){var S=y;y=_,_=S}var A=b[y];A||(b[y]=A={}),A[_]=!0}function s(b,y,_){if(y>_){var S=y;y=_,_=S}return r.has(b[y],_)}function u(b,y,_,S){var A={},D={},R={};return r.forEach(y,function(k){r.forEach(k,function(j,F){A[j]=j,D[j]=j,R[j]=F})}),r.forEach(y,function(k){var j=-1;r.forEach(k,function(F){var z=S(F);if(z.length){z=r.sortBy(z,function(J){return R[J]});for(var q=(z.length-1)/2,$=Math.floor(q),K=Math.ceil(q);$<=K;++$){var oe=z[$];D[F]===F&&j<R[oe]&&!s(_,F,oe)&&(D[oe]=F,D[F]=A[F]=A[oe],j=R[oe])}}})}),{root:A,align:D}}function l(b,y,_,S,A){var D={},R=c(b,y,_,A),k=A?"borderLeft":"borderRight";function j(q,$){for(var K=R.nodes(),oe=K.pop(),J={};oe;)J[oe]?q(oe):(J[oe]=!0,K.push(oe),K=K.concat($(oe))),oe=K.pop()}function F(q){D[q]=R.inEdges(q).reduce(function($,K){return Math.max($,D[K.v]+R.edge(K))},0)}function z(q){var $=R.outEdges(q).reduce(function(oe,J){return Math.min(oe,D[J.w]-R.edge(J))},Number.POSITIVE_INFINITY),K=b.node(q);$!==Number.POSITIVE_INFINITY&&K.borderType!==k&&(D[q]=Math.max(D[q],$))}return j(F,R.predecessors.bind(R)),j(z,R.successors.bind(R)),r.forEach(S,function(q){D[q]=D[_[q]]}),D}function c(b,y,_,S){var A=new e,D=b.graph(),R=m(D.nodesep,D.edgesep,S);return r.forEach(y,function(k){var j;r.forEach(k,function(F){var z=_[F];if(A.setNode(z),j){var q=_[j],$=A.edge(q,z);A.setEdge(q,z,Math.max(R(b,F,j),$||0))}j=F})}),A}function f(b,y){return r.minBy(r.values(y),function(_){var S=Number.NEGATIVE_INFINITY,A=Number.POSITIVE_INFINITY;return r.forIn(_,function(D,R){var k=w(b,R)/2;S=Math.max(D+k,S),A=Math.min(D-k,A)}),S-A})}function d(b,y){var _=r.values(y),S=r.min(_),A=r.max(_);r.forEach(["u","d"],function(D){r.forEach(["l","r"],function(R){var k=D+R,j=b[k],F;if(j!==y){var z=r.values(j);F=R==="l"?S-r.min(z):A-r.max(z),F&&(b[k]=r.mapValues(j,function(q){return q+F}))}})})}function v(b,y){return r.mapValues(b.ul,function(_,S){if(y)return b[y.toLowerCase()][S];var A=r.sortBy(r.map(b,S));return(A[1]+A[2])/2})}function p(b){var y=t.buildLayerMatrix(b),_=r.merge(n(b,y),i(b,y)),S={},A;r.forEach(["u","d"],function(R){A=R==="u"?y:r.values(y).reverse(),r.forEach(["l","r"],function(k){k==="r"&&(A=r.map(A,function(q){return r.values(q).reverse()}));var j=(R==="u"?b.predecessors:b.successors).bind(b),F=u(b,A,_,j),z=l(b,A,F.root,F.align,k==="r");k==="r"&&(z=r.mapValues(z,function(q){return-q})),S[R+k]=z})});var D=f(b,S);return d(S,D),v(S,b.graph().align)}function m(b,y,_){return function(S,A,D){var R=S.node(A),k=S.node(D),j=0,F;if(j+=R.width/2,r.has(R,"labelpos"))switch(R.labelpos.toLowerCase()){case"l":F=-R.width/2;break;case"r":F=R.width/2;break}if(F&&(j+=_?F:-F),F=0,j+=(R.dummy?y:b)/2,j+=(k.dummy?y:b)/2,j+=k.width/2,r.has(k,"labelpos"))switch(k.labelpos.toLowerCase()){case"l":F=k.width/2;break;case"r":F=-k.width/2;break}return F&&(j+=_?F:-F),F=0,j}}function w(b,y){return b.node(y).width}return BT}var FT,MN;function wH(){if(MN)return FT;MN=1;var r=vo(),e=jf(),t=_H().positionX;FT=n;function n(a){a=e.asNonCompoundGraph(a),i(a),r.forEach(t(a),function(o,s){a.node(s).x=o})}function i(a){var o=e.buildLayerMatrix(a),s=a.graph().ranksep,u=0;r.forEach(o,function(l){var c=r.max(r.map(l,function(f){return a.node(f).height}));r.forEach(l,function(f){a.node(f).y=u+c/2}),u+=c+s})}return FT}var UT,NN;function EH(){if(NN)return UT;NN=1;var r=vo(),e=nH(),t=iH(),n=oH(),i=jf().normalizeRanks,a=sH(),o=jf().removeEmptyRanks,s=uH(),u=lH(),l=cH(),c=bH(),f=wH(),d=jf(),v=_d().Graph;UT=p;function p(de,ge){var Ce=ge&&ge.debugTiming?d.time:d.notime,Ne=Ce("layout",function(){return Ne=Ce("  buildLayoutGraph",function(){return j(de)}),Ce("  runLayout",function(){m(Ne,Ce)}),Ce("  updateInputGraph",function(){w(de,Ne)}),Ne});return Ne}function m(de,ge){ge("    makeSpaceForEdgeLabels",function(){F(de)}),ge("    removeSelfEdges",function(){ve(de)}),ge("    acyclic",function(){e.run(de)}),ge("    nestingGraph.run",function(){s.run(de)}),ge("    rank",function(){n(d.asNonCompoundGraph(de))}),ge("    injectEdgeLabelProxies",function(){z(de)}),ge("    removeEmptyRanks",function(){o(de)}),ge("    nestingGraph.cleanup",function(){s.cleanup(de)}),ge("    normalizeRanks",function(){i(de)}),ge("    assignRankMinMax",function(){q(de)}),ge("    removeEdgeLabelProxies",function(){$(de)}),ge("    normalize.run",function(){t.run(de)}),ge("    parentDummyChains",function(){a(de)}),ge("    addBorderSegments",function(){u(de)}),ge("    order",function(){c(de)}),ge("    insertSelfEdges",function(){se(de)}),ge("    adjustCoordinateSystem",function(){l.adjust(de)}),ge("    position",function(){f(de)}),ge("    positionSelfEdges",function(){ce(de)}),ge("    removeBorderNodes",function(){ae(de)}),ge("    normalize.undo",function(){t.undo(de)}),ge("    fixupEdgeLabelCoords",function(){J(de)}),ge("    undoCoordinateSystem",function(){l.undo(de)}),ge("    translateGraph",function(){K(de)}),ge("    assignNodeIntersects",function(){oe(de)}),ge("    reversePoints",function(){re(de)}),ge("    acyclic.undo",function(){e.undo(de)})}function w(de,ge){r.forEach(de.nodes(),function(Ce){var Ne=de.node(Ce),De=ge.node(Ce);Ne&&(Ne.x=De.x,Ne.y=De.y,ge.children(Ce).length&&(Ne.width=De.width,Ne.height=De.height))}),r.forEach(de.edges(),function(Ce){var Ne=de.edge(Ce),De=ge.edge(Ce);Ne.points=De.points,r.has(De,"x")&&(Ne.x=De.x,Ne.y=De.y)}),de.graph().width=ge.graph().width,de.graph().height=ge.graph().height}var b=["nodesep","edgesep","ranksep","marginx","marginy"],y={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},_=["acyclicer","ranker","rankdir","align"],S=["width","height"],A={width:0,height:0},D=["minlen","weight","width","height","labeloffset"],R={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},k=["labelpos"];function j(de){var ge=new v({multigraph:!0,compound:!0}),Ce=Pe(de.graph());return ge.setGraph(r.merge({},y,pe(Ce,b),r.pick(Ce,_))),r.forEach(de.nodes(),function(Ne){var De=Pe(de.node(Ne));ge.setNode(Ne,r.defaults(pe(De,S),A)),ge.setParent(Ne,de.parent(Ne))}),r.forEach(de.edges(),function(Ne){var De=Pe(de.edge(Ne));ge.setEdge(Ne,r.merge({},R,pe(De,D),r.pick(De,k)))}),ge}function F(de){var ge=de.graph();ge.ranksep/=2,r.forEach(de.edges(),function(Ce){var Ne=de.edge(Ce);Ne.minlen*=2,Ne.labelpos.toLowerCase()!=="c"&&(ge.rankdir==="TB"||ge.rankdir==="BT"?Ne.width+=Ne.labeloffset:Ne.height+=Ne.labeloffset)})}function z(de){r.forEach(de.edges(),function(ge){var Ce=de.edge(ge);if(Ce.width&&Ce.height){var Ne=de.node(ge.v),De=de.node(ge.w),ke={rank:(De.rank-Ne.rank)/2+Ne.rank,e:ge};d.addDummyNode(de,"edge-proxy",ke,"_ep")}})}function q(de){var ge=0;r.forEach(de.nodes(),function(Ce){var Ne=de.node(Ce);Ne.borderTop&&(Ne.minRank=de.node(Ne.borderTop).rank,Ne.maxRank=de.node(Ne.borderBottom).rank,ge=r.max(ge,Ne.maxRank))}),de.graph().maxRank=ge}function $(de){r.forEach(de.nodes(),function(ge){var Ce=de.node(ge);Ce.dummy==="edge-proxy"&&(de.edge(Ce.e).labelRank=Ce.rank,de.removeNode(ge))})}function K(de){var ge=Number.POSITIVE_INFINITY,Ce=0,Ne=Number.POSITIVE_INFINITY,De=0,ke=de.graph(),_e=ke.marginx||0,Ie=ke.marginy||0;function Ge(Qe){var ot=Qe.x,Tt=Qe.y,zt=Qe.width,pt=Qe.height;ge=Math.min(ge,ot-zt/2),Ce=Math.max(Ce,ot+zt/2),Ne=Math.min(Ne,Tt-pt/2),De=Math.max(De,Tt+pt/2)}r.forEach(de.nodes(),function(Qe){Ge(de.node(Qe))}),r.forEach(de.edges(),function(Qe){var ot=de.edge(Qe);r.has(ot,"x")&&Ge(ot)}),ge-=_e,Ne-=Ie,r.forEach(de.nodes(),function(Qe){var ot=de.node(Qe);ot.x-=ge,ot.y-=Ne}),r.forEach(de.edges(),function(Qe){var ot=de.edge(Qe);r.forEach(ot.points,function(Tt){Tt.x-=ge,Tt.y-=Ne}),r.has(ot,"x")&&(ot.x-=ge),r.has(ot,"y")&&(ot.y-=Ne)}),ke.width=Ce-ge+_e,ke.height=De-Ne+Ie}function oe(de){r.forEach(de.edges(),function(ge){var Ce=de.edge(ge),Ne=de.node(ge.v),De=de.node(ge.w),ke,_e;Ce.points?(ke=Ce.points[0],_e=Ce.points[Ce.points.length-1]):(Ce.points=[],ke=De,_e=Ne),Ce.points.unshift(d.intersectRect(Ne,ke)),Ce.points.push(d.intersectRect(De,_e))})}function J(de){r.forEach(de.edges(),function(ge){var Ce=de.edge(ge);if(r.has(Ce,"x"))switch((Ce.labelpos==="l"||Ce.labelpos==="r")&&(Ce.width-=Ce.labeloffset),Ce.labelpos){case"l":Ce.x-=Ce.width/2+Ce.labeloffset;break;case"r":Ce.x+=Ce.width/2+Ce.labeloffset;break}})}function re(de){r.forEach(de.edges(),function(ge){var Ce=de.edge(ge);Ce.reversed&&Ce.points.reverse()})}function ae(de){r.forEach(de.nodes(),function(ge){if(de.children(ge).length){var Ce=de.node(ge),Ne=de.node(Ce.borderTop),De=de.node(Ce.borderBottom),ke=de.node(r.last(Ce.borderLeft)),_e=de.node(r.last(Ce.borderRight));Ce.width=Math.abs(_e.x-ke.x),Ce.height=Math.abs(De.y-Ne.y),Ce.x=ke.x+Ce.width/2,Ce.y=Ne.y+Ce.height/2}}),r.forEach(de.nodes(),function(ge){de.node(ge).dummy==="border"&&de.removeNode(ge)})}function ve(de){r.forEach(de.edges(),function(ge){if(ge.v===ge.w){var Ce=de.node(ge.v);Ce.selfEdges||(Ce.selfEdges=[]),Ce.selfEdges.push({e:ge,label:de.edge(ge)}),de.removeEdge(ge)}})}function se(de){var ge=d.buildLayerMatrix(de);r.forEach(ge,function(Ce){var Ne=0;r.forEach(Ce,function(De,ke){var _e=de.node(De);_e.order=ke+Ne,r.forEach(_e.selfEdges,function(Ie){d.addDummyNode(de,"selfedge",{width:Ie.label.width,height:Ie.label.height,rank:_e.rank,order:ke+ ++Ne,e:Ie.e,label:Ie.label},"_se")}),delete _e.selfEdges})})}function ce(de){r.forEach(de.nodes(),function(ge){var Ce=de.node(ge);if(Ce.dummy==="selfedge"){var Ne=de.node(Ce.e.v),De=Ne.x+Ne.width/2,ke=Ne.y,_e=Ce.x-De,Ie=Ne.height/2;de.setEdge(Ce.e,Ce.label),de.removeNode(ge),Ce.label.points=[{x:De+2*_e/3,y:ke-Ie},{x:De+5*_e/6,y:ke-Ie},{x:De+_e,y:ke},{x:De+5*_e/6,y:ke+Ie},{x:De+2*_e/3,y:ke+Ie}],Ce.label.x=Ce.x,Ce.label.y=Ce.y}})}function pe(de,ge){return r.mapValues(r.pick(de,ge),Number)}function Pe(de){var ge={};return r.forEach(de,function(Ce,Ne){ge[Ne.toLowerCase()]=Ce}),ge}return UT}var zT,LN;function xH(){if(LN)return zT;LN=1;var r=vo(),e=jf(),t=_d().Graph;zT={debugOrdering:n};function n(i){var a=e.buildLayerMatrix(i),o=new t({compound:!0,multigraph:!0}).setGraph({});return r.forEach(i.nodes(),function(s){o.setNode(s,{label:s}),o.setParent(s,"layer"+i.node(s).rank)}),r.forEach(i.edges(),function(s){o.setEdge(s.v,s.w,{},s.name)}),r.forEach(a,function(s,u){var l="layer"+u;o.setNode(l,{rank:"same"}),r.reduce(s,function(c,f){return o.setEdge(c,f,{style:"invis"}),f})}),o}return zT}var qT,jN;function SH(){return jN||(jN=1,qT="0.8.14"),qT}var GT,BN;function OH(){return BN||(BN=1,GT={graphlib:_d(),layout:EH(),debug:xH(),util:{time:jf().time,notime:jf().notime},version:SH()}),GT}var TH=OH();const B4=Qm(TH);var HT,FN;function CH(){if(FN)return HT;FN=1;var r=function(){};return r.prototype={fit:function(e){var t,n,i,a=e.length,o,s=a>0?e[0].width:0,u=a>0?e[0].height:0;for(this.root={x:0,y:0,width:s,height:u},t=0;t<a;t++)i=e[t],(n=this.findNode(this.root,i.width,i.height))?(o=this.splitNode(n,i.width,i.height),i.x=o.x,i.y=o.y):(o=this.growNode(i.width,i.height),i.x=o.x,i.y=o.y)},findNode:function(e,t,n){return e.used?this.findNode(e.right,t,n)||this.findNode(e.down,t,n):t<=e.width&&n<=e.height?e:null},splitNode:function(e,t,n){return e.used=!0,e.down={x:e.x,y:e.y+n,width:e.width,height:e.height-n},e.right={x:e.x+t,y:e.y,width:e.width-t,height:n},e},growNode:function(e,t){var n=e<=this.root.width,i=t<=this.root.height,a=i&&this.root.height>=this.root.width+e,o=n&&this.root.width>=this.root.height+t;return a?this.growRight(e,t):o?this.growDown(e,t):i?this.growRight(e,t):n?this.growDown(e,t):null},growRight:function(e,t){this.root={used:!0,x:0,y:0,width:this.root.width+e,height:this.root.height,down:this.root,right:{x:this.root.width,y:0,width:e,height:this.root.height}};var n;return(n=this.findNode(this.root,e,t))?this.splitNode(n,e,t):null},growDown:function(e,t){this.root={used:!0,x:0,y:0,width:this.root.width,height:this.root.height+t,down:{x:0,y:this.root.height,width:this.root.width,height:t},right:this.root};var n;return(n=this.findNode(this.root,e,t))?this.splitNode(n,e,t):null}},HT=r,HT}var VT,UN;function AH(){if(UN)return VT;UN=1;var r=CH();return VT=function(e,t){t=t||{};var n=new r,i=t.inPlace||!1,a=e.map(function(l){return i?l:{width:l.width,height:l.height,item:l}});a=a.sort(function(l,c){return c.width*c.height-l.width*l.height}),n.fit(a);var o=a.reduce(function(l,c){return Math.max(l,c.x+c.width)},0),s=a.reduce(function(l,c){return Math.max(l,c.y+c.height)},0),u={width:o,height:s};return i||(u.items=a),u},VT}var RH=AH();const PH=Qm(RH);var DH=_d();const IH=Qm(DH),kH="tight-tree",Lp=100,F4="up",W2="down",MH="left",U4="right",NH={[F4]:"BT",[W2]:"TB",[MH]:"RL",[U4]:"LR"},LH="bin",jH=25,BH=1/.38,FH=r=>r===F4||r===W2,UH=r=>r===W2||r===U4,$T=r=>{let e=null,t=null,n=null,i=null,a=null,o=null,s=null,u=null;for(const l of r.nodes()){const c=r.node(l);(a===null||c.x<a)&&(a=c.x),(o===null||c.y<o)&&(o=c.y),(s===null||c.x>s)&&(s=c.x),(u===null||c.y>u)&&(u=c.y);const f=Math.ceil(c.width/2);(e===null||c.x-f<e)&&(e=c.x-f),(t===null||c.y-f<t)&&(t=c.y-f),(n===null||c.x+f>n)&&(n=c.x+f),(i===null||c.y+f>i)&&(i=c.y+f)}return{minX:e,minY:t,maxX:n,maxY:i,minCenterX:a,minCenterY:o,maxCenterX:s,maxCenterY:u,width:n-e,height:i-t,xOffset:a-e,yOffset:o-t}},z4=r=>{const e=new B4.graphlib.Graph;return e.setGraph({}),e.setDefaultEdgeLabel(()=>({})),e.graph().nodesep=75*r,e.graph().ranksep=75*r,e},zN=(r,e,t)=>{const{rank:n}=t.node(r);let i=null,a=null;for(const o of e){const{rank:s}=t.node(o);if(!(o===r||s>=n))if(s===n-1){i=s,a=o;break}else(i===null&&a===null||s>i)&&(i=s,a=o)}return a},zH=(r,e)=>{let t=zN(r,e.predecessors(r),e);return t===null&&(t=zN(r,e.successors(r),e)),t},qH=(r,e)=>{const t=[],n=IH.alg.components(r);if(n.length>1)for(const i of n){const a=z4(e);for(const o of i){const s=r.node(o);a.setNode(o,{width:s.width,height:s.height});const u=r.outEdges(o);if(u)for(const l of u)a.setEdge(l.v,l.w)}t.push(a)}else t.push(r);return t},qN=(r,e,t)=>{r.graph().ranker=kH,r.graph().rankdir=NH[e];const n=B4.layout(r);for(const i of n.nodes()){const a=zH(i,n);a!==null&&(t[i]=a)}},WT=(r,e)=>Math.sqrt((r.x-e.x)*(r.x-e.x)+(r.y-e.y)*(r.y-e.y)),GH=r=>{const e=[r[0]];let t={p1:r[0],p2:r[1]},n=WT(t.p1,t.p2);for(let i=2;i<r.length;i++){let a={p1:r[i-1],p2:r[i]},o=WT(a.p1,a.p2);const s={p1:t.p1,p2:a.p2},u=WT(s.p1,s.p2);o+n-u<.1&&(e.pop(),a=s,o=u),e.push(a.p1),t=a,n=o}return e.push(r[r.length-1]),e},HH=(r,e,t,n,i,a,o=1)=>{const s=z4(o),u={},l={x:0,y:0},c=r.length;for(const _ of r){const S=t[_.id];l.x+=(S==null?void 0:S.x)||0,l.y+=(S==null?void 0:S.y)||0;const A=(_.size||jH)*BH*o;s.setNode(_.id,{width:A,height:A})}const f=c?[l.x/c,l.y/c]:[0,0],d={};for(const _ of n)if(e[_.from]&&e[_.to]&&_.from!==_.to){const S=_.from<_.to?`${_.from}-${_.to}`:`${_.to}-${_.from}`;d[S]||(d[S]=1,s.setEdge(_.from,_.to))}const v=qH(s,o);if(v.length>1){v.forEach(R=>qN(R,i,u));const _=FH(i),S=UH(i),A=v.filter(R=>R.nodeCount()===1),D=v.filter(R=>R.nodeCount()!==1);if(a===LH){D.sort((re,ae)=>ae.nodeCount()-re.nodeCount());const j=_?({width:re,height:ae,...ve})=>({...ve,width:re+Lp,height:ae+Lp}):({width:re,height:ae,...ve})=>({...ve,width:ae+Lp,height:re+Lp}),F=D.map($T).map(j),z=A.map($T).map(j),q=F.concat(z);PH(q,{inPlace:!0});const $=Math.floor(Lp/2),K=_?"x":"y",oe=_?"y":"x";if(!S){const re=_?"y":"x",ae=_?"height":"width",ve=q.reduce((ce,pe)=>ce===null?pe[re]:Math.min(pe[re],ce[ae]||0),null),se=q.reduce((ce,pe)=>ce===null?pe[re]+pe[ae]:Math.max(pe[re]+pe[ae],ce[ae]||0),null);q.forEach(ce=>{ce[re]=ve+(se-(ce[re]+ce[ae]))})}const J=(re,ae)=>{for(const ve of re.nodes()){const se=re.node(ve),ce=s.node(ve);ce.x=se.x-ae.xOffset+ae[K]+$,ce.y=se.y-ae.yOffset+ae[oe]+$}};for(let re=0;re<D.length;re++){const ae=D[re],ve=F[re];J(ae,ve)}for(let re=0;re<A.length;re++){const ae=A[re],ve=z[re];J(ae,ve)}}else{D.sort(S?(ae,ve)=>ve.nodeCount()-ae.nodeCount():(ae,ve)=>ae.nodeCount()-ve.nodeCount());const R=D.map($T),k=A.reduce((ae,ve)=>ae+s.node(ve.nodes()[0]).width,0),j=A.reduce((ae,ve)=>Math.max(ae,s.node(ve.nodes()[0]).width),0),F=A.length>0?k+(A.length-1)*Lp:0,z=R.reduce((ae,{width:ve})=>Math.max(ae,ve),0),q=Math.max(z,F),$=R.reduce((ae,{height:ve})=>Math.max(ae,ve),0),K=Math.max($,F);let oe=0;const J=()=>{for(let ae=0;ae<D.length;ae++){const ve=D[ae],se=R[ae],ce=Math.floor(_?(q-se.width)/2:(K-se.height)/2);for(const pe of ve.nodes()){const Pe=ve.node(pe),de=s.node(pe);_?(de.x=Pe.x-se.minX+ce,de.y=Pe.y-se.minY+oe):(de.x=Pe.x-se.minX+oe,de.y=Pe.y-se.minY+ce)}for(const pe of ve.edges()){const Pe=ve.edge(pe),de=s.edge(pe);Pe.points&&Pe.points.length>3&&(de.points=Pe.points.map(({x:ge,y:Ce})=>({x:ge-se.minX+(_?ce:oe),y:Ce-se.minY+(_?oe:ce)})))}oe+=(_?se.height:se.width)+Lp}},re=()=>{const ae=Math.floor(((_?q:K)-F)/2);oe+=Math.floor(j/2);let ve=ae;for(const se of A){const ce=se.nodes()[0],pe=s.node(ce);_?(pe.x=ve+Math.floor(pe.width/2),pe.y=oe):(pe.x=oe,pe.y=ve+Math.floor(pe.width/2)),ve+=Lp+pe.width}oe=j+Lp};S?(J(),re()):(re(),J())}}else qN(s,i,u);l.x=0,l.y=0;const p={};for(const _ of s.nodes()){const S=s.node(_);l.x+=S.x||0,l.y+=S.y||0,p[_]={x:S.x,y:S.y}}const m=c?[l.x/c,l.y/c]:[0,0],w=f[0]-m[0],b=f[1]-m[1];for(const _ in p)p[_].x+=w,p[_].y+=b;const y={};for(const _ of s.edges()){const S=s.edge(_);if(S.points&&S.points.length>3){const A=GH(S.points);for(const D of A)D.x+=w,D.y+=b;y[`${_.v}-${_.w}`]={points:[...A],from:{x:p[_.v].x,y:p[_.v].y},to:{x:p[_.w].x,y:p[_.w].y}},y[`${_.w}-${_.v}`]={points:A.reverse(),from:{x:p[_.w].x,y:p[_.w].y},to:{x:p[_.v].x,y:p[_.v].y}}}}return{positions:p,parents:u,waypoints:y}};class VH{start(){}postMessage(e){const{nodes:t,nodeIds:n,idToPosition:i,rels:a,direction:o,packing:s,pixelRatio:u,forcedDelay:l=0}=e,c=HH(t,n,i,a,o,s,u);l?setTimeout(()=>{this.onmessage({data:c})},l):this.onmessage({data:c})}onmessage(){}close(){}}const $H={port:new VH},WH=()=>new SharedWorker(new URL("/assets/HierarchicalLayout.worker-D3f6Y93C.js",import.meta.url),{type:"module",name:"HierarchicalLayout"}),YH=Object.freeze(Object.defineProperty({__proto__:null,coseBilkentLayoutFallbackWorker:x9,createCoseBilkentLayoutWorker:S9,createHierarchicalLayoutWorker:WH,hierarchicalLayoutFallbackWorker:$H},Symbol.toStringTag,{value:"Module"})),XH="modulepreload",KH=function(r){return"/"+r},GN={},fv=function(e,t,n){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(t.map(u=>{if(u=KH(u),u in GN)return;GN[u]=!0;const l=u.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${c}`))return;const f=document.createElement("link");if(f.rel=l?"stylesheet":XH,l||(f.as="script"),f.crossOrigin="",f.href=u,s&&f.setAttribute("nonce",s),document.head.appendChild(f),l)return new Promise((d,v)=>{f.addEventListener("load",d),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return e().catch(a)})};var qC=function(r,e){return qC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},qC(r,e)};function zf(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");qC(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var or=function(){return or=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},or.apply(this,arguments)};function q4(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}function Gr(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(c){try{l(n.next(c))}catch(f){o(f)}}function u(c){try{l(n.throw(c))}catch(f){o(f)}}function l(c){c.done?a(c.value):i(c.value).then(s,u)}l((n=n.apply(r,e||[])).next())})}function Hr(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(t=0)),t;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){t.label=l[1];break}if(l[0]===6&&t.label<a[1]){t.label=a[1],a=l;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(l);break}a[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(r,t)}catch(c){l=[6,c],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Au(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return r.concat(a||Array.prototype.slice.call(e))}function GC(r,e,t){e.split&&(e=e.split("."));for(var n=0,i=e.length,a=r,o,s;n<i&&(s=""+e[n++],!(s==="__proto__"||s==="constructor"||s==="prototype"));)a=a[s]=n===i?t:typeof(o=a[s])==typeof e?o:e[n]*0!==0||~(""+e[n]).indexOf(".")?{}:[]}var ZH=function(r,e){return Object.keys(r).filter(function(t){return e(t,r[t])}).reduce(function(t,n){return t[n]=r[n],t},{})},Fy=function(r){zf(e,r);function e(t,n){var i=r.call(this,"".concat(t," ").concat(n))||this;return i.field=t,i}return e}(Error);function Lg(r){return typeof r=="string"}function HC(r){return typeof r=="number"}function Bm(r){return typeof r=="function"}function QH(r){return r!=null}function bd(r){return Object.prototype.toString.call(r).slice(8,-1).toLowerCase()==="object"}var Y2="is not a string",X2="is not an object",JH="is nil";function eV(r){if(!QH(r))throw new Fy("Event",JH);if(typeof r!="object")throw new Fy("Event",X2)}function tV(r){if(!Lg(r.type))throw new Fy(".type",Y2)}function rV(r){if(!Lg(r.event))throw new Fy(".event",Y2)}function nV(r){if(!bd(r.properties))throw new Fy(".properties",X2)}function iV(r){if(!bd(r.traits))throw new Fy(".traits",X2)}function aV(r){if(!Lg(r.messageId))throw new Fy(".messageId",Y2)}function oV(r){eV(r),tV(r),aV(r),r.type==="track"&&(rV(r),nV(r)),["group","identify"].includes(r.type)&&iV(r)}var sV=function(){function r(e){var t,n;this.settings=e,this.createMessageId=e.createMessageId,this.onEventMethodCall=(t=e.onEventMethodCall)!==null&&t!==void 0?t:function(){},this.onFinishedEvent=(n=e.onFinishedEvent)!==null&&n!==void 0?n:function(){}}return r}(),uV=function(){function r(e){this.settings=new sV(e)}return r.prototype.track=function(e,t,n,i){return this.settings.onEventMethodCall({type:"track",options:n}),this.normalize(or(or({},this.baseEvent()),{event:e,type:"track",properties:t??{},options:or({},n),integrations:or({},i)}))},r.prototype.page=function(e,t,n,i,a){var o;this.settings.onEventMethodCall({type:"page",options:i});var s={type:"page",properties:or({},n),options:or({},i),integrations:or({},a)};return e!==null&&(s.category=e,s.properties=(o=s.properties)!==null&&o!==void 0?o:{},s.properties.category=e),t!==null&&(s.name=t),this.normalize(or(or({},this.baseEvent()),s))},r.prototype.screen=function(e,t,n,i,a){this.settings.onEventMethodCall({type:"screen",options:i});var o={type:"screen",properties:or({},n),options:or({},i),integrations:or({},a)};return e!==null&&(o.category=e),t!==null&&(o.name=t),this.normalize(or(or({},this.baseEvent()),o))},r.prototype.identify=function(e,t,n,i){return this.settings.onEventMethodCall({type:"identify",options:n}),this.normalize(or(or({},this.baseEvent()),{type:"identify",userId:e,traits:t??{},options:or({},n),integrations:i}))},r.prototype.group=function(e,t,n,i){return this.settings.onEventMethodCall({type:"group",options:n}),this.normalize(or(or({},this.baseEvent()),{type:"group",traits:t??{},options:or({},n),integrations:or({},i),groupId:e}))},r.prototype.alias=function(e,t,n,i){this.settings.onEventMethodCall({type:"alias",options:n});var a={userId:e,type:"alias",options:or({},n),integrations:or({},i)};return t!==null&&(a.previousId=t),e===void 0?this.normalize(or(or({},a),this.baseEvent())):this.normalize(or(or({},this.baseEvent()),a))},r.prototype.baseEvent=function(){return{integrations:{},options:{}}},r.prototype.context=function(e){var t,n=["userId","anonymousId","timestamp","messageId"];delete e.integrations;var i=Object.keys(e),a=(t=e.context)!==null&&t!==void 0?t:{},o={};return i.forEach(function(s){s!=="context"&&(n.includes(s)?GC(o,s,e[s]):GC(a,s,e[s]))}),[a,o]},r.prototype.normalize=function(e){var t,n,i=Object.keys((t=e.integrations)!==null&&t!==void 0?t:{}).reduce(function(d,v){var p,m;return or(or({},d),(p={},p[v]=!!(!((m=e.integrations)===null||m===void 0)&&m[v]),p))},{});e.options=ZH(e.options||{},function(d,v){return v!==void 0});var a=or(or({},i),(n=e.options)===null||n===void 0?void 0:n.integrations),o=e.options?this.context(e.options):[],s=o[0],u=o[1],l=e.options,c=q4(e,["options"]),f=or(or(or(or({timestamp:new Date},c),{context:s,integrations:a}),u),{messageId:l.messageId||this.settings.createMessageId()});return this.settings.onFinishedEvent(f),oV(f),f},r}();function lV(r,e){return new Promise(function(t,n){var i=setTimeout(function(){n(Error("Promise timed out"))},e);r.then(function(a){return clearTimeout(i),t(a)}).catch(n)})}function cV(r){return new Promise(function(e){return setTimeout(e,r)})}function fV(r,e,t){var n=function(){try{return Promise.resolve(e(r))}catch(i){return Promise.reject(i)}};return cV(t).then(function(){return lV(n(),1e3)}).catch(function(i){r==null||r.log("warn","Callback Error",{error:i}),r==null||r.stats.increment("callback_error")}).then(function(){return r})}var G4=function(){var r,e,t=!1,n=new Promise(function(i,a){r=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];t=!0,i.apply(void 0,o)},e=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];t=!0,a.apply(void 0,o)}});return{resolve:r,reject:e,promise:n,isSettled:function(){return t}}},K2=function(){function r(e){var t;this.callbacks={},this.warned=!1,this.maxListeners=(t=e==null?void 0:e.maxListeners)!==null&&t!==void 0?t:10}return r.prototype.warnIfPossibleMemoryLeak=function(e){this.warned||this.maxListeners&&this.callbacks[e].length>this.maxListeners&&(console.warn("Event Emitter: Possible memory leak detected; ".concat(String(e)," has exceeded ").concat(this.maxListeners," listeners.")),this.warned=!0)},r.prototype.on=function(e,t){return this.callbacks[e]?(this.callbacks[e].push(t),this.warnIfPossibleMemoryLeak(e)):this.callbacks[e]=[t],this},r.prototype.once=function(e,t){var n=this,i=function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];n.off(e,i),t.apply(n,a)};return this.on(e,i),this},r.prototype.off=function(e,t){var n,i=(n=this.callbacks[e])!==null&&n!==void 0?n:[],a=i.filter(function(o){return o!==t});return this.callbacks[e]=a,this},r.prototype.emit=function(e){for(var t=this,n,i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];var o=(n=this.callbacks[e])!==null&&n!==void 0?n:[];return o.forEach(function(s){s.apply(t,i)}),this},r}();function hV(r){var e=Math.random()+1,t=r.minTimeout,n=t===void 0?500:t,i=r.factor,a=i===void 0?2:i,o=r.attempt,s=r.maxTimeout,u=s===void 0?1/0:s;return Math.min(e*n*Math.pow(a,o),u)}var H4="onRemoveFromFuture",Z2=function(r){zf(e,r);function e(t,n,i){var a=r.call(this)||this;return a.future=[],a.maxAttempts=t,a.queue=n,a.seen=i??{},a}return e.prototype.push=function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var a=n.map(function(o){var s=t.updateAttempts(o);return s>t.maxAttempts||t.includes(o)?!1:(t.queue.push(o),!0)});return this.queue=this.queue.sort(function(o,s){return t.getAttempts(o)-t.getAttempts(s)}),a},e.prototype.pushWithBackoff=function(t,n){var i=this;if(n===void 0&&(n=0),n==0&&this.getAttempts(t)===0)return this.push(t)[0];var a=this.updateAttempts(t);if(a>this.maxAttempts||this.includes(t))return!1;var o=hV({attempt:a-1});return n>0&&o<n&&(o=n),setTimeout(function(){i.queue.push(t),i.future=i.future.filter(function(s){return s.id!==t.id}),i.emit(H4)},o),this.future.push(t),!0},e.prototype.getAttempts=function(t){var n;return(n=this.seen[t.id])!==null&&n!==void 0?n:0},e.prototype.updateAttempts=function(t){return this.seen[t.id]=this.getAttempts(t)+1,this.getAttempts(t)},e.prototype.includes=function(t){return this.queue.includes(t)||this.future.includes(t)||!!this.queue.find(function(n){return n.id===t.id})||!!this.future.find(function(n){return n.id===t.id})},e.prototype.pop=function(){return this.queue.shift()},Object.defineProperty(e.prototype,"length",{get:function(){return this.queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"todo",{get:function(){return this.queue.length+this.future.length},enumerable:!1,configurable:!0}),e}(K2),Py=256,T_=[],Yb;for(;Py--;)T_[Py]=(Py+256).toString(16).substring(1);function Q2(){var r=0,e,t="";if(!Yb||Py+16>256){for(Yb=Array(r=256);r--;)Yb[r]=256*Math.random()|0;r=Py=0}for(;r<16;r++)e=Yb[Py+r],r==6?t+=T_[e&15|64]:r==8?t+=T_[e&63|128]:t+=T_[e],r&1&&r>1&&r<11&&(t+="-");return Py++,t}var dV=function(){function r(){this._logs=[]}return r.prototype.log=function(e,t,n){var i=new Date;this._logs.push({level:e,message:t,time:i,extras:n})},Object.defineProperty(r.prototype,"logs",{get:function(){return this._logs},enumerable:!1,configurable:!0}),r.prototype.flush=function(){if(this.logs.length>1){var e=this._logs.reduce(function(t,n){var i,a,o,s=or(or({},n),{json:JSON.stringify(n.extras,null," "),extras:n.extras});delete s.time;var u=(o=(a=n.time)===null||a===void 0?void 0:a.toISOString())!==null&&o!==void 0?o:"";return t[u]&&(u="".concat(u,"-").concat(Math.random())),or(or({},t),(i={},i[u]=s,i))},{});console.table?console.table(e):console.log(e)}else this.logs.forEach(function(t){var n=t.level,i=t.message,a=t.extras;n==="info"||n==="debug"?console.log(i,a??""):console[n](i,a??"")});this._logs=[]},r}(),vV=function(r){var e={gauge:"g",counter:"c"};return e[r]},V4=function(){function r(){this.metrics=[]}return r.prototype.increment=function(e,t,n){t===void 0&&(t=1),this.metrics.push({metric:e,value:t,tags:n??[],type:"counter",timestamp:Date.now()})},r.prototype.gauge=function(e,t,n){this.metrics.push({metric:e,value:t,tags:n??[],type:"gauge",timestamp:Date.now()})},r.prototype.flush=function(){var e=this.metrics.map(function(t){return or(or({},t),{tags:t.tags.join(",")})});console.table?console.table(e):console.log(e),this.metrics=[]},r.prototype.serialize=function(){return this.metrics.map(function(e){return{m:e.metric,v:e.value,t:e.tags,k:vV(e.type),e:e.timestamp}})},r}(),pV=function(r){zf(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.gauge=function(){},e.prototype.increment=function(){},e.prototype.flush=function(){},e.prototype.serialize=function(){return[]},e}(V4),Wm=function(){function r(e){var t,n,i;this.retry=(t=e.retry)!==null&&t!==void 0?t:!0,this.type=(n=e.type)!==null&&n!==void 0?n:"plugin Error",this.reason=(i=e.reason)!==null&&i!==void 0?i:""}return r}(),$_=function(){function r(e,t,n,i){t===void 0&&(t=Q2()),n===void 0&&(n=new pV),i===void 0&&(i=new dV),this.attempts=0,this.event=e,this._id=t,this.logger=i,this.stats=n}return r.system=function(){},r.prototype.isSame=function(e){return e.id===this.id},r.prototype.cancel=function(e){throw e||new Wm({reason:"Context Cancel"})},r.prototype.log=function(e,t,n){this.logger.log(e,t,n)},Object.defineProperty(r.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),r.prototype.updateEvent=function(e,t){var n;if(e.split(".")[0]==="integrations"){var i=e.split(".")[1];if(((n=this.event.integrations)===null||n===void 0?void 0:n[i])===!1)return this.event}return GC(this.event,e,t),this.event},r.prototype.failedDelivery=function(){return this._failedDelivery},r.prototype.setFailedDelivery=function(e){this._failedDelivery=e},r.prototype.logs=function(){return this.logger.logs},r.prototype.flush=function(){this.logger.flush(),this.stats.flush()},r.prototype.toJSON=function(){return{id:this._id,event:this.event,logs:this.logger.logs,metrics:this.stats.metrics}},r}();function gV(r,e){var t={};return r.forEach(function(n){var i,a=void 0;{var o=n[e];a=typeof o!="string"?JSON.stringify(o):o}a!==void 0&&(t[a]=Au(Au([],(i=t[a])!==null&&i!==void 0?i:[],!0),[n],!1))}),t}var yV=function(r){return typeof r=="object"&&r!==null&&"then"in r&&typeof r.then=="function"},mV=function(){var r,e,t=0;return{done:function(){return r},run:function(n){var i=n();return yV(i)&&(++t===1&&(r=new Promise(function(a){return e=a})),i.finally(function(){return--t===0&&e()})),i}}};function bV(r){return Gr(this,void 0,void 0,function(){var e;return Hr(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,r()];case 1:return[2,t.sent()];case 2:return e=t.sent(),[2,Promise.reject(e)];case 3:return[2]}})})}function Y0(r,e){r.log("debug","plugin",{plugin:e.name});var t=new Date().getTime(),n=e[r.event.type];if(n===void 0)return Promise.resolve(r);var i=bV(function(){return n.apply(e,[r])}).then(function(a){var o=new Date().getTime()-t;return a.stats.gauge("plugin_time",o,["plugin:".concat(e.name)]),a}).catch(function(a){if(a instanceof Wm&&a.type==="middleware_cancellation")throw a;return a instanceof Wm?(r.log("warn",a.type,{plugin:e.name,error:a}),a):(r.log("error","plugin Error",{plugin:e.name,error:a}),r.stats.increment("plugin_error",1,["plugin:".concat(e.name)]),a)});return i}function _V(r,e){return Y0(r,e).then(function(t){if(t instanceof $_)return t;r.log("debug","Context canceled"),r.stats.increment("context_canceled"),r.cancel(t)})}var wV=function(r){zf(e,r);function e(t){var n=r.call(this)||this;return n.criticalTasks=mV(),n.plugins=[],n.failedInitializations=[],n.flushing=!1,n.queue=t,n.queue.on(H4,function(){n.scheduleFlush(0)}),n}return e.prototype.register=function(t,n,i){return Gr(this,void 0,void 0,function(){var a,o,s=this;return Hr(this,function(u){switch(u.label){case 0:return this.plugins.push(n),a=function(l){s.failedInitializations.push(n.name),s.emit("initialization_failure",n),console.warn(n.name,l),t.log("warn","Failed to load destination",{plugin:n.name,error:l}),s.plugins=s.plugins.filter(function(c){return c!==n})},n.type==="destination"&&n.name!=="Segment.io"?(n.load(t,i).catch(a),[3,4]):[3,1];case 1:return u.trys.push([1,3,,4]),[4,n.load(t,i)];case 2:return u.sent(),[3,4];case 3:return o=u.sent(),a(o),[3,4];case 4:return[2]}})})},e.prototype.deregister=function(t,n,i){return Gr(this,void 0,void 0,function(){var a;return Hr(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),n.unload?[4,Promise.resolve(n.unload(t,i))]:[3,2];case 1:o.sent(),o.label=2;case 2:return this.plugins=this.plugins.filter(function(s){return s.name!==n.name}),[3,4];case 3:return a=o.sent(),t.log("warn","Failed to unload destination",{plugin:n.name,error:a}),[3,4];case 4:return[2]}})})},e.prototype.dispatch=function(t){return Gr(this,void 0,void 0,function(){var n;return Hr(this,function(i){return t.log("debug","Dispatching"),t.stats.increment("message_dispatched"),this.queue.push(t),n=this.subscribeToDelivery(t),this.scheduleFlush(0),[2,n]})})},e.prototype.subscribeToDelivery=function(t){return Gr(this,void 0,void 0,function(){var n=this;return Hr(this,function(i){return[2,new Promise(function(a){var o=function(s,u){s.isSame(t)&&(n.off("flush",o),a(s))};n.on("flush",o)})]})})},e.prototype.dispatchSingle=function(t){return Gr(this,void 0,void 0,function(){var n=this;return Hr(this,function(i){return t.log("debug","Dispatching"),t.stats.increment("message_dispatched"),this.queue.updateAttempts(t),t.attempts=1,[2,this.deliver(t).catch(function(a){var o=n.enqueuRetry(a,t);return o?n.subscribeToDelivery(t):(t.setFailedDelivery({reason:a}),t)})]})})},e.prototype.isEmpty=function(){return this.queue.length===0},e.prototype.scheduleFlush=function(t){var n=this;t===void 0&&(t=500),!this.flushing&&(this.flushing=!0,setTimeout(function(){n.flush().then(function(){setTimeout(function(){n.flushing=!1,n.queue.length&&n.scheduleFlush(0)},0)})},t))},e.prototype.deliver=function(t){return Gr(this,void 0,void 0,function(){var n,i,a,o;return Hr(this,function(s){switch(s.label){case 0:return[4,this.criticalTasks.done()];case 1:s.sent(),n=Date.now(),s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this.flushOne(t)];case 3:return t=s.sent(),i=Date.now()-n,this.emit("delivery_success",t),t.stats.gauge("delivered",i),t.log("debug","Delivered",t.event),[2,t];case 4:throw a=s.sent(),o=a,t.log("error","Failed to deliver",o),this.emit("delivery_failure",t,o),t.stats.increment("delivery_failed"),a;case 5:return[2]}})})},e.prototype.enqueuRetry=function(t,n){var i=!(t instanceof Wm)||t.retry;return i?this.queue.pushWithBackoff(n):!1},e.prototype.flush=function(){return Gr(this,void 0,void 0,function(){var t,n,i;return Hr(this,function(a){switch(a.label){case 0:if(this.queue.length===0)return[2,[]];if(t=this.queue.pop(),!t)return[2,[]];t.attempts=this.queue.getAttempts(t),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.deliver(t)];case 2:return t=a.sent(),this.emit("flush",t,!0),[3,4];case 3:return n=a.sent(),i=this.enqueuRetry(n,t),i||(t.setFailedDelivery({reason:n}),this.emit("flush",t,!1)),[2,[]];case 4:return[2,[t]]}})})},e.prototype.isReady=function(){return!0},e.prototype.availableExtensions=function(t){var n=this.plugins.filter(function(v){var p,m,w;if(v.type!=="destination"&&v.name!=="Segment.io")return!0;var b=void 0;return(p=v.alternativeNames)===null||p===void 0||p.forEach(function(y){t[y]!==void 0&&(b=t[y])}),(w=(m=t[v.name])!==null&&m!==void 0?m:b)!==null&&w!==void 0?w:(v.name==="Segment.io"?!0:t.All)!==!1}),i=gV(n,"type"),a=i.before,o=a===void 0?[]:a,s=i.enrichment,u=s===void 0?[]:s,l=i.destination,c=l===void 0?[]:l,f=i.after,d=f===void 0?[]:f;return{before:o,enrichment:u,destinations:c,after:d}},e.prototype.flushOne=function(t){var n,i;return Gr(this,void 0,void 0,function(){var a,o,s,u,l,c,p,f,d,v,p,m,w,b,y;return Hr(this,function(_){switch(_.label){case 0:if(!this.isReady())throw new Error("Not ready");t.attempts>1&&this.emit("delivery_retry",t),a=this.availableExtensions((n=t.event.integrations)!==null&&n!==void 0?n:{}),o=a.before,s=a.enrichment,u=0,l=o,_.label=1;case 1:return u<l.length?(c=l[u],[4,_V(t,c)]):[3,4];case 2:p=_.sent(),p instanceof $_&&(t=p),this.emit("message_enriched",t,c),_.label=3;case 3:return u++,[3,1];case 4:f=0,d=s,_.label=5;case 5:return f<d.length?(v=d[f],[4,Y0(t,v)]):[3,8];case 6:p=_.sent(),p instanceof $_&&(t=p),this.emit("message_enriched",t,v),_.label=7;case 7:return f++,[3,5];case 8:return m=this.availableExtensions((i=t.event.integrations)!==null&&i!==void 0?i:{}),w=m.destinations,b=m.after,[4,new Promise(function(S,A){setTimeout(function(){var D=w.map(function(R){return Y0(t,R)});Promise.all(D).then(S).catch(A)},0)})];case 9:return _.sent(),t.stats.increment("message_delivered"),this.emit("message_delivered",t),y=b.map(function(S){return Y0(t,S)}),[4,Promise.all(y)];case 10:return _.sent(),[2,t]}})})},e}(K2),EV=function(r,e){var t=Date.now()-r;return Math.max((e??300)-t,0)};function xV(r,e,t,n){return Gr(this,void 0,void 0,function(){var i,a;return Hr(this,function(o){switch(o.label){case 0:return t.emit("dispatch_start",r),i=Date.now(),e.isEmpty()?[4,e.dispatchSingle(r)]:[3,2];case 1:return a=o.sent(),[3,4];case 2:return[4,e.dispatch(r)];case 3:a=o.sent(),o.label=4;case 4:return n!=null&&n.callback?[4,fV(a,n.callback,EV(i,n.timeout))]:[3,6];case 5:a=o.sent(),o.label=6;case 6:return n!=null&&n.debug&&a.flush(),[2,a]}})})}function SV(r,e,t,n){var i,a=[r,e,t,n],o=bd(r)?r.event:r;if(!o||!Lg(o))throw new Error("Event missing");var s=bd(r)?(i=r.properties)!==null&&i!==void 0?i:{}:bd(e)?e:{},u={};Bm(t)||(u=t??{}),bd(r)&&!Bm(e)&&(u=e??{});var l=a.find(Bm);return[o,s,u,l]}function HN(r,e,t,n,i){var a,o,s=null,u=null,l=[r,e,t,n,i],c=l.filter(Lg);c.length===1?Lg(l[1])?(u=l[1],s=null):(u=c[0],s=null):c.length===2&&(typeof l[0]=="string"&&(s=l[0]),typeof l[1]=="string"&&(u=l[1]));var f=l.find(Bm),d=l.filter(bd);return d.length===1?bd(l[2])?(o={},a=l[2]):bd(l[3])?(a={},o=l[3]):(a=d[0],o={}):d.length===2&&(a=d[0],o=d[1]),[s,u,a??(a={}),o??(o={}),f]}var VN=function(r){return function(){for(var e,t,n,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];for(var o={},s=["callback","options","traits","id"],u=0,l=i;u<l.length;u++){var c=l[u],f=s.pop();if(f==="id"){if(Lg(c)||HC(c)){o.id=c.toString();continue}if(c==null)continue;f=s.pop()}if((f==="traits"||f==="options")&&(c==null||bd(c))&&(o[f]=c),Bm(c)){o.callback=c;break}}return[(e=o.id)!==null&&e!==void 0?e:r.id(),(t=o.traits)!==null&&t!==void 0?t:{},(n=o.options)!==null&&n!==void 0?n:{},o.callback]}};function OV(r,e,t,n){HC(r)&&(r=r.toString()),HC(e)&&(e=e.toString());var i=[r,e,t,n],a=i.filter(Lg),o=a[0],s=o===void 0?r:o,u=a[1],l=u===void 0?null:u,c=i.filter(bd)[0],f=c===void 0?{}:c,d=i.find(Bm);return[s,l,f,d]}function J2(){return typeof window<"u"}function BZ(){return!J2()}function TV(){return J2()?window.navigator.onLine:!0}function lb(){return!TV()}function CV(r,e){return e=e||{},new Promise(function(t,n){var i=new XMLHttpRequest,a=[],o=[],s={},u=function(){return{ok:(i.status/100|0)==2,statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:u,headers:{keys:function(){return a},entries:function(){return o},get:function(c){return s[c.toLowerCase()]},has:function(c){return c.toLowerCase()in s}}}};for(var l in i.open(e.method||"get",r,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(c,f,d){a.push(f=f.toLowerCase()),o.push([f,d]),s[f]=s[f]?s[f]+","+d:d}),t(u())},i.onerror=n,i.withCredentials=e.credentials=="include",e.headers)i.setRequestHeader(l,e.headers[l]);i.send(e.body||null)})}var eA=function(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:null},R1=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=eA();return(t&&t.fetch||CV).apply(void 0,r)},P1="1.79.0",$4="api.segment.io/v1",AV=function(r,e,t){var n=e.reduce(function(i,a){var o=a.split(":"),s=o[0],u=o[1];return i[s]=u,i},{});return{type:"Counter",metric:r,value:1,tags:or(or({},n),{library:"analytics.js",library_version:"npm:next-".concat(P1)})}};function YT(r){console.error("Error sending segment performance metrics",r)}var RV=function(){function r(e){var t=this,n,i,a,o,s;if(this.host=(n=e==null?void 0:e.host)!==null&&n!==void 0?n:$4,this.sampleRate=(i=e==null?void 0:e.sampleRate)!==null&&i!==void 0?i:1,this.flushTimer=(a=e==null?void 0:e.flushTimer)!==null&&a!==void 0?a:30*1e3,this.maxQueueSize=(o=e==null?void 0:e.maxQueueSize)!==null&&o!==void 0?o:20,this.protocol=(s=e==null?void 0:e.protocol)!==null&&s!==void 0?s:"https",this.queue=[],this.sampleRate>0){var u=!1,l=function(){u||(u=!0,t.flush().catch(YT),u=!1,setTimeout(l,t.flushTimer))};l()}}return r.prototype.increment=function(e,t){if(e.includes("analytics_js.")&&t.length!==0&&!(Math.random()>this.sampleRate)&&!(this.queue.length>=this.maxQueueSize)){var n=AV(e,t);this.queue.push(n),e.includes("error")&&this.flush().catch(YT)}},r.prototype.flush=function(){return Gr(this,void 0,void 0,function(){var e=this;return Hr(this,function(t){switch(t.label){case 0:return this.queue.length<=0?[2]:[4,this.send().catch(function(n){YT(n),e.sampleRate=0})];case 1:return t.sent(),[2]}})})},r.prototype.send=function(){return Gr(this,void 0,void 0,function(){var e,t,n;return Hr(this,function(i){return e={series:this.queue},this.queue=[],t={"Content-Type":"text/plain"},n="".concat(this.protocol,"://").concat(this.host,"/m"),[2,R1(n,{headers:t,body:JSON.stringify(e),method:"POST"})]})})},r}(),Xb,W4=function(r){zf(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.initRemoteMetrics=function(t){Xb=new RV(t)},e.prototype.increment=function(t,n,i){r.prototype.increment.call(this,t,n,i),Xb==null||Xb.increment(t,i??[])},e}(V4),Gp=function(r){zf(e,r);function e(t,n){return r.call(this,t,n,new W4)||this}return e.system=function(){return new this({type:"track",event:"system"})},e}($_),Y4="bpc",X4=function(r,e,t,n,i,a){return{__t:Y4,c:e,p:n,u:r,s:t,t:i,r:a}},PV=Object.keys(X4("","","","","",""));function DV(r){if(!bd(r)||r.__t!==Y4)return!1;for(var e in r)if(!PV.includes(e))return!1;return!0}var IV=function(r,e){return r.indexOf("?")>-1?r:r+e},kV=function(r){var e=r.indexOf("#");return e===-1?r:r.slice(0,e)},MV=function(r){try{return new URL(r).pathname}catch{return r[0]==="/"?r:"/"+r}},K4=function(r){var e=r.c,t=r.p,n=r.s,i=r.u,a=r.r,o=r.t,s=e?MV(e):t,u=e?IV(e,n):kV(i);return{path:s,referrer:a,search:n,title:o,url:u}},Z4=function(){var r=document.querySelector("link[rel='canonical']");return X4(location.href,r&&r.getAttribute("href")||void 0,location.search,location.pathname,document.title,document.referrer)},NV=function(){return K4(Z4())};function LV(r,e){return Object.assign.apply(Object,Au([{}],e.map(function(t){var n;if(r&&Object.prototype.hasOwnProperty.call(r,t))return n={},n[t]=r[t],n}),!1))}var xm=function(r,e){e===void 0&&(e=NV());var t=r.context,n;r.type==="page"&&(n=r.properties&&LV(r.properties,Object.keys(e)),r.properties=or(or(or({},e),r.properties),r.name?{name:r.name}:{})),t.page=or(or(or({},e),n),t.page)},jV=function(r){zf(e,r);function e(t){var n=r.call(this,{createMessageId:function(){return"ajs-next-".concat(Date.now(),"-").concat(Q2())},onEventMethodCall:function(i){var a=i.options;n.maybeUpdateAnonId(a)},onFinishedEvent:function(i){return n.addIdentity(i),i}})||this;return n.user=t,n}return e.prototype.maybeUpdateAnonId=function(t){t!=null&&t.anonymousId&&this.user.anonymousId(t.anonymousId)},e.prototype.addIdentity=function(t){this.user.id()&&(t.userId=this.user.id()),this.user.anonymousId()&&(t.anonymousId=this.user.anonymousId())},e.prototype.track=function(t,n,i,a,o){var s=r.prototype.track.call(this,t,n,i,a);return xm(s,o),s},e.prototype.page=function(t,n,i,a,o,s){var u=r.prototype.page.call(this,t,n,i,a,o);return xm(u,s),u},e.prototype.screen=function(t,n,i,a,o,s){var u=r.prototype.screen.call(this,t,n,i,a,o);return xm(u,s),u},e.prototype.identify=function(t,n,i,a,o){var s=r.prototype.identify.call(this,t,n,i,a);return xm(s,o),s},e.prototype.group=function(t,n,i,a,o){var s=r.prototype.group.call(this,t,n,i,a);return xm(s,o),s},e.prototype.alias=function(t,n,i,a,o){var s=r.prototype.alias.call(this,t,n,i,a);return xm(s,o),s},e}(uV),BV=function(r){return"addMiddleware"in r&&r.type==="destination"},ap={getItem:function(){},setItem:function(){},removeItem:function(){}};try{ap=J2()&&window.localStorage?window.localStorage:ap}catch(r){console.warn("Unable to access localStorage",r)}function Q4(r){var e=ap.getItem(r);return(e?JSON.parse(e):[]).map(function(t){return new Gp(t.event,t.id)})}function FV(r,e){var t=Q4(r),n=Au(Au([],e,!0),t,!0),i=n.reduce(function(a,o){var s;return or(or({},a),(s={},s[o.id]=o,s))},{});ap.setItem(r,JSON.stringify(Object.values(i)))}function J4(r){var e=ap.getItem(r);return e?JSON.parse(e):{}}function UV(r,e){var t=J4(r);ap.setItem(r,JSON.stringify(or(or({},t),e)))}function $N(r){ap.removeItem(r)}var zV=function(){return new Date().getTime()};function VC(r,e,t){t===void 0&&(t=0);var n=50,i="persisted-queue:v1:".concat(r,":lock"),a=function(l){return new Date().getTime()>l},o=ap.getItem(i),s=o?JSON.parse(o):null,u=s===null||a(s);if(u){ap.setItem(i,JSON.stringify(zV()+n)),e(),ap.removeItem(i);return}!u&&t<3?setTimeout(function(){VC(r,e,t+1)},n):console.error("Unable to retrieve lock")}var tA=function(r){zf(e,r);function e(t,n){var i=r.call(this,t,[])||this,a="persisted-queue:v1:".concat(n,":items"),o="persisted-queue:v1:".concat(n,":seen"),s=[],u={};return VC(n,function(){try{s=Q4(a),u=J4(o),$N(a),$N(o),i.queue=Au(Au([],s,!0),i.queue,!0),i.seen=or(or({},u),i.seen)}catch(l){console.error(l)}}),window.addEventListener("pagehide",function(){if(i.todo>0){var l=Au(Au([],i.queue,!0),i.future,!0);try{VC(n,function(){FV(a,l),UV(o,i.seen)})}catch(c){console.error(c)}}}),i}return e}(Z2),qV=function(r){zf(e,r);function e(t){return r.call(this,typeof t=="string"?new tA(4,t):t)||this}return e.prototype.flush=function(){return Gr(this,void 0,void 0,function(){return Hr(this,function(t){return lb()?[2,[]]:[2,r.prototype.flush.call(this)]})})},e}(wV);function rA(r){for(var e=r.constructor.prototype,t=0,n=Object.getOwnPropertyNames(e);t<n.length;t++){var i=n[t];if(i!=="constructor"){var a=Object.getOwnPropertyDescriptor(r.constructor.prototype,i);a&&typeof a.value=="function"&&(r[i]=r[i].bind(r))}}return r}/*! js-cookie v3.0.1 | MIT */function Kb(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)r[n]=t[n]}return r}var GV={read:function(r){return r[0]==='"'&&(r=r.slice(1,-1)),r.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(r){return encodeURIComponent(r).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function $C(r,e){function t(i,a,o){if(!(typeof document>"u")){o=Kb({},e,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var u in o)o[u]&&(s+="; "+u,o[u]!==!0&&(s+="="+o[u].split(";")[0]));return document.cookie=i+"="+r.write(a,i)+s}}function n(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var a=document.cookie?document.cookie.split("; "):[],o={},s=0;s<a.length;s++){var u=a[s].split("="),l=u.slice(1).join("=");try{var c=decodeURIComponent(u[0]);if(o[c]=r.read(l,c),i===c)break}catch{}}return i?o[i]:o}}return Object.create({set:t,get:n,remove:function(i,a){t(i,"",Kb({},a,{expires:-1}))},withAttributes:function(i){return $C(this.converter,Kb({},this.attributes,i))},withConverter:function(i){return $C(Kb({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(r)}})}var Up=$C(GV,{path:"/"});function HV(r){var e=r.hostname,t=e.split("."),n=t[t.length-1],i=[];if(t.length===4&&parseInt(n,10)>0||t.length<=1)return i;for(var a=t.length-2;a>=0;--a)i.push(t.slice(a).join("."));return i}function VV(r){try{return new URL(r)}catch{return}}function e5(r){var e=VV(r);if(e)for(var t=HV(e),n=0;n<t.length;++n){var i="__tld__",a=t[n],o={domain:"."+a};try{if(Up.set(i,"1",o),Up.get(i))return Up.remove(i,o),a}catch{return}}}var $V=365,t5=function(){function r(e){e===void 0&&(e=r.defaults),this.options=or(or({},r.defaults),e)}return Object.defineProperty(r,"defaults",{get:function(){return{maxage:$V,domain:e5(window.location.href),path:"/",sameSite:"Lax"}},enumerable:!1,configurable:!0}),r.prototype.opts=function(){return{sameSite:this.options.sameSite,expires:this.options.maxage,domain:this.options.domain,path:this.options.path,secure:this.options.secure}},r.prototype.get=function(e){var t;try{var n=Up.get(e);if(n==null)return null;try{return(t=JSON.parse(n))!==null&&t!==void 0?t:null}catch{return n??null}}catch{return null}},r.prototype.set=function(e,t){typeof t=="string"?Up.set(e,t,this.opts()):t===null?Up.remove(e,this.opts()):Up.set(e,JSON.stringify(t),this.opts())},r.prototype.remove=function(e){return Up.remove(e,this.opts())},r}(),WV=function(){function r(){}return r.prototype.localStorageWarning=function(e,t){console.warn("Unable to access ".concat(e,", localStorage may be ").concat(t))},r.prototype.get=function(e){var t;try{var n=localStorage.getItem(e);if(n===null)return null;try{return(t=JSON.parse(n))!==null&&t!==void 0?t:null}catch{return n??null}}catch{return this.localStorageWarning(e,"unavailable"),null}},r.prototype.set=function(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch{this.localStorageWarning(e,"full")}},r.prototype.remove=function(e){try{return localStorage.removeItem(e)}catch{this.localStorageWarning(e,"unavailable")}},r}(),nA=function(){function r(){this.cache={}}return r.prototype.get=function(e){var t;return(t=this.cache[e])!==null&&t!==void 0?t:null},r.prototype.set=function(e,t){this.cache[e]=t},r.prototype.remove=function(e){delete this.cache[e]},r}(),Lf={Cookie:"cookie",LocalStorage:"localStorage",Memory:"memory"};function r5(r){return r&&r.stores&&Array.isArray(r.stores)&&r.stores.every(function(e){return Object.values(Lf).includes(e)})}function YV(r){return typeof r=="object"&&r.name!==void 0}var XT=function(r,e,t,n){console.warn("".concat(r.constructor.name,": Can't ").concat(e,' key "').concat(t,'" | Err: ').concat(n))},Iy=function(){function r(e){this.stores=e}return r.prototype.get=function(e){for(var t=null,n=0,i=this.stores;n<i.length;n++){var a=i[n];try{if(t=a.get(e),t!=null)return t}catch(o){XT(a,"get",e,o)}}return null},r.prototype.set=function(e,t){this.stores.forEach(function(n){try{n.set(e,t)}catch(i){XT(n,"set",e,i)}})},r.prototype.clear=function(e){this.stores.forEach(function(t){try{t.remove(e)}catch(n){XT(t,"remove",e,n)}})},r.prototype.getAndSync=function(e){var t=this.get(e),n=typeof t=="number"?t.toString():t;return this.set(e,n),n},r}();function WC(r){var e=r.map(function(t){var n,i;switch(YV(t)?(n=t.name,i=t.settings):n=t,n){case Lf.Cookie:return new t5(i);case Lf.LocalStorage:return new WV;case Lf.Memory:return new nA;default:throw new Error("Unknown Store Type: ".concat(t))}});return e}function n5(r,e){return r.map(function(t){return e&&t===Lf.Cookie?{name:t,settings:e}:t})}var dy={persist:!0,cookie:{key:"ajs_user_id",oldKey:"ajs_user"},localStorage:{key:"ajs_user_traits"}},i5=function(){function r(e,t){e===void 0&&(e=dy);var n=this,i,a,o,s;this.options={},this.id=function(l){if(n.options.disable)return null;var c=n.identityStore.getAndSync(n.idKey);if(l!==void 0){n.identityStore.set(n.idKey,l);var f=l!==c&&c!==null&&l!==null;f&&n.anonymousId(null)}var d=n.identityStore.getAndSync(n.idKey);if(d)return d;var v=n.legacyUserStore.get(dy.cookie.oldKey);return v?typeof v=="object"?v.id:v:null},this.anonymousId=function(l){var c,f;if(n.options.disable)return null;if(l===void 0){var d=(c=n.identityStore.getAndSync(n.anonKey))!==null&&c!==void 0?c:(f=n.legacySIO())===null||f===void 0?void 0:f[0];if(d)return d}return l===null?(n.identityStore.set(n.anonKey,null),n.identityStore.getAndSync(n.anonKey)):(n.identityStore.set(n.anonKey,l??Q2()),n.identityStore.getAndSync(n.anonKey))},this.traits=function(l){var c;if(!n.options.disable)return l===null&&(l={}),l&&n.traitsStore.set(n.traitsKey,l??{}),(c=n.traitsStore.get(n.traitsKey))!==null&&c!==void 0?c:{}},this.options=or(or({},dy),e),this.cookieOptions=t,this.idKey=(a=(i=e.cookie)===null||i===void 0?void 0:i.key)!==null&&a!==void 0?a:dy.cookie.key,this.traitsKey=(s=(o=e.localStorage)===null||o===void 0?void 0:o.key)!==null&&s!==void 0?s:dy.localStorage.key,this.anonKey="ajs_anonymous_id",this.identityStore=this.createStorage(this.options,t),this.legacyUserStore=this.createStorage(this.options,t,function(l){return l===Lf.Cookie}),this.traitsStore=this.createStorage(this.options,t,function(l){return l!==Lf.Cookie});var u=this.legacyUserStore.get(dy.cookie.oldKey);u&&typeof u=="object"&&(u.id&&this.id(u.id),u.traits&&this.traits(u.traits)),rA(this)}return r.prototype.legacySIO=function(){var e=this.legacyUserStore.get("_sio");if(!e)return null;var t=e.split("----"),n=t[0],i=t[1];return[n,i]},r.prototype.identify=function(e,t){if(!this.options.disable){t=t??{};var n=this.id();(n===null||n===e)&&(t=or(or({},this.traits()),t)),e&&this.id(e),this.traits(t)}},r.prototype.logout=function(){this.anonymousId(null),this.id(null),this.traits({})},r.prototype.reset=function(){this.logout(),this.identityStore.clear(this.idKey),this.identityStore.clear(this.anonKey),this.traitsStore.clear(this.traitsKey)},r.prototype.load=function(){return new r(this.options,this.cookieOptions)},r.prototype.save=function(){return!0},r.prototype.createStorage=function(e,t,n){var i=[Lf.LocalStorage,Lf.Cookie,Lf.Memory];return e.disable?new Iy([]):e.persist?(e.storage!==void 0&&e.storage!==null&&r5(e.storage)&&(i=e.storage.stores),e.localStorageFallbackDisabled&&(i=i.filter(function(a){return a!==Lf.LocalStorage})),n&&(i=i.filter(n)),new Iy(WC(n5(i,t)))):new Iy([new nA])},r.defaults=dy,r}(),WN={persist:!0,cookie:{key:"ajs_group_id"},localStorage:{key:"ajs_group_properties"}},XV=function(r){zf(e,r);function e(t,n){t===void 0&&(t=WN);var i=r.call(this,or(or({},WN),t),n)||this;return i.anonymousId=function(a){},rA(i),i}return e}(i5),iA="analytics";function a5(){return window[iA]}function KV(r){iA=r}function ZV(r){window[iA]=r}var QV=function(r){return typeof r=="object"&&r!==null&&"then"in r&&typeof r.then=="function"},o5=function(r,e,t){t.getAndRemove(r).forEach(function(n){D1(e,n).catch(console.error)})},JV=function(r,e){return Gr(void 0,void 0,void 0,function(){var t,n,i;return Hr(this,function(a){switch(a.label){case 0:t=0,n=e.getAndRemove("addSourceMiddleware"),a.label=1;case 1:return t<n.length?(i=n[t],[4,D1(r,i).catch(console.error)]):[3,4];case 2:a.sent(),a.label=3;case 3:return t++,[3,1];case 4:return[2]}})})},e$=function(r,e){return Gr(void 0,void 0,void 0,function(){var t,n,i;return Hr(this,function(a){switch(a.label){case 0:t=0,n=e.getAndRemove("register"),a.label=1;case 1:return t<n.length?(i=n[t],[4,D1(r,i).catch(console.error)]):[3,4];case 2:a.sent(),a.label=3;case 3:return t++,[3,1];case 4:return[2]}})})},t$=o5.bind(void 0,"on"),r$=o5.bind(void 0,"setAnonymousId"),n$=function(r,e){Object.keys(e.calls).forEach(function(t){e.getAndRemove(t).forEach(function(n){setTimeout(function(){D1(r,n).catch(console.error)},0)})})},Sm=function(r){if(s5(r)){var e=r.pop();return K4(e)}},s5=function(r){var e=r[r.length-1];return DV(e)},YC=function(){function r(e,t,n,i){n===void 0&&(n=function(){}),i===void 0&&(i=console.error),this.method=e,this.resolve=n,this.reject=i,this.called=!1,this.args=t}return r}(),i$=function(){function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._callMap={},this.add.apply(this,e)}return Object.defineProperty(r.prototype,"calls",{get:function(){return this._pushSnippetWindowBuffer(),this._callMap},set:function(e){this._callMap=e},enumerable:!1,configurable:!0}),r.prototype.get=function(e){var t;return(t=this.calls[e])!==null&&t!==void 0?t:[]},r.prototype.getAndRemove=function(e){var t=this.get(e);return this.calls[e]=[],t},r.prototype.add=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];t.forEach(function(i){var a=["track","screen","alias","group","page","identify"];a.includes(i.method)&&!s5(i.args)&&(i.args=Au(Au([],i.args,!0),[Z4()],!1)),e.calls[i.method]?e.calls[i.method].push(i):e.calls[i.method]=[i]})},r.prototype.clear=function(){this._pushSnippetWindowBuffer(),this.calls={}},r.prototype.toArray=function(){var e;return(e=[]).concat.apply(e,Object.values(this.calls))},r.prototype._pushSnippetWindowBuffer=function(){},r}();function D1(r,e){return Gr(this,void 0,void 0,function(){var t,n;return Hr(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),e.called?[2,void 0]:(e.called=!0,t=r[e.method].apply(r,e.args),QV(t)?[4,t]:[3,2]);case 1:i.sent(),i.label=2;case 2:return e.resolve(t),[3,4];case 3:return n=i.sent(),e.reject(n),[3,4];case 4:return[2]}})})}var a$=function(){function r(e){var t=this;this.trackSubmit=this._createMethod("trackSubmit"),this.trackClick=this._createMethod("trackClick"),this.trackLink=this._createMethod("trackLink"),this.pageView=this._createMethod("pageview"),this.identify=this._createMethod("identify"),this.reset=this._createMethod("reset"),this.group=this._createMethod("group"),this.track=this._createMethod("track"),this.ready=this._createMethod("ready"),this.alias=this._createMethod("alias"),this.debug=this._createChainableMethod("debug"),this.page=this._createMethod("page"),this.once=this._createChainableMethod("once"),this.off=this._createChainableMethod("off"),this.on=this._createChainableMethod("on"),this.addSourceMiddleware=this._createMethod("addSourceMiddleware"),this.setAnonymousId=this._createMethod("setAnonymousId"),this.addDestinationMiddleware=this._createMethod("addDestinationMiddleware"),this.screen=this._createMethod("screen"),this.register=this._createMethod("register"),this.deregister=this._createMethod("deregister"),this.user=this._createMethod("user"),this.VERSION=P1,this._preInitBuffer=new i$,this._promise=e(this._preInitBuffer),this._promise.then(function(n){var i=n[0],a=n[1];t.instance=i,t.ctx=a}).catch(function(){})}return r.prototype.then=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this._promise).then.apply(e,t)},r.prototype.catch=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this._promise).catch.apply(e,t)},r.prototype.finally=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this._promise).finally.apply(e,t)},r.prototype._createMethod=function(e){var t=this;return function(){for(var n,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];if(t.instance){var o=(n=t.instance)[e].apply(n,i);return Promise.resolve(o)}return new Promise(function(s,u){t._preInitBuffer.add(new YC(e,i,s,u))})}},r.prototype._createChainableMethod=function(e){var t=this;return function(){for(var n,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];return t.instance?((n=t.instance)[e].apply(n,i),t):(t._preInitBuffer.add(new YC(e,i)),t)}},r}(),T0={},vy={},Om={},KT={exports:{}},YN;function I1(){return YN||(YN=1,function(r){r.exports=e(t),r.exports.find=r.exports,r.exports.replace=function(s,u,l,c){return e(i).call(this,s,u,l,c),s},r.exports.del=function(s,u,l){return e(n).call(this,s,u,null,l),s};function e(s){return function(u,l,c,f){var d=f&&o(f.normalizer)?f.normalizer:a;l=d(l);for(var v,p=!1;!p;)m();function m(){for(v in u){var w=d(v);if(l.indexOf(w)===0){var b=l.substr(w.length);if(b.charAt(0)==="."||b.length===0){l=b.substr(1);var y=u[v];if(y==null){p=!0;return}if(!l.length){p=!0;return}u=y;return}}}v=void 0,p=!0}if(v)return u==null?u:s(u,v,c)}}function t(s,u){if(s.hasOwnProperty(u))return s[u]}function n(s,u){return s.hasOwnProperty(u)&&delete s[u],s}function i(s,u,l){return s.hasOwnProperty(u)&&(s[u]=l),s}function a(s){return s.replace(/[^a-zA-Z0-9\.]+/g,"").toLowerCase()}function o(s){return typeof s=="function"}}(KT)),KT.exports}var XN;function o$(){if(XN)return Om;XN=1;var r=Om&&Om.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Om,"__esModule",{value:!0});var e=r(I1());function t(i,a){return function(){var o=this.traits(),s=this.properties?this.properties():{};return e.default(o,"address."+i)||e.default(o,i)||(a?e.default(o,"address."+a):null)||(a?e.default(o,a):null)||e.default(s,"address."+i)||e.default(s,i)||(a?e.default(s,"address."+a):null)||(a?e.default(s,a):null)}}function n(i){i.zip=t("postalCode","zip"),i.country=t("country"),i.street=t("street"),i.state=t("state"),i.city=t("city"),i.region=t("region")}return Om.default=n,Om}var C0={},KN;function s$(){if(KN)return C0;KN=1,Object.defineProperty(C0,"__esModule",{value:!0}),C0.clone=void 0;function r(e){if(typeof e!="object")return e;if(Object.prototype.toString.call(e)==="[object Object]"){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=r(e[n]));return t}else return Array.isArray(e)?e.map(r):e}return C0.clone=r,C0}var Zb={},ZN;function u$(){if(ZN)return Zb;ZN=1,Object.defineProperty(Zb,"__esModule",{value:!0});var r={Salesforce:!0};function e(t){return!r[t]}return Zb.default=e,Zb}var Qb={},QN;function u5(){if(QN)return Qb;QN=1;var r=/^(\d{4})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:([ T])(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;return Qb.parse=function(e){var t=[1,5,6,7,11,12],n=r.exec(e),i=0;if(!n)return new Date(e);for(var a=0,o;o=t[a];a++)n[o]=parseInt(n[o],10)||0;n[2]=parseInt(n[2],10)||1,n[3]=parseInt(n[3],10)||1,n[2]--,n[8]=n[8]?(n[8]+"00").substring(0,3):0,n[4]===" "?i=new Date().getTimezoneOffset():n[9]!=="Z"&&n[10]&&(i=n[11]*60+n[12],n[10]==="+"&&(i=0-i));var s=Date.UTC(n[1],n[2],n[3],n[5],n[6]+i,n[7],n[8]);return new Date(s)},Qb.is=function(e,t){return typeof e!="string"||t&&/^\d{4}-\d{2}-\d{2}/.test(e)===!1?!1:r.test(e)},Qb}var Jb={},JN;function l$(){if(JN)return Jb;JN=1;var r=/\d{13}/;return Jb.is=function(e){return r.test(e)},Jb.parse=function(e){return e=parseInt(e,10),new Date(e)},Jb}var e_={},eL;function c$(){if(eL)return e_;eL=1;var r=/\d{10}/;return e_.is=function(e){return r.test(e)},e_.parse=function(e){var t=parseInt(e,10)*1e3;return new Date(t)},e_}var ZT,tL;function aA(){if(tL)return ZT;tL=1;var r=u5(),e=l$(),t=c$(),n=Object.prototype,i=n.toString;function a(u){return i.call(u)==="[object Date]"}function o(u){return i.call(u)==="[object Number]"}ZT=function(l){return a(l)?l:o(l)?new Date(s(l)):r.is(l)?r.parse(l):e.is(l)?e.parse(l):t.is(l)?t.parse(l):new Date(l)};function s(u){return u<315576e5?u*1e3:u}return ZT}var QT,rL;function f$(){if(rL)return QT;rL=1;var r=u5();QT=e;function e(i,a){return a===void 0&&(a=!0),i&&typeof i=="object"?t(i,a):Array.isArray(i)?n(i,a):r.is(i,a)?r.parse(i):i}function t(i,a){return Object.keys(i).forEach(function(o){i[o]=e(i[o],a)}),i}function n(i,a){return i.forEach(function(o,s){i[s]=e(o,a)}),i}return QT}var nL;function $y(){if(nL)return vy;nL=1;var r=vy&&vy.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(vy,"__esModule",{value:!0}),vy.Facade=void 0;var e=r(o$()),t=s$(),n=r(u$()),i=r(aA()),a=r(I1()),o=r(f$());function s(c,f){f=f||{},this.raw=t.clone(c),"clone"in f||(f.clone=!0),f.clone&&(c=t.clone(c)),"traverse"in f||(f.traverse=!0),"timestamp"in c?c.timestamp=i.default(c.timestamp):c.timestamp=new Date,f.traverse&&o.default(c),this.opts=f,this.obj=c}vy.Facade=s;var u=s.prototype;u.proxy=function(c){var f=c.split(".");c=f.shift();var d=this[c]||this.obj[c];return d&&(typeof d=="function"&&(d=d.call(this)||{}),f.length===0?this.opts.clone?l(d):d:(d=a.default(d,f.join(".")),this.opts.clone?l(d):d))},u.field=function(c){var f=this.obj[c];return this.opts.clone?l(f):f},s.proxy=function(c){return function(){return this.proxy(c)}},s.field=function(c){return function(){return this.field(c)}},s.multi=function(c){return function(){var f=this.proxy(c+"s");if(Array.isArray(f))return f;var d=this.proxy(c);return d&&(d=[this.opts.clone?t.clone(d):d]),d||[]}},s.one=function(c){return function(){var f=this.proxy(c);if(f)return f;var d=this.proxy(c+"s");if(Array.isArray(d))return d[0]}},u.json=function(){var c=this.opts.clone?t.clone(this.obj):this.obj;return this.type&&(c.type=this.type()),c},u.rawEvent=function(){return this.raw},u.options=function(c){var f=this.obj.options||this.obj.context||{},d=this.opts.clone?t.clone(f):f;if(!c)return d;if(this.enabled(c)){var v=this.integrations(),p=v[c]||a.default(v,c);return typeof p!="object"&&(p=a.default(this.options(),c)),typeof p=="object"?p:{}}},u.context=u.options,u.enabled=function(c){var f=this.proxy("options.providers.all");typeof f!="boolean"&&(f=this.proxy("options.all")),typeof f!="boolean"&&(f=this.proxy("integrations.all")),typeof f!="boolean"&&(f=!0);var d=f&&n.default(c),v=this.integrations();if(v.providers&&v.providers.hasOwnProperty(c)&&(d=v.providers[c]),v.hasOwnProperty(c)){var p=v[c];typeof p=="boolean"?d=p:d=!0}return!!d},u.integrations=function(){return this.obj.integrations||this.proxy("options.providers")||this.options()},u.active=function(){var c=this.proxy("options.active");return c==null&&(c=!0),c},u.anonymousId=function(){return this.field("anonymousId")||this.field("sessionId")},u.sessionId=u.anonymousId,u.groupId=s.proxy("options.groupId"),u.traits=function(c){var f=this.proxy("options.traits")||{},d=this.userId();c=c||{},d&&(f.id=d);for(var v in c)if(Object.prototype.hasOwnProperty.call(c,v)){var p=this[v]==null?this.proxy("options.traits."+v):this[v]();if(p==null)continue;f[c[v]]=p,delete f[v]}return f},u.library=function(){var c=this.proxy("options.library");return c?typeof c=="string"?{name:c,version:null}:c:{name:"unknown",version:null}},u.device=function(){var c=this.proxy("context.device");(typeof c!="object"||c===null)&&(c={});var f=this.library().name;return c.type||(f.indexOf("ios")>-1&&(c.type="ios"),f.indexOf("android")>-1&&(c.type="android")),c},u.userAgent=s.proxy("context.userAgent"),u.timezone=s.proxy("context.timezone"),u.timestamp=s.field("timestamp"),u.channel=s.field("channel"),u.ip=s.proxy("context.ip"),u.userId=s.field("userId"),e.default(u);function l(c){return t.clone(c)}return vy}var py={},t_={exports:{}},iL;function Wy(){return iL||(iL=1,typeof Object.create=="function"?t_.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:t_.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}),t_.exports}var aL;function h$(){if(aL)return py;aL=1;var r=py&&py.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(py,"__esModule",{value:!0}),py.Alias=void 0;var e=r(Wy()),t=$y();function n(i,a){t.Facade.call(this,i,a)}return py.Alias=n,e.default(n,t.Facade),n.prototype.action=function(){return"alias"},n.prototype.type=n.prototype.action,n.prototype.previousId=function(){return this.field("previousId")||this.field("from")},n.prototype.from=n.prototype.previousId,n.prototype.userId=function(){return this.field("userId")||this.field("to")},n.prototype.to=n.prototype.userId,py}var gy={},r_={},oL;function k1(){if(oL)return r_;oL=1,Object.defineProperty(r_,"__esModule",{value:!0});var r=/.+\@.+\..+/;function e(t){return r.test(t)}return r_.default=e,r_}var sL;function d$(){if(sL)return gy;sL=1;var r=gy&&gy.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(gy,"__esModule",{value:!0}),gy.Group=void 0;var e=r(Wy()),t=r(k1()),n=r(aA()),i=$y();function a(s,u){i.Facade.call(this,s,u)}gy.Group=a,e.default(a,i.Facade);var o=a.prototype;return o.action=function(){return"group"},o.type=o.action,o.groupId=i.Facade.field("groupId"),o.created=function(){var s=this.proxy("traits.createdAt")||this.proxy("traits.created")||this.proxy("properties.createdAt")||this.proxy("properties.created");if(s)return n.default(s)},o.email=function(){var s=this.proxy("traits.email");if(s)return s;var u=this.groupId();if(t.default(u))return u},o.traits=function(s){var u=this.properties(),l=this.groupId();s=s||{},l&&(u.id=l);for(var c in s)if(Object.prototype.hasOwnProperty.call(s,c)){var f=this[c]==null?this.proxy("traits."+c):this[c]();if(f==null)continue;u[s[c]]=f,delete u[c]}return u},o.name=i.Facade.proxy("traits.name"),o.industry=i.Facade.proxy("traits.industry"),o.employees=i.Facade.proxy("traits.employees"),o.properties=function(){return this.field("traits")||this.field("properties")||{}},gy}var yy={},uL;function l5(){if(uL)return yy;uL=1;var r=yy&&yy.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(yy,"__esModule",{value:!0}),yy.Identify=void 0;var e=$y(),t=r(I1()),n=r(Wy()),i=r(k1()),a=r(aA()),o=function(l){return l.trim()};function s(l,c){e.Facade.call(this,l,c)}yy.Identify=s,n.default(s,e.Facade);var u=s.prototype;return u.action=function(){return"identify"},u.type=u.action,u.traits=function(l){var c=this.field("traits")||{},f=this.userId();l=l||{},f&&(c.id=f);for(var d in l){var v=this[d]==null?this.proxy("traits."+d):this[d]();v!=null&&(c[l[d]]=v,d!==l[d]&&delete c[d])}return c},u.email=function(){var l=this.proxy("traits.email");if(l)return l;var c=this.userId();if(i.default(c))return c},u.created=function(){var l=this.proxy("traits.created")||this.proxy("traits.createdAt");if(l)return a.default(l)},u.companyCreated=function(){var l=this.proxy("traits.company.created")||this.proxy("traits.company.createdAt");if(l)return a.default(l)},u.companyName=function(){return this.proxy("traits.company.name")},u.name=function(){var l=this.proxy("traits.name");if(typeof l=="string")return o(l);var c=this.firstName(),f=this.lastName();if(c&&f)return o(c+" "+f)},u.firstName=function(){var l=this.proxy("traits.firstName");if(typeof l=="string")return o(l);var c=this.proxy("traits.name");if(typeof c=="string")return o(c).split(" ")[0]},u.lastName=function(){var l=this.proxy("traits.lastName");if(typeof l=="string")return o(l);var c=this.proxy("traits.name");if(typeof c=="string"){var f=o(c).indexOf(" ");if(f!==-1)return o(c.substr(f+1))}},u.uid=function(){return this.userId()||this.username()||this.email()},u.description=function(){return this.proxy("traits.description")||this.proxy("traits.background")},u.age=function(){var l=this.birthday(),c=t.default(this.traits(),"age");if(c!=null)return c;if(l instanceof Date){var f=new Date;return f.getFullYear()-l.getFullYear()}},u.avatar=function(){var l=this.traits();return t.default(l,"avatar")||t.default(l,"photoUrl")||t.default(l,"avatarUrl")},u.position=function(){var l=this.traits();return t.default(l,"position")||t.default(l,"jobTitle")},u.username=e.Facade.proxy("traits.username"),u.website=e.Facade.one("traits.website"),u.websites=e.Facade.multi("traits.website"),u.phone=e.Facade.one("traits.phone"),u.phones=e.Facade.multi("traits.phone"),u.address=e.Facade.proxy("traits.address"),u.gender=e.Facade.proxy("traits.gender"),u.birthday=e.Facade.proxy("traits.birthday"),yy}var my={},lL;function oA(){if(lL)return my;lL=1;var r=my&&my.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(my,"__esModule",{value:!0}),my.Track=void 0;var e=r(Wy()),t=$y(),n=l5(),i=r(k1()),a=r(I1());function o(l,c){t.Facade.call(this,l,c)}my.Track=o,e.default(o,t.Facade);var s=o.prototype;s.action=function(){return"track"},s.type=s.action,s.event=t.Facade.field("event"),s.value=t.Facade.proxy("properties.value"),s.category=t.Facade.proxy("properties.category"),s.id=t.Facade.proxy("properties.id"),s.productId=function(){return this.proxy("properties.product_id")||this.proxy("properties.productId")},s.promotionId=function(){return this.proxy("properties.promotion_id")||this.proxy("properties.promotionId")},s.cartId=function(){return this.proxy("properties.cart_id")||this.proxy("properties.cartId")},s.checkoutId=function(){return this.proxy("properties.checkout_id")||this.proxy("properties.checkoutId")},s.paymentId=function(){return this.proxy("properties.payment_id")||this.proxy("properties.paymentId")},s.couponId=function(){return this.proxy("properties.coupon_id")||this.proxy("properties.couponId")},s.wishlistId=function(){return this.proxy("properties.wishlist_id")||this.proxy("properties.wishlistId")},s.reviewId=function(){return this.proxy("properties.review_id")||this.proxy("properties.reviewId")},s.orderId=function(){return this.proxy("properties.id")||this.proxy("properties.order_id")||this.proxy("properties.orderId")},s.sku=t.Facade.proxy("properties.sku"),s.tax=t.Facade.proxy("properties.tax"),s.name=t.Facade.proxy("properties.name"),s.price=t.Facade.proxy("properties.price"),s.total=t.Facade.proxy("properties.total"),s.repeat=t.Facade.proxy("properties.repeat"),s.coupon=t.Facade.proxy("properties.coupon"),s.shipping=t.Facade.proxy("properties.shipping"),s.discount=t.Facade.proxy("properties.discount"),s.shippingMethod=function(){return this.proxy("properties.shipping_method")||this.proxy("properties.shippingMethod")},s.paymentMethod=function(){return this.proxy("properties.payment_method")||this.proxy("properties.paymentMethod")},s.description=t.Facade.proxy("properties.description"),s.plan=t.Facade.proxy("properties.plan"),s.subtotal=function(){var l=a.default(this.properties(),"subtotal"),c=this.total()||this.revenue();if(l)return l;if(!c)return 0;if(this.total()){var f=this.tax();f&&(c-=f),f=this.shipping(),f&&(c-=f),f=this.discount(),f&&(c+=f)}return c},s.products=function(){var l=this.properties(),c=a.default(l,"products");return Array.isArray(c)?c.filter(function(f){return f!==null}):[]},s.quantity=function(){var l=this.obj.properties||{};return l.quantity||1},s.currency=function(){var l=this.obj.properties||{};return l.currency||"USD"},s.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")},s.query=t.Facade.proxy("options.query"),s.properties=function(l){var c=this.field("properties")||{};l=l||{};for(var f in l)if(Object.prototype.hasOwnProperty.call(l,f)){var d=this[f]==null?this.proxy("properties."+f):this[f]();if(d==null)continue;c[l[f]]=d,delete c[f]}return c},s.username=function(){return this.proxy("traits.username")||this.proxy("properties.username")||this.userId()||this.sessionId()},s.email=function(){var l=this.proxy("traits.email")||this.proxy("properties.email")||this.proxy("options.traits.email");if(l)return l;var c=this.userId();if(i.default(c))return c},s.revenue=function(){var l=this.proxy("properties.revenue"),c=this.event(),f=/^[ _]?completed[ _]?order[ _]?|^[ _]?order[ _]?completed[ _]?$/i;return!l&&c&&c.match(f)&&(l=this.proxy("properties.total")),u(l)},s.cents=function(){var l=this.revenue();return typeof l!="number"?this.value()||0:l*100},s.identify=function(){var l=this.json();return l.traits=this.traits(),new n.Identify(l,this.opts)};function u(l){if(l){if(typeof l=="number")return l;if(typeof l=="string"&&(l=l.replace(/\$/g,""),l=parseFloat(l),!isNaN(l)))return l}}return my}var by={},cL;function c5(){if(cL)return by;cL=1;var r=by&&by.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(by,"__esModule",{value:!0}),by.Page=void 0;var e=r(Wy()),t=$y(),n=oA(),i=r(k1());function a(s,u){t.Facade.call(this,s,u)}by.Page=a,e.default(a,t.Facade);var o=a.prototype;return o.action=function(){return"page"},o.type=o.action,o.category=t.Facade.field("category"),o.name=t.Facade.field("name"),o.title=t.Facade.proxy("properties.title"),o.path=t.Facade.proxy("properties.path"),o.url=t.Facade.proxy("properties.url"),o.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")},o.properties=function(s){var u=this.field("properties")||{},l=this.category(),c=this.name();s=s||{},l&&(u.category=l),c&&(u.name=c);for(var f in s)if(Object.prototype.hasOwnProperty.call(s,f)){var d=this[f]==null?this.proxy("properties."+f):this[f]();if(d==null)continue;u[s[f]]=d,f!==s[f]&&delete u[f]}return u},o.email=function(){var s=this.proxy("context.traits.email")||this.proxy("properties.email");if(s)return s;var u=this.userId();if(i.default(u))return u},o.fullName=function(){var s=this.category(),u=this.name();return u&&s?s+" "+u:u},o.event=function(s){return s?"Viewed "+s+" Page":"Loaded a Page"},o.track=function(s){var u=this.json();return u.event=this.event(s),u.timestamp=this.timestamp(),u.properties=this.properties(),new n.Track(u,this.opts)},by}var _y={},fL;function v$(){if(fL)return _y;fL=1;var r=_y&&_y.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(_y,"__esModule",{value:!0}),_y.Screen=void 0;var e=r(Wy()),t=c5(),n=oA();function i(a,o){t.Page.call(this,a,o)}return _y.Screen=i,e.default(i,t.Page),i.prototype.action=function(){return"screen"},i.prototype.type=i.prototype.action,i.prototype.event=function(a){return a?"Viewed "+a+" Screen":"Loaded a Screen"},i.prototype.track=function(a){var o=this.json();return o.event=this.event(a),o.timestamp=this.timestamp(),o.properties=this.properties(),new n.Track(o,this.opts)},_y}var wy={},hL;function p$(){if(hL)return wy;hL=1;var r=wy&&wy.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(wy,"__esModule",{value:!0}),wy.Delete=void 0;var e=r(Wy()),t=$y();function n(i,a){t.Facade.call(this,i,a)}return wy.Delete=n,e.default(n,t.Facade),n.prototype.type=function(){return"delete"},wy}var dL;function g$(){return dL||(dL=1,function(r){var e=T0&&T0.__assign||function(){return e=Object.assign||function(c){for(var f,d=1,v=arguments.length;d<v;d++){f=arguments[d];for(var p in f)Object.prototype.hasOwnProperty.call(f,p)&&(c[p]=f[p])}return c},e.apply(this,arguments)};Object.defineProperty(r,"__esModule",{value:!0}),r.Delete=r.Screen=r.Page=r.Track=r.Identify=r.Group=r.Alias=r.Facade=void 0;var t=$y();Object.defineProperty(r,"Facade",{enumerable:!0,get:function(){return t.Facade}});var n=h$();Object.defineProperty(r,"Alias",{enumerable:!0,get:function(){return n.Alias}});var i=d$();Object.defineProperty(r,"Group",{enumerable:!0,get:function(){return i.Group}});var a=l5();Object.defineProperty(r,"Identify",{enumerable:!0,get:function(){return a.Identify}});var o=oA();Object.defineProperty(r,"Track",{enumerable:!0,get:function(){return o.Track}});var s=c5();Object.defineProperty(r,"Page",{enumerable:!0,get:function(){return s.Page}});var u=v$();Object.defineProperty(r,"Screen",{enumerable:!0,get:function(){return u.Screen}});var l=p$();Object.defineProperty(r,"Delete",{enumerable:!0,get:function(){return l.Delete}}),r.default=e(e({},t.Facade),{Alias:n.Alias,Group:i.Group,Identify:a.Identify,Track:o.Track,Page:s.Page,Screen:u.Screen,Delete:l.Delete})}(T0)),T0}var Ey=g$();function W_(r,e){var t=new Ey.Facade(r,e);return r.type==="track"&&(t=new Ey.Track(r,e)),r.type==="identify"&&(t=new Ey.Identify(r,e)),r.type==="page"&&(t=new Ey.Page(r,e)),r.type==="alias"&&(t=new Ey.Alias(r,e)),r.type==="group"&&(t=new Ey.Group(r,e)),r.type==="screen"&&(t=new Ey.Screen(r,e)),Object.defineProperty(t,"obj",{value:r,writable:!0}),t}var y$=function(r){var e=!1;window.addEventListener("pagehide",function(){e||(e=!0,r(e))}),document.addEventListener("visibilitychange",function(){if(document.visibilityState=="hidden"){if(e)return;e=!0}else e=!1;r(e)})},f5=function(r){zf(e,r);function e(t,n){var i=r.call(this,t)||this;return i.retryTimeout=n,i.name="RateLimitError",i}return e}(Error),h5=function(r){return or({"Content-Type":"text/plain"},typeof r=="function"?r():r)},m$=500,b$=64;function sA(r){var e=encodeURI(JSON.stringify(r)).split(/%..|./).length-1;return e/1024}function _$(r){return sA(r)>=m$-50}function w$(r){return sA(r)>=b$-10}function E$(r){var e=[],t=0;return r.forEach(function(n){var i=sA(e[t]);i>=64&&t++,e[t]?e[t].push(n):e[t]=[n]}),e}function x$(r,e){var t,n,i=[],a=!1,o=(t=e==null?void 0:e.size)!==null&&t!==void 0?t:10,s=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:5e3,u=0;function l(p){var m;if(p.length!==0){var w=(m=p[0])===null||m===void 0?void 0:m.writeKey,b=p.map(function(y){var _=y;_.sentAt;var S=q4(_,["sentAt"]);return S});return R1("https://".concat(r,"/b"),{credentials:e==null?void 0:e.credentials,keepalive:(e==null?void 0:e.keepalive)||a,headers:h5(e==null?void 0:e.headers),method:"post",body:JSON.stringify({writeKey:w,batch:b,sentAt:new Date().toISOString()}),priority:e==null?void 0:e.priority}).then(function(y){var _;if(y.status>=500)throw new Error("Bad response from server: ".concat(y.status));if(y.status===429){var S=(_=y.headers)===null||_===void 0?void 0:_.get("x-ratelimit-reset"),A=typeof S=="string"?parseInt(S)*1e3:s;throw new f5("Rate limit exceeded: ".concat(y.status),A)}})}}function c(p){var m;return p===void 0&&(p=1),Gr(this,void 0,void 0,function(){var w;return Hr(this,function(b){return i.length?(w=i,i=[],[2,(m=l(w))===null||m===void 0?void 0:m.catch(function(y){var _,S=Gp.system();S.log("error","Error sending batch",y),p<=((_=e==null?void 0:e.maxRetries)!==null&&_!==void 0?_:10)&&(y.name==="RateLimitError"&&(u=y.retryTimeout),i.push.apply(i,w),i.map(function(A){if("_metadata"in A){var D=A;D._metadata=or(or({},D._metadata),{retryCount:p})}}),d(p+1))})]):[2]})})}var f;function d(p){p===void 0&&(p=1),!f&&(f=setTimeout(function(){f=void 0,c(p).catch(console.error)},u||s),u=0)}y$(function(p){if(a=p,a&&i.length){var m=E$(i).map(l);Promise.all(m).catch(console.error)}});function v(p,m){return Gr(this,void 0,void 0,function(){var w;return Hr(this,function(b){return i.push(m),w=i.length>=o||_$(i)||(e==null?void 0:e.keepalive)&&w$(i),[2,w||a?c():d()]})})}return{dispatch:v}}function S$(r){function e(t,n){return R1(t,{credentials:r==null?void 0:r.credentials,keepalive:r==null?void 0:r.keepalive,headers:h5(r==null?void 0:r.headers),method:"post",body:JSON.stringify(n),priority:r==null?void 0:r.priority}).then(function(i){var a;if(i.status>=500)throw new Error("Bad response from server: ".concat(i.status));if(i.status===429){var o=(a=i.headers)===null||a===void 0?void 0:a.get("x-ratelimit-reset"),s=o?parseInt(o)*1e3:5e3;throw new f5("Rate limit exceeded: ".concat(i.status),s)}})}return{dispatch:e}}function O$(r,e,t,n,i){var a,o=r.user();delete e.options,e.writeKey=t==null?void 0:t.apiKey,e.userId=e.userId||o.id(),e.anonymousId=e.anonymousId||o.anonymousId(),e.sentAt=new Date;var s=r.queue.failedInitializations||[];s.length>0&&(e._metadata={failedInitializations:s}),i!=null&&(i.attempts>1&&(e._metadata=or(or({},e._metadata),{retryCount:i.attempts})),i.attempts++);var u=[],l=[];for(var c in n){var f=n[c];c==="Segment.io"&&u.push(c),f.bundlingStatus==="bundled"&&u.push(c),f.bundlingStatus==="unbundled"&&l.push(c)}for(var d=0,v=(t==null?void 0:t.unbundledIntegrations)||[];d<v.length;d++){var p=v[d];l.includes(p)||l.push(p)}var m=(a=t==null?void 0:t.maybeBundledConfigIds)!==null&&a!==void 0?a:{},w=[];return u.sort().forEach(function(b){var y;((y=m[b])!==null&&y!==void 0?y:[]).forEach(function(_){w.push(_)})}),(t==null?void 0:t.addBundledMetadata)!==!1&&(e._metadata=or(or({},e._metadata),{bundled:u.sort(),unbundled:l.sort(),bundledIds:w})),e}var T$=function(r,e){return Gr(void 0,void 0,void 0,function(){var t;return Hr(this,function(n){return t=function(i){return Gr(void 0,void 0,void 0,function(){var a;return Hr(this,function(o){switch(o.label){case 0:return r(i)?(a=t,[4,e()]):[3,2];case 1:return[2,a.apply(void 0,[o.sent()])];case 2:return[2]}})})},[2,t(void 0)]})})};function C$(r,e){return Gr(this,void 0,void 0,function(){var t,n=this;return Hr(this,function(i){switch(i.label){case 0:return t=[],lb()?[2,e]:[4,T$(function(){return e.length>0&&!lb()},function(){return Gr(n,void 0,void 0,function(){var a,o,s;return Hr(this,function(u){switch(u.label){case 0:return a=e.pop(),a?[4,Y0(a,r)]:[2];case 1:return o=u.sent(),s=o instanceof Gp,s||t.push(a),[2]}})})})];case 1:return i.sent(),t.map(function(a){return e.pushWithBackoff(a)}),[2,e]}})})}function Tm(r,e,t,n){var i=this;r||setTimeout(function(){return Gr(i,void 0,void 0,function(){var a,o;return Hr(this,function(s){switch(s.label){case 0:return a=!0,[4,C$(t,e)];case 1:return o=s.sent(),a=!1,e.todo>0&&n(a,o,t,n),[2]}})})},Math.random()*5e3)}function A$(r,e){var t,n,i,a,o=r.user();return e.previousId=(i=(n=(t=e.previousId)!==null&&t!==void 0?t:e.from)!==null&&n!==void 0?n:o.id())!==null&&i!==void 0?i:o.anonymousId(),e.userId=(a=e.userId)!==null&&a!==void 0?a:e.to,delete e.from,delete e.to,e}var R$=function(r){return r.name==="Segment.io"};function P$(r,e,t){var n,i,a;window.addEventListener("pagehide",function(){s.push.apply(s,Array.from(u)),u.clear()});var o=(n=e==null?void 0:e.apiKey)!==null&&n!==void 0?n:"",s=r.options.disableClientPersistence?new Z2(r.queue.queue.maxAttempts,[]):new tA(r.queue.queue.maxAttempts,"".concat(o,":dest-Segment.io")),u=new Set,l=!1,c=(i=e==null?void 0:e.apiHost)!==null&&i!==void 0?i:$4,f=(a=e==null?void 0:e.protocol)!==null&&a!==void 0?a:"https",d="".concat(f,"://").concat(c),v=e==null?void 0:e.deliveryStrategy,p=v&&"strategy"in v&&v.strategy==="batching"?x$(c,v.config):S$(v==null?void 0:v.config);function m(b){return Gr(this,void 0,void 0,function(){var y,_;return Hr(this,function(S){return lb()?(s.push(b),Tm(l,s,w,Tm),[2,b]):(u.add(b),y=b.event.type.charAt(0),_=W_(b.event).json(),b.event.type==="track"&&delete _.traits,b.event.type==="alias"&&(_=A$(r,_)),[2,p.dispatch("".concat(d,"/").concat(y),O$(r,_,e,t,b)).then(function(){return b}).catch(function(A){if(b.log("error","Error sending event",A),A.name==="RateLimitError"){var D=A.retryTimeout;s.pushWithBackoff(b,D)}else s.pushWithBackoff(b);return Tm(l,s,w,Tm),b}).finally(function(){u.delete(b)})])})})}var w={metadata:{writeKey:o,apiHost:c,protocol:f},name:"Segment.io",type:"destination",version:"0.1.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:m,identify:m,page:m,alias:m,group:m,screen:m};return s.todo&&Tm(l,s,w,Tm),w}var Eg="This is being deprecated and will be not be available in future releases of Analytics JS",JT=eA(),eC=JT==null?void 0:JT.analytics;function D$(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var n=e?10:1,i=t?new Z2(n,[]):new tA(n,r);return new qV(i)}var I$=function(){function r(e,t){var n;this.timeout=300,this._getSegmentPluginMetadata=function(){var a;return(a=t.plugins.find(R$))===null||a===void 0?void 0:a.metadata},this.writeKey=e.writeKey;var i={integrations:{"Segment.io":{apiKey:""}}};this.cdnSettings=(n=e.cdnSettings)!==null&&n!==void 0?n:i,this.cdnURL=e.cdnURL}return Object.defineProperty(r.prototype,"apiHost",{get:function(){var e,t;return(t=(e=this._getSegmentPluginMetadata)===null||e===void 0?void 0:e.call(this))===null||t===void 0?void 0:t.apiHost},enumerable:!1,configurable:!0}),r}();function ep(){console.warn(Eg)}var d5=function(r){zf(e,r);function e(t,n,i,a,o){var s=this,u,l;s=r.call(this)||this,s._debug=!1,s.initialized=!1,s.user=function(){return s._user},s.init=s.initialize.bind(s),s.log=ep,s.addIntegrationMiddleware=ep,s.listeners=ep,s.addEventListener=ep,s.removeAllListeners=ep,s.removeListener=ep,s.removeEventListener=ep,s.hasListeners=ep,s.add=ep,s.addIntegration=ep;var c=n==null?void 0:n.cookie,f=(u=n==null?void 0:n.disableClientPersistence)!==null&&u!==void 0?u:!1;s.queue=i??D$("".concat(t.writeKey,":event-queue"),n==null?void 0:n.retryQueue,f),s.settings=new I$(t,s.queue);var d=n==null?void 0:n.storage;return s._universalStorage=s.createStore(f,d,c),s._user=a??new i5(or({persist:!f,storage:n==null?void 0:n.storage},n==null?void 0:n.user),c).load(),s._group=o??new XV(or({persist:!f,storage:n==null?void 0:n.storage},n==null?void 0:n.group),c).load(),s.eventFactory=new jV(s._user),s.integrations=(l=n==null?void 0:n.integrations)!==null&&l!==void 0?l:{},s.options=n??{},rA(s),s}return e.prototype.createStore=function(t,n,i){return t?new Iy([new nA]):n&&r5(n)?new Iy(WC(n5(n.stores,i))):new Iy(WC([Lf.LocalStorage,{name:Lf.Cookie,settings:i},Lf.Memory]))},Object.defineProperty(e.prototype,"storage",{get:function(){return this._universalStorage},enumerable:!1,configurable:!0}),e.prototype.track=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Gr(this,void 0,void 0,function(){var i,a,o,s,u,l,c,f=this;return Hr(this,function(d){return i=Sm(t),a=SV.apply(void 0,t),o=a[0],s=a[1],u=a[2],l=a[3],c=this.eventFactory.track(o,s,u,this.integrations,i),[2,this._dispatch(c,l).then(function(v){return f.emit("track",o,v.event.properties,v.event.options),v})]})})},e.prototype.page=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Gr(this,void 0,void 0,function(){var i,a,o,s,u,l,c,f,d=this;return Hr(this,function(v){return i=Sm(t),a=HN.apply(void 0,t),o=a[0],s=a[1],u=a[2],l=a[3],c=a[4],f=this.eventFactory.page(o,s,u,l,this.integrations,i),[2,this._dispatch(f,c).then(function(p){return d.emit("page",o,s,p.event.properties,p.event.options),p})]})})},e.prototype.identify=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Gr(this,void 0,void 0,function(){var i,a,o,s,u,l,c,f=this;return Hr(this,function(d){return i=Sm(t),a=VN(this._user).apply(void 0,t),o=a[0],s=a[1],u=a[2],l=a[3],this._user.identify(o,s),c=this.eventFactory.identify(this._user.id(),this._user.traits(),u,this.integrations,i),[2,this._dispatch(c,l).then(function(v){return f.emit("identify",v.event.userId,v.event.traits,v.event.options),v})]})})},e.prototype.group=function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var a=Sm(n);if(n.length===0)return this._group;var o=VN(this._group).apply(void 0,n),s=o[0],u=o[1],l=o[2],c=o[3];this._group.identify(s,u);var f=this._group.id(),d=this._group.traits(),v=this.eventFactory.group(f,d,l,this.integrations,a);return this._dispatch(v,c).then(function(p){return t.emit("group",p.event.groupId,p.event.traits,p.event.options),p})},e.prototype.alias=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Gr(this,void 0,void 0,function(){var i,a,o,s,u,l,c,f=this;return Hr(this,function(d){return i=Sm(t),a=OV.apply(void 0,t),o=a[0],s=a[1],u=a[2],l=a[3],c=this.eventFactory.alias(o,s,u,this.integrations,i),[2,this._dispatch(c,l).then(function(v){return f.emit("alias",o,s,v.event.options),v})]})})},e.prototype.screen=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Gr(this,void 0,void 0,function(){var i,a,o,s,u,l,c,f,d=this;return Hr(this,function(v){return i=Sm(t),a=HN.apply(void 0,t),o=a[0],s=a[1],u=a[2],l=a[3],c=a[4],f=this.eventFactory.screen(o,s,u,l,this.integrations,i),[2,this._dispatch(f,c).then(function(p){return d.emit("screen",o,s,p.event.properties,p.event.options),p})]})})},e.prototype.trackClick=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Gr(this,void 0,void 0,function(){var i,a;return Hr(this,function(o){switch(o.label){case 0:return[4,fv(()=>import("./auto-track.js"),[])];case 1:return i=o.sent(),[2,(a=i.link).call.apply(a,Au([this],t,!1))]}})})},e.prototype.trackLink=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Gr(this,void 0,void 0,function(){var i,a;return Hr(this,function(o){switch(o.label){case 0:return[4,fv(()=>import("./auto-track.js"),[])];case 1:return i=o.sent(),[2,(a=i.link).call.apply(a,Au([this],t,!1))]}})})},e.prototype.trackSubmit=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Gr(this,void 0,void 0,function(){var i,a;return Hr(this,function(o){switch(o.label){case 0:return[4,fv(()=>import("./auto-track.js"),[])];case 1:return i=o.sent(),[2,(a=i.form).call.apply(a,Au([this],t,!1))]}})})},e.prototype.trackForm=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Gr(this,void 0,void 0,function(){var i,a;return Hr(this,function(o){switch(o.label){case 0:return[4,fv(()=>import("./auto-track.js"),[])];case 1:return i=o.sent(),[2,(a=i.form).call.apply(a,Au([this],t,!1))]}})})},e.prototype.register=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Gr(this,void 0,void 0,function(){var i,a,o=this;return Hr(this,function(s){switch(s.label){case 0:return i=Gp.system(),a=t.map(function(u){return o.queue.register(i,u,o)}),[4,Promise.all(a)];case 1:return s.sent(),[2,i]}})})},e.prototype.deregister=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Gr(this,void 0,void 0,function(){var i,a,o=this;return Hr(this,function(s){switch(s.label){case 0:return i=Gp.system(),a=t.map(function(u){var l=o.queue.plugins.find(function(c){return c.name===u});if(l)return o.queue.deregister(i,l,o);i.log("warn","plugin ".concat(u," not found"))}),[4,Promise.all(a)];case 1:return s.sent(),[2,i]}})})},e.prototype.debug=function(t){return t===!1&&localStorage.getItem("debug")&&localStorage.removeItem("debug"),this._debug=t,this},e.prototype.reset=function(){this._user.reset(),this._group.reset(),this.emit("reset")},e.prototype.timeout=function(t){this.settings.timeout=t},e.prototype._dispatch=function(t,n){return Gr(this,void 0,void 0,function(){var i;return Hr(this,function(a){return i=new Gp(t),i.stats.increment("analytics_js.invoke",1,[t.type]),lb()&&!this.options.retryQueue?[2,i]:[2,xV(i,this.queue,this,{callback:n,debug:this._debug,timeout:this.settings.timeout})]})})},e.prototype.addSourceMiddleware=function(t){return Gr(this,void 0,void 0,function(){var n=this;return Hr(this,function(i){switch(i.label){case 0:return[4,this.queue.criticalTasks.run(function(){return Gr(n,void 0,void 0,function(){var a,o,s;return Hr(this,function(u){switch(u.label){case 0:return[4,fv(()=>Promise.resolve().then(()=>X$),void 0)];case 1:return a=u.sent().sourceMiddlewarePlugin,o={},this.queue.plugins.forEach(function(l){if(l.type==="destination")return o[l.name]=!0}),s=a(t,o),[4,this.register(s)];case 2:return u.sent(),[2]}})})})];case 1:return i.sent(),[2,this]}})})},e.prototype.addDestinationMiddleware=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return this.queue.plugins.filter(BV).forEach(function(a){(t==="*"||a.name.toLowerCase()===t.toLowerCase())&&a.addMiddleware.apply(a,n)}),Promise.resolve(this)},e.prototype.setAnonymousId=function(t){return this._user.anonymousId(t)},e.prototype.queryString=function(t){return Gr(this,void 0,void 0,function(){var n;return Hr(this,function(i){switch(i.label){case 0:return this.options.useQueryString===!1?[2,[]]:[4,fv(()=>import("./index2.js"),[])];case 1:return n=i.sent().queryString,[2,n(this,t)]}})})},e.prototype.use=function(t){return t(this),this},e.prototype.ready=function(t){return t===void 0&&(t=function(n){return n}),Gr(this,void 0,void 0,function(){return Hr(this,function(n){return[2,Promise.all(this.queue.plugins.map(function(i){return i.ready?i.ready():Promise.resolve()})).then(function(i){return t(i),i})]})})},e.prototype.noConflict=function(){return console.warn(Eg),ZV(eC??this),this},e.prototype.normalize=function(t){return console.warn(Eg),this.eventFactory.normalize(t)},Object.defineProperty(e.prototype,"failedInitializations",{get:function(){return console.warn(Eg),this.queue.failedInitializations},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"VERSION",{get:function(){return P1},enumerable:!1,configurable:!0}),e.prototype.initialize=function(t,n){return Gr(this,void 0,void 0,function(){return Hr(this,function(i){return console.warn(Eg),[2,Promise.resolve(this)]})})},e.prototype.pageview=function(t){return Gr(this,void 0,void 0,function(){return Hr(this,function(n){switch(n.label){case 0:return console.warn(Eg),[4,this.page({path:t})];case 1:return n.sent(),[2,this]}})})},Object.defineProperty(e.prototype,"plugins",{get:function(){var t;return console.warn(Eg),(t=this._plugins)!==null&&t!==void 0?t:{}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Integrations",{get:function(){console.warn(Eg);var t=this.queue.plugins.filter(function(n){return n.type==="destination"}).reduce(function(n,i){var a="".concat(i.name.toLowerCase().replace(".","").split(" ").join("-"),"Integration"),o=window[a];if(!o)return n;var s=o.Integration;return s?(n[i.name]=s,n):(n[i.name]=o,n)},{});return t},enumerable:!1,configurable:!0}),e.prototype.push=function(t){var n=this,i=t.shift();i&&!n[i]||n[i].apply(this,t)},e}(K2),vL=function(r){zf(e,r);function e(){var t=r.call(this,{writeKey:""},{disableClientPersistence:!0})||this;return t.initialized=!0,t}return e}(d5),pL={};function v5(){return typeof process>"u"||!pL?{}:pL}var k$=/(https:\/\/.*)\/analytics\.js\/v1\/(?:.*?)\/(?:platform|analytics.*)?/,M$=function(){var r,e=Array.prototype.slice.call(document.querySelectorAll("script"));return e.forEach(function(t){var n,i=(n=t.getAttribute("src"))!==null&&n!==void 0?n:"",a=k$.exec(i);a&&a[1]&&(r=a[1])}),r},C_,N$=function(){var r,e=C_??((r=a5())===null||r===void 0?void 0:r._cdn);return e},L$=function(r){var e=a5();e&&(e._cdn=r),C_=r},uA=function(){var r=N$();if(r)return r;var e=M$();return e||"https://cdn.segment.com"},FZ=function(){var r=uA();return"".concat(r,"/next-integrations")};function j$(r,e){var t,n=Object.entries((t=e.integrations)!==null&&t!==void 0?t:{}).reduce(function(i,a){var o,s,u=a[0],l=a[1];return typeof l=="object"?or(or({},i),(o={},o[u]=l,o)):or(or({},i),(s={},s[u]={},s))},{});return Object.entries(r.integrations).reduce(function(i,a){var o,s=a[0],u=a[1];return or(or({},i),(o={},o[s]=or(or({},u),n[s]),o))},{})}function B$(r){try{return decodeURIComponent(r.replace(/\+/g," "))}catch{return r}}function F$(r){return Gr(this,void 0,void 0,function(){var e;return Hr(this,function(t){return e=navigator.userAgentData,e?r?[2,e.getHighEntropyValues(r).catch(function(){return e.toJSON()})]:[2,e.toJSON()]:[2,void 0]})})}var A0;function U$(){if(A0)return A0;var r=e5(window.location.href);return A0={expires:31536e6,secure:!1,path:"/"},r&&(A0.domain=r),A0}function z$(r){var e={btid:"dataxu",urid:"millennial-media"};r.startsWith("?")&&(r=r.substring(1)),r=r.replace(/\?/g,"&");for(var t=r.split("&"),n=0,i=t;n<i.length;n++){var a=i[n],o=a.split("="),s=o[0],u=o[1];if(e[s])return{id:u,type:e[s]}}}function q$(r){return r.startsWith("?")&&(r=r.substring(1)),r=r.replace(/\?/g,"&"),r.split("&").reduce(function(e,t){var n=t.split("="),i=n[0],a=n[1],o=a===void 0?"":a;if(i.includes("utm_")&&i.length>4){var s=i.slice(4);s==="campaign"&&(s="name"),e[s]=B$(o)}return e},{})}function G$(){var r=Up.get("_ga");if(r&&r.startsWith("amp"))return r}function H$(r,e,t){var n,i=new Iy(t?[]:[new t5(U$())]),a=i.get("s:context.referrer"),o=(n=z$(r))!==null&&n!==void 0?n:a;o&&(e&&(e.referrer=or(or({},e.referrer),o)),i.set("s:context.referrer",o))}var V$=function(r){try{var e=new URLSearchParams;return Object.entries(r).forEach(function(t){var n=t[0],i=t[1];Array.isArray(i)?i.forEach(function(a){return e.append(n,a)}):e.append(n,i)}),e.toString()}catch{return""}},$$=function(){function r(){var e=this;this.name="Page Enrichment",this.type="before",this.version="0.1.0",this.isLoaded=function(){return!0},this.load=function(t,n){return Gr(e,void 0,void 0,function(){var i;return Hr(this,function(a){switch(a.label){case 0:this.instance=n,a.label=1;case 1:return a.trys.push([1,3,,4]),i=this,[4,F$(this.instance.options.highEntropyValuesClientHints)];case 2:return i.userAgentData=a.sent(),[3,4];case 3:return a.sent(),[3,4];case 4:return[2,Promise.resolve()]}})})},this.enrich=function(t){var n,i,a=t.event.context,o=a.page.search||"",s=typeof o=="object"?V$(o):o;a.userAgent=navigator.userAgent,a.userAgentData=e.userAgentData;var u=navigator.userLanguage||navigator.language;typeof a.locale>"u"&&typeof u<"u"&&(a.locale=u),(n=a.library)!==null&&n!==void 0||(a.library={name:"analytics.js",version:"".concat("npm:next","-").concat(P1)}),s&&!a.campaign&&(a.campaign=q$(s));var l=G$();l&&(a.amp={id:l}),H$(s,a,(i=e.instance.options.disableClientPersistence)!==null&&i!==void 0?i:!1);try{a.timezone=Intl.DateTimeFormat().resolvedOptions().timeZone}catch{}return t},this.track=this.enrich,this.identify=this.enrich,this.page=this.enrich,this.group=this.enrich,this.alias=this.enrich,this.screen=this.enrich}return r}(),W$=new $$;function p5(r){var e=Array.prototype.slice.call(window.document.querySelectorAll("script"));return e.find(function(t){return t.src===r})}function tC(r,e){var t=p5(r);if(t!==void 0){var n=t==null?void 0:t.getAttribute("status");if(n==="loaded")return Promise.resolve(t);if(n==="loading")return new Promise(function(i,a){t.addEventListener("load",function(){return i(t)}),t.addEventListener("error",function(o){return a(o)})})}return new Promise(function(i,a){var o,s=window.document.createElement("script");s.type="text/javascript",s.src=r,s.async=!0,s.setAttribute("status","loading");for(var u=0,l=Object.entries({});u<l.length;u++){var c=l[u],f=c[0],d=c[1];s.setAttribute(f,d)}s.onload=function(){s.onerror=s.onload=null,s.setAttribute("status","loaded"),i(s)},s.onerror=function(){s.onerror=s.onload=null,s.setAttribute("status","error"),a(new Error("Failed to load ".concat(r)))};var v=window.document.querySelector("script");v?(o=v.parentElement)===null||o===void 0||o.insertBefore(s,v):window.document.head.appendChild(s)})}function UZ(r){var e=p5(r);return e!==void 0&&e.remove(),Promise.resolve()}function g5(r,e,t){return Gr(this,void 0,void 0,function(){function n(l,c){return Gr(this,void 0,void 0,function(){var f,d,v;return Hr(this,function(p){switch(p.label){case 0:return f=!1,d=null,[4,c({payload:W_(l,{clone:!0,traverse:!1}),integration:r,next:function(m){f=!0,m===null&&(d=null),m&&(d=m.obj)}})];case 1:return p.sent(),!f&&d!==null&&(d=d,d.integrations=or(or({},l.integrations),(v={},v[r]=!1,v))),[2,d]}})})}var i,a,o,s,u;return Hr(this,function(l){switch(l.label){case 0:i=W_(e,{clone:!0,traverse:!1}).rawEvent(),a=0,o=t,l.label=1;case 1:return a<o.length?(s=o[a],[4,n(i,s)]):[3,4];case 2:if(u=l.sent(),u===null)return[2,null];i=u,l.label=3;case 3:return a++,[3,1];case 4:return[2,i]}})})}function Y$(r,e){function t(n){return Gr(this,void 0,void 0,function(){var i;return Hr(this,function(a){switch(a.label){case 0:return i=!1,[4,r({payload:W_(n.event,{clone:!0,traverse:!1}),integrations:e??{},next:function(o){i=!0,o&&(n.event=o.obj)}})];case 1:if(a.sent(),!i)throw new Wm({retry:!1,type:"middleware_cancellation",reason:"Middleware `next` function skipped"});return[2,n]}})})}return{name:"Source Middleware ".concat(r.name),type:"before",version:"0.1.0",isLoaded:function(){return!0},load:function(n){return Promise.resolve(n)},track:t,page:t,screen:t,identify:t,alias:t,group:t}}const X$=Object.freeze(Object.defineProperty({__proto__:null,applyDestinationMiddleware:g5,sourceMiddlewarePlugin:Y$},Symbol.toStringTag,{value:"Module"}));function n_(r,e){var t=e.methodName,n=e.integrationName,i=e.type,a=e.didError,o=a===void 0?!1:a;r.stats.increment("analytics_js.integration.invoke".concat(o?".error":""),1,["method:".concat(t),"integration_name:".concat(n),"type:".concat(i)])}var K$=function(){function r(e,t){this.version="1.0.0",this.alternativeNames=[],this.loadPromise=G4(),this.middleware=[],this.alias=this._createMethod("alias"),this.group=this._createMethod("group"),this.identify=this._createMethod("identify"),this.page=this._createMethod("page"),this.screen=this._createMethod("screen"),this.track=this._createMethod("track"),this.action=t,this.name=e,this.type=t.type,this.alternativeNames.push(t.name)}return r.prototype.addMiddleware=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.type==="destination"&&(e=this.middleware).push.apply(e,t)},r.prototype.transform=function(e){return Gr(this,void 0,void 0,function(){var t;return Hr(this,function(n){switch(n.label){case 0:return[4,g5(this.name,e.event,this.middleware)];case 1:return t=n.sent(),t===null&&e.cancel(new Wm({retry:!1,reason:"dropped by destination middleware"})),[2,new Gp(t)]}})})},r.prototype._createMethod=function(e){var t=this;return function(n){return Gr(t,void 0,void 0,function(){var i,a;return Hr(this,function(o){switch(o.label){case 0:return this.action[e]?(i=n,this.type!=="destination"?[3,2]:[4,this.transform(n)]):[2,n];case 1:i=o.sent(),o.label=2;case 2:return o.trys.push([2,5,,6]),[4,this.ready()];case 3:if(!o.sent())throw new Error("Something prevented the destination from getting ready");return n_(n,{integrationName:this.action.name,methodName:e,type:"action"}),[4,this.action[e](i)];case 4:return o.sent(),[3,6];case 5:throw a=o.sent(),n_(n,{integrationName:this.action.name,methodName:e,type:"action",didError:!0}),a;case 6:return[2,n]}})})}},r.prototype.isLoaded=function(){return this.action.isLoaded()},r.prototype.ready=function(){return Gr(this,void 0,void 0,function(){return Hr(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.loadPromise.promise];case 1:return e.sent(),[2,!0];case 2:return e.sent(),[2,!1];case 3:return[2]}})})},r.prototype.load=function(e,t){return Gr(this,void 0,void 0,function(){var n,i,a,o;return Hr(this,function(s){switch(s.label){case 0:if(this.loadPromise.isSettled())return[2,this.loadPromise.promise];s.label=1;case 1:return s.trys.push([1,3,,4]),n_(e,{integrationName:this.action.name,methodName:"load",type:"action"}),n=this.action.load(e,t),a=(i=this.loadPromise).resolve,[4,n];case 2:return a.apply(i,[s.sent()]),[2,n];case 3:throw o=s.sent(),n_(e,{integrationName:this.action.name,methodName:"load",type:"action",didError:!0}),this.loadPromise.reject(o),o;case 4:return[2]}})})},r.prototype.unload=function(e,t){var n,i;return(i=(n=this.action).unload)===null||i===void 0?void 0:i.call(n,e,t)},r}();function Z$(r){if(!Array.isArray(r))throw new Error("Not a valid list of plugins");var e=["load","isLoaded","name","version","type"];return r.forEach(function(t){e.forEach(function(n){var i;if(t[n]===void 0)throw new Error("Plugin: ".concat((i=t.name)!==null&&i!==void 0?i:"unknown"," missing required function ").concat(n))})}),!0}function Q$(r,e){var t=r[e.creationName],n=r[e.name];return r.All===!1&&!t&&!n||t===!1||n===!1}function J$(r,e){return Gr(this,void 0,void 0,function(){var t,n,i,a,o,s;return Hr(this,function(u){switch(u.label){case 0:if(u.trys.push([0,9,,10]),t=new RegExp("https://cdn.segment.(com|build)"),n=uA(),!e)return[3,6];i=r.url.split("/"),a=i[i.length-2],o=r.url.replace(a,btoa(a).replace(/=/g,"")),u.label=1;case 1:return u.trys.push([1,3,,5]),[4,tC(o.replace(t,n))];case 2:return u.sent(),[3,5];case 3:return u.sent(),[4,tC(r.url.replace(t,n))];case 4:return u.sent(),[3,5];case 5:return[3,8];case 6:return[4,tC(r.url.replace(t,n))];case 7:u.sent(),u.label=8;case 8:return typeof window[r.libraryName]=="function"?[2,window[r.libraryName]]:[3,10];case 9:throw s=u.sent(),console.error("Failed to create PluginFactory",r),s;case 10:return[2]}})})}function eW(r,e,t,n,i,a){var o,s,u;return Gr(this,void 0,void 0,function(){var l,c,f,d=this;return Hr(this,function(v){switch(v.label){case 0:return l=[],c=(s=(o=r.middlewareSettings)===null||o===void 0?void 0:o.routingRules)!==null&&s!==void 0?s:[],f=((u=r.remotePlugins)!==null&&u!==void 0?u:[]).map(function(p){return Gr(d,void 0,void 0,function(){var m,w,b,y,_,S,A;return Hr(this,function(D){switch(D.label){case 0:if(Q$(e,p))return[2];D.label=1;case 1:return D.trys.push([1,6,,7]),w=a==null?void 0:a.find(function(R){var k=R.pluginName;return k===p.name}),w?[3,3]:[4,J$(p,n==null?void 0:n.obfuscate)];case 2:w=D.sent(),D.label=3;case 3:return m=w,m?(b=t[p.name],[4,m(or(or({},p.settings),b))]):[3,5];case 4:y=D.sent(),_=Array.isArray(y)?y:[y],Z$(_),S=c.filter(function(R){return R.destinationName===p.creationName}),_.forEach(function(R){var k=new K$(p.creationName,R);S.length&&i&&k.addMiddleware(i),l.push(k)}),D.label=5;case 5:return[3,7];case 6:return A=D.sent(),console.warn("Failed to load Remote Plugin",A),[3,7];case 7:return[2]}})})}),[4,Promise.all(f)];case 1:return v.sent(),[2,l.filter(Boolean)]}})})}var rC,gL,tW=eA(),yL=(rC=(gL=tW).__SEGMENT_INSPECTOR__)!==null&&rC!==void 0?rC:gL.__SEGMENT_INSPECTOR__={},rW=function(r){var e;return(e=yL.attach)===null||e===void 0?void 0:e.call(yL,r)};function nW(r,e){return R1("".concat(e,"/v1/projects/").concat(r,"/settings")).then(function(t){return t.ok?t.json():t.text().then(function(n){throw new Error(n)})}).catch(function(t){throw console.error(t.message),t})}function iW(r){return v5().NODE_ENV!=="test"&&Object.keys(r.integrations).length>1}function aW(r){var e,t,n;return v5().NODE_ENV!=="test"&&((n=(t=(e=r.middlewareSettings)===null||e===void 0?void 0:e.routingRules)===null||t===void 0?void 0:t.length)!==null&&n!==void 0?n:0)>0}function oW(r,e){r$(r,e),t$(r,e)}function sW(r,e,t){return Gr(this,void 0,void 0,function(){return Hr(this,function(n){switch(n.label){case 0:return[4,lW(r,e)];case 1:return n.sent(),n$(r,t),[2]}})})}var uW=function(){var r,e,t=(r=window.location.hash)!==null&&r!==void 0?r:"",n=(e=window.location.search)!==null&&e!==void 0?e:"",i=n.length?n:t.replace(/(?=#).*(?=\?)/,"");return i},lW=function(r,e){return Gr(void 0,void 0,void 0,function(){return Hr(this,function(t){switch(t.label){case 0:return e.includes("ajs_")?[4,r.queryString(e).catch(console.error)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})};function cW(r,e,t,n,i,a,o){var s,u,l;return i===void 0&&(i=[]),Gr(this,void 0,void 0,function(){var c,f,d,v,p,m,w,b,y,_,S,A,D,R,k,j=this;return Hr(this,function(F){switch(F.label){case 0:return oW(t,o),c=i==null?void 0:i.filter(function(z){return typeof z=="object"}),f=i==null?void 0:i.filter(function(z){return typeof z=="function"&&typeof z.pluginName=="string"}),aW(e)?[4,fv(()=>import("./index3.js"),[]).then(function(z){return z.tsubMiddleware(e.middlewareSettings.routingRules)})]:[3,2];case 1:return v=F.sent(),[3,3];case 2:v=void 0,F.label=3;case 3:return d=v,iW(e)||a.length>0?[4,fv(()=>import("./index4.js"),__vite__mapDeps([0,1])).then(function(z){return z.ajsDestinations(r,e,t.integrations,n,d,a)})]:[3,5];case 4:return m=F.sent(),[3,6];case 5:m=[],F.label=6;case 6:return p=m,e.legacyVideoPluginsEnabled?[4,fv(()=>import("./index5.js"),[]).then(function(z){return z.loadLegacyVideoPlugins(t)})]:[3,8];case 7:F.sent(),F.label=8;case 8:return!((s=n.plan)===null||s===void 0)&&s.track?[4,fv(()=>import("./index6.js"),__vite__mapDeps([2,1])).then(function(z){var q;return z.schemaFilter((q=n.plan)===null||q===void 0?void 0:q.track,e)})]:[3,10];case 9:return b=F.sent(),[3,11];case 10:b=void 0,F.label=11;case 11:return w=b,y=j$(e,n),[4,eW(e,t.integrations,y,n,d,f).catch(function(){return[]})];case 12:return _=F.sent(),S=Au(Au([W$],p,!0),_,!0),w&&S.push(w),A=((u=n.integrations)===null||u===void 0?void 0:u.All)===!1&&!n.integrations["Segment.io"]||n.integrations&&n.integrations["Segment.io"]===!1,A?[3,14]:(R=(D=S).push,[4,P$(t,y["Segment.io"],e.integrations)]);case 13:R.apply(D,[F.sent()]),F.label=14;case 14:return[4,t.register.apply(t,Au(Au([],S,!1),c,!1))];case 15:return k=F.sent(),[4,e$(t,o)];case 16:return F.sent(),Object.entries((l=e.enabledMiddleware)!==null&&l!==void 0?l:{}).some(function(z){var q=z[1];return q})?[4,fv(()=>import("./index7.js"),[]).then(function(z){var q=z.remoteMiddlewares;return Gr(j,void 0,void 0,function(){var $,K;return Hr(this,function(oe){switch(oe.label){case 0:return[4,q(k,e,n.obfuscate)];case 1:return $=oe.sent(),K=$.map(function(J){return t.addSourceMiddleware(J)}),[2,Promise.all(K)]}})})})]:[3,18];case 17:F.sent(),F.label=18;case 18:return[4,JV(t,o)];case 19:return F.sent(),[2,k]}})})}function fW(r,e,t){var n,i,a,o,s,u,l,c,f;return e===void 0&&(e={}),Gr(this,void 0,void 0,function(){var d,v,p,m,w,b,y,_,S,A,D;return Hr(this,function(R){switch(R.label){case 0:return e.disable===!0?[2,[new vL,Gp.system()]]:(e.globalAnalyticsKey&&KV(e.globalAnalyticsKey),r.cdnURL&&L$(r.cdnURL),e.initialPageview&&t.add(new YC("page",[])),d=uW(),v=(n=r.cdnURL)!==null&&n!==void 0?n:uA(),(i=r.cdnSettings)!==null&&i!==void 0?(m=i,[3,3]):[3,1]);case 1:return[4,nW(r.writeKey,v)];case 2:m=R.sent(),R.label=3;case 3:return p=m,e.updateCDNSettings&&(p=e.updateCDNSettings(p)),typeof e.disable!="function"?[3,5]:[4,e.disable(p)];case 4:if(w=R.sent(),w)return[2,[new vL,Gp.system()]];R.label=5;case 5:return b=(o=(a=p.integrations["Segment.io"])===null||a===void 0?void 0:a.retryQueue)!==null&&o!==void 0?o:!0,e=or({retryQueue:b},e),y=new d5(or(or({},r),{cdnSettings:p,cdnURL:v}),e),rW(y),_=(s=r.plugins)!==null&&s!==void 0?s:[],S=(u=r.classicIntegrations)!==null&&u!==void 0?u:[],A=(l=e.integrations)===null||l===void 0?void 0:l["Segment.io"],W4.initRemoteMetrics(or(or({},p.metrics),{host:(c=A==null?void 0:A.apiHost)!==null&&c!==void 0?c:(f=p.metrics)===null||f===void 0?void 0:f.host,protocol:A==null?void 0:A.protocol})),[4,cW(r.writeKey,p,y,e,_,S,t)];case 6:return D=R.sent(),y.initialized=!0,y.emit("initialize",r,e),[4,sW(y,d,t)];case 7:return R.sent(),[2,[y,D]]}})})}var hW=function(r){zf(e,r);function e(){var t=this,n=G4(),i=n.promise,a=n.resolve;return t=r.call(this,function(o){return i.then(function(s){var u=s[0],l=s[1];return fW(u,l,o)})})||this,t._resolveLoadStart=function(o,s){return a([o,s])},t}return e.prototype.load=function(t,n){return n===void 0&&(n={}),this._resolveLoadStart(t,n),this},e.load=function(t,n){return n===void 0&&(n={}),new e().load(t,n)},e.standalone=function(t,n){return e.load({writeKey:t},n).then(function(i){return i[0]})},e}(a$);/*! For license information please see base.mjs.LICENSE.txt */var dW={7991:(r,e)=>{e.byteLength=function(l){var c=s(l),f=c[0],d=c[1];return 3*(f+d)/4-d},e.toByteArray=function(l){var c,f,d=s(l),v=d[0],p=d[1],m=new i(function(y,_,S){return 3*(_+S)/4-S}(0,v,p)),w=0,b=p>0?v-4:v;for(f=0;f<b;f+=4)c=n[l.charCodeAt(f)]<<18|n[l.charCodeAt(f+1)]<<12|n[l.charCodeAt(f+2)]<<6|n[l.charCodeAt(f+3)],m[w++]=c>>16&255,m[w++]=c>>8&255,m[w++]=255&c;return p===2&&(c=n[l.charCodeAt(f)]<<2|n[l.charCodeAt(f+1)]>>4,m[w++]=255&c),p===1&&(c=n[l.charCodeAt(f)]<<10|n[l.charCodeAt(f+1)]<<4|n[l.charCodeAt(f+2)]>>2,m[w++]=c>>8&255,m[w++]=255&c),m},e.fromByteArray=function(l){for(var c,f=l.length,d=f%3,v=[],p=16383,m=0,w=f-d;m<w;m+=p)v.push(u(l,m,m+p>w?w:m+p));return d===1?(c=l[f-1],v.push(t[c>>2]+t[c<<4&63]+"==")):d===2&&(c=(l[f-2]<<8)+l[f-1],v.push(t[c>>10]+t[c>>4&63]+t[c<<2&63]+"=")),v.join("")};for(var t=[],n=[],i=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0;o<64;++o)t[o]=a[o],n[a.charCodeAt(o)]=o;function s(l){var c=l.length;if(c%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var f=l.indexOf("=");return f===-1&&(f=c),[f,f===c?0:4-f%4]}function u(l,c,f){for(var d,v,p=[],m=c;m<f;m+=3)d=(l[m]<<16&16711680)+(l[m+1]<<8&65280)+(255&l[m+2]),p.push(t[(v=d)>>18&63]+t[v>>12&63]+t[v>>6&63]+t[63&v]);return p.join("")}n[45]=62,n[95]=63},1048:(r,e,t)=>{const n=t(7991),i=t(9318),a=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=function(Q){return+Q!=Q&&(Q=0),u.alloc(+Q)},e.INSPECT_MAX_BYTES=50;const o=2147483647;function s(Q){if(Q>o)throw new RangeError('The value "'+Q+'" is invalid for option "size"');const ne=new Uint8Array(Q);return Object.setPrototypeOf(ne,u.prototype),ne}function u(Q,ne,fe){if(typeof Q=="number"){if(typeof ne=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(Q)}return l(Q,ne,fe)}function l(Q,ne,fe){if(typeof Q=="string")return function(We,ft){if(typeof ft=="string"&&ft!==""||(ft="utf8"),!u.isEncoding(ft))throw new TypeError("Unknown encoding: "+ft);const Ht=0|m(We,ft);let Et=s(Ht);const Se=Et.write(We,ft);return Se!==Ht&&(Et=Et.slice(0,Se)),Et}(Q,ne);if(ArrayBuffer.isView(Q))return function(We){if(Qe(We,Uint8Array)){const ft=new Uint8Array(We);return v(ft.buffer,ft.byteOffset,ft.byteLength)}return d(We)}(Q);if(Q==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Q);if(Qe(Q,ArrayBuffer)||Q&&Qe(Q.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Qe(Q,SharedArrayBuffer)||Q&&Qe(Q.buffer,SharedArrayBuffer)))return v(Q,ne,fe);if(typeof Q=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Ue=Q.valueOf&&Q.valueOf();if(Ue!=null&&Ue!==Q)return u.from(Ue,ne,fe);const qe=function(We){if(u.isBuffer(We)){const ft=0|p(We.length),Ht=s(ft);return Ht.length===0||We.copy(Ht,0,0,ft),Ht}return We.length!==void 0?typeof We.length!="number"||ot(We.length)?s(0):d(We):We.type==="Buffer"&&Array.isArray(We.data)?d(We.data):void 0}(Q);if(qe)return qe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Q[Symbol.toPrimitive]=="function")return u.from(Q[Symbol.toPrimitive]("string"),ne,fe);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Q)}function c(Q){if(typeof Q!="number")throw new TypeError('"size" argument must be of type number');if(Q<0)throw new RangeError('The value "'+Q+'" is invalid for option "size"')}function f(Q){return c(Q),s(Q<0?0:0|p(Q))}function d(Q){const ne=Q.length<0?0:0|p(Q.length),fe=s(ne);for(let Ue=0;Ue<ne;Ue+=1)fe[Ue]=255&Q[Ue];return fe}function v(Q,ne,fe){if(ne<0||Q.byteLength<ne)throw new RangeError('"offset" is outside of buffer bounds');if(Q.byteLength<ne+(fe||0))throw new RangeError('"length" is outside of buffer bounds');let Ue;return Ue=ne===void 0&&fe===void 0?new Uint8Array(Q):fe===void 0?new Uint8Array(Q,ne):new Uint8Array(Q,ne,fe),Object.setPrototypeOf(Ue,u.prototype),Ue}function p(Q){if(Q>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|Q}function m(Q,ne){if(u.isBuffer(Q))return Q.length;if(ArrayBuffer.isView(Q)||Qe(Q,ArrayBuffer))return Q.byteLength;if(typeof Q!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Q);const fe=Q.length,Ue=arguments.length>2&&arguments[2]===!0;if(!Ue&&fe===0)return 0;let qe=!1;for(;;)switch(ne){case"ascii":case"latin1":case"binary":return fe;case"utf8":case"utf-8":return _e(Q).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*fe;case"hex":return fe>>>1;case"base64":return Ie(Q).length;default:if(qe)return Ue?-1:_e(Q).length;ne=(""+ne).toLowerCase(),qe=!0}}function w(Q,ne,fe){let Ue=!1;if((ne===void 0||ne<0)&&(ne=0),ne>this.length||((fe===void 0||fe>this.length)&&(fe=this.length),fe<=0)||(fe>>>=0)<=(ne>>>=0))return"";for(Q||(Q="utf8");;)switch(Q){case"hex":return K(this,ne,fe);case"utf8":case"utf-8":return F(this,ne,fe);case"ascii":return q(this,ne,fe);case"latin1":case"binary":return $(this,ne,fe);case"base64":return j(this,ne,fe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,ne,fe);default:if(Ue)throw new TypeError("Unknown encoding: "+Q);Q=(Q+"").toLowerCase(),Ue=!0}}function b(Q,ne,fe){const Ue=Q[ne];Q[ne]=Q[fe],Q[fe]=Ue}function y(Q,ne,fe,Ue,qe){if(Q.length===0)return-1;if(typeof fe=="string"?(Ue=fe,fe=0):fe>2147483647?fe=2147483647:fe<-2147483648&&(fe=-2147483648),ot(fe=+fe)&&(fe=qe?0:Q.length-1),fe<0&&(fe=Q.length+fe),fe>=Q.length){if(qe)return-1;fe=Q.length-1}else if(fe<0){if(!qe)return-1;fe=0}if(typeof ne=="string"&&(ne=u.from(ne,Ue)),u.isBuffer(ne))return ne.length===0?-1:_(Q,ne,fe,Ue,qe);if(typeof ne=="number")return ne&=255,typeof Uint8Array.prototype.indexOf=="function"?qe?Uint8Array.prototype.indexOf.call(Q,ne,fe):Uint8Array.prototype.lastIndexOf.call(Q,ne,fe):_(Q,[ne],fe,Ue,qe);throw new TypeError("val must be string, number or Buffer")}function _(Q,ne,fe,Ue,qe){let We,ft=1,Ht=Q.length,Et=ne.length;if(Ue!==void 0&&((Ue=String(Ue).toLowerCase())==="ucs2"||Ue==="ucs-2"||Ue==="utf16le"||Ue==="utf-16le")){if(Q.length<2||ne.length<2)return-1;ft=2,Ht/=2,Et/=2,fe/=2}function Se(Ke,ht){return ft===1?Ke[ht]:Ke.readUInt16BE(ht*ft)}if(qe){let Ke=-1;for(We=fe;We<Ht;We++)if(Se(Q,We)===Se(ne,Ke===-1?0:We-Ke)){if(Ke===-1&&(Ke=We),We-Ke+1===Et)return Ke*ft}else Ke!==-1&&(We-=We-Ke),Ke=-1}else for(fe+Et>Ht&&(fe=Ht-Et),We=fe;We>=0;We--){let Ke=!0;for(let ht=0;ht<Et;ht++)if(Se(Q,We+ht)!==Se(ne,ht)){Ke=!1;break}if(Ke)return We}return-1}function S(Q,ne,fe,Ue){fe=Number(fe)||0;const qe=Q.length-fe;Ue?(Ue=Number(Ue))>qe&&(Ue=qe):Ue=qe;const We=ne.length;let ft;for(Ue>We/2&&(Ue=We/2),ft=0;ft<Ue;++ft){const Ht=parseInt(ne.substr(2*ft,2),16);if(ot(Ht))return ft;Q[fe+ft]=Ht}return ft}function A(Q,ne,fe,Ue){return Ge(_e(ne,Q.length-fe),Q,fe,Ue)}function D(Q,ne,fe,Ue){return Ge(function(qe){const We=[];for(let ft=0;ft<qe.length;++ft)We.push(255&qe.charCodeAt(ft));return We}(ne),Q,fe,Ue)}function R(Q,ne,fe,Ue){return Ge(Ie(ne),Q,fe,Ue)}function k(Q,ne,fe,Ue){return Ge(function(qe,We){let ft,Ht,Et;const Se=[];for(let Ke=0;Ke<qe.length&&!((We-=2)<0);++Ke)ft=qe.charCodeAt(Ke),Ht=ft>>8,Et=ft%256,Se.push(Et),Se.push(Ht);return Se}(ne,Q.length-fe),Q,fe,Ue)}function j(Q,ne,fe){return ne===0&&fe===Q.length?n.fromByteArray(Q):n.fromByteArray(Q.slice(ne,fe))}function F(Q,ne,fe){fe=Math.min(Q.length,fe);const Ue=[];let qe=ne;for(;qe<fe;){const We=Q[qe];let ft=null,Ht=We>239?4:We>223?3:We>191?2:1;if(qe+Ht<=fe){let Et,Se,Ke,ht;switch(Ht){case 1:We<128&&(ft=We);break;case 2:Et=Q[qe+1],(192&Et)==128&&(ht=(31&We)<<6|63&Et,ht>127&&(ft=ht));break;case 3:Et=Q[qe+1],Se=Q[qe+2],(192&Et)==128&&(192&Se)==128&&(ht=(15&We)<<12|(63&Et)<<6|63&Se,ht>2047&&(ht<55296||ht>57343)&&(ft=ht));break;case 4:Et=Q[qe+1],Se=Q[qe+2],Ke=Q[qe+3],(192&Et)==128&&(192&Se)==128&&(192&Ke)==128&&(ht=(15&We)<<18|(63&Et)<<12|(63&Se)<<6|63&Ke,ht>65535&&ht<1114112&&(ft=ht))}}ft===null?(ft=65533,Ht=1):ft>65535&&(ft-=65536,Ue.push(ft>>>10&1023|55296),ft=56320|1023&ft),Ue.push(ft),qe+=Ht}return function(We){const ft=We.length;if(ft<=z)return String.fromCharCode.apply(String,We);let Ht="",Et=0;for(;Et<ft;)Ht+=String.fromCharCode.apply(String,We.slice(Et,Et+=z));return Ht}(Ue)}e.kMaxLength=o,u.TYPED_ARRAY_SUPPORT=function(){try{const Q=new Uint8Array(1),ne={foo:function(){return 42}};return Object.setPrototypeOf(ne,Uint8Array.prototype),Object.setPrototypeOf(Q,ne),Q.foo()===42}catch{return!1}}(),u.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(Q,ne,fe){return l(Q,ne,fe)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(Q,ne,fe){return function(Ue,qe,We){return c(Ue),Ue<=0?s(Ue):qe!==void 0?typeof We=="string"?s(Ue).fill(qe,We):s(Ue).fill(qe):s(Ue)}(Q,ne,fe)},u.allocUnsafe=function(Q){return f(Q)},u.allocUnsafeSlow=function(Q){return f(Q)},u.isBuffer=function(Q){return Q!=null&&Q._isBuffer===!0&&Q!==u.prototype},u.compare=function(Q,ne){if(Qe(Q,Uint8Array)&&(Q=u.from(Q,Q.offset,Q.byteLength)),Qe(ne,Uint8Array)&&(ne=u.from(ne,ne.offset,ne.byteLength)),!u.isBuffer(Q)||!u.isBuffer(ne))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Q===ne)return 0;let fe=Q.length,Ue=ne.length;for(let qe=0,We=Math.min(fe,Ue);qe<We;++qe)if(Q[qe]!==ne[qe]){fe=Q[qe],Ue=ne[qe];break}return fe<Ue?-1:Ue<fe?1:0},u.isEncoding=function(Q){switch(String(Q).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(Q,ne){if(!Array.isArray(Q))throw new TypeError('"list" argument must be an Array of Buffers');if(Q.length===0)return u.alloc(0);let fe;if(ne===void 0)for(ne=0,fe=0;fe<Q.length;++fe)ne+=Q[fe].length;const Ue=u.allocUnsafe(ne);let qe=0;for(fe=0;fe<Q.length;++fe){let We=Q[fe];if(Qe(We,Uint8Array))qe+We.length>Ue.length?(u.isBuffer(We)||(We=u.from(We)),We.copy(Ue,qe)):Uint8Array.prototype.set.call(Ue,We,qe);else{if(!u.isBuffer(We))throw new TypeError('"list" argument must be an Array of Buffers');We.copy(Ue,qe)}qe+=We.length}return Ue},u.byteLength=m,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const Q=this.length;if(Q%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let ne=0;ne<Q;ne+=2)b(this,ne,ne+1);return this},u.prototype.swap32=function(){const Q=this.length;if(Q%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let ne=0;ne<Q;ne+=4)b(this,ne,ne+3),b(this,ne+1,ne+2);return this},u.prototype.swap64=function(){const Q=this.length;if(Q%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let ne=0;ne<Q;ne+=8)b(this,ne,ne+7),b(this,ne+1,ne+6),b(this,ne+2,ne+5),b(this,ne+3,ne+4);return this},u.prototype.toString=function(){const Q=this.length;return Q===0?"":arguments.length===0?F(this,0,Q):w.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(Q){if(!u.isBuffer(Q))throw new TypeError("Argument must be a Buffer");return this===Q||u.compare(this,Q)===0},u.prototype.inspect=function(){let Q="";const ne=e.INSPECT_MAX_BYTES;return Q=this.toString("hex",0,ne).replace(/(.{2})/g,"$1 ").trim(),this.length>ne&&(Q+=" ... "),"<Buffer "+Q+">"},a&&(u.prototype[a]=u.prototype.inspect),u.prototype.compare=function(Q,ne,fe,Ue,qe){if(Qe(Q,Uint8Array)&&(Q=u.from(Q,Q.offset,Q.byteLength)),!u.isBuffer(Q))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Q);if(ne===void 0&&(ne=0),fe===void 0&&(fe=Q?Q.length:0),Ue===void 0&&(Ue=0),qe===void 0&&(qe=this.length),ne<0||fe>Q.length||Ue<0||qe>this.length)throw new RangeError("out of range index");if(Ue>=qe&&ne>=fe)return 0;if(Ue>=qe)return-1;if(ne>=fe)return 1;if(this===Q)return 0;let We=(qe>>>=0)-(Ue>>>=0),ft=(fe>>>=0)-(ne>>>=0);const Ht=Math.min(We,ft),Et=this.slice(Ue,qe),Se=Q.slice(ne,fe);for(let Ke=0;Ke<Ht;++Ke)if(Et[Ke]!==Se[Ke]){We=Et[Ke],ft=Se[Ke];break}return We<ft?-1:ft<We?1:0},u.prototype.includes=function(Q,ne,fe){return this.indexOf(Q,ne,fe)!==-1},u.prototype.indexOf=function(Q,ne,fe){return y(this,Q,ne,fe,!0)},u.prototype.lastIndexOf=function(Q,ne,fe){return y(this,Q,ne,fe,!1)},u.prototype.write=function(Q,ne,fe,Ue){if(ne===void 0)Ue="utf8",fe=this.length,ne=0;else if(fe===void 0&&typeof ne=="string")Ue=ne,fe=this.length,ne=0;else{if(!isFinite(ne))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");ne>>>=0,isFinite(fe)?(fe>>>=0,Ue===void 0&&(Ue="utf8")):(Ue=fe,fe=void 0)}const qe=this.length-ne;if((fe===void 0||fe>qe)&&(fe=qe),Q.length>0&&(fe<0||ne<0)||ne>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ue||(Ue="utf8");let We=!1;for(;;)switch(Ue){case"hex":return S(this,Q,ne,fe);case"utf8":case"utf-8":return A(this,Q,ne,fe);case"ascii":case"latin1":case"binary":return D(this,Q,ne,fe);case"base64":return R(this,Q,ne,fe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,Q,ne,fe);default:if(We)throw new TypeError("Unknown encoding: "+Ue);Ue=(""+Ue).toLowerCase(),We=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const z=4096;function q(Q,ne,fe){let Ue="";fe=Math.min(Q.length,fe);for(let qe=ne;qe<fe;++qe)Ue+=String.fromCharCode(127&Q[qe]);return Ue}function $(Q,ne,fe){let Ue="";fe=Math.min(Q.length,fe);for(let qe=ne;qe<fe;++qe)Ue+=String.fromCharCode(Q[qe]);return Ue}function K(Q,ne,fe){const Ue=Q.length;(!ne||ne<0)&&(ne=0),(!fe||fe<0||fe>Ue)&&(fe=Ue);let qe="";for(let We=ne;We<fe;++We)qe+=Tt[Q[We]];return qe}function oe(Q,ne,fe){const Ue=Q.slice(ne,fe);let qe="";for(let We=0;We<Ue.length-1;We+=2)qe+=String.fromCharCode(Ue[We]+256*Ue[We+1]);return qe}function J(Q,ne,fe){if(Q%1!=0||Q<0)throw new RangeError("offset is not uint");if(Q+ne>fe)throw new RangeError("Trying to access beyond buffer length")}function re(Q,ne,fe,Ue,qe,We){if(!u.isBuffer(Q))throw new TypeError('"buffer" argument must be a Buffer instance');if(ne>qe||ne<We)throw new RangeError('"value" argument is out of bounds');if(fe+Ue>Q.length)throw new RangeError("Index out of range")}function ae(Q,ne,fe,Ue,qe){Ce(ne,Ue,qe,Q,fe,7);let We=Number(ne&BigInt(4294967295));Q[fe++]=We,We>>=8,Q[fe++]=We,We>>=8,Q[fe++]=We,We>>=8,Q[fe++]=We;let ft=Number(ne>>BigInt(32)&BigInt(4294967295));return Q[fe++]=ft,ft>>=8,Q[fe++]=ft,ft>>=8,Q[fe++]=ft,ft>>=8,Q[fe++]=ft,fe}function ve(Q,ne,fe,Ue,qe){Ce(ne,Ue,qe,Q,fe,7);let We=Number(ne&BigInt(4294967295));Q[fe+7]=We,We>>=8,Q[fe+6]=We,We>>=8,Q[fe+5]=We,We>>=8,Q[fe+4]=We;let ft=Number(ne>>BigInt(32)&BigInt(4294967295));return Q[fe+3]=ft,ft>>=8,Q[fe+2]=ft,ft>>=8,Q[fe+1]=ft,ft>>=8,Q[fe]=ft,fe+8}function se(Q,ne,fe,Ue,qe,We){if(fe+Ue>Q.length)throw new RangeError("Index out of range");if(fe<0)throw new RangeError("Index out of range")}function ce(Q,ne,fe,Ue,qe){return ne=+ne,fe>>>=0,qe||se(Q,0,fe,4),i.write(Q,ne,fe,Ue,23,4),fe+4}function pe(Q,ne,fe,Ue,qe){return ne=+ne,fe>>>=0,qe||se(Q,0,fe,8),i.write(Q,ne,fe,Ue,52,8),fe+8}u.prototype.slice=function(Q,ne){const fe=this.length;(Q=~~Q)<0?(Q+=fe)<0&&(Q=0):Q>fe&&(Q=fe),(ne=ne===void 0?fe:~~ne)<0?(ne+=fe)<0&&(ne=0):ne>fe&&(ne=fe),ne<Q&&(ne=Q);const Ue=this.subarray(Q,ne);return Object.setPrototypeOf(Ue,u.prototype),Ue},u.prototype.readUintLE=u.prototype.readUIntLE=function(Q,ne,fe){Q>>>=0,ne>>>=0,fe||J(Q,ne,this.length);let Ue=this[Q],qe=1,We=0;for(;++We<ne&&(qe*=256);)Ue+=this[Q+We]*qe;return Ue},u.prototype.readUintBE=u.prototype.readUIntBE=function(Q,ne,fe){Q>>>=0,ne>>>=0,fe||J(Q,ne,this.length);let Ue=this[Q+--ne],qe=1;for(;ne>0&&(qe*=256);)Ue+=this[Q+--ne]*qe;return Ue},u.prototype.readUint8=u.prototype.readUInt8=function(Q,ne){return Q>>>=0,ne||J(Q,1,this.length),this[Q]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(Q,ne){return Q>>>=0,ne||J(Q,2,this.length),this[Q]|this[Q+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(Q,ne){return Q>>>=0,ne||J(Q,2,this.length),this[Q]<<8|this[Q+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(Q,ne){return Q>>>=0,ne||J(Q,4,this.length),(this[Q]|this[Q+1]<<8|this[Q+2]<<16)+16777216*this[Q+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(Q,ne){return Q>>>=0,ne||J(Q,4,this.length),16777216*this[Q]+(this[Q+1]<<16|this[Q+2]<<8|this[Q+3])},u.prototype.readBigUInt64LE=zt(function(Q){Ne(Q>>>=0,"offset");const ne=this[Q],fe=this[Q+7];ne!==void 0&&fe!==void 0||De(Q,this.length-8);const Ue=ne+256*this[++Q]+65536*this[++Q]+this[++Q]*2**24,qe=this[++Q]+256*this[++Q]+65536*this[++Q]+fe*2**24;return BigInt(Ue)+(BigInt(qe)<<BigInt(32))}),u.prototype.readBigUInt64BE=zt(function(Q){Ne(Q>>>=0,"offset");const ne=this[Q],fe=this[Q+7];ne!==void 0&&fe!==void 0||De(Q,this.length-8);const Ue=ne*2**24+65536*this[++Q]+256*this[++Q]+this[++Q],qe=this[++Q]*2**24+65536*this[++Q]+256*this[++Q]+fe;return(BigInt(Ue)<<BigInt(32))+BigInt(qe)}),u.prototype.readIntLE=function(Q,ne,fe){Q>>>=0,ne>>>=0,fe||J(Q,ne,this.length);let Ue=this[Q],qe=1,We=0;for(;++We<ne&&(qe*=256);)Ue+=this[Q+We]*qe;return qe*=128,Ue>=qe&&(Ue-=Math.pow(2,8*ne)),Ue},u.prototype.readIntBE=function(Q,ne,fe){Q>>>=0,ne>>>=0,fe||J(Q,ne,this.length);let Ue=ne,qe=1,We=this[Q+--Ue];for(;Ue>0&&(qe*=256);)We+=this[Q+--Ue]*qe;return qe*=128,We>=qe&&(We-=Math.pow(2,8*ne)),We},u.prototype.readInt8=function(Q,ne){return Q>>>=0,ne||J(Q,1,this.length),128&this[Q]?-1*(255-this[Q]+1):this[Q]},u.prototype.readInt16LE=function(Q,ne){Q>>>=0,ne||J(Q,2,this.length);const fe=this[Q]|this[Q+1]<<8;return 32768&fe?4294901760|fe:fe},u.prototype.readInt16BE=function(Q,ne){Q>>>=0,ne||J(Q,2,this.length);const fe=this[Q+1]|this[Q]<<8;return 32768&fe?4294901760|fe:fe},u.prototype.readInt32LE=function(Q,ne){return Q>>>=0,ne||J(Q,4,this.length),this[Q]|this[Q+1]<<8|this[Q+2]<<16|this[Q+3]<<24},u.prototype.readInt32BE=function(Q,ne){return Q>>>=0,ne||J(Q,4,this.length),this[Q]<<24|this[Q+1]<<16|this[Q+2]<<8|this[Q+3]},u.prototype.readBigInt64LE=zt(function(Q){Ne(Q>>>=0,"offset");const ne=this[Q],fe=this[Q+7];ne!==void 0&&fe!==void 0||De(Q,this.length-8);const Ue=this[Q+4]+256*this[Q+5]+65536*this[Q+6]+(fe<<24);return(BigInt(Ue)<<BigInt(32))+BigInt(ne+256*this[++Q]+65536*this[++Q]+this[++Q]*2**24)}),u.prototype.readBigInt64BE=zt(function(Q){Ne(Q>>>=0,"offset");const ne=this[Q],fe=this[Q+7];ne!==void 0&&fe!==void 0||De(Q,this.length-8);const Ue=(ne<<24)+65536*this[++Q]+256*this[++Q]+this[++Q];return(BigInt(Ue)<<BigInt(32))+BigInt(this[++Q]*2**24+65536*this[++Q]+256*this[++Q]+fe)}),u.prototype.readFloatLE=function(Q,ne){return Q>>>=0,ne||J(Q,4,this.length),i.read(this,Q,!0,23,4)},u.prototype.readFloatBE=function(Q,ne){return Q>>>=0,ne||J(Q,4,this.length),i.read(this,Q,!1,23,4)},u.prototype.readDoubleLE=function(Q,ne){return Q>>>=0,ne||J(Q,8,this.length),i.read(this,Q,!0,52,8)},u.prototype.readDoubleBE=function(Q,ne){return Q>>>=0,ne||J(Q,8,this.length),i.read(this,Q,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(Q,ne,fe,Ue){Q=+Q,ne>>>=0,fe>>>=0,Ue||re(this,Q,ne,fe,Math.pow(2,8*fe)-1,0);let qe=1,We=0;for(this[ne]=255&Q;++We<fe&&(qe*=256);)this[ne+We]=Q/qe&255;return ne+fe},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(Q,ne,fe,Ue){Q=+Q,ne>>>=0,fe>>>=0,Ue||re(this,Q,ne,fe,Math.pow(2,8*fe)-1,0);let qe=fe-1,We=1;for(this[ne+qe]=255&Q;--qe>=0&&(We*=256);)this[ne+qe]=Q/We&255;return ne+fe},u.prototype.writeUint8=u.prototype.writeUInt8=function(Q,ne,fe){return Q=+Q,ne>>>=0,fe||re(this,Q,ne,1,255,0),this[ne]=255&Q,ne+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(Q,ne,fe){return Q=+Q,ne>>>=0,fe||re(this,Q,ne,2,65535,0),this[ne]=255&Q,this[ne+1]=Q>>>8,ne+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(Q,ne,fe){return Q=+Q,ne>>>=0,fe||re(this,Q,ne,2,65535,0),this[ne]=Q>>>8,this[ne+1]=255&Q,ne+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(Q,ne,fe){return Q=+Q,ne>>>=0,fe||re(this,Q,ne,4,4294967295,0),this[ne+3]=Q>>>24,this[ne+2]=Q>>>16,this[ne+1]=Q>>>8,this[ne]=255&Q,ne+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(Q,ne,fe){return Q=+Q,ne>>>=0,fe||re(this,Q,ne,4,4294967295,0),this[ne]=Q>>>24,this[ne+1]=Q>>>16,this[ne+2]=Q>>>8,this[ne+3]=255&Q,ne+4},u.prototype.writeBigUInt64LE=zt(function(Q,ne=0){return ae(this,Q,ne,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=zt(function(Q,ne=0){return ve(this,Q,ne,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(Q,ne,fe,Ue){if(Q=+Q,ne>>>=0,!Ue){const Ht=Math.pow(2,8*fe-1);re(this,Q,ne,fe,Ht-1,-Ht)}let qe=0,We=1,ft=0;for(this[ne]=255&Q;++qe<fe&&(We*=256);)Q<0&&ft===0&&this[ne+qe-1]!==0&&(ft=1),this[ne+qe]=(Q/We>>0)-ft&255;return ne+fe},u.prototype.writeIntBE=function(Q,ne,fe,Ue){if(Q=+Q,ne>>>=0,!Ue){const Ht=Math.pow(2,8*fe-1);re(this,Q,ne,fe,Ht-1,-Ht)}let qe=fe-1,We=1,ft=0;for(this[ne+qe]=255&Q;--qe>=0&&(We*=256);)Q<0&&ft===0&&this[ne+qe+1]!==0&&(ft=1),this[ne+qe]=(Q/We>>0)-ft&255;return ne+fe},u.prototype.writeInt8=function(Q,ne,fe){return Q=+Q,ne>>>=0,fe||re(this,Q,ne,1,127,-128),Q<0&&(Q=255+Q+1),this[ne]=255&Q,ne+1},u.prototype.writeInt16LE=function(Q,ne,fe){return Q=+Q,ne>>>=0,fe||re(this,Q,ne,2,32767,-32768),this[ne]=255&Q,this[ne+1]=Q>>>8,ne+2},u.prototype.writeInt16BE=function(Q,ne,fe){return Q=+Q,ne>>>=0,fe||re(this,Q,ne,2,32767,-32768),this[ne]=Q>>>8,this[ne+1]=255&Q,ne+2},u.prototype.writeInt32LE=function(Q,ne,fe){return Q=+Q,ne>>>=0,fe||re(this,Q,ne,4,2147483647,-2147483648),this[ne]=255&Q,this[ne+1]=Q>>>8,this[ne+2]=Q>>>16,this[ne+3]=Q>>>24,ne+4},u.prototype.writeInt32BE=function(Q,ne,fe){return Q=+Q,ne>>>=0,fe||re(this,Q,ne,4,2147483647,-2147483648),Q<0&&(Q=4294967295+Q+1),this[ne]=Q>>>24,this[ne+1]=Q>>>16,this[ne+2]=Q>>>8,this[ne+3]=255&Q,ne+4},u.prototype.writeBigInt64LE=zt(function(Q,ne=0){return ae(this,Q,ne,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=zt(function(Q,ne=0){return ve(this,Q,ne,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeFloatLE=function(Q,ne,fe){return ce(this,Q,ne,!0,fe)},u.prototype.writeFloatBE=function(Q,ne,fe){return ce(this,Q,ne,!1,fe)},u.prototype.writeDoubleLE=function(Q,ne,fe){return pe(this,Q,ne,!0,fe)},u.prototype.writeDoubleBE=function(Q,ne,fe){return pe(this,Q,ne,!1,fe)},u.prototype.copy=function(Q,ne,fe,Ue){if(!u.isBuffer(Q))throw new TypeError("argument should be a Buffer");if(fe||(fe=0),Ue||Ue===0||(Ue=this.length),ne>=Q.length&&(ne=Q.length),ne||(ne=0),Ue>0&&Ue<fe&&(Ue=fe),Ue===fe||Q.length===0||this.length===0)return 0;if(ne<0)throw new RangeError("targetStart out of bounds");if(fe<0||fe>=this.length)throw new RangeError("Index out of range");if(Ue<0)throw new RangeError("sourceEnd out of bounds");Ue>this.length&&(Ue=this.length),Q.length-ne<Ue-fe&&(Ue=Q.length-ne+fe);const qe=Ue-fe;return this===Q&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(ne,fe,Ue):Uint8Array.prototype.set.call(Q,this.subarray(fe,Ue),ne),qe},u.prototype.fill=function(Q,ne,fe,Ue){if(typeof Q=="string"){if(typeof ne=="string"?(Ue=ne,ne=0,fe=this.length):typeof fe=="string"&&(Ue=fe,fe=this.length),Ue!==void 0&&typeof Ue!="string")throw new TypeError("encoding must be a string");if(typeof Ue=="string"&&!u.isEncoding(Ue))throw new TypeError("Unknown encoding: "+Ue);if(Q.length===1){const We=Q.charCodeAt(0);(Ue==="utf8"&&We<128||Ue==="latin1")&&(Q=We)}}else typeof Q=="number"?Q&=255:typeof Q=="boolean"&&(Q=Number(Q));if(ne<0||this.length<ne||this.length<fe)throw new RangeError("Out of range index");if(fe<=ne)return this;let qe;if(ne>>>=0,fe=fe===void 0?this.length:fe>>>0,Q||(Q=0),typeof Q=="number")for(qe=ne;qe<fe;++qe)this[qe]=Q;else{const We=u.isBuffer(Q)?Q:u.from(Q,Ue),ft=We.length;if(ft===0)throw new TypeError('The value "'+Q+'" is invalid for argument "value"');for(qe=0;qe<fe-ne;++qe)this[qe+ne]=We[qe%ft]}return this};const Pe={};function de(Q,ne,fe){Pe[Q]=class extends fe{constructor(){super(),Object.defineProperty(this,"message",{value:ne.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Q}]`,this.stack,delete this.name}get code(){return Q}set code(Ue){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ue,writable:!0})}toString(){return`${this.name} [${Q}]: ${this.message}`}}}function ge(Q){let ne="",fe=Q.length;const Ue=Q[0]==="-"?1:0;for(;fe>=Ue+4;fe-=3)ne=`_${Q.slice(fe-3,fe)}${ne}`;return`${Q.slice(0,fe)}${ne}`}function Ce(Q,ne,fe,Ue,qe,We){if(Q>fe||Q<ne){const ft=typeof ne=="bigint"?"n":"";let Ht;throw Ht=ne===0||ne===BigInt(0)?`>= 0${ft} and < 2${ft} ** ${8*(We+1)}${ft}`:`>= -(2${ft} ** ${8*(We+1)-1}${ft}) and < 2 ** ${8*(We+1)-1}${ft}`,new Pe.ERR_OUT_OF_RANGE("value",Ht,Q)}(function(ft,Ht,Et){Ne(Ht,"offset"),ft[Ht]!==void 0&&ft[Ht+Et]!==void 0||De(Ht,ft.length-(Et+1))})(Ue,qe,We)}function Ne(Q,ne){if(typeof Q!="number")throw new Pe.ERR_INVALID_ARG_TYPE(ne,"number",Q)}function De(Q,ne,fe){throw Math.floor(Q)!==Q?(Ne(Q,fe),new Pe.ERR_OUT_OF_RANGE("offset","an integer",Q)):ne<0?new Pe.ERR_BUFFER_OUT_OF_BOUNDS:new Pe.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${ne}`,Q)}de("ERR_BUFFER_OUT_OF_BOUNDS",function(Q){return Q?`${Q} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),de("ERR_INVALID_ARG_TYPE",function(Q,ne){return`The "${Q}" argument must be of type number. Received type ${typeof ne}`},TypeError),de("ERR_OUT_OF_RANGE",function(Q,ne,fe){let Ue=`The value of "${Q}" is out of range.`,qe=fe;return Number.isInteger(fe)&&Math.abs(fe)>2**32?qe=ge(String(fe)):typeof fe=="bigint"&&(qe=String(fe),(fe>BigInt(2)**BigInt(32)||fe<-(BigInt(2)**BigInt(32)))&&(qe=ge(qe)),qe+="n"),Ue+=` It must be ${ne}. Received ${qe}`,Ue},RangeError);const ke=/[^+/0-9A-Za-z-_]/g;function _e(Q,ne){let fe;ne=ne||1/0;const Ue=Q.length;let qe=null;const We=[];for(let ft=0;ft<Ue;++ft){if(fe=Q.charCodeAt(ft),fe>55295&&fe<57344){if(!qe){if(fe>56319){(ne-=3)>-1&&We.push(239,191,189);continue}if(ft+1===Ue){(ne-=3)>-1&&We.push(239,191,189);continue}qe=fe;continue}if(fe<56320){(ne-=3)>-1&&We.push(239,191,189),qe=fe;continue}fe=65536+(qe-55296<<10|fe-56320)}else qe&&(ne-=3)>-1&&We.push(239,191,189);if(qe=null,fe<128){if((ne-=1)<0)break;We.push(fe)}else if(fe<2048){if((ne-=2)<0)break;We.push(fe>>6|192,63&fe|128)}else if(fe<65536){if((ne-=3)<0)break;We.push(fe>>12|224,fe>>6&63|128,63&fe|128)}else{if(!(fe<1114112))throw new Error("Invalid code point");if((ne-=4)<0)break;We.push(fe>>18|240,fe>>12&63|128,fe>>6&63|128,63&fe|128)}}return We}function Ie(Q){return n.toByteArray(function(ne){if((ne=(ne=ne.split("=")[0]).trim().replace(ke,"")).length<2)return"";for(;ne.length%4!=0;)ne+="=";return ne}(Q))}function Ge(Q,ne,fe,Ue){let qe;for(qe=0;qe<Ue&&!(qe+fe>=ne.length||qe>=Q.length);++qe)ne[qe+fe]=Q[qe];return qe}function Qe(Q,ne){return Q instanceof ne||Q!=null&&Q.constructor!=null&&Q.constructor.name!=null&&Q.constructor.name===ne.name}function ot(Q){return Q!=Q}const Tt=function(){const Q="0123456789abcdef",ne=new Array(256);for(let fe=0;fe<16;++fe){const Ue=16*fe;for(let qe=0;qe<16;++qe)ne[Ue+qe]=Q[fe]+Q[qe]}return ne}();function zt(Q){return typeof BigInt>"u"?pt:Q}function pt(){throw new Error("BigInt not supported")}},6931:r=>{r.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},3269:(r,e,t)=>{var n=t(6931),i=t(9975),a=Object.hasOwnProperty,o=Object.create(null);for(var s in n)a.call(n,s)&&(o[n[s]]=s);var u=r.exports={to:{},get:{}};function l(f,d,v){return Math.min(Math.max(d,f),v)}function c(f){var d=Math.round(f).toString(16).toUpperCase();return d.length<2?"0"+d:d}u.get=function(f){var d,v;switch(f.substring(0,3).toLowerCase()){case"hsl":d=u.get.hsl(f),v="hsl";break;case"hwb":d=u.get.hwb(f),v="hwb";break;default:d=u.get.rgb(f),v="rgb"}return d?{model:v,value:d}:null},u.get.rgb=function(f){if(!f)return null;var d,v,p,m=[0,0,0,1];if(d=f.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(p=d[2],d=d[1],v=0;v<3;v++){var w=2*v;m[v]=parseInt(d.slice(w,w+2),16)}p&&(m[3]=parseInt(p,16)/255)}else if(d=f.match(/^#([a-f0-9]{3,4})$/i)){for(p=(d=d[1])[3],v=0;v<3;v++)m[v]=parseInt(d[v]+d[v],16);p&&(m[3]=parseInt(p+p,16)/255)}else if(d=f.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(v=0;v<3;v++)m[v]=parseInt(d[v+1],0);d[4]&&(d[5]?m[3]=.01*parseFloat(d[4]):m[3]=parseFloat(d[4]))}else{if(!(d=f.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(d=f.match(/^(\w+)$/))?d[1]==="transparent"?[0,0,0,0]:a.call(n,d[1])?((m=n[d[1]])[3]=1,m):null:null;for(v=0;v<3;v++)m[v]=Math.round(2.55*parseFloat(d[v+1]));d[4]&&(d[5]?m[3]=.01*parseFloat(d[4]):m[3]=parseFloat(d[4]))}for(v=0;v<3;v++)m[v]=l(m[v],0,255);return m[3]=l(m[3],0,1),m},u.get.hsl=function(f){if(!f)return null;var d=f.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(d){var v=parseFloat(d[4]);return[(parseFloat(d[1])%360+360)%360,l(parseFloat(d[2]),0,100),l(parseFloat(d[3]),0,100),l(isNaN(v)?1:v,0,1)]}return null},u.get.hwb=function(f){if(!f)return null;var d=f.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(d){var v=parseFloat(d[4]);return[(parseFloat(d[1])%360+360)%360,l(parseFloat(d[2]),0,100),l(parseFloat(d[3]),0,100),l(isNaN(v)?1:v,0,1)]}return null},u.to.hex=function(){var f=i(arguments);return"#"+c(f[0])+c(f[1])+c(f[2])+(f[3]<1?c(Math.round(255*f[3])):"")},u.to.rgb=function(){var f=i(arguments);return f.length<4||f[3]===1?"rgb("+Math.round(f[0])+", "+Math.round(f[1])+", "+Math.round(f[2])+")":"rgba("+Math.round(f[0])+", "+Math.round(f[1])+", "+Math.round(f[2])+", "+f[3]+")"},u.to.rgb.percent=function(){var f=i(arguments),d=Math.round(f[0]/255*100),v=Math.round(f[1]/255*100),p=Math.round(f[2]/255*100);return f.length<4||f[3]===1?"rgb("+d+"%, "+v+"%, "+p+"%)":"rgba("+d+"%, "+v+"%, "+p+"%, "+f[3]+")"},u.to.hsl=function(){var f=i(arguments);return f.length<4||f[3]===1?"hsl("+f[0]+", "+f[1]+"%, "+f[2]+"%)":"hsla("+f[0]+", "+f[1]+"%, "+f[2]+"%, "+f[3]+")"},u.to.hwb=function(){var f=i(arguments),d="";return f.length>=4&&f[3]!==1&&(d=", "+f[3]),"hwb("+f[0]+", "+f[1]+"%, "+f[2]+"%"+d+")"},u.to.keyword=function(f){return o[f.slice(0,3)]}},9792:(r,e,t)=>{var n=t(7045),i=t(4360),a=t(6804);r.exports=function(o,s){if(!s)return o;var u=Object.keys(s);if(u.length===0)return o;for(var l=n(o),c=u.length-1;c>=0;c--){var f=u[c],d=String(s[f]);d&&(d=" "+d),a(l,{type:"preprocessor",data:"#define "+f+d})}return i(l)}},6804:r=>{r.exports=function(i,a){Array.isArray(a)||(a=[a]);var o=function(l){for(var c=-1,f=0;f<l.length;f++){var d=l[f];if(d.type==="preprocessor")/^#(extension|version)/.test(d.data)&&(c=Math.max(c,f));else if(d.type==="keyword"&&d.data==="precision"){var v=n(l,f);if(v===-1)throw new Error("precision statement not followed by any semicolons!");c=Math.max(c,v)}}return c+1}(i),s=o>0?i[o-1]:null;s&&t.test(s.data)&&i.splice(o++,0,e),i.splice.apply(i,[o,0].concat(a));var u=o+a.length;return i[u]&&/[^\r\n]$/.test(i[u].data)&&i.splice(u,0,e),i};var e={data:`
`,type:"whitespace"},t=/[^\r\n]$/;function n(i,a){for(var o=a;o<i.length;o++)if(i[o].type==="operator"&&i[o].data===";")return o;return-1}},4360:r=>{r.exports=function(e){for(var t=[],n=0;n<e.length;n++)e[n].type!=="eof"&&t.push(e[n].data);return t.join("")}},3206:(r,e,t)=>{r.exports=function(R){var k,j,F,z=0,q=0,$=u,K=[],oe=[],J=1,re=0,ae=0,ve=!1,se=!1,ce="",pe=a,Pe=n;(R=R||{}).version==="300 es"&&(pe=s,Pe=o);var de={},ge={};for(z=0;z<pe.length;z++)de[pe[z]]=!0;for(z=0;z<Pe.length;z++)ge[Pe[z]]=!0;return function(pt){return oe=[],pt!==null?function(Q){var ne;for(z=0,Q.toString&&(Q=Q.toString()),ce+=Q.replace(/\r\n/g,`
`),F=ce.length;k=ce[z],z<F;){switch(ne=z,$){case c:z=_e();break;case f:case d:z=ke();break;case v:z=Ie();break;case p:z=ot();break;case A:z=Qe();break;case m:z=Tt();break;case l:z=zt();break;case _:z=De();break;case u:z=Ne()}ne!==z&&(ce[ne]===`
`?(re=0,++J):++re)}return q+=z,ce=ce.slice(z),oe}(pt):(K.length&&Ce(K.join("")),$=S,Ce("(eof)"),oe)};function Ce(pt){pt.length&&oe.push({type:D[$],data:pt,position:ae,line:J,column:re})}function Ne(){return K=K.length?[]:K,j==="/"&&k==="*"?(ae=q+z-1,$=c,j=k,z+1):j==="/"&&k==="/"?(ae=q+z-1,$=f,j=k,z+1):k==="#"?($=d,ae=q+z,z):/\s/.test(k)?($=_,ae=q+z,z):(ve=/\d/.test(k),se=/[^\w_]/.test(k),ae=q+z,$=ve?p:se?v:l,z)}function De(){return/[^\s]/g.test(k)?(Ce(K.join("")),$=u,z):(K.push(k),j=k,z+1)}function ke(){return k!=="\r"&&k!==`
`||j==="\\"?(K.push(k),j=k,z+1):(Ce(K.join("")),$=u,z)}function _e(){return k==="/"&&j==="*"?(K.push(k),Ce(K.join("")),$=u,z+1):(K.push(k),j=k,z+1)}function Ie(){if(j==="."&&/\d/.test(k))return $=m,z;if(j==="/"&&k==="*")return $=c,z;if(j==="/"&&k==="/")return $=f,z;if(k==="."&&K.length){for(;Ge(K););return $=m,z}if(k===";"||k===")"||k==="("){if(K.length)for(;Ge(K););return Ce(k),$=u,z+1}var pt=K.length===2&&k!=="=";if(/[\w_\d\s]/.test(k)||pt){for(;Ge(K););return $=u,z}return K.push(k),j=k,z+1}function Ge(pt){for(var Q,ne,fe=0;;){if(Q=i.indexOf(pt.slice(0,pt.length+fe).join("")),ne=i[Q],Q===-1){if(fe--+pt.length>0)continue;ne=pt.slice(0,1).join("")}return Ce(ne),ae+=ne.length,(K=K.slice(ne.length)).length}}function Qe(){return/[^a-fA-F0-9]/.test(k)?(Ce(K.join("")),$=u,z):(K.push(k),j=k,z+1)}function ot(){return k==="."||/[eE]/.test(k)?(K.push(k),$=m,j=k,z+1):k==="x"&&K.length===1&&K[0]==="0"?($=A,K.push(k),j=k,z+1):/[^\d]/.test(k)?(Ce(K.join("")),$=u,z):(K.push(k),j=k,z+1)}function Tt(){return k==="f"&&(K.push(k),j=k,z+=1),/[eE]/.test(k)?(K.push(k),j=k,z+1):(k!=="-"&&k!=="+"||!/[eE]/.test(j))&&/[^\d]/.test(k)?(Ce(K.join("")),$=u,z):(K.push(k),j=k,z+1)}function zt(){if(/[^\d\w_]/.test(k)){var pt=K.join("");return $=ge[pt]?y:de[pt]?b:w,Ce(K.join("")),$=u,z}return K.push(k),j=k,z+1}};var n=t(4704),i=t(2063),a=t(7192),o=t(8784),s=t(5592),u=999,l=9999,c=0,f=1,d=2,v=3,p=4,m=5,w=6,b=7,y=8,_=9,S=10,A=11,D=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},5592:(r,e,t)=>{var n=t(7192);n=n.slice().filter(function(i){return!/^(gl\_|texture)/.test(i)}),r.exports=n.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},7192:r=>{r.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},8784:(r,e,t)=>{var n=t(4704);r.exports=n.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},4704:r=>{r.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},2063:r=>{r.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},7045:(r,e,t)=>{var n=t(3206);r.exports=function(i,a){var o=n(a),s=[];return(s=s.concat(o(i))).concat(o(null))}},9318:(r,e)=>{e.read=function(t,n,i,a,o){var s,u,l=8*o-a-1,c=(1<<l)-1,f=c>>1,d=-7,v=i?o-1:0,p=i?-1:1,m=t[n+v];for(v+=p,s=m&(1<<-d)-1,m>>=-d,d+=l;d>0;s=256*s+t[n+v],v+=p,d-=8);for(u=s&(1<<-d)-1,s>>=-d,d+=a;d>0;u=256*u+t[n+v],v+=p,d-=8);if(s===0)s=1-f;else{if(s===c)return u?NaN:1/0*(m?-1:1);u+=Math.pow(2,a),s-=f}return(m?-1:1)*u*Math.pow(2,s-a)},e.write=function(t,n,i,a,o,s){var u,l,c,f=8*s-o-1,d=(1<<f)-1,v=d>>1,p=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=a?0:s-1,w=a?1:-1,b=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(l=isNaN(n)?1:0,u=d):(u=Math.floor(Math.log(n)/Math.LN2),n*(c=Math.pow(2,-u))<1&&(u--,c*=2),(n+=u+v>=1?p/c:p*Math.pow(2,1-v))*c>=2&&(u++,c/=2),u+v>=d?(l=0,u=d):u+v>=1?(l=(n*c-1)*Math.pow(2,o),u+=v):(l=n*Math.pow(2,v-1)*Math.pow(2,o),u=0));o>=8;t[i+m]=255&l,m+=w,l/=256,o-=8);for(u=u<<o|l,f+=o;f>0;t[i+m]=255&u,m+=w,u/=256,f-=8);t[i+m-w]|=128*b}},5250:function(r,e,t){var n;r=t.nmd(r),(function(){var i,a="Expected a function",o="__lodash_hash_undefined__",s="__lodash_placeholder__",u=32,l=128,c=1/0,f=9007199254740991,d=NaN,v=4294967295,p=[["ary",l],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",u],["partialRight",64],["rearg",256]],m="[object Arguments]",w="[object Array]",b="[object Boolean]",y="[object Date]",_="[object Error]",S="[object Function]",A="[object GeneratorFunction]",D="[object Map]",R="[object Number]",k="[object Object]",j="[object Promise]",F="[object RegExp]",z="[object Set]",q="[object String]",$="[object Symbol]",K="[object WeakMap]",oe="[object ArrayBuffer]",J="[object DataView]",re="[object Float32Array]",ae="[object Float64Array]",ve="[object Int8Array]",se="[object Int16Array]",ce="[object Int32Array]",pe="[object Uint8Array]",Pe="[object Uint8ClampedArray]",de="[object Uint16Array]",ge="[object Uint32Array]",Ce=/\b__p \+= '';/g,Ne=/\b(__p \+=) '' \+/g,De=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ke=/&(?:amp|lt|gt|quot|#39);/g,_e=/[&<>"']/g,Ie=RegExp(ke.source),Ge=RegExp(_e.source),Qe=/<%-([\s\S]+?)%>/g,ot=/<%([\s\S]+?)%>/g,Tt=/<%=([\s\S]+?)%>/g,zt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,pt=/^\w*$/,Q=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ne=/[\\^$.*+?()[\]{}|]/g,fe=RegExp(ne.source),Ue=/^\s+/,qe=/\s/,We=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ft=/\{\n\/\* \[wrapped with (.+)\] \*/,Ht=/,? & /,Et=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Se=/[()=,{}\[\]\/\s]/,Ke=/\\(\\)?/g,ht=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ct=/\w*$/,xt=/^[-+]0x[0-9a-f]+$/i,er=/^0b[01]+$/i,Rt=/^\[object .+?Constructor\]$/,Jt=/^0o[0-7]+$/i,mr=/^(?:0|[1-9]\d*)$/,Mr=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,cr=/($^)/,Fr=/['\n\r\u2028\u2029\\]/g,Dr="\\ud800-\\udfff",Cr="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",On="\\u2700-\\u27bf",Rn="a-z\\xdf-\\xf6\\xf8-\\xff",Ha="A-Z\\xc0-\\xd6\\xd8-\\xde",ni="\\ufe0e\\ufe0f",Vn="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ii="["+Dr+"]",ui="["+Vn+"]",ji="["+Cr+"]",la="\\d+",ca="["+On+"]",Pn="["+Rn+"]",ai="[^"+Dr+Vn+la+On+Rn+Ha+"]",fa="\\ud83c[\\udffb-\\udfff]",po="[^"+Dr+"]",Qi="(?:\\ud83c[\\udde6-\\uddff]){2}",Wr="[\\ud800-\\udbff][\\udc00-\\udfff]",zn="["+Ha+"]",Na="\\u200d",wa="(?:"+Pn+"|"+ai+")",Va="(?:"+zn+"|"+ai+")",Fs="(?:['](?:d|ll|m|re|s|t|ve))?",$a="(?:['](?:D|LL|M|RE|S|T|VE))?",ko="(?:"+ji+"|"+fa+")?",Bi="["+ni+"]?",Us=Bi+ko+"(?:"+Na+"(?:"+[po,Qi,Wr].join("|")+")"+Bi+ko+")*",lf="(?:"+[ca,Qi,Wr].join("|")+")"+Us,go="(?:"+[po+ji+"?",ji,Qi,Wr,ii].join("|")+")",Oi=RegExp("[']","g"),iu=RegExp(ji,"g"),Mo=RegExp(fa+"(?="+fa+")|"+go+Us,"g"),wi=RegExp([zn+"?"+Pn+"+"+Fs+"(?="+[ui,zn,"$"].join("|")+")",Va+"+"+$a+"(?="+[ui,zn+wa,"$"].join("|")+")",zn+"?"+wa+"+"+Fs,zn+"+"+$a,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",la,lf].join("|"),"g"),ha=RegExp("["+Na+Dr+Cr+ni+"]"),Nr=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,La=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],da=-1,Tn={};Tn[re]=Tn[ae]=Tn[ve]=Tn[se]=Tn[ce]=Tn[pe]=Tn[Pe]=Tn[de]=Tn[ge]=!0,Tn[m]=Tn[w]=Tn[oe]=Tn[b]=Tn[J]=Tn[y]=Tn[_]=Tn[S]=Tn[D]=Tn[R]=Tn[k]=Tn[F]=Tn[z]=Tn[q]=Tn[K]=!1;var gn={};gn[m]=gn[w]=gn[oe]=gn[J]=gn[b]=gn[y]=gn[re]=gn[ae]=gn[ve]=gn[se]=gn[ce]=gn[D]=gn[R]=gn[k]=gn[F]=gn[z]=gn[q]=gn[$]=gn[pe]=gn[Pe]=gn[de]=gn[ge]=!0,gn[_]=gn[S]=gn[K]=!1;var Ji={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},fl=parseFloat,Gf=parseInt,gc=typeof t.g=="object"&&t.g&&t.g.Object===Object&&t.g,Th=typeof self=="object"&&self&&self.Object===Object&&self,Xn=gc||Th||Function("return this")(),yc=e&&!e.nodeType&&e,Wo=yc&&r&&!r.nodeType&&r,hl=Wo&&Wo.exports===yc,cf=hl&&gc.process,Ta=function(){try{return Wo&&Wo.require&&Wo.require("util").types||cf&&cf.binding&&cf.binding("util")}catch{}}(),dl=Ta&&Ta.isArrayBuffer,Wa=Ta&&Ta.isDate,ff=Ta&&Ta.isMap,Hf=Ta&&Ta.isRegExp,hn=Ta&&Ta.isSet,ro=Ta&&Ta.isTypedArray;function No(Ct,Lt,Nt){switch(Nt.length){case 0:return Ct.call(Lt);case 1:return Ct.call(Lt,Nt[0]);case 2:return Ct.call(Lt,Nt[0],Nt[1]);case 3:return Ct.call(Lt,Nt[0],Nt[1],Nt[2])}return Ct.apply(Lt,Nt)}function Vf(Ct,Lt,Nt,vr){for(var Pr=-1,Ln=Ct==null?0:Ct.length;++Pr<Ln;){var Ya=Ct[Pr];Lt(vr,Ya,Nt(Ya),Ct)}return vr}function fr(Ct,Lt){for(var Nt=-1,vr=Ct==null?0:Ct.length;++Nt<vr&&Lt(Ct[Nt],Nt,Ct)!==!1;);return Ct}function mc(Ct,Lt){for(var Nt=Ct==null?0:Ct.length;Nt--&&Lt(Ct[Nt],Nt,Ct)!==!1;);return Ct}function $f(Ct,Lt){for(var Nt=-1,vr=Ct==null?0:Ct.length;++Nt<vr;)if(!Lt(Ct[Nt],Nt,Ct))return!1;return!0}function au(Ct,Lt){for(var Nt=-1,vr=Ct==null?0:Ct.length,Pr=0,Ln=[];++Nt<vr;){var Ya=Ct[Nt];Lt(Ya,Nt,Ct)&&(Ln[Pr++]=Ya)}return Ln}function Fl(Ct,Lt){return!(Ct==null||!Ct.length)&&Ul(Ct,Lt,0)>-1}function ps(Ct,Lt,Nt){for(var vr=-1,Pr=Ct==null?0:Ct.length;++vr<Pr;)if(Nt(Lt,Ct[vr]))return!0;return!1}function kn(Ct,Lt){for(var Nt=-1,vr=Ct==null?0:Ct.length,Pr=Array(vr);++Nt<vr;)Pr[Nt]=Lt(Ct[Nt],Nt,Ct);return Pr}function Yo(Ct,Lt){for(var Nt=-1,vr=Lt.length,Pr=Ct.length;++Nt<vr;)Ct[Pr+Nt]=Lt[Nt];return Ct}function bc(Ct,Lt,Nt,vr){var Pr=-1,Ln=Ct==null?0:Ct.length;for(vr&&Ln&&(Nt=Ct[++Pr]);++Pr<Ln;)Nt=Lt(Nt,Ct[Pr],Pr,Ct);return Nt}function Ch(Ct,Lt,Nt,vr){var Pr=Ct==null?0:Ct.length;for(vr&&Pr&&(Nt=Ct[--Pr]);Pr--;)Nt=Lt(Nt,Ct[Pr],Pr,Ct);return Nt}function vl(Ct,Lt){for(var Nt=-1,vr=Ct==null?0:Ct.length;++Nt<vr;)if(Lt(Ct[Nt],Nt,Ct))return!0;return!1}var _c=zl("length");function Ah(Ct,Lt,Nt){var vr;return Nt(Ct,function(Pr,Ln,Ya){if(Lt(Pr,Ln,Ya))return vr=Ln,!1}),vr}function wc(Ct,Lt,Nt,vr){for(var Pr=Ct.length,Ln=Nt+(vr?1:-1);vr?Ln--:++Ln<Pr;)if(Lt(Ct[Ln],Ln,Ct))return Ln;return-1}function Ul(Ct,Lt,Nt){return Lt==Lt?function(vr,Pr,Ln){for(var Ya=Ln-1,ao=vr.length;++Ya<ao;)if(vr[Ya]===Pr)return Ya;return-1}(Ct,Lt,Nt):wc(Ct,no,Nt)}function zs(Ct,Lt,Nt,vr){for(var Pr=Nt-1,Ln=Ct.length;++Pr<Ln;)if(vr(Ct[Pr],Lt))return Pr;return-1}function no(Ct){return Ct!=Ct}function Ec(Ct,Lt){var Nt=Ct==null?0:Ct.length;return Nt?ku(Ct,Lt)/Nt:d}function zl(Ct){return function(Lt){return Lt==null?i:Lt[Ct]}}function ou(Ct){return function(Lt){return Ct==null?i:Ct[Lt]}}function xc(Ct,Lt,Nt,vr,Pr){return Pr(Ct,function(Ln,Ya,ao){Nt=vr?(vr=!1,Ln):Lt(Nt,Ln,Ya,ao)}),Nt}function ku(Ct,Lt){for(var Nt,vr=-1,Pr=Ct.length;++vr<Pr;){var Ln=Lt(Ct[vr]);Ln!==i&&(Nt=Nt===i?Ln:Nt+Ln)}return Nt}function hf(Ct,Lt){for(var Nt=-1,vr=Array(Ct);++Nt<Ct;)vr[Nt]=Lt(Nt);return vr}function $n(Ct){return Ct&&Ct.slice(0,Mu(Ct)+1).replace(Ue,"")}function tn(Ct){return function(Lt){return Ct(Lt)}}function Wf(Ct,Lt){return kn(Lt,function(Nt){return Ct[Nt]})}function Ca(Ct,Lt){return Ct.has(Lt)}function pl(Ct,Lt){for(var Nt=-1,vr=Ct.length;++Nt<vr&&Ul(Lt,Ct[Nt],0)>-1;);return Nt}function su(Ct,Lt){for(var Nt=Ct.length;Nt--&&Ul(Lt,Ct[Nt],0)>-1;);return Nt}var gs=ou({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),bv=ou({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Yf(Ct){return"\\"+Ji[Ct]}function gl(Ct){return ha.test(Ct)}function li(Ct){var Lt=-1,Nt=Array(Ct.size);return Ct.forEach(function(vr,Pr){Nt[++Lt]=[Pr,vr]}),Nt}function Sc(Ct,Lt){return function(Nt){return Ct(Lt(Nt))}}function yo(Ct,Lt){for(var Nt=-1,vr=Ct.length,Pr=0,Ln=[];++Nt<vr;){var Ya=Ct[Nt];Ya!==Lt&&Ya!==s||(Ct[Nt]=s,Ln[Pr++]=Nt)}return Ln}function Oc(Ct){var Lt=-1,Nt=Array(Ct.size);return Ct.forEach(function(vr){Nt[++Lt]=vr}),Nt}function Rh(Ct){var Lt=-1,Nt=Array(Ct.size);return Ct.forEach(function(vr){Nt[++Lt]=[vr,vr]}),Nt}function io(Ct){return gl(Ct)?function(Lt){for(var Nt=Mo.lastIndex=0;Mo.test(Lt);)++Nt;return Nt}(Ct):_c(Ct)}function Fi(Ct){return gl(Ct)?function(Lt){return Lt.match(Mo)||[]}(Ct):function(Lt){return Lt.split("")}(Ct)}function Mu(Ct){for(var Lt=Ct.length;Lt--&&qe.test(Ct.charAt(Lt)););return Lt}var Nu=ou({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),uu=function Ct(Lt){var Nt,vr=(Lt=Lt==null?Xn:uu.defaults(Xn.Object(),Lt,uu.pick(Xn,La))).Array,Pr=Lt.Date,Ln=Lt.Error,Ya=Lt.Function,ao=Lt.Math,ci=Lt.Object,Sd=Lt.RegExp,ea=Lt.String,Ea=Lt.TypeError,Ph=vr.prototype,Zp=Ya.prototype,df=ci.prototype,Xf=Lt["__core-js_shared__"],vf=Zp.toString,jn=df.hasOwnProperty,Dh=0,Tc=(Nt=/[^.]+$/.exec(Xf&&Xf.keys&&Xf.keys.IE_PROTO||""))?"Symbol(src)_1."+Nt:"",ql=df.toString,Ih=vf.call(ci),Lu=Xn._,Od=Sd("^"+vf.call(jn).replace(ne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),yl=hl?Lt.Buffer:i,ju=Lt.Symbol,Kf=Lt.Uint8Array,cp=yl?yl.allocUnsafe:i,Cc=Sc(ci.getPrototypeOf,ci),Gl=ci.create,fp=df.propertyIsEnumerable,Td=Ph.splice,Xo=ju?ju.isConcatSpreadable:i,Ac=ju?ju.iterator:i,Bu=ju?ju.toStringTag:i,Rc=function(){try{var I=Uc(ci,"defineProperty");return I({},"",{}),I}catch{}}(),kh=Lt.clearTimeout!==Xn.clearTimeout&&Lt.clearTimeout,Qp=Pr&&Pr.now!==Xn.Date.now&&Pr.now,mo=Lt.setTimeout!==Xn.setTimeout&&Lt.setTimeout,Cd=ao.ceil,Ad=ao.floor,Zf=ci.getOwnPropertySymbols,Hl=yl?yl.isBuffer:i,_v=Lt.isFinite,Ko=Ph.join,bo=Sc(ci.keys,ci),Ti=ao.max,ta=ao.min,wv=Pr.now,Wg=Lt.parseInt,Jp=ao.random,qs=Ph.reverse,Er=Uc(Lt,"DataView"),_o=Uc(Lt,"Map"),ra=Uc(Lt,"Promise"),pf=Uc(Lt,"Set"),Qf=Uc(Lt,"WeakMap"),gf=Uc(ci,"create"),Rd=Qf&&new Qf,Fu={},Pc=Jl(Er),ut=Jl(_o),It=Jl(ra),mt=Jl(pf),yr=Jl(Qf),Ir=ju?ju.prototype:i,_n=Ir?Ir.valueOf:i,xa=Ir?Ir.toString:i;function xe(I){if(Ri(I)&&!Xr(I)&&!(I instanceof yn)){if(I instanceof na)return I;if(jn.call(I,"__wrapped__"))return Rv(I)}return new na(I)}var ml=function(){function I(){}return function(U){if(!Ai(U))return{};if(Gl)return Gl(U);I.prototype=U;var Y=new I;return I.prototype=i,Y}}();function Pd(){}function na(I,U){this.__wrapped__=I,this.__actions__=[],this.__chain__=!!U,this.__index__=0,this.__values__=i}function yn(I){this.__wrapped__=I,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=v,this.__views__=[]}function Dc(I){var U=-1,Y=I==null?0:I.length;for(this.clear();++U<Y;){var le=I[U];this.set(le[0],le[1])}}function Gs(I){var U=-1,Y=I==null?0:I.length;for(this.clear();++U<Y;){var le=I[U];this.set(le[0],le[1])}}function oo(I){var U=-1,Y=I==null?0:I.length;for(this.clear();++U<Y;){var le=I[U];this.set(le[0],le[1])}}function Uu(I){var U=-1,Y=I==null?0:I.length;for(this.__data__=new oo;++U<Y;)this.add(I[U])}function on(I){var U=this.__data__=new Gs(I);this.size=U.size}function zu(I,U){var Y=Xr(I),le=!Y&&os(I),me=!Y&&!le&&Ua(I),Le=!Y&&!le&&!me&&el(I),Ze=Y||le||me||Le,nt=Ze?hf(I.length,ea):[],Ot=nt.length;for(var qt in I)!U&&!jn.call(I,qt)||Ze&&(qt=="length"||me&&(qt=="offset"||qt=="parent")||Le&&(qt=="buffer"||qt=="byteLength"||qt=="byteOffset")||Ra(qt,Ot))||nt.push(qt);return nt}function Dd(I){var U=I.length;return U?I[ws(0,U-1)]:i}function va(I,U){return qh(uo(I),ms(U,0,I.length))}function Hs(I){return qh(uo(I))}function yf(I,U,Y){(Y!==i&&!ia(I[U],Y)||Y===i&&!(U in I))&&ys(I,U,Y)}function Jf(I,U,Y){var le=I[U];jn.call(I,U)&&ia(le,Y)&&(Y!==i||U in I)||ys(I,U,Y)}function bl(I,U){for(var Y=I.length;Y--;)if(ia(I[Y][0],U))return Y;return-1}function ln(I,U,Y,le){return Aa(I,function(me,Le,Ze){U(le,me,Y(me),Ze)}),le}function Ic(I,U){return I&&Wu(U,Pi(U),I)}function ys(I,U,Y){U=="__proto__"&&Rc?Rc(I,U,{configurable:!0,enumerable:!0,value:Y,writable:!0}):I[U]=Y}function mf(I,U){for(var Y=-1,le=U.length,me=vr(le),Le=I==null;++Y<le;)me[Y]=Le?i:Bv(I,U[Y]);return me}function ms(I,U,Y){return I==I&&(Y!==i&&(I=I<=Y?I:Y),U!==i&&(I=I>=U?I:U)),I}function so(I,U,Y,le,me,Le){var Ze,nt=1&U,Ot=2&U,qt=4&U;if(Y&&(Ze=me?Y(I,le,me,Le):Y(I)),Ze!==i)return Ze;if(!Ai(I))return I;var Gt=Xr(I);if(Gt){if(Ze=function(Pt){var Bt=Pt.length,_r=new Pt.constructor(Bt);return Bt&&typeof Pt[0]=="string"&&jn.call(Pt,"index")&&(_r.index=Pt.index,_r.input=Pt.input),_r}(I),!nt)return uo(I,Ze)}else{var Xt=hi(I),tr=Xt==S||Xt==A;if(Ua(I))return Ef(I,nt);if(Xt==k||Xt==m||tr&&!me){if(Ze=Ot||tr?{}:Gi(I),!nt)return Ot?function(Pt,Bt){return Wu(Pt,zc(Pt),Bt)}(I,function(Pt,Bt){return Pt&&Wu(Bt,dn(Bt),Pt)}(Ze,I)):function(Pt,Bt){return Wu(Pt,Fd(Pt),Bt)}(I,Ic(Ze,I))}else{if(!gn[Xt])return me?I:{};Ze=function(Pt,Bt,_r){var ar,zr=Pt.constructor;switch(Bt){case oe:return Nc(Pt);case b:case y:return new zr(+Pt);case J:return function(Vr,un){var hr=un?Nc(Vr.buffer):Vr.buffer;return new Vr.constructor(hr,Vr.byteOffset,Vr.byteLength)}(Pt,_r);case re:case ae:case ve:case se:case ce:case pe:case Pe:case de:case ge:return nh(Pt,_r);case D:return new zr;case R:case q:return new zr(Pt);case F:return function(Vr){var un=new Vr.constructor(Vr.source,ct.exec(Vr));return un.lastIndex=Vr.lastIndex,un}(Pt);case z:return new zr;case $:return ar=Pt,_n?ci(_n.call(ar)):{}}}(I,Xt,nt)}}Le||(Le=new on);var ir=Le.get(I);if(ir)return ir;Le.set(I,Ze),di(I)?I.forEach(function(Pt){Ze.add(so(Pt,U,Y,Pt,I,Le))}):Yd(I)&&I.forEach(function(Pt,Bt){Ze.set(Bt,so(Pt,U,Y,Bt,I,Le))});var nr=Gt?i:(qt?Ot?ns:Xl:Ot?dn:Pi)(I);return fr(nr||I,function(Pt,Bt){nr&&(Pt=I[Bt=Pt]),Jf(Ze,Bt,so(Pt,U,Y,Bt,I,Le))}),Ze}function eh(I,U,Y){var le=Y.length;if(I==null)return!le;for(I=ci(I);le--;){var me=Y[le],Le=U[me],Ze=I[me];if(Ze===i&&!(me in I)||!Le(Ze))return!1}return!0}function Lo(I,U,Y){if(typeof I!="function")throw new Ea(a);return Sf(function(){I.apply(i,Y)},U)}function qu(I,U,Y,le){var me=-1,Le=Fl,Ze=!0,nt=I.length,Ot=[],qt=U.length;if(!nt)return Ot;Y&&(U=kn(U,tn(Y))),le?(Le=ps,Ze=!1):U.length>=200&&(Le=Ca,Ze=!1,U=new Uu(U));e:for(;++me<nt;){var Gt=I[me],Xt=Y==null?Gt:Y(Gt);if(Gt=le||Gt!==0?Gt:0,Ze&&Xt==Xt){for(var tr=qt;tr--;)if(U[tr]===Xt)continue e;Ot.push(Gt)}else Le(U,Xt,le)||Ot.push(Gt)}return Ot}xe.templateSettings={escape:Qe,evaluate:ot,interpolate:Tt,variable:"",imports:{_:xe}},xe.prototype=Pd.prototype,xe.prototype.constructor=xe,na.prototype=ml(Pd.prototype),na.prototype.constructor=na,yn.prototype=ml(Pd.prototype),yn.prototype.constructor=yn,Dc.prototype.clear=function(){this.__data__=gf?gf(null):{},this.size=0},Dc.prototype.delete=function(I){var U=this.has(I)&&delete this.__data__[I];return this.size-=U?1:0,U},Dc.prototype.get=function(I){var U=this.__data__;if(gf){var Y=U[I];return Y===o?i:Y}return jn.call(U,I)?U[I]:i},Dc.prototype.has=function(I){var U=this.__data__;return gf?U[I]!==i:jn.call(U,I)},Dc.prototype.set=function(I,U){var Y=this.__data__;return this.size+=this.has(I)?0:1,Y[I]=gf&&U===i?o:U,this},Gs.prototype.clear=function(){this.__data__=[],this.size=0},Gs.prototype.delete=function(I){var U=this.__data__,Y=bl(U,I);return!(Y<0||(Y==U.length-1?U.pop():Td.call(U,Y,1),--this.size,0))},Gs.prototype.get=function(I){var U=this.__data__,Y=bl(U,I);return Y<0?i:U[Y][1]},Gs.prototype.has=function(I){return bl(this.__data__,I)>-1},Gs.prototype.set=function(I,U){var Y=this.__data__,le=bl(Y,I);return le<0?(++this.size,Y.push([I,U])):Y[le][1]=U,this},oo.prototype.clear=function(){this.size=0,this.__data__={hash:new Dc,map:new(_o||Gs),string:new Dc}},oo.prototype.delete=function(I){var U=Zl(this,I).delete(I);return this.size-=U?1:0,U},oo.prototype.get=function(I){return Zl(this,I).get(I)},oo.prototype.has=function(I){return Zl(this,I).has(I)},oo.prototype.set=function(I,U){var Y=Zl(this,I),le=Y.size;return Y.set(I,U),this.size+=Y.size==le?0:1,this},Uu.prototype.add=Uu.prototype.push=function(I){return this.__data__.set(I,o),this},Uu.prototype.has=function(I){return this.__data__.has(I)},on.prototype.clear=function(){this.__data__=new Gs,this.size=0},on.prototype.delete=function(I){var U=this.__data__,Y=U.delete(I);return this.size=U.size,Y},on.prototype.get=function(I){return this.__data__.get(I)},on.prototype.has=function(I){return this.__data__.has(I)},on.prototype.set=function(I,U){var Y=this.__data__;if(Y instanceof Gs){var le=Y.__data__;if(!_o||le.length<199)return le.push([I,U]),this.size=++Y.size,this;Y=this.__data__=new oo(le)}return Y.set(I,U),this.size=Y.size,this};var Aa=Yu(lu),Zo=Yu(bf,!0);function Id(I,U){var Y=!0;return Aa(I,function(le,me,Le){return Y=!!U(le,me,Le)}),Y}function _l(I,U,Y){for(var le=-1,me=I.length;++le<me;){var Le=I[le],Ze=U(Le);if(Ze!=null&&(nt===i?Ze==Ze&&!us(Ze):Y(Ze,nt)))var nt=Ze,Ot=Le}return Ot}function kd(I,U){var Y=[];return Aa(I,function(le,me,Le){U(le,me,Le)&&Y.push(le)}),Y}function Ci(I,U,Y,le,me){var Le=-1,Ze=I.length;for(Y||(Y=qc),me||(me=[]);++Le<Ze;){var nt=I[Le];U>0&&Y(nt)?U>1?Ci(nt,U-1,Y,le,me):Yo(me,nt):le||(me[me.length]=nt)}return me}var Gu=xf(),kc=xf(!0);function lu(I,U){return I&&Gu(I,U,Pi)}function bf(I,U){return I&&kc(I,U,Pi)}function Qo(I,U){return au(U,function(Y){return yu(I[Y])})}function Xa(I,U){for(var Y=0,le=(U=wo(U,I)).length;I!=null&&Y<le;)I=I[Pa(U[Y++])];return Y&&Y==le?I:i}function Ui(I,U,Y){var le=U(I);return Xr(I)?le:Yo(le,Y(I))}function wn(I){return I==null?I===i?"[object Undefined]":"[object Null]":Bu&&Bu in ci(I)?function(U){var Y=jn.call(U,Bu),le=U[Bu];try{U[Bu]=i;var me=!0}catch{}var Le=ql.call(U);return me&&(Y?U[Bu]=le:delete U[Bu]),Le}(I):function(U){return ql.call(U)}(I)}function Hu(I,U){return I>U}function cu(I,U){return I!=null&&jn.call(I,U)}function Md(I,U){return I!=null&&U in ci(I)}function Vl(I,U,Y){for(var le=Y?ps:Fl,me=I[0].length,Le=I.length,Ze=Le,nt=vr(Le),Ot=1/0,qt=[];Ze--;){var Gt=I[Ze];Ze&&U&&(Gt=kn(Gt,tn(U))),Ot=ta(Gt.length,Ot),nt[Ze]=!Y&&(U||me>=120&&Gt.length>=120)?new Uu(Ze&&Gt):i}Gt=I[0];var Xt=-1,tr=nt[0];e:for(;++Xt<me&&qt.length<Ot;){var ir=Gt[Xt],nr=U?U(ir):ir;if(ir=Y||ir!==0?ir:0,!(tr?Ca(tr,nr):le(qt,nr,Y))){for(Ze=Le;--Ze;){var Pt=nt[Ze];if(!(Pt?Ca(Pt,nr):le(I[Ze],nr,Y)))continue e}tr&&tr.push(nr),qt.push(ir)}}return qt}function wl(I,U,Y){var le=(I=vp(I,U=wo(U,I)))==null?I:I[Pa(pa(U))];return le==null?i:No(le,I,Y)}function zi(I){return Ri(I)&&wn(I)==m}function fi(I,U,Y,le,me){return I===U||(I==null||U==null||!Ri(I)&&!Ri(U)?I!=I&&U!=U:function(Le,Ze,nt,Ot,qt,Gt){var Xt=Xr(Le),tr=Xr(Ze),ir=Xt?w:hi(Le),nr=tr?w:hi(Ze),Pt=(ir=ir==m?k:ir)==k,Bt=(nr=nr==m?k:nr)==k,_r=ir==nr;if(_r&&Ua(Le)){if(!Ua(Ze))return!1;Xt=!0,Pt=!1}if(_r&&!Pt)return Gt||(Gt=new on),Xt||el(Le)?Ka(Le,Ze,nt,Ot,qt,Gt):function(hr,Sr,Di,Ii,Vi,Jn,Ja){switch(Di){case J:if(hr.byteLength!=Sr.byteLength||hr.byteOffset!=Sr.byteOffset)return!1;hr=hr.buffer,Sr=Sr.buffer;case oe:return!(hr.byteLength!=Sr.byteLength||!Jn(new Kf(hr),new Kf(Sr)));case b:case y:case R:return ia(+hr,+Sr);case _:return hr.name==Sr.name&&hr.message==Sr.message;case F:case q:return hr==Sr+"";case D:var Oa=li;case z:var nl=1&Ii;if(Oa||(Oa=Oc),hr.size!=Sr.size&&!nl)return!1;var _u=Ja.get(hr);if(_u)return _u==Sr;Ii|=2,Ja.set(hr,Sr);var Zs=Ka(Oa(hr),Oa(Sr),Ii,Vi,Jn,Ja);return Ja.delete(hr),Zs;case $:if(_n)return _n.call(hr)==_n.call(Sr)}return!1}(Le,Ze,ir,nt,Ot,qt,Gt);if(!(1&nt)){var ar=Pt&&jn.call(Le,"__wrapped__"),zr=Bt&&jn.call(Ze,"__wrapped__");if(ar||zr){var Vr=ar?Le.value():Le,un=zr?Ze.value():Ze;return Gt||(Gt=new on),qt(Vr,un,nt,Ot,Gt)}}return!!_r&&(Gt||(Gt=new on),function(hr,Sr,Di,Ii,Vi,Jn){var Ja=1&Di,Oa=Xl(hr),nl=Oa.length;if(nl!=Xl(Sr).length&&!Ja)return!1;for(var _u=nl;_u--;){var Zs=Oa[_u];if(!(Ja?Zs in Sr:jn.call(Sr,Zs)))return!1}var wu=Jn.get(hr),ac=Jn.get(Sr);if(wu&&ac)return wu==Sr&&ac==hr;var za=!0;Jn.set(hr,Sr),Jn.set(Sr,hr);for(var oc=Ja;++_u<nl;){var Ps=hr[Zs=Oa[_u]],kl=Sr[Zs];if(Ii)var tv=Ja?Ii(kl,Ps,Zs,Sr,hr,Jn):Ii(Ps,kl,Zs,hr,Sr,Jn);if(!(tv===i?Ps===kl||Vi(Ps,kl,Di,Ii,Jn):tv)){za=!1;break}oc||(oc=Zs=="constructor")}if(za&&!oc){var vh=hr.constructor,ad=Sr.constructor;vh==ad||!("constructor"in hr)||!("constructor"in Sr)||typeof vh=="function"&&vh instanceof vh&&typeof ad=="function"&&ad instanceof ad||(za=!1)}return Jn.delete(hr),Jn.delete(Sr),za}(Le,Ze,nt,Ot,qt,Gt))}(I,U,Y,le,fi,me))}function mn(I,U,Y,le){var me=Y.length,Le=me,Ze=!le;if(I==null)return!Le;for(I=ci(I);me--;){var nt=Y[me];if(Ze&&nt[2]?nt[1]!==I[nt[0]]:!(nt[0]in I))return!1}for(;++me<Le;){var Ot=(nt=Y[me])[0],qt=I[Ot],Gt=nt[1];if(Ze&&nt[2]){if(qt===i&&!(Ot in I))return!1}else{var Xt=new on;if(le)var tr=le(qt,Gt,Ot,I,U,Xt);if(!(tr===i?fi(Gt,qt,3,le,Xt):tr))return!1}}return!0}function Vu(I){return!(!Ai(I)||(U=I,Tc&&Tc in U))&&(yu(I)?Od:Rt).test(Jl(I));var U}function Jo(I){return typeof I=="function"?I:I==null?Ks:typeof I=="object"?Xr(I)?$l(I[0],I[1]):Ev(I):ev(I)}function El(I){if(!Ol(I))return bo(I);var U=[];for(var Y in ci(I))jn.call(I,Y)&&Y!="constructor"&&U.push(Y);return U}function es(I,U){return I<U}function hp(I,U){var Y=-1,le=ss(I)?vr(I.length):[];return Aa(I,function(me,Le,Ze){le[++Y]=U(me,Le,Ze)}),le}function Ev(I){var U=Fh(I);return U.length==1&&U[0][2]?pu(U[0][0],U[0][1]):function(Y){return Y===I||mn(Y,I,U)}}function $l(I,U){return Fa(I)&&Cv(U)?pu(Pa(I),U):function(Y){var le=Bv(Y,I);return le===i&&le===U?Rl(Y,I):fi(U,le,3)}}function _f(I,U,Y,le,me){I!==U&&Gu(U,function(Le,Ze){if(me||(me=new on),Ai(Le))(function(Ot,qt,Gt,Xt,tr,ir,nr){var Pt=Ql(Ot,Gt),Bt=Ql(qt,Gt),_r=nr.get(Bt);if(_r)yf(Ot,Gt,_r);else{var ar=ir?ir(Pt,Bt,Gt+"",Ot,qt,nr):i,zr=ar===i;if(zr){var Vr=Xr(Bt),un=!Vr&&Ua(Bt),hr=!Vr&&!un&&el(Bt);ar=Bt,Vr||un||hr?Xr(Pt)?ar=Pt:Kn(Pt)?ar=uo(Pt):un?(zr=!1,ar=Ef(Bt,!0)):hr?(zr=!1,ar=nh(Bt,!0)):ar=[]:sh(Bt)||os(Bt)?(ar=Pt,os(Pt)?ar=ed(Pt):Ai(Pt)&&!yu(Pt)||(ar=Gi(Bt))):zr=!1}zr&&(nr.set(Bt,ar),tr(ar,Bt,Xt,ir,nr),nr.delete(Bt)),yf(Ot,Gt,ar)}})(I,U,Ze,Y,_f,le,me);else{var nt=le?le(Ql(I,Ze),Le,Ze+"",I,U,me):i;nt===i&&(nt=Le),yf(I,Ze,nt)}},dn)}function th(I,U){var Y=I.length;if(Y)return Ra(U+=U<0?Y:0,Y)?I[U]:i}function Wl(I,U,Y){U=U.length?kn(U,function(Le){return Xr(Le)?function(Ze){return Xa(Ze,Le.length===1?Le[0]:Le)}:Le}):[Ks];var le=-1;U=kn(U,tn(Ur()));var me=hp(I,function(Le,Ze,nt){var Ot=kn(U,function(qt){return qt(Le)});return{criteria:Ot,index:++le,value:Le}});return function(Le,Ze){var nt=Le.length;for(Le.sort(function(Ot,qt){return function(Gt,Xt,tr){for(var ir=-1,nr=Gt.criteria,Pt=Xt.criteria,Bt=nr.length,_r=tr.length;++ir<Bt;){var ar=dp(nr[ir],Pt[ir]);if(ar)return ir>=_r?ar:ar*(tr[ir]=="desc"?-1:1)}return Gt.index-Xt.index}(Ot,qt,Y)});nt--;)Le[nt]=Le[nt].value;return Le}(me)}function bs(I,U,Y){for(var le=-1,me=U.length,Le={};++le<me;){var Ze=U[le],nt=Xa(I,Ze);Y(nt,Ze)&&Yl(Le,wo(Ze,I),nt)}return Le}function _s(I,U,Y,le){var me=le?zs:Ul,Le=-1,Ze=U.length,nt=I;for(I===U&&(U=uo(U)),Y&&(nt=kn(I,tn(Y)));++Le<Ze;)for(var Ot=0,qt=U[Le],Gt=Y?Y(qt):qt;(Ot=me(nt,Gt,Ot,le))>-1;)nt!==I&&Td.call(nt,Ot,1),Td.call(I,Ot,1);return I}function Re(I,U){for(var Y=I?U.length:0,le=Y-1;Y--;){var me=U[Y];if(Y==le||me!==Le){var Le=me;Ra(me)?Td.call(I,me,1):Mh(I,me)}}return I}function ws(I,U){return I+Ad(Jp()*(U-I+1))}function ts(I,U){var Y="";if(!I||U<1||U>f)return Y;do U%2&&(Y+=I),(U=Ad(U/2))&&(I+=I);while(U);return Y}function Lr(I,U){return zh(Uh(I,U,Ks),I+"")}function sn(I){return Dd(ls(I))}function Mc(I,U){var Y=ls(I);return qh(Y,ms(U,0,Y.length))}function Yl(I,U,Y,le){if(!Ai(I))return I;for(var me=-1,Le=(U=wo(U,I)).length,Ze=Le-1,nt=I;nt!=null&&++me<Le;){var Ot=Pa(U[me]),qt=Y;if(Ot==="__proto__"||Ot==="constructor"||Ot==="prototype")return I;if(me!=Ze){var Gt=nt[Ot];(qt=le?le(Gt,Ot,nt):i)===i&&(qt=Ai(Gt)?Gt:Ra(U[me+1])?[]:{})}Jf(nt,Ot,qt),nt=nt[Ot]}return I}var xl=Rd?function(I,U){return Rd.set(I,U),I}:Ks,qi=Rc?function(I,U){return Rc(I,"toString",{configurable:!0,enumerable:!1,value:aa(U),writable:!0})}:Ks;function xv(I){return qh(ls(I))}function fu(I,U,Y){var le=-1,me=I.length;U<0&&(U=-U>me?0:me+U),(Y=Y>me?me:Y)<0&&(Y+=me),me=U>Y?0:Y-U>>>0,U>>>=0;for(var Le=vr(me);++le<me;)Le[le]=I[le+U];return Le}function eg(I,U){var Y;return Aa(I,function(le,me,Le){return!(Y=U(le,me,Le))}),!!Y}function Nd(I,U,Y){var le=0,me=I==null?le:I.length;if(typeof U=="number"&&U==U&&me<=2147483647){for(;le<me;){var Le=le+me>>>1,Ze=I[Le];Ze!==null&&!us(Ze)&&(Y?Ze<=U:Ze<U)?le=Le+1:me=Le}return me}return rh(I,U,Ks,Y)}function rh(I,U,Y,le){var me=0,Le=I==null?0:I.length;if(Le===0)return 0;for(var Ze=(U=Y(U))!=U,nt=U===null,Ot=us(U),qt=U===i;me<Le;){var Gt=Ad((me+Le)/2),Xt=Y(I[Gt]),tr=Xt!==i,ir=Xt===null,nr=Xt==Xt,Pt=us(Xt);if(Ze)var Bt=le||nr;else Bt=qt?nr&&(le||tr):nt?nr&&tr&&(le||!ir):Ot?nr&&tr&&!ir&&(le||!Pt):!ir&&!Pt&&(le?Xt<=U:Xt<U);Bt?me=Gt+1:Le=Gt}return ta(Le,4294967294)}function oi(I,U){for(var Y=-1,le=I.length,me=0,Le=[];++Y<le;){var Ze=I[Y],nt=U?U(Ze):Ze;if(!Y||!ia(nt,Ot)){var Ot=nt;Le[me++]=Ze===0?0:Ze}}return Le}function Ld(I){return typeof I=="number"?I:us(I)?d:+I}function jo(I){if(typeof I=="string")return I;if(Xr(I))return kn(I,jo)+"";if(us(I))return xa?xa.call(I):"";var U=I+"";return U=="0"&&1/I==-1/0?"-0":U}function xr(I,U,Y){var le=-1,me=Fl,Le=I.length,Ze=!0,nt=[],Ot=nt;if(Y)Ze=!1,me=ps;else if(Le>=200){var qt=U?null:Ku(I);if(qt)return Oc(qt);Ze=!1,me=Ca,Ot=new Uu}else Ot=U?[]:nt;e:for(;++le<Le;){var Gt=I[le],Xt=U?U(Gt):Gt;if(Gt=Y||Gt!==0?Gt:0,Ze&&Xt==Xt){for(var tr=Ot.length;tr--;)if(Ot[tr]===Xt)continue e;U&&Ot.push(Xt),nt.push(Gt)}else me(Ot,Xt,Y)||(Ot!==nt&&Ot.push(Xt),nt.push(Gt))}return nt}function Mh(I,U){return(I=vp(I,U=wo(U,I)))==null||delete I[Pa(pa(U))]}function ja(I,U,Y,le){return Yl(I,U,Y(Xa(I,U)),le)}function Ba(I,U,Y,le){for(var me=I.length,Le=le?me:-1;(le?Le--:++Le<me)&&U(I[Le],Le,I););return Y?fu(I,le?0:Le,le?Le+1:me):fu(I,le?Le+1:0,le?me:Le)}function hu(I,U){var Y=I;return Y instanceof yn&&(Y=Y.value()),bc(U,function(le,me){return me.func.apply(me.thisArg,Yo([le],me.args))},Y)}function Nh(I,U,Y){var le=I.length;if(le<2)return le?xr(I[0]):[];for(var me=-1,Le=vr(le);++me<le;)for(var Ze=I[me],nt=-1;++nt<le;)nt!=me&&(Le[me]=qu(Le[me]||Ze,I[nt],U,Y));return xr(Ci(Le,1),U,Y)}function tg(I,U,Y){for(var le=-1,me=I.length,Le=U.length,Ze={};++le<me;){var nt=le<Le?U[le]:i;Y(Ze,I[le],nt)}return Ze}function wf(I){return Kn(I)?I:[]}function $u(I){return typeof I=="function"?I:Ks}function wo(I,U){return Xr(I)?I:Fa(I,U)?[I]:Gh(qn(I))}var Sv=Lr;function Vs(I,U,Y){var le=I.length;return Y=Y===i?le:Y,!U&&Y>=le?I:fu(I,U,Y)}var Bo=kh||function(I){return Xn.clearTimeout(I)};function Ef(I,U){if(U)return I.slice();var Y=I.length,le=cp?cp(Y):new I.constructor(Y);return I.copy(le),le}function Nc(I){var U=new I.constructor(I.byteLength);return new Kf(U).set(new Kf(I)),U}function nh(I,U){var Y=U?Nc(I.buffer):I.buffer;return new I.constructor(Y,I.byteOffset,I.length)}function dp(I,U){if(I!==U){var Y=I!==i,le=I===null,me=I==I,Le=us(I),Ze=U!==i,nt=U===null,Ot=U==U,qt=us(U);if(!nt&&!qt&&!Le&&I>U||Le&&Ze&&Ot&&!nt&&!qt||le&&Ze&&Ot||!Y&&Ot||!me)return 1;if(!le&&!Le&&!qt&&I<U||qt&&Y&&me&&!le&&!Le||nt&&Y&&me||!Ze&&me||!Ot)return-1}return 0}function Lc(I,U,Y,le){for(var me=-1,Le=I.length,Ze=Y.length,nt=-1,Ot=U.length,qt=Ti(Le-Ze,0),Gt=vr(Ot+qt),Xt=!le;++nt<Ot;)Gt[nt]=U[nt];for(;++me<Ze;)(Xt||me<Le)&&(Gt[Y[me]]=I[me]);for(;qt--;)Gt[nt++]=I[me++];return Gt}function jd(I,U,Y,le){for(var me=-1,Le=I.length,Ze=-1,nt=Y.length,Ot=-1,qt=U.length,Gt=Ti(Le-nt,0),Xt=vr(Gt+qt),tr=!le;++me<Gt;)Xt[me]=I[me];for(var ir=me;++Ot<qt;)Xt[ir+Ot]=U[Ot];for(;++Ze<nt;)(tr||me<Le)&&(Xt[ir+Y[Ze]]=I[me++]);return Xt}function uo(I,U){var Y=-1,le=I.length;for(U||(U=vr(le));++Y<le;)U[Y]=I[Y];return U}function Wu(I,U,Y,le){var me=!Y;Y||(Y={});for(var Le=-1,Ze=U.length;++Le<Ze;){var nt=U[Le],Ot=le?le(Y[nt],I[nt],nt,Y,I):i;Ot===i&&(Ot=I[nt]),me?ys(Y,nt,Ot):Jf(Y,nt,Ot)}return Y}function Lh(I,U){return function(Y,le){var me=Xr(Y)?Vf:ln,Le=U?U():{};return me(Y,I,Ur(le,2),Le)}}function Es(I){return Lr(function(U,Y){var le=-1,me=Y.length,Le=me>1?Y[me-1]:i,Ze=me>2?Y[2]:i;for(Le=I.length>3&&typeof Le=="function"?(me--,Le):i,Ze&&co(Y[0],Y[1],Ze)&&(Le=me<3?i:Le,me=1),U=ci(U);++le<me;){var nt=Y[le];nt&&I(U,nt,le,Le)}return U})}function Yu(I,U){return function(Y,le){if(Y==null)return Y;if(!ss(Y))return I(Y,le);for(var me=Y.length,Le=U?me:-1,Ze=ci(Y);(U?Le--:++Le<me)&&le(Ze[Le],Le,Ze)!==!1;);return Y}}function xf(I){return function(U,Y,le){for(var me=-1,Le=ci(U),Ze=le(U),nt=Ze.length;nt--;){var Ot=Ze[I?nt:++me];if(Y(Le[Ot],Ot,Le)===!1)break}return U}}function Eo(I){return function(U){var Y=gl(U=qn(U))?Fi(U):i,le=Y?Y[0]:U.charAt(0),me=Y?Vs(Y,1).join(""):U.slice(1);return le[I]()+me}}function $s(I){return function(U){return bc(nd(As(U).replace(Oi,"")),I,"")}}function du(I){return function(){var U=arguments;switch(U.length){case 0:return new I;case 1:return new I(U[0]);case 2:return new I(U[0],U[1]);case 3:return new I(U[0],U[1],U[2]);case 4:return new I(U[0],U[1],U[2],U[3]);case 5:return new I(U[0],U[1],U[2],U[3],U[4]);case 6:return new I(U[0],U[1],U[2],U[3],U[4],U[5]);case 7:return new I(U[0],U[1],U[2],U[3],U[4],U[5],U[6])}var Y=ml(I.prototype),le=I.apply(Y,U);return Ai(le)?le:Y}}function vu(I){return function(U,Y,le){var me=ci(U);if(!ss(U)){var Le=Ur(Y,3);U=Pi(U),Y=function(nt){return Le(me[nt],nt,me)}}var Ze=I(U,Y,le);return Ze>-1?me[Le?U[Ze]:Ze]:i}}function ih(I){return rs(function(U){var Y=U.length,le=Y,me=na.prototype.thru;for(I&&U.reverse();le--;){var Le=U[le];if(typeof Le!="function")throw new Ea(a);if(me&&!Ze&&xn(Le)=="wrapper")var Ze=new na([],!0)}for(le=Ze?le:Y;++le<Y;){var nt=xn(Le=U[le]),Ot=nt=="wrapper"?Ov(Le):i;Ze=Ot&&Ss(Ot[0])&&Ot[1]==424&&!Ot[4].length&&Ot[9]==1?Ze[xn(Ot[0])].apply(Ze,Ot[3]):Le.length==1&&Ss(Le)?Ze[nt]():Ze.thru(Le)}return function(){var qt=arguments,Gt=qt[0];if(Ze&&qt.length==1&&Xr(Gt))return Ze.plant(Gt).value();for(var Xt=0,tr=Y?U[Xt].apply(this,qt):Gt;++Xt<Y;)tr=U[Xt].call(this,tr);return tr}})}function xs(I,U,Y,le,me,Le,Ze,nt,Ot,qt){var Gt=U&l,Xt=1&U,tr=2&U,ir=24&U,nr=512&U,Pt=tr?i:du(I);return function Bt(){for(var _r=arguments.length,ar=vr(_r),zr=_r;zr--;)ar[zr]=arguments[zr];if(ir)var Vr=Kl(Bt),un=function(Ii,Vi){for(var Jn=Ii.length,Ja=0;Jn--;)Ii[Jn]===Vi&&++Ja;return Ja}(ar,Vr);if(le&&(ar=Lc(ar,le,me,ir)),Le&&(ar=jd(ar,Le,Ze,ir)),_r-=un,ir&&_r<qt){var hr=yo(ar,Vr);return Bh(I,U,xs,Bt.placeholder,Y,ar,hr,nt,Ot,qt-_r)}var Sr=Xt?Y:this,Di=tr?Sr[I]:I;return _r=ar.length,nt?ar=function(Ii,Vi){for(var Jn=Ii.length,Ja=ta(Vi.length,Jn),Oa=uo(Ii);Ja--;){var nl=Vi[Ja];Ii[Ja]=Ra(nl,Jn)?Oa[nl]:i}return Ii}(ar,nt):nr&&_r>1&&ar.reverse(),Gt&&Ot<_r&&(ar.length=Ot),this&&this!==Xn&&this instanceof Bt&&(Di=Pt||du(Di)),Di.apply(Sr,ar)}}function xo(I,U){return function(Y,le){return function(me,Le,Ze,nt){return lu(me,function(Ot,qt,Gt){Le(nt,Ze(Ot),qt,Gt)}),nt}(Y,I,U(le),{})}}function Bd(I,U){return function(Y,le){var me;if(Y===i&&le===i)return U;if(Y!==i&&(me=Y),le!==i){if(me===i)return le;typeof Y=="string"||typeof le=="string"?(Y=jo(Y),le=jo(le)):(Y=Ld(Y),le=Ld(le)),me=I(Y,le)}return me}}function jh(I){return rs(function(U){return U=kn(U,tn(Ur())),Lr(function(Y){var le=this;return I(U,function(me){return No(me,le,Y)})})})}function lo(I,U){var Y=(U=U===i?" ":jo(U)).length;if(Y<2)return Y?ts(U,I):U;var le=ts(U,Cd(I/io(U)));return gl(U)?Vs(Fi(le),0,I).join(""):le.slice(0,I)}function jc(I){return function(U,Y,le){return le&&typeof le!="number"&&co(U,Y,le)&&(Y=le=i),U=Cs(U),Y===i?(Y=U,U=0):Y=Cs(Y),function(me,Le,Ze,nt){for(var Ot=-1,qt=Ti(Cd((Le-me)/(Ze||1)),0),Gt=vr(qt);qt--;)Gt[nt?qt:++Ot]=me,me+=Ze;return Gt}(U,Y,le=le===i?U<Y?1:-1:Cs(le),I)}}function Xu(I){return function(U,Y){return typeof U=="string"&&typeof Y=="string"||(U=Ys(U),Y=Ys(Y)),I(U,Y)}}function Bh(I,U,Y,le,me,Le,Ze,nt,Ot,qt){var Gt=8&U;U|=Gt?u:64,4&(U&=~(Gt?64:u))||(U&=-4);var Xt=[I,U,me,Gt?Le:i,Gt?Ze:i,Gt?i:Le,Gt?i:Ze,nt,Ot,qt],tr=Y.apply(i,Xt);return Ss(I)&&Ud(tr,Xt),tr.placeholder=le,Zu(tr,I,U)}function Bc(I){var U=ao[I];return function(Y,le){if(Y=Ys(Y),(le=le==null?0:ta(rn(le),292))&&_v(Y)){var me=(qn(Y)+"e").split("e");return+((me=(qn(U(me[0]+"e"+(+me[1]+le)))+"e").split("e"))[0]+"e"+(+me[1]-le))}return U(Y)}}var Ku=pf&&1/Oc(new pf([,-0]))[1]==c?function(I){return new pf(I)}:tl;function cn(I){return function(U){var Y=hi(U);return Y==D?li(U):Y==z?Rh(U):function(le,me){return kn(me,function(Le){return[Le,le[Le]]})}(U,I(U))}}function En(I,U,Y,le,me,Le,Ze,nt){var Ot=2&U;if(!Ot&&typeof I!="function")throw new Ea(a);var qt=le?le.length:0;if(qt||(U&=-97,le=me=i),Ze=Ze===i?Ze:Ti(rn(Ze),0),nt=nt===i?nt:rn(nt),qt-=me?me.length:0,64&U){var Gt=le,Xt=me;le=me=i}var tr=Ot?i:Ov(I),ir=[I,U,Y,le,me,Gt,Xt,Le,Ze,nt];if(tr&&function(Pt,Bt){var _r=Pt[1],ar=Bt[1],zr=_r|ar,Vr=zr<131,un=ar==l&&_r==8||ar==l&&_r==256&&Pt[7].length<=Bt[8]||ar==384&&Bt[7].length<=Bt[8]&&_r==8;if(!Vr&&!un)return Pt;1&ar&&(Pt[2]=Bt[2],zr|=1&_r?0:4);var hr=Bt[3];if(hr){var Sr=Pt[3];Pt[3]=Sr?Lc(Sr,hr,Bt[4]):hr,Pt[4]=Sr?yo(Pt[3],s):Bt[4]}(hr=Bt[5])&&(Sr=Pt[5],Pt[5]=Sr?jd(Sr,hr,Bt[6]):hr,Pt[6]=Sr?yo(Pt[5],s):Bt[6]),(hr=Bt[7])&&(Pt[7]=hr),ar&l&&(Pt[8]=Pt[8]==null?Bt[8]:ta(Pt[8],Bt[8])),Pt[9]==null&&(Pt[9]=Bt[9]),Pt[0]=Bt[0],Pt[1]=zr}(ir,tr),I=ir[0],U=ir[1],Y=ir[2],le=ir[3],me=ir[4],!(nt=ir[9]=ir[9]===i?Ot?0:I.length:Ti(ir[9]-qt,0))&&24&U&&(U&=-25),U&&U!=1)nr=U==8||U==16?function(Pt,Bt,_r){var ar=du(Pt);return function zr(){for(var Vr=arguments.length,un=vr(Vr),hr=Vr,Sr=Kl(zr);hr--;)un[hr]=arguments[hr];var Di=Vr<3&&un[0]!==Sr&&un[Vr-1]!==Sr?[]:yo(un,Sr);return(Vr-=Di.length)<_r?Bh(Pt,Bt,xs,zr.placeholder,i,un,Di,i,i,_r-Vr):No(this&&this!==Xn&&this instanceof zr?ar:Pt,this,un)}}(I,U,nt):U!=u&&U!=33||me.length?xs.apply(i,ir):function(Pt,Bt,_r,ar){var zr=1&Bt,Vr=du(Pt);return function un(){for(var hr=-1,Sr=arguments.length,Di=-1,Ii=ar.length,Vi=vr(Ii+Sr),Jn=this&&this!==Xn&&this instanceof un?Vr:Pt;++Di<Ii;)Vi[Di]=ar[Di];for(;Sr--;)Vi[Di++]=arguments[++hr];return No(Jn,zr?_r:this,Vi)}}(I,U,Y,le);else var nr=function(Pt,Bt,_r){var ar=1&Bt,zr=du(Pt);return function Vr(){return(this&&this!==Xn&&this instanceof Vr?zr:Pt).apply(ar?_r:this,arguments)}}(I,U,Y);return Zu((tr?xl:Ud)(nr,ir),I,U)}function bn(I,U,Y,le){return I===i||ia(I,df[Y])&&!jn.call(le,Y)?U:I}function Fc(I,U,Y,le,me,Le){return Ai(I)&&Ai(U)&&(Le.set(U,I),_f(I,U,i,Fc,Le),Le.delete(U)),I}function Sl(I){return sh(I)?i:I}function Ka(I,U,Y,le,me,Le){var Ze=1&Y,nt=I.length,Ot=U.length;if(nt!=Ot&&!(Ze&&Ot>nt))return!1;var qt=Le.get(I),Gt=Le.get(U);if(qt&&Gt)return qt==U&&Gt==I;var Xt=-1,tr=!0,ir=2&Y?new Uu:i;for(Le.set(I,U),Le.set(U,I);++Xt<nt;){var nr=I[Xt],Pt=U[Xt];if(le)var Bt=Ze?le(Pt,nr,Xt,U,I,Le):le(nr,Pt,Xt,I,U,Le);if(Bt!==i){if(Bt)continue;tr=!1;break}if(ir){if(!vl(U,function(_r,ar){if(!Ca(ir,ar)&&(nr===_r||me(nr,_r,Y,le,Le)))return ir.push(ar)})){tr=!1;break}}else if(nr!==Pt&&!me(nr,Pt,Y,le,Le)){tr=!1;break}}return Le.delete(I),Le.delete(U),tr}function rs(I){return zh(Uh(I,i,zd),I+"")}function Xl(I){return Ui(I,Pi,Fd)}function ns(I){return Ui(I,dn,zc)}var Ov=Rd?function(I){return Rd.get(I)}:tl;function xn(I){for(var U=I.name+"",Y=Fu[U],le=jn.call(Fu,U)?Y.length:0;le--;){var me=Y[le],Le=me.func;if(Le==null||Le==I)return me.name}return U}function Kl(I){return(jn.call(xe,"placeholder")?xe:I).placeholder}function Ur(){var I=xe.iteratee||To;return I=I===To?Jo:I,arguments.length?I(arguments[0],arguments[1]):I}function Zl(I,U){var Y,le,me=I.__data__;return((le=typeof(Y=U))=="string"||le=="number"||le=="symbol"||le=="boolean"?Y!=="__proto__":Y===null)?me[typeof U=="string"?"string":"hash"]:me.map}function Fh(I){for(var U=Pi(I),Y=U.length;Y--;){var le=U[Y],me=I[le];U[Y]=[le,me,Cv(me)]}return U}function Uc(I,U){var Y=function(le,me){return le==null?i:le[me]}(I,U);return Vu(Y)?Y:i}var Fd=Zf?function(I){return I==null?[]:(I=ci(I),au(Zf(I),function(U){return fp.call(I,U)}))}:fs,zc=Zf?function(I){for(var U=[];I;)Yo(U,Fd(I)),I=Cc(I);return U}:fs,hi=wn;function Fo(I,U,Y){for(var le=-1,me=(U=wo(U,I)).length,Le=!1;++le<me;){var Ze=Pa(U[le]);if(!(Le=I!=null&&Y(I,Ze)))break;I=I[Ze]}return Le||++le!=me?Le:!!(me=I==null?0:I.length)&&Ts(me)&&Ra(Ze,me)&&(Xr(I)||os(I))}function Gi(I){return typeof I.constructor!="function"||Ol(I)?{}:ml(Cc(I))}function qc(I){return Xr(I)||os(I)||!!(Xo&&I&&I[Xo])}function Ra(I,U){var Y=typeof I;return!!(U=U??f)&&(Y=="number"||Y!="symbol"&&mr.test(I))&&I>-1&&I%1==0&&I<U}function co(I,U,Y){if(!Ai(Y))return!1;var le=typeof U;return!!(le=="number"?ss(Y)&&Ra(U,Y.length):le=="string"&&U in Y)&&ia(Y[U],I)}function Fa(I,U){if(Xr(I))return!1;var Y=typeof I;return!(Y!="number"&&Y!="symbol"&&Y!="boolean"&&I!=null&&!us(I))||pt.test(I)||!zt.test(I)||U!=null&&I in ci(U)}function Ss(I){var U=xn(I),Y=xe[U];if(typeof Y!="function"||!(U in yn.prototype))return!1;if(I===Y)return!0;var le=Ov(Y);return!!le&&I===le[0]}(Er&&hi(new Er(new ArrayBuffer(1)))!=J||_o&&hi(new _o)!=D||ra&&hi(ra.resolve())!=j||pf&&hi(new pf)!=z||Qf&&hi(new Qf)!=K)&&(hi=function(I){var U=wn(I),Y=U==k?I.constructor:i,le=Y?Jl(Y):"";if(le)switch(le){case Pc:return J;case ut:return D;case It:return j;case mt:return z;case yr:return K}return U});var Tv=Xf?yu:hs;function Ol(I){var U=I&&I.constructor;return I===(typeof U=="function"&&U.prototype||df)}function Cv(I){return I==I&&!Ai(I)}function pu(I,U){return function(Y){return Y!=null&&Y[I]===U&&(U!==i||I in ci(Y))}}function Uh(I,U,Y){return U=Ti(U===i?I.length-1:U,0),function(){for(var le=arguments,me=-1,Le=Ti(le.length-U,0),Ze=vr(Le);++me<Le;)Ze[me]=le[U+me];me=-1;for(var nt=vr(U+1);++me<U;)nt[me]=le[me];return nt[U]=Y(Ze),No(I,this,nt)}}function vp(I,U){return U.length<2?I:Xa(I,fu(U,0,-1))}function Ql(I,U){if((U!=="constructor"||typeof I[U]!="function")&&U!="__proto__")return I[U]}var Ud=pp(xl),Sf=mo||function(I,U){return Xn.setTimeout(I,U)},zh=pp(qi);function Zu(I,U,Y){var le=U+"";return zh(I,function(me,Le){var Ze=Le.length;if(!Ze)return me;var nt=Ze-1;return Le[nt]=(Ze>1?"& ":"")+Le[nt],Le=Le.join(Ze>2?", ":" "),me.replace(We,`{
/* [wrapped with `+Le+`] */
`)}(le,function(me,Le){return fr(p,function(Ze){var nt="_."+Ze[0];Le&Ze[1]&&!Fl(me,nt)&&me.push(nt)}),me.sort()}(function(me){var Le=me.match(ft);return Le?Le[1].split(Ht):[]}(le),Y)))}function pp(I){var U=0,Y=0;return function(){var le=wv(),me=16-(le-Y);if(Y=le,me>0){if(++U>=800)return arguments[0]}else U=0;return I.apply(i,arguments)}}function qh(I,U){var Y=-1,le=I.length,me=le-1;for(U=U===i?le:U;++Y<U;){var Le=ws(Y,me),Ze=I[Le];I[Le]=I[Y],I[Y]=Ze}return I.length=U,I}var Gc,Av,Gh=(Gc=Ju(function(I){var U=[];return I.charCodeAt(0)===46&&U.push(""),I.replace(Q,function(Y,le,me,Le){U.push(me?Le.replace(Ke,"$1"):le||Y)}),U},function(I){return Av.size===500&&Av.clear(),I}),Av=Gc.cache,Gc);function Pa(I){if(typeof I=="string"||us(I))return I;var U=I+"";return U=="0"&&1/I==-1/0?"-0":U}function Jl(I){if(I!=null){try{return vf.call(I)}catch{}try{return I+""}catch{}}return""}function Rv(I){if(I instanceof yn)return I.clone();var U=new na(I.__wrapped__,I.__chain__);return U.__actions__=uo(I.__actions__),U.__index__=I.__index__,U.__values__=I.__values__,U}var Of=Lr(function(I,U){return Kn(I)?qu(I,Ci(U,1,Kn,!0)):[]}),Pv=Lr(function(I,U){var Y=pa(U);return Kn(Y)&&(Y=i),Kn(I)?qu(I,Ci(U,1,Kn,!0),Ur(Y,2)):[]}),gp=Lr(function(I,U){var Y=pa(U);return Kn(Y)&&(Y=i),Kn(I)?qu(I,Ci(U,1,Kn,!0),i,Y):[]});function Yr(I,U,Y){var le=I==null?0:I.length;if(!le)return-1;var me=Y==null?0:rn(Y);return me<0&&(me=Ti(le+me,0)),wc(I,Ur(U,3),me)}function Tf(I,U,Y){var le=I==null?0:I.length;if(!le)return-1;var me=le-1;return Y!==i&&(me=rn(Y),me=Y<0?Ti(le+me,0):ta(me,le-1)),wc(I,Ur(U,3),me,!0)}function zd(I){return I!=null&&I.length?Ci(I,1):[]}function Cf(I){return I&&I.length?I[0]:i}var Hh=Lr(function(I){var U=kn(I,wf);return U.length&&U[0]===I[0]?Vl(U):[]}),Vh=Lr(function(I){var U=pa(I),Y=kn(I,wf);return U===pa(Y)?U=i:Y.pop(),Y.length&&Y[0]===I[0]?Vl(Y,Ur(U,2)):[]}),$h=Lr(function(I){var U=pa(I),Y=kn(I,wf);return(U=typeof U=="function"?U:i)&&Y.pop(),Y.length&&Y[0]===I[0]?Vl(Y,i,U):[]});function pa(I){var U=I==null?0:I.length;return U?I[U-1]:i}var yp=Lr(Wh);function Wh(I,U){return I&&I.length&&U&&U.length?_s(I,U):I}var qd=rs(function(I,U){var Y=I==null?0:I.length,le=mf(I,U);return Re(I,kn(U,function(me){return Ra(me,Y)?+me:me}).sort(dp)),le});function Yh(I){return I==null?I:qs.call(I)}var Dv=Lr(function(I){return xr(Ci(I,1,Kn,!0))}),Ws=Lr(function(I){var U=pa(I);return Kn(U)&&(U=i),xr(Ci(I,1,Kn,!0),Ur(U,2))}),Hc=Lr(function(I){var U=pa(I);return U=typeof U=="function"?U:i,xr(Ci(I,1,Kn,!0),i,U)});function Tl(I){if(!I||!I.length)return[];var U=0;return I=au(I,function(Y){if(Kn(Y))return U=Ti(Y.length,U),!0}),hf(U,function(Y){return kn(I,zl(Y))})}function Gd(I,U){if(!I||!I.length)return[];var Y=Tl(I);return U==null?Y:kn(Y,function(le){return No(U,i,le)})}var Hd=Lr(function(I,U){return Kn(I)?qu(I,U):[]}),Af=Lr(function(I){return Nh(au(I,Kn))}),Xh=Lr(function(I){var U=pa(I);return Kn(U)&&(U=i),Nh(au(I,Kn),Ur(U,2))}),Kh=Lr(function(I){var U=pa(I);return U=typeof U=="function"?U:i,Nh(au(I,Kn),i,U)}),ah=Lr(Tl),Za=Lr(function(I){var U=I.length,Y=U>1?I[U-1]:i;return Y=typeof Y=="function"?(I.pop(),Y):i,Gd(I,Y)});function Qu(I){var U=xe(I);return U.__chain__=!0,U}function Vd(I,U){return U(I)}var ec=rs(function(I){var U=I.length,Y=U?I[0]:0,le=this.__wrapped__,me=function(Le){return mf(Le,I)};return!(U>1||this.__actions__.length)&&le instanceof yn&&Ra(Y)?((le=le.slice(Y,+Y+(U?1:0))).__actions__.push({func:Vd,args:[me],thisArg:i}),new na(le,this.__chain__).thru(function(Le){return U&&!Le.length&&Le.push(i),Le})):this.thru(me)}),rg=Lh(function(I,U,Y){jn.call(I,Y)?++I[Y]:ys(I,Y,1)}),Iv=vu(Yr),Cl=vu(Tf);function Rf(I,U){return(Xr(I)?fr:Aa)(I,Ur(U,3))}function Zh(I,U){return(Xr(I)?mc:Zo)(I,Ur(U,3))}var $d=Lh(function(I,U,Y){jn.call(I,Y)?I[Y].push(U):ys(I,Y,[U])}),kv=Lr(function(I,U,Y){var le=-1,me=typeof U=="function",Le=ss(I)?vr(I.length):[];return Aa(I,function(Ze){Le[++le]=me?No(U,Ze,Y):wl(Ze,U,Y)}),Le}),oh=Lh(function(I,U,Y){ys(I,Y,U)});function Pf(I,U){return(Xr(I)?kn:hp)(I,Ur(U,3))}var Mv=Lh(function(I,U,Y){I[Y?0:1].push(U)},function(){return[[],[]]}),ng=Lr(function(I,U){if(I==null)return[];var Y=U.length;return Y>1&&co(I,U[0],U[1])?U=[]:Y>2&&co(U[0],U[1],U[2])&&(U=[U[0]]),Wl(I,Ci(U,1),[])}),ga=Qp||function(){return Xn.Date.now()};function is(I,U,Y){return U=Y?i:U,U=I&&U==null?I.length:U,En(I,l,i,i,i,i,U)}function Qh(I,U){var Y;if(typeof U!="function")throw new Ea(a);return I=rn(I),function(){return--I>0&&(Y=U.apply(this,arguments)),I<=1&&(U=i),Y}}var Vc=Lr(function(I,U,Y){var le=1;if(Y.length){var me=yo(Y,Kl(Vc));le|=u}return En(I,le,U,Y,me)}),Df=Lr(function(I,U,Y){var le=3;if(Y.length){var me=yo(Y,Kl(Df));le|=u}return En(U,le,I,Y,me)});function Al(I,U,Y){var le,me,Le,Ze,nt,Ot,qt=0,Gt=!1,Xt=!1,tr=!0;if(typeof I!="function")throw new Ea(a);function ir(ar){var zr=le,Vr=me;return le=me=i,qt=ar,Ze=I.apply(Vr,zr)}function nr(ar){var zr=ar-Ot;return Ot===i||zr>=U||zr<0||Xt&&ar-qt>=Le}function Pt(){var ar=ga();if(nr(ar))return Bt(ar);nt=Sf(Pt,function(zr){var Vr=U-(zr-Ot);return Xt?ta(Vr,Le-(zr-qt)):Vr}(ar))}function Bt(ar){return nt=i,tr&&le?ir(ar):(le=me=i,Ze)}function _r(){var ar=ga(),zr=nr(ar);if(le=arguments,me=this,Ot=ar,zr){if(nt===i)return function(Vr){return qt=Vr,nt=Sf(Pt,U),Gt?ir(Vr):Ze}(Ot);if(Xt)return Bo(nt),nt=Sf(Pt,U),ir(Ot)}return nt===i&&(nt=Sf(Pt,U)),Ze}return U=Ys(U)||0,Ai(Y)&&(Gt=!!Y.leading,Le=(Xt="maxWait"in Y)?Ti(Ys(Y.maxWait)||0,U):Le,tr="trailing"in Y?!!Y.trailing:tr),_r.cancel=function(){nt!==i&&Bo(nt),qt=0,le=Ot=me=nt=i},_r.flush=function(){return nt===i?Ze:Bt(ga())},_r}var mp=Lr(function(I,U){return Lo(I,1,U)}),gu=Lr(function(I,U,Y){return Lo(I,Ys(U)||0,Y)});function Ju(I,U){if(typeof I!="function"||U!=null&&typeof U!="function")throw new Ea(a);var Y=function(){var le=arguments,me=U?U.apply(this,le):le[0],Le=Y.cache;if(Le.has(me))return Le.get(me);var Ze=I.apply(this,le);return Y.cache=Le.set(me,Ze)||Le,Ze};return Y.cache=new(Ju.Cache||oo),Y}function Uo(I){if(typeof I!="function")throw new Ea(a);return function(){var U=arguments;switch(U.length){case 0:return!I.call(this);case 1:return!I.call(this,U[0]);case 2:return!I.call(this,U[0],U[1]);case 3:return!I.call(this,U[0],U[1],U[2])}return!I.apply(this,U)}}Ju.Cache=oo;var as=Sv(function(I,U){var Y=(U=U.length==1&&Xr(U[0])?kn(U[0],tn(Ur())):kn(Ci(U,1),tn(Ur()))).length;return Lr(function(le){for(var me=-1,Le=ta(le.length,Y);++me<Le;)le[me]=U[me].call(this,le[me]);return No(I,this,le)})}),Os=Lr(function(I,U){var Y=yo(U,Kl(Os));return En(I,u,i,U,Y)}),Wd=Lr(function(I,U){var Y=yo(U,Kl(Wd));return En(I,64,i,U,Y)}),tc=rs(function(I,U){return En(I,256,i,i,i,U)});function ia(I,U){return I===U||I!=I&&U!=U}var Sa=Xu(Hu),rc=Xu(function(I,U){return I>=U}),os=zi(function(){return arguments}())?zi:function(I){return Ri(I)&&jn.call(I,"callee")&&!fp.call(I,"callee")},Xr=vr.isArray,Jh=dl?tn(dl):function(I){return Ri(I)&&wn(I)==oe};function ss(I){return I!=null&&Ts(I.length)&&!yu(I)}function Kn(I){return Ri(I)&&ss(I)}var Ua=Hl||hs,Nv=Wa?tn(Wa):function(I){return Ri(I)&&wn(I)==y};function If(I){if(!Ri(I))return!1;var U=wn(I);return U==_||U=="[object DOMException]"||typeof I.message=="string"&&typeof I.name=="string"&&!sh(I)}function yu(I){if(!Ai(I))return!1;var U=wn(I);return U==S||U==A||U=="[object AsyncFunction]"||U=="[object Proxy]"}function $c(I){return typeof I=="number"&&I==rn(I)}function Ts(I){return typeof I=="number"&&I>-1&&I%1==0&&I<=f}function Ai(I){var U=typeof I;return I!=null&&(U=="object"||U=="function")}function Ri(I){return I!=null&&typeof I=="object"}var Yd=ff?tn(ff):function(I){return Ri(I)&&hi(I)==D};function Lv(I){return typeof I=="number"||Ri(I)&&wn(I)==R}function sh(I){if(!Ri(I)||wn(I)!=k)return!1;var U=Cc(I);if(U===null)return!0;var Y=jn.call(U,"constructor")&&U.constructor;return typeof Y=="function"&&Y instanceof Y&&vf.call(Y)==Ih}var Da=Hf?tn(Hf):function(I){return Ri(I)&&wn(I)==F},di=hn?tn(hn):function(I){return Ri(I)&&hi(I)==z};function uh(I){return typeof I=="string"||!Xr(I)&&Ri(I)&&wn(I)==q}function us(I){return typeof I=="symbol"||Ri(I)&&wn(I)==$}var el=ro?tn(ro):function(I){return Ri(I)&&Ts(I.length)&&!!Tn[wn(I)]},Xd=Xu(es),lh=Xu(function(I,U){return I<=U});function Vt(I){if(!I)return[];if(ss(I))return uh(I)?Fi(I):uo(I);if(Ac&&I[Ac])return function(Y){for(var le,me=[];!(le=Y.next()).done;)me.push(le.value);return me}(I[Ac]());var U=hi(I);return(U==D?li:U==z?Oc:ls)(I)}function Cs(I){return I?(I=Ys(I))===c||I===-1/0?17976931348623157e292*(I<0?-1:1):I==I?I:0:I===0?I:0}function rn(I){var U=Cs(I),Y=U%1;return U==U?Y?U-Y:U:0}function nc(I){return I?ms(rn(I),0,v):0}function Ys(I){if(typeof I=="number")return I;if(us(I))return d;if(Ai(I)){var U=typeof I.valueOf=="function"?I.valueOf():I;I=Ai(U)?U+"":U}if(typeof I!="string")return I===0?I:+I;I=$n(I);var Y=er.test(I);return Y||Jt.test(I)?Gf(I.slice(2),Y?2:8):xt.test(I)?d:+I}function ed(I){return Wu(I,dn(I))}function qn(I){return I==null?"":jo(I)}var So=Es(function(I,U){if(Ol(U)||ss(U))Wu(U,Pi(U),I);else for(var Y in U)jn.call(U,Y)&&Jf(I,Y,U[Y])}),bp=Es(function(I,U){Wu(U,dn(U),I)}),td=Es(function(I,U,Y,le){Wu(U,dn(U),I,le)}),Kd=Es(function(I,U,Y,le){Wu(U,Pi(U),I,le)}),_p=rs(mf),wp=Lr(function(I,U){I=ci(I);var Y=-1,le=U.length,me=le>2?U[2]:i;for(me&&co(U[0],U[1],me)&&(le=1);++Y<le;)for(var Le=U[Y],Ze=dn(Le),nt=-1,Ot=Ze.length;++nt<Ot;){var qt=Ze[nt],Gt=I[qt];(Gt===i||ia(Gt,df[qt])&&!jn.call(I,qt))&&(I[qt]=Le[qt])}return I}),jv=Lr(function(I){return I.push(i,Fc),No(Oo,i,I)});function Bv(I,U,Y){var le=I==null?i:Xa(I,U);return le===i?Y:le}function Rl(I,U){return I!=null&&Fo(I,U,Md)}var Pl=xo(function(I,U,Y){U!=null&&typeof U.toString!="function"&&(U=ql.call(U)),I[U]=Y},aa(Ks)),zo=xo(function(I,U,Y){U!=null&&typeof U.toString!="function"&&(U=ql.call(U)),jn.call(I,U)?I[U].push(Y):I[U]=[Y]},Ur),Fv=Lr(wl);function Pi(I){return ss(I)?zu(I):El(I)}function dn(I){return ss(I)?zu(I,!0):function(U){if(!Ai(U))return function(Le){var Ze=[];if(Le!=null)for(var nt in ci(Le))Ze.push(nt);return Ze}(U);var Y=Ol(U),le=[];for(var me in U)(me!="constructor"||!Y&&jn.call(U,me))&&le.push(me);return le}(I)}var ch=Es(function(I,U,Y){_f(I,U,Y)}),Oo=Es(function(I,U,Y,le){_f(I,U,Y,le)}),Cn=rs(function(I,U){var Y={};if(I==null)return Y;var le=!1;U=kn(U,function(Le){return Le=wo(Le,I),le||(le=Le.length>1),Le}),Wu(I,ns(I),Y),le&&(Y=so(Y,7,Sl));for(var me=U.length;me--;)Mh(Y,U[me]);return Y}),rd=rs(function(I,U){return I==null?{}:function(Y,le){return bs(Y,le,function(me,Le){return Rl(Y,Le)})}(I,U)});function Uv(I,U){if(I==null)return{};var Y=kn(ns(I),function(le){return[le]});return U=Ur(U),bs(I,Y,function(le,me){return U(le,me[0])})}var zv=cn(Pi),mu=cn(dn);function ls(I){return I==null?[]:Wf(I,Pi(I))}var Zd=$s(function(I,U,Y){return U=U.toLowerCase(),I+(Y?Xs(U):U)});function Xs(I){return hh(qn(I).toLowerCase())}function As(I){return(I=qn(I))&&I.replace(Mr,gs).replace(iu,"")}var Dl=$s(function(I,U,Y){return I+(Y?"-":"")+U.toLowerCase()}),kf=$s(function(I,U,Y){return I+(Y?" ":"")+U.toLowerCase()}),fh=Eo("toLowerCase"),Wc=$s(function(I,U,Y){return I+(Y?"_":"")+U.toLowerCase()}),Qd=$s(function(I,U,Y){return I+(Y?" ":"")+hh(U)}),Jd=$s(function(I,U,Y){return I+(Y?" ":"")+U.toUpperCase()}),hh=Eo("toUpperCase");function nd(I,U,Y){return I=qn(I),(U=Y?i:U)===i?function(le){return Nr.test(le)}(I)?function(le){return le.match(wi)||[]}(I):function(le){return le.match(Et)||[]}(I):I.match(U)||[]}var Rs=Lr(function(I,U){try{return No(I,i,U)}catch(Y){return If(Y)?Y:new Ln(Y)}}),Zn=rs(function(I,U){return fr(U,function(Y){Y=Pa(Y),ys(I,Y,Vc(I[Y],I))}),I});function aa(I){return function(){return I}}var dh=ih(),Qa=ih(!0);function Ks(I){return I}function To(I){return Jo(typeof I=="function"?I:so(I,1))}var Ep=Lr(function(I,U){return function(Y){return wl(Y,I,U)}}),Qn=Lr(function(I,U){return function(Y){return wl(I,Y,U)}});function cs(I,U,Y){var le=Pi(U),me=Qo(U,le);Y!=null||Ai(U)&&(me.length||!le.length)||(Y=U,U=I,I=this,me=Qo(U,Pi(U)));var Le=!(Ai(Y)&&"chain"in Y&&!Y.chain),Ze=yu(I);return fr(me,function(nt){var Ot=U[nt];I[nt]=Ot,Ze&&(I.prototype[nt]=function(){var qt=this.__chain__;if(Le||qt){var Gt=I(this.__wrapped__);return(Gt.__actions__=uo(this.__actions__)).push({func:Ot,args:arguments,thisArg:I}),Gt.__chain__=qt,Gt}return Ot.apply(I,Yo([this.value()],arguments))})}),I}function tl(){}var id=jh(kn),xp=jh($f),Yg=jh(vl);function ev(I){return Fa(I)?zl(Pa(I)):function(U){return function(Y){return Xa(Y,U)}}(I)}var ya=jc(),bu=jc(!0);function fs(){return[]}function hs(){return!1}var qv,rl=Bd(function(I,U){return I+U},0),Yc=Bc("ceil"),ic=Bd(function(I,U){return I/U},1),Sp=Bc("floor"),Hi=Bd(function(I,U){return I*U},1),Il=Bc("round"),Gv=Bd(function(I,U){return I-U},0);return xe.after=function(I,U){if(typeof U!="function")throw new Ea(a);return I=rn(I),function(){if(--I<1)return U.apply(this,arguments)}},xe.ary=is,xe.assign=So,xe.assignIn=bp,xe.assignInWith=td,xe.assignWith=Kd,xe.at=_p,xe.before=Qh,xe.bind=Vc,xe.bindAll=Zn,xe.bindKey=Df,xe.castArray=function(){if(!arguments.length)return[];var I=arguments[0];return Xr(I)?I:[I]},xe.chain=Qu,xe.chunk=function(I,U,Y){U=(Y?co(I,U,Y):U===i)?1:Ti(rn(U),0);var le=I==null?0:I.length;if(!le||U<1)return[];for(var me=0,Le=0,Ze=vr(Cd(le/U));me<le;)Ze[Le++]=fu(I,me,me+=U);return Ze},xe.compact=function(I){for(var U=-1,Y=I==null?0:I.length,le=0,me=[];++U<Y;){var Le=I[U];Le&&(me[le++]=Le)}return me},xe.concat=function(){var I=arguments.length;if(!I)return[];for(var U=vr(I-1),Y=arguments[0],le=I;le--;)U[le-1]=arguments[le];return Yo(Xr(Y)?uo(Y):[Y],Ci(U,1))},xe.cond=function(I){var U=I==null?0:I.length,Y=Ur();return I=U?kn(I,function(le){if(typeof le[1]!="function")throw new Ea(a);return[Y(le[0]),le[1]]}):[],Lr(function(le){for(var me=-1;++me<U;){var Le=I[me];if(No(Le[0],this,le))return No(Le[1],this,le)}})},xe.conforms=function(I){return function(U){var Y=Pi(U);return function(le){return eh(le,U,Y)}}(so(I,1))},xe.constant=aa,xe.countBy=rg,xe.create=function(I,U){var Y=ml(I);return U==null?Y:Ic(Y,U)},xe.curry=function I(U,Y,le){var me=En(U,8,i,i,i,i,i,Y=le?i:Y);return me.placeholder=I.placeholder,me},xe.curryRight=function I(U,Y,le){var me=En(U,16,i,i,i,i,i,Y=le?i:Y);return me.placeholder=I.placeholder,me},xe.debounce=Al,xe.defaults=wp,xe.defaultsDeep=jv,xe.defer=mp,xe.delay=gu,xe.difference=Of,xe.differenceBy=Pv,xe.differenceWith=gp,xe.drop=function(I,U,Y){var le=I==null?0:I.length;return le?fu(I,(U=Y||U===i?1:rn(U))<0?0:U,le):[]},xe.dropRight=function(I,U,Y){var le=I==null?0:I.length;return le?fu(I,0,(U=le-(U=Y||U===i?1:rn(U)))<0?0:U):[]},xe.dropRightWhile=function(I,U){return I&&I.length?Ba(I,Ur(U,3),!0,!0):[]},xe.dropWhile=function(I,U){return I&&I.length?Ba(I,Ur(U,3),!0):[]},xe.fill=function(I,U,Y,le){var me=I==null?0:I.length;return me?(Y&&typeof Y!="number"&&co(I,U,Y)&&(Y=0,le=me),function(Le,Ze,nt,Ot){var qt=Le.length;for((nt=rn(nt))<0&&(nt=-nt>qt?0:qt+nt),(Ot=Ot===i||Ot>qt?qt:rn(Ot))<0&&(Ot+=qt),Ot=nt>Ot?0:nc(Ot);nt<Ot;)Le[nt++]=Ze;return Le}(I,U,Y,le)):[]},xe.filter=function(I,U){return(Xr(I)?au:kd)(I,Ur(U,3))},xe.flatMap=function(I,U){return Ci(Pf(I,U),1)},xe.flatMapDeep=function(I,U){return Ci(Pf(I,U),c)},xe.flatMapDepth=function(I,U,Y){return Y=Y===i?1:rn(Y),Ci(Pf(I,U),Y)},xe.flatten=zd,xe.flattenDeep=function(I){return I!=null&&I.length?Ci(I,c):[]},xe.flattenDepth=function(I,U){return I!=null&&I.length?Ci(I,U=U===i?1:rn(U)):[]},xe.flip=function(I){return En(I,512)},xe.flow=dh,xe.flowRight=Qa,xe.fromPairs=function(I){for(var U=-1,Y=I==null?0:I.length,le={};++U<Y;){var me=I[U];le[me[0]]=me[1]}return le},xe.functions=function(I){return I==null?[]:Qo(I,Pi(I))},xe.functionsIn=function(I){return I==null?[]:Qo(I,dn(I))},xe.groupBy=$d,xe.initial=function(I){return I!=null&&I.length?fu(I,0,-1):[]},xe.intersection=Hh,xe.intersectionBy=Vh,xe.intersectionWith=$h,xe.invert=Pl,xe.invertBy=zo,xe.invokeMap=kv,xe.iteratee=To,xe.keyBy=oh,xe.keys=Pi,xe.keysIn=dn,xe.map=Pf,xe.mapKeys=function(I,U){var Y={};return U=Ur(U,3),lu(I,function(le,me,Le){ys(Y,U(le,me,Le),le)}),Y},xe.mapValues=function(I,U){var Y={};return U=Ur(U,3),lu(I,function(le,me,Le){ys(Y,me,U(le,me,Le))}),Y},xe.matches=function(I){return Ev(so(I,1))},xe.matchesProperty=function(I,U){return $l(I,so(U,1))},xe.memoize=Ju,xe.merge=ch,xe.mergeWith=Oo,xe.method=Ep,xe.methodOf=Qn,xe.mixin=cs,xe.negate=Uo,xe.nthArg=function(I){return I=rn(I),Lr(function(U){return th(U,I)})},xe.omit=Cn,xe.omitBy=function(I,U){return Uv(I,Uo(Ur(U)))},xe.once=function(I){return Qh(2,I)},xe.orderBy=function(I,U,Y,le){return I==null?[]:(Xr(U)||(U=U==null?[]:[U]),Xr(Y=le?i:Y)||(Y=Y==null?[]:[Y]),Wl(I,U,Y))},xe.over=id,xe.overArgs=as,xe.overEvery=xp,xe.overSome=Yg,xe.partial=Os,xe.partialRight=Wd,xe.partition=Mv,xe.pick=rd,xe.pickBy=Uv,xe.property=ev,xe.propertyOf=function(I){return function(U){return I==null?i:Xa(I,U)}},xe.pull=yp,xe.pullAll=Wh,xe.pullAllBy=function(I,U,Y){return I&&I.length&&U&&U.length?_s(I,U,Ur(Y,2)):I},xe.pullAllWith=function(I,U,Y){return I&&I.length&&U&&U.length?_s(I,U,i,Y):I},xe.pullAt=qd,xe.range=ya,xe.rangeRight=bu,xe.rearg=tc,xe.reject=function(I,U){return(Xr(I)?au:kd)(I,Uo(Ur(U,3)))},xe.remove=function(I,U){var Y=[];if(!I||!I.length)return Y;var le=-1,me=[],Le=I.length;for(U=Ur(U,3);++le<Le;){var Ze=I[le];U(Ze,le,I)&&(Y.push(Ze),me.push(le))}return Re(I,me),Y},xe.rest=function(I,U){if(typeof I!="function")throw new Ea(a);return Lr(I,U=U===i?U:rn(U))},xe.reverse=Yh,xe.sampleSize=function(I,U,Y){return U=(Y?co(I,U,Y):U===i)?1:rn(U),(Xr(I)?va:Mc)(I,U)},xe.set=function(I,U,Y){return I==null?I:Yl(I,U,Y)},xe.setWith=function(I,U,Y,le){return le=typeof le=="function"?le:i,I==null?I:Yl(I,U,Y,le)},xe.shuffle=function(I){return(Xr(I)?Hs:xv)(I)},xe.slice=function(I,U,Y){var le=I==null?0:I.length;return le?(Y&&typeof Y!="number"&&co(I,U,Y)?(U=0,Y=le):(U=U==null?0:rn(U),Y=Y===i?le:rn(Y)),fu(I,U,Y)):[]},xe.sortBy=ng,xe.sortedUniq=function(I){return I&&I.length?oi(I):[]},xe.sortedUniqBy=function(I,U){return I&&I.length?oi(I,Ur(U,2)):[]},xe.split=function(I,U,Y){return Y&&typeof Y!="number"&&co(I,U,Y)&&(U=Y=i),(Y=Y===i?v:Y>>>0)?(I=qn(I))&&(typeof U=="string"||U!=null&&!Da(U))&&!(U=jo(U))&&gl(I)?Vs(Fi(I),0,Y):I.split(U,Y):[]},xe.spread=function(I,U){if(typeof I!="function")throw new Ea(a);return U=U==null?0:Ti(rn(U),0),Lr(function(Y){var le=Y[U],me=Vs(Y,0,U);return le&&Yo(me,le),No(I,this,me)})},xe.tail=function(I){var U=I==null?0:I.length;return U?fu(I,1,U):[]},xe.take=function(I,U,Y){return I&&I.length?fu(I,0,(U=Y||U===i?1:rn(U))<0?0:U):[]},xe.takeRight=function(I,U,Y){var le=I==null?0:I.length;return le?fu(I,(U=le-(U=Y||U===i?1:rn(U)))<0?0:U,le):[]},xe.takeRightWhile=function(I,U){return I&&I.length?Ba(I,Ur(U,3),!1,!0):[]},xe.takeWhile=function(I,U){return I&&I.length?Ba(I,Ur(U,3)):[]},xe.tap=function(I,U){return U(I),I},xe.throttle=function(I,U,Y){var le=!0,me=!0;if(typeof I!="function")throw new Ea(a);return Ai(Y)&&(le="leading"in Y?!!Y.leading:le,me="trailing"in Y?!!Y.trailing:me),Al(I,U,{leading:le,maxWait:U,trailing:me})},xe.thru=Vd,xe.toArray=Vt,xe.toPairs=zv,xe.toPairsIn=mu,xe.toPath=function(I){return Xr(I)?kn(I,Pa):us(I)?[I]:uo(Gh(qn(I)))},xe.toPlainObject=ed,xe.transform=function(I,U,Y){var le=Xr(I),me=le||Ua(I)||el(I);if(U=Ur(U,4),Y==null){var Le=I&&I.constructor;Y=me?le?new Le:[]:Ai(I)&&yu(Le)?ml(Cc(I)):{}}return(me?fr:lu)(I,function(Ze,nt,Ot){return U(Y,Ze,nt,Ot)}),Y},xe.unary=function(I){return is(I,1)},xe.union=Dv,xe.unionBy=Ws,xe.unionWith=Hc,xe.uniq=function(I){return I&&I.length?xr(I):[]},xe.uniqBy=function(I,U){return I&&I.length?xr(I,Ur(U,2)):[]},xe.uniqWith=function(I,U){return U=typeof U=="function"?U:i,I&&I.length?xr(I,i,U):[]},xe.unset=function(I,U){return I==null||Mh(I,U)},xe.unzip=Tl,xe.unzipWith=Gd,xe.update=function(I,U,Y){return I==null?I:ja(I,U,$u(Y))},xe.updateWith=function(I,U,Y,le){return le=typeof le=="function"?le:i,I==null?I:ja(I,U,$u(Y),le)},xe.values=ls,xe.valuesIn=function(I){return I==null?[]:Wf(I,dn(I))},xe.without=Hd,xe.words=nd,xe.wrap=function(I,U){return Os($u(U),I)},xe.xor=Af,xe.xorBy=Xh,xe.xorWith=Kh,xe.zip=ah,xe.zipObject=function(I,U){return tg(I||[],U||[],Jf)},xe.zipObjectDeep=function(I,U){return tg(I||[],U||[],Yl)},xe.zipWith=Za,xe.entries=zv,xe.entriesIn=mu,xe.extend=bp,xe.extendWith=td,cs(xe,xe),xe.add=rl,xe.attempt=Rs,xe.camelCase=Zd,xe.capitalize=Xs,xe.ceil=Yc,xe.clamp=function(I,U,Y){return Y===i&&(Y=U,U=i),Y!==i&&(Y=(Y=Ys(Y))==Y?Y:0),U!==i&&(U=(U=Ys(U))==U?U:0),ms(Ys(I),U,Y)},xe.clone=function(I){return so(I,4)},xe.cloneDeep=function(I){return so(I,5)},xe.cloneDeepWith=function(I,U){return so(I,5,U=typeof U=="function"?U:i)},xe.cloneWith=function(I,U){return so(I,4,U=typeof U=="function"?U:i)},xe.conformsTo=function(I,U){return U==null||eh(I,U,Pi(U))},xe.deburr=As,xe.defaultTo=function(I,U){return I==null||I!=I?U:I},xe.divide=ic,xe.endsWith=function(I,U,Y){I=qn(I),U=jo(U);var le=I.length,me=Y=Y===i?le:ms(rn(Y),0,le);return(Y-=U.length)>=0&&I.slice(Y,me)==U},xe.eq=ia,xe.escape=function(I){return(I=qn(I))&&Ge.test(I)?I.replace(_e,bv):I},xe.escapeRegExp=function(I){return(I=qn(I))&&fe.test(I)?I.replace(ne,"\\$&"):I},xe.every=function(I,U,Y){var le=Xr(I)?$f:Id;return Y&&co(I,U,Y)&&(U=i),le(I,Ur(U,3))},xe.find=Iv,xe.findIndex=Yr,xe.findKey=function(I,U){return Ah(I,Ur(U,3),lu)},xe.findLast=Cl,xe.findLastIndex=Tf,xe.findLastKey=function(I,U){return Ah(I,Ur(U,3),bf)},xe.floor=Sp,xe.forEach=Rf,xe.forEachRight=Zh,xe.forIn=function(I,U){return I==null?I:Gu(I,Ur(U,3),dn)},xe.forInRight=function(I,U){return I==null?I:kc(I,Ur(U,3),dn)},xe.forOwn=function(I,U){return I&&lu(I,Ur(U,3))},xe.forOwnRight=function(I,U){return I&&bf(I,Ur(U,3))},xe.get=Bv,xe.gt=Sa,xe.gte=rc,xe.has=function(I,U){return I!=null&&Fo(I,U,cu)},xe.hasIn=Rl,xe.head=Cf,xe.identity=Ks,xe.includes=function(I,U,Y,le){I=ss(I)?I:ls(I),Y=Y&&!le?rn(Y):0;var me=I.length;return Y<0&&(Y=Ti(me+Y,0)),uh(I)?Y<=me&&I.indexOf(U,Y)>-1:!!me&&Ul(I,U,Y)>-1},xe.indexOf=function(I,U,Y){var le=I==null?0:I.length;if(!le)return-1;var me=Y==null?0:rn(Y);return me<0&&(me=Ti(le+me,0)),Ul(I,U,me)},xe.inRange=function(I,U,Y){return U=Cs(U),Y===i?(Y=U,U=0):Y=Cs(Y),function(le,me,Le){return le>=ta(me,Le)&&le<Ti(me,Le)}(I=Ys(I),U,Y)},xe.invoke=Fv,xe.isArguments=os,xe.isArray=Xr,xe.isArrayBuffer=Jh,xe.isArrayLike=ss,xe.isArrayLikeObject=Kn,xe.isBoolean=function(I){return I===!0||I===!1||Ri(I)&&wn(I)==b},xe.isBuffer=Ua,xe.isDate=Nv,xe.isElement=function(I){return Ri(I)&&I.nodeType===1&&!sh(I)},xe.isEmpty=function(I){if(I==null)return!0;if(ss(I)&&(Xr(I)||typeof I=="string"||typeof I.splice=="function"||Ua(I)||el(I)||os(I)))return!I.length;var U=hi(I);if(U==D||U==z)return!I.size;if(Ol(I))return!El(I).length;for(var Y in I)if(jn.call(I,Y))return!1;return!0},xe.isEqual=function(I,U){return fi(I,U)},xe.isEqualWith=function(I,U,Y){var le=(Y=typeof Y=="function"?Y:i)?Y(I,U):i;return le===i?fi(I,U,i,Y):!!le},xe.isError=If,xe.isFinite=function(I){return typeof I=="number"&&_v(I)},xe.isFunction=yu,xe.isInteger=$c,xe.isLength=Ts,xe.isMap=Yd,xe.isMatch=function(I,U){return I===U||mn(I,U,Fh(U))},xe.isMatchWith=function(I,U,Y){return Y=typeof Y=="function"?Y:i,mn(I,U,Fh(U),Y)},xe.isNaN=function(I){return Lv(I)&&I!=+I},xe.isNative=function(I){if(Tv(I))throw new Ln("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Vu(I)},xe.isNil=function(I){return I==null},xe.isNull=function(I){return I===null},xe.isNumber=Lv,xe.isObject=Ai,xe.isObjectLike=Ri,xe.isPlainObject=sh,xe.isRegExp=Da,xe.isSafeInteger=function(I){return $c(I)&&I>=-9007199254740991&&I<=f},xe.isSet=di,xe.isString=uh,xe.isSymbol=us,xe.isTypedArray=el,xe.isUndefined=function(I){return I===i},xe.isWeakMap=function(I){return Ri(I)&&hi(I)==K},xe.isWeakSet=function(I){return Ri(I)&&wn(I)=="[object WeakSet]"},xe.join=function(I,U){return I==null?"":Ko.call(I,U)},xe.kebabCase=Dl,xe.last=pa,xe.lastIndexOf=function(I,U,Y){var le=I==null?0:I.length;if(!le)return-1;var me=le;return Y!==i&&(me=(me=rn(Y))<0?Ti(le+me,0):ta(me,le-1)),U==U?function(Le,Ze,nt){for(var Ot=nt+1;Ot--;)if(Le[Ot]===Ze)return Ot;return Ot}(I,U,me):wc(I,no,me,!0)},xe.lowerCase=kf,xe.lowerFirst=fh,xe.lt=Xd,xe.lte=lh,xe.max=function(I){return I&&I.length?_l(I,Ks,Hu):i},xe.maxBy=function(I,U){return I&&I.length?_l(I,Ur(U,2),Hu):i},xe.mean=function(I){return Ec(I,Ks)},xe.meanBy=function(I,U){return Ec(I,Ur(U,2))},xe.min=function(I){return I&&I.length?_l(I,Ks,es):i},xe.minBy=function(I,U){return I&&I.length?_l(I,Ur(U,2),es):i},xe.stubArray=fs,xe.stubFalse=hs,xe.stubObject=function(){return{}},xe.stubString=function(){return""},xe.stubTrue=function(){return!0},xe.multiply=Hi,xe.nth=function(I,U){return I&&I.length?th(I,rn(U)):i},xe.noConflict=function(){return Xn._===this&&(Xn._=Lu),this},xe.noop=tl,xe.now=ga,xe.pad=function(I,U,Y){I=qn(I);var le=(U=rn(U))?io(I):0;if(!U||le>=U)return I;var me=(U-le)/2;return lo(Ad(me),Y)+I+lo(Cd(me),Y)},xe.padEnd=function(I,U,Y){I=qn(I);var le=(U=rn(U))?io(I):0;return U&&le<U?I+lo(U-le,Y):I},xe.padStart=function(I,U,Y){I=qn(I);var le=(U=rn(U))?io(I):0;return U&&le<U?lo(U-le,Y)+I:I},xe.parseInt=function(I,U,Y){return Y||U==null?U=0:U&&(U=+U),Wg(qn(I).replace(Ue,""),U||0)},xe.random=function(I,U,Y){if(Y&&typeof Y!="boolean"&&co(I,U,Y)&&(U=Y=i),Y===i&&(typeof U=="boolean"?(Y=U,U=i):typeof I=="boolean"&&(Y=I,I=i)),I===i&&U===i?(I=0,U=1):(I=Cs(I),U===i?(U=I,I=0):U=Cs(U)),I>U){var le=I;I=U,U=le}if(Y||I%1||U%1){var me=Jp();return ta(I+me*(U-I+fl("1e-"+((me+"").length-1))),U)}return ws(I,U)},xe.reduce=function(I,U,Y){var le=Xr(I)?bc:xc,me=arguments.length<3;return le(I,Ur(U,4),Y,me,Aa)},xe.reduceRight=function(I,U,Y){var le=Xr(I)?Ch:xc,me=arguments.length<3;return le(I,Ur(U,4),Y,me,Zo)},xe.repeat=function(I,U,Y){return U=(Y?co(I,U,Y):U===i)?1:rn(U),ts(qn(I),U)},xe.replace=function(){var I=arguments,U=qn(I[0]);return I.length<3?U:U.replace(I[1],I[2])},xe.result=function(I,U,Y){var le=-1,me=(U=wo(U,I)).length;for(me||(me=1,I=i);++le<me;){var Le=I==null?i:I[Pa(U[le])];Le===i&&(le=me,Le=Y),I=yu(Le)?Le.call(I):Le}return I},xe.round=Il,xe.runInContext=Ct,xe.sample=function(I){return(Xr(I)?Dd:sn)(I)},xe.size=function(I){if(I==null)return 0;if(ss(I))return uh(I)?io(I):I.length;var U=hi(I);return U==D||U==z?I.size:El(I).length},xe.snakeCase=Wc,xe.some=function(I,U,Y){var le=Xr(I)?vl:eg;return Y&&co(I,U,Y)&&(U=i),le(I,Ur(U,3))},xe.sortedIndex=function(I,U){return Nd(I,U)},xe.sortedIndexBy=function(I,U,Y){return rh(I,U,Ur(Y,2))},xe.sortedIndexOf=function(I,U){var Y=I==null?0:I.length;if(Y){var le=Nd(I,U);if(le<Y&&ia(I[le],U))return le}return-1},xe.sortedLastIndex=function(I,U){return Nd(I,U,!0)},xe.sortedLastIndexBy=function(I,U,Y){return rh(I,U,Ur(Y,2),!0)},xe.sortedLastIndexOf=function(I,U){if(I!=null&&I.length){var Y=Nd(I,U,!0)-1;if(ia(I[Y],U))return Y}return-1},xe.startCase=Qd,xe.startsWith=function(I,U,Y){return I=qn(I),Y=Y==null?0:ms(rn(Y),0,I.length),U=jo(U),I.slice(Y,Y+U.length)==U},xe.subtract=Gv,xe.sum=function(I){return I&&I.length?ku(I,Ks):0},xe.sumBy=function(I,U){return I&&I.length?ku(I,Ur(U,2)):0},xe.template=function(I,U,Y){var le=xe.templateSettings;Y&&co(I,U,Y)&&(U=i),I=qn(I),U=td({},U,le,bn);var me,Le,Ze=td({},U.imports,le.imports,bn),nt=Pi(Ze),Ot=Wf(Ze,nt),qt=0,Gt=U.interpolate||cr,Xt="__p += '",tr=Sd((U.escape||cr).source+"|"+Gt.source+"|"+(Gt===Tt?ht:cr).source+"|"+(U.evaluate||cr).source+"|$","g"),ir="//# sourceURL="+(jn.call(U,"sourceURL")?(U.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++da+"]")+`
`;I.replace(tr,function(Bt,_r,ar,zr,Vr,un){return ar||(ar=zr),Xt+=I.slice(qt,un).replace(Fr,Yf),_r&&(me=!0,Xt+=`' +
__e(`+_r+`) +
'`),Vr&&(Le=!0,Xt+=`';
`+Vr+`;
__p += '`),ar&&(Xt+=`' +
((__t = (`+ar+`)) == null ? '' : __t) +
'`),qt=un+Bt.length,Bt}),Xt+=`';
`;var nr=jn.call(U,"variable")&&U.variable;if(nr){if(Se.test(nr))throw new Ln("Invalid `variable` option passed into `_.template`")}else Xt=`with (obj) {
`+Xt+`
}
`;Xt=(Le?Xt.replace(Ce,""):Xt).replace(Ne,"$1").replace(De,"$1;"),Xt="function("+(nr||"obj")+`) {
`+(nr?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(me?", __e = _.escape":"")+(Le?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Xt+`return __p
}`;var Pt=Rs(function(){return Ya(nt,ir+"return "+Xt).apply(i,Ot)});if(Pt.source=Xt,If(Pt))throw Pt;return Pt},xe.times=function(I,U){if((I=rn(I))<1||I>f)return[];var Y=v,le=ta(I,v);U=Ur(U),I-=v;for(var me=hf(le,U);++Y<I;)U(Y);return me},xe.toFinite=Cs,xe.toInteger=rn,xe.toLength=nc,xe.toLower=function(I){return qn(I).toLowerCase()},xe.toNumber=Ys,xe.toSafeInteger=function(I){return I?ms(rn(I),-9007199254740991,f):I===0?I:0},xe.toString=qn,xe.toUpper=function(I){return qn(I).toUpperCase()},xe.trim=function(I,U,Y){if((I=qn(I))&&(Y||U===i))return $n(I);if(!I||!(U=jo(U)))return I;var le=Fi(I),me=Fi(U);return Vs(le,pl(le,me),su(le,me)+1).join("")},xe.trimEnd=function(I,U,Y){if((I=qn(I))&&(Y||U===i))return I.slice(0,Mu(I)+1);if(!I||!(U=jo(U)))return I;var le=Fi(I);return Vs(le,0,su(le,Fi(U))+1).join("")},xe.trimStart=function(I,U,Y){if((I=qn(I))&&(Y||U===i))return I.replace(Ue,"");if(!I||!(U=jo(U)))return I;var le=Fi(I);return Vs(le,pl(le,Fi(U))).join("")},xe.truncate=function(I,U){var Y=30,le="...";if(Ai(U)){var me="separator"in U?U.separator:me;Y="length"in U?rn(U.length):Y,le="omission"in U?jo(U.omission):le}var Le=(I=qn(I)).length;if(gl(I)){var Ze=Fi(I);Le=Ze.length}if(Y>=Le)return I;var nt=Y-io(le);if(nt<1)return le;var Ot=Ze?Vs(Ze,0,nt).join(""):I.slice(0,nt);if(me===i)return Ot+le;if(Ze&&(nt+=Ot.length-nt),Da(me)){if(I.slice(nt).search(me)){var qt,Gt=Ot;for(me.global||(me=Sd(me.source,qn(ct.exec(me))+"g")),me.lastIndex=0;qt=me.exec(Gt);)var Xt=qt.index;Ot=Ot.slice(0,Xt===i?nt:Xt)}}else if(I.indexOf(jo(me),nt)!=nt){var tr=Ot.lastIndexOf(me);tr>-1&&(Ot=Ot.slice(0,tr))}return Ot+le},xe.unescape=function(I){return(I=qn(I))&&Ie.test(I)?I.replace(ke,Nu):I},xe.uniqueId=function(I){var U=++Dh;return qn(I)+U},xe.upperCase=Jd,xe.upperFirst=hh,xe.each=Rf,xe.eachRight=Zh,xe.first=Cf,cs(xe,(qv={},lu(xe,function(I,U){jn.call(xe.prototype,U)||(qv[U]=I)}),qv),{chain:!1}),xe.VERSION="4.17.21",fr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(I){xe[I].placeholder=xe}),fr(["drop","take"],function(I,U){yn.prototype[I]=function(Y){Y=Y===i?1:Ti(rn(Y),0);var le=this.__filtered__&&!U?new yn(this):this.clone();return le.__filtered__?le.__takeCount__=ta(Y,le.__takeCount__):le.__views__.push({size:ta(Y,v),type:I+(le.__dir__<0?"Right":"")}),le},yn.prototype[I+"Right"]=function(Y){return this.reverse()[I](Y).reverse()}}),fr(["filter","map","takeWhile"],function(I,U){var Y=U+1,le=Y==1||Y==3;yn.prototype[I]=function(me){var Le=this.clone();return Le.__iteratees__.push({iteratee:Ur(me,3),type:Y}),Le.__filtered__=Le.__filtered__||le,Le}}),fr(["head","last"],function(I,U){var Y="take"+(U?"Right":"");yn.prototype[I]=function(){return this[Y](1).value()[0]}}),fr(["initial","tail"],function(I,U){var Y="drop"+(U?"":"Right");yn.prototype[I]=function(){return this.__filtered__?new yn(this):this[Y](1)}}),yn.prototype.compact=function(){return this.filter(Ks)},yn.prototype.find=function(I){return this.filter(I).head()},yn.prototype.findLast=function(I){return this.reverse().find(I)},yn.prototype.invokeMap=Lr(function(I,U){return typeof I=="function"?new yn(this):this.map(function(Y){return wl(Y,I,U)})}),yn.prototype.reject=function(I){return this.filter(Uo(Ur(I)))},yn.prototype.slice=function(I,U){I=rn(I);var Y=this;return Y.__filtered__&&(I>0||U<0)?new yn(Y):(I<0?Y=Y.takeRight(-I):I&&(Y=Y.drop(I)),U!==i&&(Y=(U=rn(U))<0?Y.dropRight(-U):Y.take(U-I)),Y)},yn.prototype.takeRightWhile=function(I){return this.reverse().takeWhile(I).reverse()},yn.prototype.toArray=function(){return this.take(v)},lu(yn.prototype,function(I,U){var Y=/^(?:filter|find|map|reject)|While$/.test(U),le=/^(?:head|last)$/.test(U),me=xe[le?"take"+(U=="last"?"Right":""):U],Le=le||/^find/.test(U);me&&(xe.prototype[U]=function(){var Ze=this.__wrapped__,nt=le?[1]:arguments,Ot=Ze instanceof yn,qt=nt[0],Gt=Ot||Xr(Ze),Xt=function(_r){var ar=me.apply(xe,Yo([_r],nt));return le&&tr?ar[0]:ar};Gt&&Y&&typeof qt=="function"&&qt.length!=1&&(Ot=Gt=!1);var tr=this.__chain__,ir=!!this.__actions__.length,nr=Le&&!tr,Pt=Ot&&!ir;if(!Le&&Gt){Ze=Pt?Ze:new yn(this);var Bt=I.apply(Ze,nt);return Bt.__actions__.push({func:Vd,args:[Xt],thisArg:i}),new na(Bt,tr)}return nr&&Pt?I.apply(this,nt):(Bt=this.thru(Xt),nr?le?Bt.value()[0]:Bt.value():Bt)})}),fr(["pop","push","shift","sort","splice","unshift"],function(I){var U=Ph[I],Y=/^(?:push|sort|unshift)$/.test(I)?"tap":"thru",le=/^(?:pop|shift)$/.test(I);xe.prototype[I]=function(){var me=arguments;if(le&&!this.__chain__){var Le=this.value();return U.apply(Xr(Le)?Le:[],me)}return this[Y](function(Ze){return U.apply(Xr(Ze)?Ze:[],me)})}}),lu(yn.prototype,function(I,U){var Y=xe[U];if(Y){var le=Y.name+"";jn.call(Fu,le)||(Fu[le]=[]),Fu[le].push({name:U,func:Y})}}),Fu[xs(i,2).name]=[{name:"wrapper",func:i}],yn.prototype.clone=function(){var I=new yn(this.__wrapped__);return I.__actions__=uo(this.__actions__),I.__dir__=this.__dir__,I.__filtered__=this.__filtered__,I.__iteratees__=uo(this.__iteratees__),I.__takeCount__=this.__takeCount__,I.__views__=uo(this.__views__),I},yn.prototype.reverse=function(){if(this.__filtered__){var I=new yn(this);I.__dir__=-1,I.__filtered__=!0}else(I=this.clone()).__dir__*=-1;return I},yn.prototype.value=function(){var I=this.__wrapped__.value(),U=this.__dir__,Y=Xr(I),le=U<0,me=Y?I.length:0,Le=function(un,hr,Sr){for(var Di=-1,Ii=Sr.length;++Di<Ii;){var Vi=Sr[Di],Jn=Vi.size;switch(Vi.type){case"drop":un+=Jn;break;case"dropRight":hr-=Jn;break;case"take":hr=ta(hr,un+Jn);break;case"takeRight":un=Ti(un,hr-Jn)}}return{start:un,end:hr}}(0,me,this.__views__),Ze=Le.start,nt=Le.end,Ot=nt-Ze,qt=le?nt:Ze-1,Gt=this.__iteratees__,Xt=Gt.length,tr=0,ir=ta(Ot,this.__takeCount__);if(!Y||!le&&me==Ot&&ir==Ot)return hu(I,this.__actions__);var nr=[];e:for(;Ot--&&tr<ir;){for(var Pt=-1,Bt=I[qt+=U];++Pt<Xt;){var _r=Gt[Pt],ar=_r.iteratee,zr=_r.type,Vr=ar(Bt);if(zr==2)Bt=Vr;else if(!Vr){if(zr==1)continue e;break e}}nr[tr++]=Bt}return nr},xe.prototype.at=ec,xe.prototype.chain=function(){return Qu(this)},xe.prototype.commit=function(){return new na(this.value(),this.__chain__)},xe.prototype.next=function(){this.__values__===i&&(this.__values__=Vt(this.value()));var I=this.__index__>=this.__values__.length;return{done:I,value:I?i:this.__values__[this.__index__++]}},xe.prototype.plant=function(I){for(var U,Y=this;Y instanceof Pd;){var le=Rv(Y);le.__index__=0,le.__values__=i,U?me.__wrapped__=le:U=le;var me=le;Y=Y.__wrapped__}return me.__wrapped__=I,U},xe.prototype.reverse=function(){var I=this.__wrapped__;if(I instanceof yn){var U=I;return this.__actions__.length&&(U=new yn(this)),(U=U.reverse()).__actions__.push({func:Vd,args:[Yh],thisArg:i}),new na(U,this.__chain__)}return this.thru(Yh)},xe.prototype.toJSON=xe.prototype.valueOf=xe.prototype.value=function(){return hu(this.__wrapped__,this.__actions__)},xe.prototype.first=xe.prototype.head,Ac&&(xe.prototype[Ac]=function(){return this}),xe}();Xn._=uu,(n=(function(){return uu}).call(e,t,e,r))===i||(r.exports=n)}).call(this)},5880:function(r,e,t){var n,i;n=function(){var a=function(){},o="undefined",s=typeof window!==o&&typeof window.navigator!==o&&/Trident\/|MSIE /.test(window.navigator.userAgent),u=["trace","debug","info","warn","error"],l={},c=null;function f(y,_){var S=y[_];if(typeof S.bind=="function")return S.bind(y);try{return Function.prototype.bind.call(S,y)}catch{return function(){return Function.prototype.apply.apply(S,[y,arguments])}}}function d(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function v(){for(var y=this.getLevel(),_=0;_<u.length;_++){var S=u[_];this[S]=_<y?a:this.methodFactory(S,y,this.name)}if(this.log=this.debug,typeof console===o&&y<this.levels.SILENT)return"No console available for logging"}function p(y){return function(){typeof console!==o&&(v.call(this),this[y].apply(this,arguments))}}function m(y,_,S){return function(A){return A==="debug"&&(A="log"),typeof console!==o&&(A==="trace"&&s?d:console[A]!==void 0?f(console,A):console.log!==void 0?f(console,"log"):a)}(y)||p.apply(this,arguments)}function w(y,_){var S,A,D,R=this,k="loglevel";function j(){var q;if(typeof window!==o&&k){try{q=window.localStorage[k]}catch{}if(typeof q===o)try{var $=window.document.cookie,K=encodeURIComponent(k),oe=$.indexOf(K+"=");oe!==-1&&(q=/^([^;]+)/.exec($.slice(oe+K.length+1))[1])}catch{}return R.levels[q]===void 0&&(q=void 0),q}}function F(q){var $=q;if(typeof $=="string"&&R.levels[$.toUpperCase()]!==void 0&&($=R.levels[$.toUpperCase()]),typeof $=="number"&&$>=0&&$<=R.levels.SILENT)return $;throw new TypeError("log.setLevel() called with invalid level: "+q)}typeof y=="string"?k+=":"+y:typeof y=="symbol"&&(k=void 0),R.name=y,R.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},R.methodFactory=_||m,R.getLevel=function(){return D??A??S},R.setLevel=function(q,$){return D=F(q),$!==!1&&function(K){var oe=(u[K]||"silent").toUpperCase();if(typeof window!==o&&k){try{return void(window.localStorage[k]=oe)}catch{}try{window.document.cookie=encodeURIComponent(k)+"="+oe+";"}catch{}}}(D),v.call(R)},R.setDefaultLevel=function(q){A=F(q),j()||R.setLevel(q,!1)},R.resetLevel=function(){D=null,function(){if(typeof window!==o&&k){try{window.localStorage.removeItem(k)}catch{}try{window.document.cookie=encodeURIComponent(k)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}(),v.call(R)},R.enableAll=function(q){R.setLevel(R.levels.TRACE,q)},R.disableAll=function(q){R.setLevel(R.levels.SILENT,q)},R.rebuild=function(){if(c!==R&&(S=F(c.getLevel())),v.call(R),c===R)for(var q in l)l[q].rebuild()},S=F(c?c.getLevel():"WARN");var z=j();z!=null&&(D=F(z)),v.call(R)}(c=new w).getLogger=function(y){if(typeof y!="symbol"&&typeof y!="string"||y==="")throw new TypeError("You must supply a name when creating a logger.");var _=l[y];return _||(_=l[y]=new w(y,c.methodFactory)),_};var b=typeof window!==o?window.log:void 0;return c.noConflict=function(){return typeof window!==o&&window.log===c&&(window.log=b),c},c.getLoggers=function(){return l},c.default=c,c},(i=n.call(e,t,e,r))===void 0||(r.exports=i)},397:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.assertNotificationFilterIsEmpty=e.assertImpersonatedUserIsEmpty=e.assertTxConfigIsEmpty=e.assertDatabaseIsEmpty=void 0;var n=t(9305);t(9014),e.assertTxConfigIsEmpty=function(i,a,o){if(a===void 0&&(a=function(){}),i&&!i.isEmpty()){var s=(0,n.newError)("Driver is connected to the database that does not support transaction configuration. Please upgrade to neo4j 3.5.0 or later in order to use this functionality");throw a(s.message),o.onError(s),s}},e.assertDatabaseIsEmpty=function(i,a,o){if(a===void 0&&(a=function(){}),i){var s=(0,n.newError)("Driver is connected to the database that does not support multiple databases. Please upgrade to neo4j 4.0.0 or later in order to use this functionality");throw a(s.message),o.onError(s),s}},e.assertImpersonatedUserIsEmpty=function(i,a,o){if(a===void 0&&(a=function(){}),i){var s=(0,n.newError)("Driver is connected to the database that does not support user impersonation. Please upgrade to neo4j 4.4.0 or later in order to use this functionality. "+"Trying to impersonate ".concat(i,"."));throw a(s.message),o.onError(s),s}},e.assertNotificationFilterIsEmpty=function(i,a,o){if(a===void 0&&(a=function(){}),i!==void 0){var s=(0,n.newError)("Driver is connected to a database that does not support user notification filters. Please upgrade to Neo4j 5.7.0 or later in order to use this functionality. "+"Trying to set notifications to ".concat(n.json.stringify(i),"."));throw a(s.message),o.onError(s),s}}},8320:function(r,e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(D){for(var R,k=1,j=arguments.length;k<j;k++)for(var F in R=arguments[k])Object.prototype.hasOwnProperty.call(R,F)&&(D[F]=R[F]);return D},n.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(D,R,k,j){j===void 0&&(j=k);var F=Object.getOwnPropertyDescriptor(R,k);F&&!("get"in F?!R.__esModule:F.writable||F.configurable)||(F={enumerable:!0,get:function(){return R[k]}}),Object.defineProperty(D,j,F)}:function(D,R,k,j){j===void 0&&(j=k),D[j]=R[k]}),a=this&&this.__setModuleDefault||(Object.create?function(D,R){Object.defineProperty(D,"default",{enumerable:!0,value:R})}:function(D,R){D.default=R}),o=this&&this.__importStar||function(D){if(D&&D.__esModule)return D;var R={};if(D!=null)for(var k in D)k!=="default"&&Object.prototype.hasOwnProperty.call(D,k)&&i(R,D,k);return a(R,D),R},s=this&&this.__importDefault||function(D){return D&&D.__esModule?D:{default:D}};Object.defineProperty(e,"__esModule",{value:!0});var u=t(397),l=(t(7452),t(7168)),c=o(t(7021)),f=t(9014),d=t(9305),v=s(t(6661)),p=s(t(3321)),m=d.internal.bookmarks.Bookmarks,w=d.internal.constants,b=w.ACCESS_MODE_WRITE,y=w.BOLT_PROTOCOL_V1,_=(d.internal.logger.Logger,d.internal.txConfig.TxConfig),S=Object.freeze({OPERATION:"",OPERATION_CODE:"0",CURRENT_SCHEMA:"/"}),A=function(){function D(R,k,j,F,z,q){var $=j===void 0?{}:j,K=$.disableLosslessIntegers,oe=$.useBigInt;F===void 0&&(F=function(){return null}),this._server=R||{},this._chunker=k,this._packer=this._createPacker(k),this._unpacker=this._createUnpacker(K,oe),this._responseHandler=F(this),this._log=z,this._onProtocolError=q,this._fatalError=null,this._lastMessageSignature=null,this._config={disableLosslessIntegers:K,useBigInt:oe}}return Object.defineProperty(D.prototype,"transformer",{get:function(){var R=this;return this._transformer===void 0&&(this._transformer=new p.default(Object.values(v.default).map(function(k){return k(R._config,R._log)}))),this._transformer},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"version",{get:function(){return y},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"supportsReAuth",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"initialized",{get:function(){return!!this._initialized},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"authToken",{get:function(){return this._authToken},enumerable:!1,configurable:!0}),D.prototype.packer=function(){return this._packer},D.prototype.packable=function(R){return this._packer.packable(R,this.transformer.toStructure)},D.prototype.unpacker=function(){return this._unpacker},D.prototype.unpack=function(R){return this._unpacker.unpack(R,this.transformer.fromStructure)},D.prototype.transformMetadata=function(R){return R},D.prototype.enrichErrorMetadata=function(R){return n(n({},R),{diagnostic_record:R.diagnostic_record!==null?n(n({},S),R.diagnostic_record):null})},D.prototype.initialize=function(R){var k=this,j=R===void 0?{}:R,F=j.userAgent,z=(j.boltAgent,j.authToken),q=j.notificationFilter,$=j.onError,K=j.onComplete,oe=new f.LoginObserver({onError:function(J){return k._onLoginError(J,$)},onCompleted:function(J){return k._onLoginCompleted(J,K)}});return(0,u.assertNotificationFilterIsEmpty)(q,this._onProtocolError,oe),this.write(c.default.init(F,z),oe,!0),oe},D.prototype.logoff=function(R){var k=R===void 0?{}:R,j=k.onComplete,F=k.onError,z=(k.flush,new f.LogoffObserver({onCompleted:j,onError:F})),q=(0,d.newError)("Driver is connected to a database that does not support logoff. Please upgrade to Neo4j 5.5.0 or later in order to use this functionality.");throw this._onProtocolError(q.message),z.onError(q),q},D.prototype.logon=function(R){var k=this,j=R===void 0?{}:R,F=j.authToken,z=j.onComplete,q=j.onError,$=(j.flush,new f.LoginObserver({onCompleted:function(){return k._onLoginCompleted({},F,z)},onError:function(oe){return k._onLoginError(oe,q)}})),K=(0,d.newError)("Driver is connected to a database that does not support logon. Please upgrade to Neo4j 5.5.0 or later in order to use this functionality.");throw this._onProtocolError(K.message),$.onError(K),K},D.prototype.prepareToClose=function(){},D.prototype.beginTransaction=function(R){var k=R===void 0?{}:R,j=k.bookmarks,F=k.txConfig,z=k.database,q=k.mode,$=k.impersonatedUser,K=k.notificationFilter,oe=k.beforeError,J=k.afterError,re=k.beforeComplete,ae=k.afterComplete;return this.run("BEGIN",j?j.asBeginTransactionParameters():{},{bookmarks:j,txConfig:F,database:z,mode:q,impersonatedUser:$,notificationFilter:K,beforeError:oe,afterError:J,beforeComplete:re,afterComplete:ae,flush:!1})},D.prototype.commitTransaction=function(R){var k=R===void 0?{}:R,j=k.beforeError,F=k.afterError,z=k.beforeComplete,q=k.afterComplete;return this.run("COMMIT",{},{bookmarks:m.empty(),txConfig:_.empty(),mode:b,beforeError:j,afterError:F,beforeComplete:z,afterComplete:q})},D.prototype.rollbackTransaction=function(R){var k=R===void 0?{}:R,j=k.beforeError,F=k.afterError,z=k.beforeComplete,q=k.afterComplete;return this.run("ROLLBACK",{},{bookmarks:m.empty(),txConfig:_.empty(),mode:b,beforeError:j,afterError:F,beforeComplete:z,afterComplete:q})},D.prototype.run=function(R,k,j){var F=j===void 0?{}:j,z=(F.bookmarks,F.txConfig),q=F.database,$=(F.mode,F.impersonatedUser),K=F.notificationFilter,oe=F.beforeKeys,J=F.afterKeys,re=F.beforeError,ae=F.afterError,ve=F.beforeComplete,se=F.afterComplete,ce=F.flush,pe=ce===void 0||ce,Pe=F.highRecordWatermark,de=Pe===void 0?Number.MAX_VALUE:Pe,ge=F.lowRecordWatermark,Ce=ge===void 0?Number.MAX_VALUE:ge,Ne=new f.ResultStreamObserver({server:this._server,beforeKeys:oe,afterKeys:J,beforeError:re,afterError:ae,beforeComplete:ve,afterComplete:se,highRecordWatermark:de,lowRecordWatermark:Ce});return(0,u.assertTxConfigIsEmpty)(z,this._onProtocolError,Ne),(0,u.assertDatabaseIsEmpty)(q,this._onProtocolError,Ne),(0,u.assertImpersonatedUserIsEmpty)($,this._onProtocolError,Ne),(0,u.assertNotificationFilterIsEmpty)(K,this._onProtocolError,Ne),this.write(c.default.run(R,k),Ne,!1),this.write(c.default.pullAll(),Ne,pe),Ne},Object.defineProperty(D.prototype,"currentFailure",{get:function(){return this._responseHandler.currentFailure},enumerable:!1,configurable:!0}),D.prototype.reset=function(R){var k=R===void 0?{}:R,j=k.onError,F=k.onComplete,z=new f.ResetObserver({onProtocolError:this._onProtocolError,onError:j,onComplete:F});return this.write(c.default.reset(),z,!0),z},D.prototype.telemetry=function(R,k){R.api;var j=k===void 0?{}:k,F=(j.onError,j.onCompleted),z=new f.CompletedObserver;return F&&F(),z},D.prototype._createPacker=function(R){return new l.v1.Packer(R)},D.prototype._createUnpacker=function(R,k){return new l.v1.Unpacker(R,k)},D.prototype.write=function(R,k,j){if(this.queueObserverIfProtocolIsNotBroken(k)){this._log.isDebugEnabled()&&this._log.debug("C: ".concat(R)),this._lastMessageSignature=R.signature;var F=new l.structure.Structure(R.signature,R.fields);this.packable(F)(),this._chunker.messageBoundary(),j&&this._chunker.flush()}},D.prototype.isLastMessageLogon=function(){return this._lastMessageSignature===c.SIGNATURES.HELLO||this._lastMessageSignature===c.SIGNATURES.LOGON},D.prototype.isLastMessageReset=function(){return this._lastMessageSignature===c.SIGNATURES.RESET},D.prototype.notifyFatalError=function(R){return this._fatalError=R,this._responseHandler._notifyErrorToObservers(R)},D.prototype.updateCurrentObserver=function(){return this._responseHandler._updateCurrentObserver()},D.prototype.hasOngoingObservableRequests=function(){return this._responseHandler.hasOngoingObservableRequests()},D.prototype.queueObserverIfProtocolIsNotBroken=function(R){return this.isBroken()?(this.notifyFatalErrorToObserver(R),!1):this._responseHandler._queueObserver(R)},D.prototype.isBroken=function(){return!!this._fatalError},D.prototype.notifyFatalErrorToObserver=function(R){R&&R.onError&&R.onError(this._fatalError)},D.prototype.resetFailure=function(){this._responseHandler._resetFailure()},D.prototype._onLoginCompleted=function(R,k,j){if(this._initialized=!0,this._authToken=k,R){var F=R.server;this._server.version||(this._server.version=F)}j&&j(R)},D.prototype._onLoginError=function(R,k){this._onProtocolError(R.message),k&&k(R)},D}();e.default=A},6661:function(r,e,t){var n=this&&this.__read||function(u,l){var c=typeof Symbol=="function"&&u[Symbol.iterator];if(!c)return u;var f,d,v=c.call(u),p=[];try{for(;(l===void 0||l-- >0)&&!(f=v.next()).done;)p.push(f.value)}catch(m){d={error:m}}finally{try{f&&!f.done&&(c=v.return)&&c.call(v)}finally{if(d)throw d.error}}return p};Object.defineProperty(e,"__esModule",{value:!0});var i=t(9305),a=t(7168),o=t(3321),s=i.error.PROTOCOL_ERROR;e.default={createNodeTransformer:function(){return new o.TypeTransformer({signature:78,isTypeInstance:function(u){return u instanceof i.Node},toStructure:function(u){throw(0,i.newError)("It is not allowed to pass nodes in query parameters, given: ".concat(u),s)},fromStructure:function(u){a.structure.verifyStructSize("Node",3,u.size);var l=n(u.fields,3),c=l[0],f=l[1],d=l[2];return new i.Node(c,f,d)}})},createRelationshipTransformer:function(){return new o.TypeTransformer({signature:82,isTypeInstance:function(u){return u instanceof i.Relationship},toStructure:function(u){throw(0,i.newError)("It is not allowed to pass relationships in query parameters, given: ".concat(u),s)},fromStructure:function(u){a.structure.verifyStructSize("Relationship",5,u.size);var l=n(u.fields,5),c=l[0],f=l[1],d=l[2],v=l[3],p=l[4];return new i.Relationship(c,f,d,v,p)}})},createUnboundRelationshipTransformer:function(){return new o.TypeTransformer({signature:114,isTypeInstance:function(u){return u instanceof i.UnboundRelationship},toStructure:function(u){throw(0,i.newError)("It is not allowed to pass unbound relationships in query parameters, given: ".concat(u),s)},fromStructure:function(u){a.structure.verifyStructSize("UnboundRelationship",3,u.size);var l=n(u.fields,3),c=l[0],f=l[1],d=l[2];return new i.UnboundRelationship(c,f,d)}})},createPathTransformer:function(){return new o.TypeTransformer({signature:80,isTypeInstance:function(u){return u instanceof i.Path},toStructure:function(u){throw(0,i.newError)("It is not allowed to pass paths in query parameters, given: ".concat(u),s)},fromStructure:function(u){a.structure.verifyStructSize("Path",3,u.size);for(var l=n(u.fields,3),c=l[0],f=l[1],d=l[2],v=[],p=c[0],m=0;m<d.length;m+=2){var w=c[d[m+1]],b=(0,i.toNumber)(d[m]),y=void 0;b>0?(y=f[b-1])instanceof i.UnboundRelationship&&(f[b-1]=y=y.bindTo(p,w)):(y=f[-b-1])instanceof i.UnboundRelationship&&(f[-b-1]=y=y.bindTo(w,p)),v.push(new i.PathSegment(p,y,w)),p=w}return new i.Path(c[0],c[c.length-1],v)}})}}},2857:function(r,e,t){var n,i=this&&this.__extends||(n=function(v,p){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,w){m.__proto__=w}||function(m,w){for(var b in w)Object.prototype.hasOwnProperty.call(w,b)&&(m[b]=w[b])},n(v,p)},function(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");function m(){this.constructor=v}n(v,p),v.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}),a=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(e,"__esModule",{value:!0});var o=a(t(8320)),s=a(t(7168)),u=t(9305),l=a(t(3448)),c=a(t(3321)),f=u.internal.constants.BOLT_PROTOCOL_V2,d=function(v){function p(){return v!==null&&v.apply(this,arguments)||this}return i(p,v),p.prototype._createPacker=function(m){return new s.default.Packer(m)},p.prototype._createUnpacker=function(m,w){return new s.default.Unpacker(m,w)},Object.defineProperty(p.prototype,"transformer",{get:function(){var m=this;return this._transformer===void 0&&(this._transformer=new c.default(Object.values(l.default).map(function(w){return w(m._config,m._log)}))),this._transformer},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"version",{get:function(){return f},enumerable:!1,configurable:!0}),p}(o.default);e.default=d},3448:function(r,e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(w){for(var b,y=1,_=arguments.length;y<_;y++)for(var S in b=arguments[y])Object.prototype.hasOwnProperty.call(b,S)&&(w[S]=b[S]);return w},n.apply(this,arguments)},i=this&&this.__read||function(w,b){var y=typeof Symbol=="function"&&w[Symbol.iterator];if(!y)return w;var _,S,A=y.call(w),D=[];try{for(;(b===void 0||b-- >0)&&!(_=A.next()).done;)D.push(_.value)}catch(R){S={error:R}}finally{try{_&&!_.done&&(y=A.return)&&y.call(A)}finally{if(S)throw S.error}}return D},a=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(e,"__esModule",{value:!0});var o=t(9305),s=t(7168),u=t(3321),l=t(5973),c=a(t(6661)),f=o.internal.temporalUtil,d=f.dateToEpochDay,v=f.localDateTimeToEpochSecond,p=f.localTimeToNanoOfDay;function m(w,b,y){if(!b&&!y)return w;var _=function(R){return y?R.toBigInt():R.toNumberOrInfinity()},S=Object.create(Object.getPrototypeOf(w));for(var A in w)if(Object.prototype.hasOwnProperty.call(w,A)===!0){var D=w[A];S[A]=(0,o.isInt)(D)?_(D):D}return Object.freeze(S),S}e.default=n(n({},c.default),{createPoint2DTransformer:function(){return new u.TypeTransformer({signature:88,isTypeInstance:function(w){return(0,o.isPoint)(w)&&(w.z===null||w.z===void 0)},toStructure:function(w){return new s.structure.Structure(88,[(0,o.int)(w.srid),w.x,w.y])},fromStructure:function(w){s.structure.verifyStructSize("Point2D",3,w.size);var b=i(w.fields,3),y=b[0],_=b[1],S=b[2];return new o.Point(y,_,S,void 0)}})},createPoint3DTransformer:function(){return new u.TypeTransformer({signature:89,isTypeInstance:function(w){return(0,o.isPoint)(w)&&w.z!==null&&w.z!==void 0},toStructure:function(w){return new s.structure.Structure(89,[(0,o.int)(w.srid),w.x,w.y,w.z])},fromStructure:function(w){s.structure.verifyStructSize("Point3D",4,w.size);var b=i(w.fields,4),y=b[0],_=b[1],S=b[2],A=b[3];return new o.Point(y,_,S,A)}})},createDurationTransformer:function(){return new u.TypeTransformer({signature:69,isTypeInstance:o.isDuration,toStructure:function(w){var b=(0,o.int)(w.months),y=(0,o.int)(w.days),_=(0,o.int)(w.seconds),S=(0,o.int)(w.nanoseconds);return new s.structure.Structure(69,[b,y,_,S])},fromStructure:function(w){s.structure.verifyStructSize("Duration",4,w.size);var b=i(w.fields,4),y=b[0],_=b[1],S=b[2],A=b[3];return new o.Duration(y,_,S,A)}})},createLocalTimeTransformer:function(w){var b=w.disableLosslessIntegers,y=w.useBigInt;return new u.TypeTransformer({signature:116,isTypeInstance:o.isLocalTime,toStructure:function(_){var S=p(_.hour,_.minute,_.second,_.nanosecond);return new s.structure.Structure(116,[S])},fromStructure:function(_){s.structure.verifyStructSize("LocalTime",1,_.size);var S=i(_.fields,1)[0];return m((0,l.nanoOfDayToLocalTime)(S),b,y)}})},createTimeTransformer:function(w){var b=w.disableLosslessIntegers,y=w.useBigInt;return new u.TypeTransformer({signature:84,isTypeInstance:o.isTime,toStructure:function(_){var S=p(_.hour,_.minute,_.second,_.nanosecond),A=(0,o.int)(_.timeZoneOffsetSeconds);return new s.structure.Structure(84,[S,A])},fromStructure:function(_){s.structure.verifyStructSize("Time",2,_.size);var S=i(_.fields,2),A=S[0],D=S[1],R=(0,l.nanoOfDayToLocalTime)(A);return m(new o.Time(R.hour,R.minute,R.second,R.nanosecond,D),b,y)}})},createDateTransformer:function(w){var b=w.disableLosslessIntegers,y=w.useBigInt;return new u.TypeTransformer({signature:68,isTypeInstance:o.isDate,toStructure:function(_){var S=d(_.year,_.month,_.day);return new s.structure.Structure(68,[S])},fromStructure:function(_){s.structure.verifyStructSize("Date",1,_.size);var S=i(_.fields,1)[0];return m((0,l.epochDayToDate)(S),b,y)}})},createLocalDateTimeTransformer:function(w){var b=w.disableLosslessIntegers,y=w.useBigInt;return new u.TypeTransformer({signature:100,isTypeInstance:o.isLocalDateTime,toStructure:function(_){var S=v(_.year,_.month,_.day,_.hour,_.minute,_.second,_.nanosecond),A=(0,o.int)(_.nanosecond);return new s.structure.Structure(100,[S,A])},fromStructure:function(_){s.structure.verifyStructSize("LocalDateTime",2,_.size);var S=i(_.fields,2),A=S[0],D=S[1];return m((0,l.epochSecondAndNanoToLocalDateTime)(A,D),b,y)}})},createDateTimeWithZoneIdTransformer:function(w){var b=w.disableLosslessIntegers,y=w.useBigInt;return new u.TypeTransformer({signature:102,isTypeInstance:function(_){return(0,o.isDateTime)(_)&&_.timeZoneId!=null},toStructure:function(_){var S=v(_.year,_.month,_.day,_.hour,_.minute,_.second,_.nanosecond),A=(0,o.int)(_.nanosecond),D=_.timeZoneId;return new s.structure.Structure(102,[S,A,D])},fromStructure:function(_){s.structure.verifyStructSize("DateTimeWithZoneId",3,_.size);var S=i(_.fields,3),A=S[0],D=S[1],R=S[2],k=(0,l.epochSecondAndNanoToLocalDateTime)(A,D);return m(new o.DateTime(k.year,k.month,k.day,k.hour,k.minute,k.second,k.nanosecond,null,R),b,y)}})},createDateTimeWithOffsetTransformer:function(w){var b=w.disableLosslessIntegers,y=w.useBigInt;return new u.TypeTransformer({signature:70,isTypeInstance:function(_){return(0,o.isDateTime)(_)&&_.timeZoneId==null},toStructure:function(_){var S=v(_.year,_.month,_.day,_.hour,_.minute,_.second,_.nanosecond),A=(0,o.int)(_.nanosecond),D=(0,o.int)(_.timeZoneOffsetSeconds);return new s.structure.Structure(70,[S,A,D])},fromStructure:function(_){s.structure.verifyStructSize("DateTimeWithZoneOffset",3,_.size);var S=i(_.fields,3),A=S[0],D=S[1],R=S[2],k=(0,l.epochSecondAndNanoToLocalDateTime)(A,D);return m(new o.DateTime(k.year,k.month,k.day,k.hour,k.minute,k.second,k.nanosecond,R,null),b,y)}})}})},5642:function(r,e,t){var n,i=this&&this.__extends||(n=function(S,A){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,R){D.__proto__=R}||function(D,R){for(var k in R)Object.prototype.hasOwnProperty.call(R,k)&&(D[k]=R[k])},n(S,A)},function(S,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function D(){this.constructor=S}n(S,A),S.prototype=A===null?Object.create(A):(D.prototype=A.prototype,new D)}),a=this&&this.__assign||function(){return a=Object.assign||function(S){for(var A,D=1,R=arguments.length;D<R;D++)for(var k in A=arguments[D])Object.prototype.hasOwnProperty.call(A,k)&&(S[k]=A[k]);return S},a.apply(this,arguments)},o=this&&this.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(e,"__esModule",{value:!0});var s=o(t(2857)),u=o(t(7021)),l=t(397),c=t(9014),f=o(t(1175)),d=o(t(3321)),v=t(9305),p=(v.internal.bookmarks.Bookmarks,v.internal.constants.BOLT_PROTOCOL_V3),m=v.internal.txConfig.TxConfig,w="context",b="CALL dbms.cluster.routing.getRoutingTable($".concat(w,")"),y=new c.StreamObserver,_=function(S){function A(){return S!==null&&S.apply(this,arguments)||this}return i(A,S),Object.defineProperty(A.prototype,"version",{get:function(){return p},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"transformer",{get:function(){var D=this;return this._transformer===void 0&&(this._transformer=new d.default(Object.values(f.default).map(function(R){return R(D._config,D._log)}))),this._transformer},enumerable:!1,configurable:!0}),A.prototype.transformMetadata=function(D){return"t_first"in D&&(D.result_available_after=D.t_first,delete D.t_first),"t_last"in D&&(D.result_consumed_after=D.t_last,delete D.t_last),D},A.prototype.initialize=function(D){var R=this,k=D===void 0?{}:D,j=k.userAgent,F=(k.boltAgent,k.authToken),z=k.notificationFilter,q=k.onError,$=k.onComplete,K=new c.LoginObserver({onError:function(oe){return R._onLoginError(oe,q)},onCompleted:function(oe){return R._onLoginCompleted(oe,F,$)}});return(0,l.assertNotificationFilterIsEmpty)(z,this._onProtocolError,K),this.write(u.default.hello(j,F),K,!0),K},A.prototype.prepareToClose=function(){this.write(u.default.goodbye(),y,!0)},A.prototype.beginTransaction=function(D){var R=D===void 0?{}:D,k=R.bookmarks,j=R.txConfig,F=R.database,z=R.impersonatedUser,q=R.notificationFilter,$=R.mode,K=R.beforeError,oe=R.afterError,J=R.beforeComplete,re=R.afterComplete,ae=new c.ResultStreamObserver({server:this._server,beforeError:K,afterError:oe,beforeComplete:J,afterComplete:re});return ae.prepareToHandleSingleResponse(),(0,l.assertDatabaseIsEmpty)(F,this._onProtocolError,ae),(0,l.assertImpersonatedUserIsEmpty)(z,this._onProtocolError,ae),(0,l.assertNotificationFilterIsEmpty)(q,this._onProtocolError,ae),this.write(u.default.begin({bookmarks:k,txConfig:j,mode:$}),ae,!0),ae},A.prototype.commitTransaction=function(D){var R=D===void 0?{}:D,k=R.beforeError,j=R.afterError,F=R.beforeComplete,z=R.afterComplete,q=new c.ResultStreamObserver({server:this._server,beforeError:k,afterError:j,beforeComplete:F,afterComplete:z});return q.prepareToHandleSingleResponse(),this.write(u.default.commit(),q,!0),q},A.prototype.rollbackTransaction=function(D){var R=D===void 0?{}:D,k=R.beforeError,j=R.afterError,F=R.beforeComplete,z=R.afterComplete,q=new c.ResultStreamObserver({server:this._server,beforeError:k,afterError:j,beforeComplete:F,afterComplete:z});return q.prepareToHandleSingleResponse(),this.write(u.default.rollback(),q,!0),q},A.prototype.run=function(D,R,k){var j=k===void 0?{}:k,F=j.bookmarks,z=j.txConfig,q=j.database,$=j.impersonatedUser,K=j.notificationFilter,oe=j.mode,J=j.beforeKeys,re=j.afterKeys,ae=j.beforeError,ve=j.afterError,se=j.beforeComplete,ce=j.afterComplete,pe=j.flush,Pe=pe===void 0||pe,de=j.highRecordWatermark,ge=de===void 0?Number.MAX_VALUE:de,Ce=j.lowRecordWatermark,Ne=Ce===void 0?Number.MAX_VALUE:Ce,De=new c.ResultStreamObserver({server:this._server,beforeKeys:J,afterKeys:re,beforeError:ae,afterError:ve,beforeComplete:se,afterComplete:ce,highRecordWatermark:ge,lowRecordWatermark:Ne});return(0,l.assertDatabaseIsEmpty)(q,this._onProtocolError,De),(0,l.assertImpersonatedUserIsEmpty)($,this._onProtocolError,De),(0,l.assertNotificationFilterIsEmpty)(K,this._onProtocolError,De),this.write(u.default.runWithMetadata(D,R,{bookmarks:F,txConfig:z,mode:oe}),De,!1),this.write(u.default.pullAll(),De,Pe),De},A.prototype.requestRoutingInformation=function(D){var R,k=D.routingContext,j=k===void 0?{}:k,F=D.sessionContext,z=F===void 0?{}:F,q=D.onError,$=D.onCompleted,K=this.run(b,((R={})[w]=j,R),a(a({},z),{txConfig:m.empty()}));return new c.ProcedureRouteObserver({resultObserver:K,onProtocolError:this._onProtocolError,onError:q,onCompleted:$})},A}(s.default);e.default=_},1175:function(r,e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(o){for(var s,u=1,l=arguments.length;u<l;u++)for(var c in s=arguments[u])Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c]);return o},n.apply(this,arguments)},i=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(t(3448));e.default=n({},a.default)},2539:function(r,e,t){var n,i=this&&this.__extends||(n=function(D,R){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,j){k.__proto__=j}||function(k,j){for(var F in j)Object.prototype.hasOwnProperty.call(j,F)&&(k[F]=j[F])},n(D,R)},function(D,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");function k(){this.constructor=D}n(D,R),D.prototype=R===null?Object.create(R):(k.prototype=R.prototype,new k)}),a=this&&this.__assign||function(){return a=Object.assign||function(D){for(var R,k=1,j=arguments.length;k<j;k++)for(var F in R=arguments[k])Object.prototype.hasOwnProperty.call(R,F)&&(D[F]=R[F]);return D},a.apply(this,arguments)},o=this&&this.__importDefault||function(D){return D&&D.__esModule?D:{default:D}};Object.defineProperty(e,"__esModule",{value:!0});var s=o(t(5642)),u=o(t(7021)),l=t(397),c=t(9014),f=o(t(2066)),d=o(t(3321)),v=t(9305),p=(v.internal.bookmarks.Bookmarks,v.internal.constants),m=p.BOLT_PROTOCOL_V4_0,w=p.FETCH_ALL,b=v.internal.txConfig.TxConfig,y="context",_="database",S="CALL dbms.routing.getRoutingTable($".concat(y,", $").concat(_,")"),A=function(D){function R(){return D!==null&&D.apply(this,arguments)||this}return i(R,D),Object.defineProperty(R.prototype,"version",{get:function(){return m},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"transformer",{get:function(){var k=this;return this._transformer===void 0&&(this._transformer=new d.default(Object.values(f.default).map(function(j){return j(k._config,k._log)}))),this._transformer},enumerable:!1,configurable:!0}),R.prototype.beginTransaction=function(k){var j=k===void 0?{}:k,F=j.bookmarks,z=j.txConfig,q=j.database,$=j.impersonatedUser,K=j.notificationFilter,oe=j.mode,J=j.beforeError,re=j.afterError,ae=j.beforeComplete,ve=j.afterComplete,se=new c.ResultStreamObserver({server:this._server,beforeError:J,afterError:re,beforeComplete:ae,afterComplete:ve});return se.prepareToHandleSingleResponse(),(0,l.assertImpersonatedUserIsEmpty)($,this._onProtocolError,se),(0,l.assertNotificationFilterIsEmpty)(K,this._onProtocolError,se),this.write(u.default.begin({bookmarks:F,txConfig:z,database:q,mode:oe}),se,!0),se},R.prototype.run=function(k,j,F){var z=F===void 0?{}:F,q=z.bookmarks,$=z.txConfig,K=z.database,oe=z.impersonatedUser,J=z.notificationFilter,re=z.mode,ae=z.beforeKeys,ve=z.afterKeys,se=z.beforeError,ce=z.afterError,pe=z.beforeComplete,Pe=z.afterComplete,de=z.flush,ge=de===void 0||de,Ce=z.reactive,Ne=Ce!==void 0&&Ce,De=z.fetchSize,ke=De===void 0?w:De,_e=z.highRecordWatermark,Ie=_e===void 0?Number.MAX_VALUE:_e,Ge=z.lowRecordWatermark,Qe=Ge===void 0?Number.MAX_VALUE:Ge,ot=new c.ResultStreamObserver({server:this._server,reactive:Ne,fetchSize:ke,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:ae,afterKeys:ve,beforeError:se,afterError:ce,beforeComplete:pe,afterComplete:Pe,highRecordWatermark:Ie,lowRecordWatermark:Qe});(0,l.assertImpersonatedUserIsEmpty)(oe,this._onProtocolError,ot),(0,l.assertNotificationFilterIsEmpty)(J,this._onProtocolError,ot);var Tt=Ne;return this.write(u.default.runWithMetadata(k,j,{bookmarks:q,txConfig:$,database:K,mode:re}),ot,Tt&&ge),Ne||this.write(u.default.pull({n:ke}),ot,ge),ot},R.prototype._requestMore=function(k,j,F){this.write(u.default.pull({stmtId:k,n:j}),F,!0)},R.prototype._requestDiscard=function(k,j){this.write(u.default.discard({stmtId:k}),j,!0)},R.prototype._noOp=function(){},R.prototype.requestRoutingInformation=function(k){var j,F=k.routingContext,z=F===void 0?{}:F,q=k.databaseName,$=q===void 0?null:q,K=k.sessionContext,oe=K===void 0?{}:K,J=k.onError,re=k.onCompleted,ae=this.run(S,((j={})[y]=z,j[_]=$,j),a(a({},oe),{txConfig:b.empty()}));return new c.ProcedureRouteObserver({resultObserver:ae,onProtocolError:this._onProtocolError,onError:J,onCompleted:re})},R}(s.default);e.default=A},2066:function(r,e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(o){for(var s,u=1,l=arguments.length;u<l;u++)for(var c in s=arguments[u])Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c]);return o},n.apply(this,arguments)},i=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(t(1175));e.default=n({},a.default)},4596:function(r,e,t){var n,i=this&&this.__extends||(n=function(m,w){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,y){b.__proto__=y}||function(b,y){for(var _ in y)Object.prototype.hasOwnProperty.call(y,_)&&(b[_]=y[_])},n(m,w)},function(m,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function b(){this.constructor=m}n(m,w),m.prototype=w===null?Object.create(w):(b.prototype=w.prototype,new b)}),a=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(e,"__esModule",{value:!0});var o=a(t(2539)),s=a(t(7021)),u=t(9014),l=t(9305),c=t(397),f=a(t(7521)),d=a(t(3321)),v=l.internal.constants.BOLT_PROTOCOL_V4_1,p=function(m){function w(b,y,_,S,A,D,R){S===void 0&&(S=function(){return null});var k=m.call(this,b,y,_,S,A,D)||this;return k._serversideRouting=R,k}return i(w,m),Object.defineProperty(w.prototype,"version",{get:function(){return v},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"transformer",{get:function(){var b=this;return this._transformer===void 0&&(this._transformer=new d.default(Object.values(f.default).map(function(y){return y(b._config,b._log)}))),this._transformer},enumerable:!1,configurable:!0}),w.prototype.initialize=function(b){var y=this,_=b===void 0?{}:b,S=_.userAgent,A=(_.boltAgent,_.authToken),D=_.notificationFilter,R=_.onError,k=_.onComplete,j=new u.LoginObserver({onError:function(F){return y._onLoginError(F,R)},onCompleted:function(F){return y._onLoginCompleted(F,A,k)}});return(0,c.assertNotificationFilterIsEmpty)(D,this._onProtocolError,j),this.write(s.default.hello(S,A,this._serversideRouting),j,!0),j},w}(o.default);e.default=p},7521:function(r,e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(o){for(var s,u=1,l=arguments.length;u<l;u++)for(var c in s=arguments[u])Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c]);return o},n.apply(this,arguments)},i=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(t(2066));e.default=n({},a.default)},6445:function(r,e,t){var n,i=this&&this.__extends||(n=function(d,v){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var w in m)Object.prototype.hasOwnProperty.call(m,w)&&(p[w]=m[w])},n(d,v)},function(d,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function p(){this.constructor=d}n(d,v),d.prototype=v===null?Object.create(v):(p.prototype=v.prototype,new p)}),a=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0});var o=a(t(4596)),s=t(9305),u=a(t(5348)),l=a(t(3321)),c=s.internal.constants.BOLT_PROTOCOL_V4_2,f=function(d){function v(){return d!==null&&d.apply(this,arguments)||this}return i(v,d),Object.defineProperty(v.prototype,"version",{get:function(){return c},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"transformer",{get:function(){var p=this;return this._transformer===void 0&&(this._transformer=new l.default(Object.values(u.default).map(function(m){return m(p._config,p._log)}))),this._transformer},enumerable:!1,configurable:!0}),v}(o.default);e.default=f},5348:function(r,e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(o){for(var s,u=1,l=arguments.length;u<l;u++)for(var c in s=arguments[u])Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c]);return o},n.apply(this,arguments)},i=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(t(7521));e.default=n({},a.default)},9054:function(r,e,t){var n,i=this&&this.__extends||(n=function(y,_){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,A){S.__proto__=A}||function(S,A){for(var D in A)Object.prototype.hasOwnProperty.call(A,D)&&(S[D]=A[D])},n(y,_)},function(y,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");function S(){this.constructor=y}n(y,_),y.prototype=_===null?Object.create(_):(S.prototype=_.prototype,new S)}),a=this&&this.__assign||function(){return a=Object.assign||function(y){for(var _,S=1,A=arguments.length;S<A;S++)for(var D in _=arguments[S])Object.prototype.hasOwnProperty.call(_,D)&&(y[D]=_[D]);return y},a.apply(this,arguments)},o=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(e,"__esModule",{value:!0});var s=o(t(6445)),u=o(t(7021)),l=t(9014),c=t(397),f=o(t(7331)),d=o(t(5045)),v=o(t(3321)),p=t(9305),m=p.internal.bookmarks.Bookmarks,w=p.internal.constants.BOLT_PROTOCOL_V4_3,b=function(y){function _(){return y!==null&&y.apply(this,arguments)||this}return i(_,y),Object.defineProperty(_.prototype,"version",{get:function(){return w},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"transformer",{get:function(){var S=this;return this._transformer===void 0&&(this._transformer=new v.default(Object.values(f.default).map(function(A){return A(S._config,S._log)}))),this._transformer},enumerable:!1,configurable:!0}),_.prototype.requestRoutingInformation=function(S){var A=S.routingContext,D=A===void 0?{}:A,R=S.databaseName,k=R===void 0?null:R,j=S.sessionContext,F=j===void 0?{}:j,z=S.onError,q=S.onCompleted,$=new l.RouteObserver({onProtocolError:this._onProtocolError,onError:z,onCompleted:q}),K=F.bookmarks||m.empty();return this.write(u.default.route(D,K.values(),k),$,!0),$},_.prototype.initialize=function(S){var A=this,D=S===void 0?{}:S,R=D.userAgent,k=(D.boltAgent,D.authToken),j=D.notificationFilter,F=D.onError,z=D.onComplete,q=new l.LoginObserver({onError:function($){return A._onLoginError($,F)},onCompleted:function($){return $.patch_bolt!==void 0&&A._applyPatches($.patch_bolt),A._onLoginCompleted($,k,z)}});return(0,c.assertNotificationFilterIsEmpty)(j,this._onProtocolError,q),this.write(u.default.hello(R,k,this._serversideRouting,["utc"]),q,!0),q},_.prototype._applyPatches=function(S){S.includes("utc")&&this._applyUtcPatch()},_.prototype._applyUtcPatch=function(){var S=this;this._transformer=new v.default(Object.values(a(a({},f.default),d.default)).map(function(A){return A(S._config,S._log)}))},_}(s.default);e.default=b},7331:function(r,e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(o){for(var s,u=1,l=arguments.length;u<l;u++)for(var c in s=arguments[u])Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c]);return o},n.apply(this,arguments)},i=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(t(5348));e.default=n({},a.default)},1711:function(r,e,t){var n,i=this&&this.__extends||(n=function(S,A){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,R){D.__proto__=R}||function(D,R){for(var k in R)Object.prototype.hasOwnProperty.call(R,k)&&(D[k]=R[k])},n(S,A)},function(S,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function D(){this.constructor=S}n(S,A),S.prototype=A===null?Object.create(A):(D.prototype=A.prototype,new D)}),a=this&&this.__assign||function(){return a=Object.assign||function(S){for(var A,D=1,R=arguments.length;D<R;D++)for(var k in A=arguments[D])Object.prototype.hasOwnProperty.call(A,k)&&(S[k]=A[k]);return S},a.apply(this,arguments)},o=this&&this.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(e,"__esModule",{value:!0});var s=o(t(9054)),u=t(9305),l=o(t(7021)),c=t(9014),f=t(397),d=o(t(7518)),v=o(t(5045)),p=o(t(3321)),m=u.internal.constants,w=m.BOLT_PROTOCOL_V4_4,b=m.FETCH_ALL,y=u.internal.bookmarks.Bookmarks,_=function(S){function A(){return S!==null&&S.apply(this,arguments)||this}return i(A,S),Object.defineProperty(A.prototype,"version",{get:function(){return w},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"transformer",{get:function(){var D=this;return this._transformer===void 0&&(this._transformer=new p.default(Object.values(d.default).map(function(R){return R(D._config,D._log)}))),this._transformer},enumerable:!1,configurable:!0}),A.prototype.requestRoutingInformation=function(D){var R=D.routingContext,k=R===void 0?{}:R,j=D.databaseName,F=j===void 0?null:j,z=D.impersonatedUser,q=z===void 0?null:z,$=D.sessionContext,K=$===void 0?{}:$,oe=D.onError,J=D.onCompleted,re=new c.RouteObserver({onProtocolError:this._onProtocolError,onError:oe,onCompleted:J}),ae=K.bookmarks||y.empty();return this.write(l.default.routeV4x4(k,ae.values(),{databaseName:F,impersonatedUser:q}),re,!0),re},A.prototype.run=function(D,R,k){var j=k===void 0?{}:k,F=j.bookmarks,z=j.txConfig,q=j.database,$=j.mode,K=j.impersonatedUser,oe=j.notificationFilter,J=j.beforeKeys,re=j.afterKeys,ae=j.beforeError,ve=j.afterError,se=j.beforeComplete,ce=j.afterComplete,pe=j.flush,Pe=pe===void 0||pe,de=j.reactive,ge=de!==void 0&&de,Ce=j.fetchSize,Ne=Ce===void 0?b:Ce,De=j.highRecordWatermark,ke=De===void 0?Number.MAX_VALUE:De,_e=j.lowRecordWatermark,Ie=_e===void 0?Number.MAX_VALUE:_e,Ge=new c.ResultStreamObserver({server:this._server,reactive:ge,fetchSize:Ne,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:J,afterKeys:re,beforeError:ae,afterError:ve,beforeComplete:se,afterComplete:ce,highRecordWatermark:ke,lowRecordWatermark:Ie});(0,f.assertNotificationFilterIsEmpty)(oe,this._onProtocolError,Ge);var Qe=ge;return this.write(l.default.runWithMetadata(D,R,{bookmarks:F,txConfig:z,database:q,mode:$,impersonatedUser:K}),Ge,Qe&&Pe),ge||this.write(l.default.pull({n:Ne}),Ge,Pe),Ge},A.prototype.beginTransaction=function(D){var R=D===void 0?{}:D,k=R.bookmarks,j=R.txConfig,F=R.database,z=R.mode,q=R.impersonatedUser,$=R.notificationFilter,K=R.beforeError,oe=R.afterError,J=R.beforeComplete,re=R.afterComplete,ae=new c.ResultStreamObserver({server:this._server,beforeError:K,afterError:oe,beforeComplete:J,afterComplete:re});return ae.prepareToHandleSingleResponse(),(0,f.assertNotificationFilterIsEmpty)($,this._onProtocolError,ae),this.write(l.default.begin({bookmarks:k,txConfig:j,database:F,mode:z,impersonatedUser:q}),ae,!0),ae},A.prototype._applyUtcPatch=function(){var D=this;this._transformer=new p.default(Object.values(a(a({},d.default),v.default)).map(function(R){return R(D._config,D._log)}))},A}(s.default);e.default=_},7518:function(r,e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(o){for(var s,u=1,l=arguments.length;u<l;u++)for(var c in s=arguments[u])Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c]);return o},n.apply(this,arguments)},i=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(t(7331));e.default=n({},a.default)},844:function(r,e,t){var n,i=this&&this.__extends||(n=function(p,m){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,b){w.__proto__=b}||function(w,b){for(var y in b)Object.prototype.hasOwnProperty.call(b,y)&&(w[y]=b[y])},n(p,m)},function(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function w(){this.constructor=p}n(p,m),p.prototype=m===null?Object.create(m):(w.prototype=m.prototype,new w)}),a=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(e,"__esModule",{value:!0});var o=a(t(1711)),s=t(397),u=a(t(7449)),l=a(t(3321)),c=a(t(7021)),f=t(9014),d=t(9305).internal.constants.BOLT_PROTOCOL_V5_0,v=function(p){function m(){return p!==null&&p.apply(this,arguments)||this}return i(m,p),Object.defineProperty(m.prototype,"version",{get:function(){return d},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"transformer",{get:function(){var w=this;return this._transformer===void 0&&(this._transformer=new l.default(Object.values(u.default).map(function(b){return b(w._config,w._log)}))),this._transformer},enumerable:!1,configurable:!0}),m.prototype.initialize=function(w){var b=this,y=w===void 0?{}:w,_=y.userAgent,S=(y.boltAgent,y.authToken),A=y.notificationFilter,D=y.onError,R=y.onComplete,k=new f.LoginObserver({onError:function(j){return b._onLoginError(j,D)},onCompleted:function(j){return b._onLoginCompleted(j,S,R)}});return(0,s.assertNotificationFilterIsEmpty)(A,this._onProtocolError,k),this.write(c.default.hello(_,S,this._serversideRouting),k,!0),k},m}(o.default);e.default=v},7449:function(r,e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(c){for(var f,d=1,v=arguments.length;d<v;d++)for(var p in f=arguments[d])Object.prototype.hasOwnProperty.call(f,p)&&(c[p]=f[p]);return c},n.apply(this,arguments)},i=this&&this.__read||function(c,f){var d=typeof Symbol=="function"&&c[Symbol.iterator];if(!d)return c;var v,p,m=d.call(c),w=[];try{for(;(f===void 0||f-- >0)&&!(v=m.next()).done;)w.push(v.value)}catch(b){p={error:b}}finally{try{v&&!v.done&&(d=m.return)&&d.call(m)}finally{if(p)throw p.error}}return w},a=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(e,"__esModule",{value:!0});var o=t(7168),s=t(9305),u=a(t(7518)),l=a(t(5045));e.default=n(n(n({},u.default),l.default),{createNodeTransformer:function(c){return u.default.createNodeTransformer(c).extendsWith({fromStructure:function(f){o.structure.verifyStructSize("Node",4,f.size);var d=i(f.fields,4),v=d[0],p=d[1],m=d[2],w=d[3];return new s.Node(v,p,m,w)}})},createRelationshipTransformer:function(c){return u.default.createRelationshipTransformer(c).extendsWith({fromStructure:function(f){o.structure.verifyStructSize("Relationship",8,f.size);var d=i(f.fields,8),v=d[0],p=d[1],m=d[2],w=d[3],b=d[4],y=d[5],_=d[6],S=d[7];return new s.Relationship(v,p,m,w,b,y,_,S)}})},createUnboundRelationshipTransformer:function(c){return u.default.createUnboundRelationshipTransformer(c).extendsWith({fromStructure:function(f){o.structure.verifyStructSize("UnboundRelationship",4,f.size);var d=i(f.fields,4),v=d[0],p=d[1],m=d[2],w=d[3];return new s.UnboundRelationship(v,p,m,w)}})}})},5045:function(r,e,t){var n=this&&this.__read||function(p,m){var w=typeof Symbol=="function"&&p[Symbol.iterator];if(!w)return p;var b,y,_=w.call(p),S=[];try{for(;(m===void 0||m-- >0)&&!(b=_.next()).done;)S.push(b.value)}catch(A){y={error:A}}finally{try{b&&!b.done&&(w=_.return)&&w.call(_)}finally{if(y)throw y.error}}return S},i=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(e,"__esModule",{value:!0});var a=t(7168),o=t(9305),s=i(t(7518)),u=t(5973),l=t(6492),c=o.internal.temporalUtil.localDateTimeToEpochSecond,f=new Map;function d(p,m,w){var b=function(A){if(!f.has(A)){var D=new Intl.DateTimeFormat("en-US",{timeZone:A,year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1,era:"narrow"});f.set(A,D)}return f.get(A)}(p),y=(0,o.int)(m).multiply(1e3).add((0,o.int)(w).div(1e6)).toNumber(),_=b.formatToParts(y).reduce(function(A,D){return D.type==="era"?A.adjustEra=D.value.toUpperCase()==="B"?function(R){return R.subtract(1).negate()}:l.identity:D.type==="hour"?A.hour=(0,o.int)(D.value).modulo(24):D.type!=="literal"&&(A[D.type]=(0,o.int)(D.value)),A},{});_.year=_.adjustEra(_.year);var S=c(_.year,_.month,_.day,_.hour,_.minute,_.second,_.nanosecond);return _.timeZoneOffsetSeconds=S.subtract(m),_.hour=_.hour.modulo(24),_}function v(p,m,w){if(!m&&!w)return p;var b=function(A){return w?A.toBigInt():A.toNumberOrInfinity()},y=Object.create(Object.getPrototypeOf(p));for(var _ in p)if(Object.prototype.hasOwnProperty.call(p,_)===!0){var S=p[_];y[_]=(0,o.isInt)(S)?b(S):S}return Object.freeze(y),y}e.default={createDateTimeWithZoneIdTransformer:function(p,m){var w=p.disableLosslessIntegers,b=p.useBigInt;return s.default.createDateTimeWithZoneIdTransformer(p).extendsWith({signature:105,fromStructure:function(y){a.structure.verifyStructSize("DateTimeWithZoneId",3,y.size);var _=n(y.fields,3),S=_[0],A=_[1],D=_[2],R=d(D,S,A);return v(new o.DateTime(R.year,R.month,R.day,R.hour,R.minute,R.second,(0,o.int)(A),R.timeZoneOffsetSeconds,D),w,b)},toStructure:function(y){var _=c(y.year,y.month,y.day,y.hour,y.minute,y.second,y.nanosecond),S=y.timeZoneOffsetSeconds!=null?y.timeZoneOffsetSeconds:function(k,j,F){var z=d(k,j,F),q=c(z.year,z.month,z.day,z.hour,z.minute,z.second,F).subtract(j),$=j.subtract(q),K=d(k,$,F);return c(K.year,K.month,K.day,K.hour,K.minute,K.second,F).subtract($)}(y.timeZoneId,_,y.nanosecond);y.timeZoneOffsetSeconds==null&&m.warn('DateTime objects without "timeZoneOffsetSeconds" property are prune to bugs related to ambiguous times. For instance, 2022-10-30T2:30:00[Europe/Berlin] could be GMT+1 or GMT+2.');var A=_.subtract(S),D=(0,o.int)(y.nanosecond),R=y.timeZoneId;return new a.structure.Structure(105,[A,D,R])}})},createDateTimeWithOffsetTransformer:function(p){var m=p.disableLosslessIntegers,w=p.useBigInt;return s.default.createDateTimeWithOffsetTransformer(p).extendsWith({signature:73,toStructure:function(b){var y=c(b.year,b.month,b.day,b.hour,b.minute,b.second,b.nanosecond),_=(0,o.int)(b.nanosecond),S=(0,o.int)(b.timeZoneOffsetSeconds),A=y.subtract(S);return new a.structure.Structure(73,[A,_,S])},fromStructure:function(b){a.structure.verifyStructSize("DateTimeWithZoneOffset",3,b.size);var y=n(b.fields,3),_=y[0],S=y[1],A=y[2],D=(0,o.int)(_).add(A),R=(0,u.epochSecondAndNanoToLocalDateTime)(D,S);return v(new o.DateTime(R.year,R.month,R.day,R.hour,R.minute,R.second,R.nanosecond,A,null),m,w)}})}}},6345:function(r,e,t){var n,i=this&&this.__extends||(n=function(m,w){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,y){b.__proto__=y}||function(b,y){for(var _ in y)Object.prototype.hasOwnProperty.call(y,_)&&(b[_]=y[_])},n(m,w)},function(m,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function b(){this.constructor=m}n(m,w),m.prototype=w===null?Object.create(w):(b.prototype=w.prototype,new b)}),a=this&&this.__assign||function(){return a=Object.assign||function(m){for(var w,b=1,y=arguments.length;b<y;b++)for(var _ in w=arguments[b])Object.prototype.hasOwnProperty.call(w,_)&&(m[_]=w[_]);return m},a.apply(this,arguments)},o=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(e,"__esModule",{value:!0});var s=o(t(844)),u=t(397),l=o(t(9994)),c=o(t(3321)),f=o(t(7021)),d=t(9014),v=t(9305).internal.constants.BOLT_PROTOCOL_V5_1,p=function(m){function w(){return m!==null&&m.apply(this,arguments)||this}return i(w,m),Object.defineProperty(w.prototype,"version",{get:function(){return v},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"transformer",{get:function(){var b=this;return this._transformer===void 0&&(this._transformer=new c.default(Object.values(l.default).map(function(y){return y(b._config,b._log)}))),this._transformer},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"supportsReAuth",{get:function(){return!0},enumerable:!1,configurable:!0}),w.prototype.initialize=function(b){var y=this,_=b===void 0?{}:b,S=_.userAgent,A=(_.boltAgent,_.authToken),D=_.notificationFilter,R=_.onError,k=_.onComplete,j={},F=new d.LoginObserver({onError:function(z){return y._onLoginError(z,R)},onCompleted:function(z){return j.metadata=z,y._onLoginCompleted(z)}});return(0,u.assertNotificationFilterIsEmpty)(D,this._onProtocolError,F),this.write(f.default.hello5x1(S,this._serversideRouting),F,!1),this.logon({authToken:A,onComplete:function(z){return k(a(a({},z),j.metadata))},onError:R,flush:!0})},w.prototype.logon=function(b){var y=this,_=b===void 0?{}:b,S=_.authToken,A=_.onComplete,D=_.onError,R=_.flush,k=new d.LoginObserver({onCompleted:function(){return y._onLoginCompleted(null,S,A)},onError:function(j){return y._onLoginError(j,D)}});return this.write(f.default.logon(S),k,R),k},w.prototype.logoff=function(b){var y=b===void 0?{}:b,_=y.onComplete,S=y.onError,A=y.flush,D=new d.LogoffObserver({onCompleted:_,onError:S});return this.write(f.default.logoff(),D,A),D},w}(s.default);e.default=p},9994:function(r,e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(o){for(var s,u=1,l=arguments.length;u<l;u++)for(var c in s=arguments[u])Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c]);return o},n.apply(this,arguments)},i=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(t(7449));e.default=n({},a.default)},934:function(r,e,t){var n,i=this&&this.__extends||(n=function(w,b){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,_){y.__proto__=_}||function(y,_){for(var S in _)Object.prototype.hasOwnProperty.call(_,S)&&(y[S]=_[S])},n(w,b)},function(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function y(){this.constructor=w}n(w,b),w.prototype=b===null?Object.create(b):(y.prototype=b.prototype,new y)}),a=this&&this.__assign||function(){return a=Object.assign||function(w){for(var b,y=1,_=arguments.length;y<_;y++)for(var S in b=arguments[y])Object.prototype.hasOwnProperty.call(b,S)&&(w[S]=b[S]);return w},a.apply(this,arguments)},o=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(e,"__esModule",{value:!0});var s=o(t(6345)),u=o(t(3019)),l=o(t(3321)),c=o(t(7021)),f=t(9014),d=t(9305).internal.constants,v=d.BOLT_PROTOCOL_V5_2,p=d.FETCH_ALL,m=function(w){function b(){return w!==null&&w.apply(this,arguments)||this}return i(b,w),Object.defineProperty(b.prototype,"version",{get:function(){return v},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"transformer",{get:function(){var y=this;return this._transformer===void 0&&(this._transformer=new l.default(Object.values(u.default).map(function(_){return _(y._config,y._log)}))),this._transformer},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"supportsReAuth",{get:function(){return!0},enumerable:!1,configurable:!0}),b.prototype.initialize=function(y){var _=this,S=y===void 0?{}:y,A=S.userAgent,D=(S.boltAgent,S.authToken),R=S.notificationFilter,k=S.onError,j=S.onComplete,F={},z=new f.LoginObserver({onError:function(q){return _._onLoginError(q,k)},onCompleted:function(q){return F.metadata=q,_._onLoginCompleted(q)}});return this.write(c.default.hello5x2(A,R,this._serversideRouting),z,!1),this.logon({authToken:D,onComplete:function(q){return j(a(a({},q),F.metadata))},onError:k,flush:!0})},b.prototype.beginTransaction=function(y){var _=y===void 0?{}:y,S=_.bookmarks,A=_.txConfig,D=_.database,R=_.mode,k=_.impersonatedUser,j=_.notificationFilter,F=_.beforeError,z=_.afterError,q=_.beforeComplete,$=_.afterComplete,K=new f.ResultStreamObserver({server:this._server,beforeError:F,afterError:z,beforeComplete:q,afterComplete:$});return K.prepareToHandleSingleResponse(),this.write(c.default.begin({bookmarks:S,txConfig:A,database:D,mode:R,impersonatedUser:k,notificationFilter:j}),K,!0),K},b.prototype.run=function(y,_,S){var A=S===void 0?{}:S,D=A.bookmarks,R=A.txConfig,k=A.database,j=A.mode,F=A.impersonatedUser,z=A.notificationFilter,q=A.beforeKeys,$=A.afterKeys,K=A.beforeError,oe=A.afterError,J=A.beforeComplete,re=A.afterComplete,ae=A.flush,ve=ae===void 0||ae,se=A.reactive,ce=se!==void 0&&se,pe=A.fetchSize,Pe=pe===void 0?p:pe,de=A.highRecordWatermark,ge=de===void 0?Number.MAX_VALUE:de,Ce=A.lowRecordWatermark,Ne=Ce===void 0?Number.MAX_VALUE:Ce,De=new f.ResultStreamObserver({server:this._server,reactive:ce,fetchSize:Pe,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:q,afterKeys:$,beforeError:K,afterError:oe,beforeComplete:J,afterComplete:re,highRecordWatermark:ge,lowRecordWatermark:Ne}),ke=ce;return this.write(c.default.runWithMetadata(y,_,{bookmarks:D,txConfig:R,database:k,mode:j,impersonatedUser:F,notificationFilter:z}),De,ke&&ve),ce||this.write(c.default.pull({n:Pe}),De,ve),De},b}(s.default);e.default=m},3019:function(r,e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(o){for(var s,u=1,l=arguments.length;u<l;u++)for(var c in s=arguments[u])Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c]);return o},n.apply(this,arguments)},i=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(t(9994));e.default=n({},a.default)},9125:function(r,e,t){var n,i=this&&this.__extends||(n=function(p,m){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,b){w.__proto__=b}||function(w,b){for(var y in b)Object.prototype.hasOwnProperty.call(b,y)&&(w[y]=b[y])},n(p,m)},function(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function w(){this.constructor=p}n(p,m),p.prototype=m===null?Object.create(m):(w.prototype=m.prototype,new w)}),a=this&&this.__assign||function(){return a=Object.assign||function(p){for(var m,w=1,b=arguments.length;w<b;w++)for(var y in m=arguments[w])Object.prototype.hasOwnProperty.call(m,y)&&(p[y]=m[y]);return p},a.apply(this,arguments)},o=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(e,"__esModule",{value:!0});var s=o(t(934)),u=o(t(2204)),l=o(t(3321)),c=o(t(7021)),f=t(9014),d=t(9305).internal.constants.BOLT_PROTOCOL_V5_3,v=function(p){function m(){return p!==null&&p.apply(this,arguments)||this}return i(m,p),Object.defineProperty(m.prototype,"version",{get:function(){return d},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"transformer",{get:function(){var w=this;return this._transformer===void 0&&(this._transformer=new l.default(Object.values(u.default).map(function(b){return b(w._config,w._log)}))),this._transformer},enumerable:!1,configurable:!0}),m.prototype.initialize=function(w){var b=this,y=w===void 0?{}:w,_=y.userAgent,S=y.boltAgent,A=y.authToken,D=y.notificationFilter,R=y.onError,k=y.onComplete,j={},F=new f.LoginObserver({onError:function(z){return b._onLoginError(z,R)},onCompleted:function(z){return j.metadata=z,b._onLoginCompleted(z)}});return this.write(c.default.hello5x3(_,S,D,this._serversideRouting),F,!1),this.logon({authToken:A,onComplete:function(z){return k(a(a({},z),j.metadata))},onError:R,flush:!0})},m}(s.default);e.default=v},2204:function(r,e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(o){for(var s,u=1,l=arguments.length;u<l;u++)for(var c in s=arguments[u])Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c]);return o},n.apply(this,arguments)},i=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(t(3019));e.default=n({},a.default)},9744:function(r,e,t){var n,i=this&&this.__extends||(n=function(v,p){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,w){m.__proto__=w}||function(m,w){for(var b in w)Object.prototype.hasOwnProperty.call(w,b)&&(m[b]=w[b])},n(v,p)},function(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");function m(){this.constructor=v}n(v,p),v.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}),a=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(e,"__esModule",{value:!0});var o=a(t(9125)),s=a(t(4325)),u=a(t(7021)),l=t(9014),c=a(t(3321)),f=t(9305).internal.constants.BOLT_PROTOCOL_V5_4,d=function(v){function p(){return v!==null&&v.apply(this,arguments)||this}return i(p,v),Object.defineProperty(p.prototype,"version",{get:function(){return f},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"transformer",{get:function(){var m=this;return this._transformer===void 0&&(this._transformer=new c.default(Object.values(s.default).map(function(w){return w(m._config,m._log)}))),this._transformer},enumerable:!1,configurable:!0}),p.prototype.telemetry=function(m,w){var b=m.api,y=w===void 0?{}:w,_=y.onError,S=y.onCompleted,A=new l.TelemetryObserver({onCompleted:S,onError:_});return this.write(u.default.telemetry({api:b}),A,!1),A},p}(o.default);e.default=d},4325:function(r,e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(o){for(var s,u=1,l=arguments.length;u<l;u++)for(var c in s=arguments[u])Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c]);return o},n.apply(this,arguments)},i=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(t(2204));e.default=n({},a.default)},5815:function(r,e,t){var n,i=this&&this.__extends||(n=function(b,y){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,S){_.__proto__=S}||function(_,S){for(var A in S)Object.prototype.hasOwnProperty.call(S,A)&&(_[A]=S[A])},n(b,y)},function(b,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function _(){this.constructor=b}n(b,y),b.prototype=y===null?Object.create(y):(_.prototype=y.prototype,new _)}),a=this&&this.__assign||function(){return a=Object.assign||function(b){for(var y,_=1,S=arguments.length;_<S;_++)for(var A in y=arguments[_])Object.prototype.hasOwnProperty.call(y,A)&&(b[A]=y[A]);return b},a.apply(this,arguments)},o=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(e,"__esModule",{value:!0});var s=o(t(9744)),u=o(t(9238)),l=o(t(3321)),c=o(t(7021)),f=t(9014),d=t(9305).internal.constants,v=d.BOLT_PROTOCOL_V5_5,p=d.FETCH_ALL,m=Object.freeze({OPERATION:"",OPERATION_CODE:"0",CURRENT_SCHEMA:"/"}),w=function(b){function y(){return b!==null&&b.apply(this,arguments)||this}return i(y,b),Object.defineProperty(y.prototype,"version",{get:function(){return v},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"transformer",{get:function(){var _=this;return this._transformer===void 0&&(this._transformer=new l.default(Object.values(u.default).map(function(S){return S(_._config,_._log)}))),this._transformer},enumerable:!1,configurable:!0}),y.prototype.initialize=function(_){var S=this,A=_===void 0?{}:_,D=A.userAgent,R=A.boltAgent,k=A.authToken,j=A.notificationFilter,F=A.onError,z=A.onComplete,q={},$=new f.LoginObserver({onError:function(K){return S._onLoginError(K,F)},onCompleted:function(K){return q.metadata=K,S._onLoginCompleted(K)}});return this.write(c.default.hello5x5(D,R,j,this._serversideRouting),$,!1),this.logon({authToken:k,onComplete:function(K){return z(a(a({},K),q.metadata))},onError:F,flush:!0})},y.prototype.beginTransaction=function(_){var S=_===void 0?{}:_,A=S.bookmarks,D=S.txConfig,R=S.database,k=S.mode,j=S.impersonatedUser,F=S.notificationFilter,z=S.beforeError,q=S.afterError,$=S.beforeComplete,K=S.afterComplete,oe=new f.ResultStreamObserver({server:this._server,beforeError:z,afterError:q,beforeComplete:$,afterComplete:K});return oe.prepareToHandleSingleResponse(),this.write(c.default.begin5x5({bookmarks:A,txConfig:D,database:R,mode:k,impersonatedUser:j,notificationFilter:F}),oe,!0),oe},y.prototype.run=function(_,S,A){var D=A===void 0?{}:A,R=D.bookmarks,k=D.txConfig,j=D.database,F=D.mode,z=D.impersonatedUser,q=D.notificationFilter,$=D.beforeKeys,K=D.afterKeys,oe=D.beforeError,J=D.afterError,re=D.beforeComplete,ae=D.afterComplete,ve=D.flush,se=ve===void 0||ve,ce=D.reactive,pe=ce!==void 0&&ce,Pe=D.fetchSize,de=Pe===void 0?p:Pe,ge=D.highRecordWatermark,Ce=ge===void 0?Number.MAX_VALUE:ge,Ne=D.lowRecordWatermark,De=Ne===void 0?Number.MAX_VALUE:Ne,ke=new f.ResultStreamObserver({server:this._server,reactive:pe,fetchSize:de,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:$,afterKeys:K,beforeError:oe,afterError:J,beforeComplete:re,afterComplete:ae,highRecordWatermark:Ce,lowRecordWatermark:De,enrichMetadata:this._enrichMetadata}),_e=pe;return this.write(c.default.runWithMetadata5x5(_,S,{bookmarks:R,txConfig:k,database:j,mode:F,impersonatedUser:z,notificationFilter:q}),ke,_e&&se),pe||this.write(c.default.pull({n:de}),ke,se),ke},y.prototype._enrichMetadata=function(_){return Array.isArray(_.statuses)&&(_.statuses=_.statuses.map(function(S){return a(a({},S),{description:S.neo4j_code!=null?S.status_description:S.description,diagnostic_record:S.diagnostic_record!==null?a(a({},m),S.diagnostic_record):null})})),_},y}(s.default);e.default=w},9238:function(r,e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(o){for(var s,u=1,l=arguments.length;u<l;u++)for(var c in s=arguments[u])Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c]);return o},n.apply(this,arguments)},i=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(t(4325));e.default=n({},a.default)},6890:function(r,e,t){var n,i=this&&this.__extends||(n=function(v,p){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,w){m.__proto__=w}||function(m,w){for(var b in w)Object.prototype.hasOwnProperty.call(w,b)&&(m[b]=w[b])},n(v,p)},function(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");function m(){this.constructor=v}n(v,p),v.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}),a=this&&this.__assign||function(){return a=Object.assign||function(v){for(var p,m=1,w=arguments.length;m<w;m++)for(var b in p=arguments[m])Object.prototype.hasOwnProperty.call(p,b)&&(v[b]=p[b]);return v},a.apply(this,arguments)},o=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(e,"__esModule",{value:!0});var s=o(t(5815)),u=o(t(9238)),l=o(t(3321)),c=t(9305).internal.constants.BOLT_PROTOCOL_V5_6,f=Object.freeze({OPERATION:"",OPERATION_CODE:"0",CURRENT_SCHEMA:"/"}),d=function(v){function p(){return v!==null&&v.apply(this,arguments)||this}return i(p,v),Object.defineProperty(p.prototype,"version",{get:function(){return c},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"transformer",{get:function(){var m=this;return this._transformer===void 0&&(this._transformer=new l.default(Object.values(u.default).map(function(w){return w(m._config,m._log)}))),this._transformer},enumerable:!1,configurable:!0}),p.prototype._enrichMetadata=function(m){return Array.isArray(m.statuses)&&(m.statuses=m.statuses.map(function(w){return a(a({},w),{diagnostic_record:w.diagnostic_record!==null?a(a({},f),w.diagnostic_record):null})})),m},p}(s.default);e.default=d},6377:function(r,e,t){var n,i=this&&this.__extends||(n=function(v,p){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,w){m.__proto__=w}||function(m,w){for(var b in w)Object.prototype.hasOwnProperty.call(w,b)&&(m[b]=w[b])},n(v,p)},function(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");function m(){this.constructor=v}n(v,p),v.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}),a=this&&this.__assign||function(){return a=Object.assign||function(v){for(var p,m=1,w=arguments.length;m<w;m++)for(var b in p=arguments[m])Object.prototype.hasOwnProperty.call(p,b)&&(v[b]=p[b]);return v},a.apply(this,arguments)},o=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(e,"__esModule",{value:!0});var s=o(t(6890)),u=o(t(9238)),l=o(t(3321)),c=t(9305).internal.constants.BOLT_PROTOCOL_V5_7,f=Object.freeze({OPERATION:"",OPERATION_CODE:"0",CURRENT_SCHEMA:"/"}),d=function(v){function p(){return v!==null&&v.apply(this,arguments)||this}return i(p,v),Object.defineProperty(p.prototype,"version",{get:function(){return c},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"transformer",{get:function(){var m=this;return this._transformer===void 0&&(this._transformer=new l.default(Object.values(u.default).map(function(w){return w(m._config,m._log)}))),this._transformer},enumerable:!1,configurable:!0}),p.prototype.enrichErrorMetadata=function(m){return a(a({},m),{cause:m.cause!==null&&m.cause!==void 0?this.enrichErrorMetadata(m.cause):null,code:m.neo4j_code,diagnostic_record:m.diagnostic_record!==null?a(a({},f),m.diagnostic_record):null})},p}(s.default);e.default=d},6544:function(r,e,t){var n=this&&this.__importDefault||function(D){return D&&D.__esModule?D:{default:D}};Object.defineProperty(e,"__esModule",{value:!0});var i=t(9305),a=n(t(8320)),o=n(t(2857)),s=n(t(5642)),u=n(t(2539)),l=n(t(4596)),c=n(t(6445)),f=n(t(9054)),d=n(t(1711)),v=n(t(844)),p=n(t(6345)),m=n(t(934)),w=n(t(9125)),b=n(t(9744)),y=n(t(5815)),_=n(t(6890)),S=n(t(6377)),A=(t(7452),n(t(2578)));e.default=function(D){var R=D===void 0?{}:D,k=R.version,j=R.chunker,F=R.dechunker,z=R.channel,q=R.disableLosslessIntegers,$=R.useBigInt,K=R.serversideRouting,oe=R.server,J=R.log,re=R.observer;return function(ae,ve,se,ce,pe,Pe,de,ge){switch(ae){case 1:return new a.default(ve,se,ce,Pe,ge,de);case 2:return new o.default(ve,se,ce,Pe,ge,de);case 3:return new s.default(ve,se,ce,Pe,ge,de);case 4:return new u.default(ve,se,ce,Pe,ge,de);case 4.1:return new l.default(ve,se,ce,Pe,ge,de,pe);case 4.2:return new c.default(ve,se,ce,Pe,ge,de,pe);case 4.3:return new f.default(ve,se,ce,Pe,ge,de,pe);case 4.4:return new d.default(ve,se,ce,Pe,ge,de,pe);case 5:return new v.default(ve,se,ce,Pe,ge,de,pe);case 5.1:return new p.default(ve,se,ce,Pe,ge,de,pe);case 5.2:return new m.default(ve,se,ce,Pe,ge,de,pe);case 5.3:return new w.default(ve,se,ce,Pe,ge,de,pe);case 5.4:return new b.default(ve,se,ce,Pe,ge,de,pe);case 5.5:return new y.default(ve,se,ce,Pe,ge,de,pe);case 5.6:return new _.default(ve,se,ce,Pe,ge,de,pe);case 5.7:return new S.default(ve,se,ce,Pe,ge,de,pe);default:throw(0,i.newError)("Unknown Bolt protocol version: "+ae)}}(k,oe,j,{disableLosslessIntegers:q,useBigInt:$},K,function(ae){var ve=new A.default({transformMetadata:ae.transformMetadata.bind(ae),enrichErrorMetadata:ae.enrichErrorMetadata.bind(ae),log:J,observer:re});return z.onerror=re.onError.bind(re),z.onmessage=function(se){return F.write(se)},F.onmessage=function(se){try{ve.handleResponse(ae.unpack(se))}catch(ce){return re.onError(ce)}},ve},re.onProtocolError.bind(re),J)}},8731:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=t(7452),i=t(9305);function a(o,s){return{major:o,minor:s}}e.default=function(o,s){var u=this;return new Promise(function(l,c){var f=function(d){c(d)};o.onerror=f.bind(u),o._error&&f(o._error),o.onmessage=function(d){try{var v=function(p,m){var w=[p.readUInt8(),p.readUInt8(),p.readUInt8(),p.readUInt8()];if(w[0]===72&&w[1]===84&&w[2]===84&&w[3]===80)throw m.error("Handshake failed since server responded with HTTP."),(0,i.newError)("Server responded HTTP. Make sure you are not trying to connect to the http endpoint (HTTP defaults to port 7474 whereas BOLT defaults to port 7687)");return+(w[3]+"."+w[2])}(d,s);l({protocolVersion:v,consumeRemainingBuffer:function(p){d.hasRemaining()&&p(d.readSlice(d.remaining()))}})}catch(p){c(p)}},o.write(function(d){if(d.length>4)throw(0,i.newError)("It should not have more than 4 versions of the protocol");var v=(0,n.alloc)(20);return v.writeInt32(1616949271),d.forEach(function(p){if(p instanceof Array){var m=p[0],w=m.major,b=(y=m.minor)-p[1].minor;v.writeInt32(b<<16|y<<8|w)}else{w=p.major;var y=p.minor;v.writeInt32(y<<8|w)}}),v.reset(),v}([[a(5,7),a(5,0)],[a(4,4),a(4,2)],a(4,1),a(3,0)]))})}},7666:function(r,e,t){var n=this&&this.__createBinding||(Object.create?function(c,f,d,v){v===void 0&&(v=d);var p=Object.getOwnPropertyDescriptor(f,d);p&&!("get"in p?!f.__esModule:p.writable||p.configurable)||(p={enumerable:!0,get:function(){return f[d]}}),Object.defineProperty(c,v,p)}:function(c,f,d,v){v===void 0&&(v=d),c[v]=f[d]}),i=this&&this.__exportStar||function(c,f){for(var d in c)d==="default"||Object.prototype.hasOwnProperty.call(f,d)||n(f,c,d)},a=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(e,"__esModule",{value:!0}),e.RawRoutingTable=e.BoltProtocol=void 0;var o=a(t(8731)),s=a(t(6544)),u=a(t(9054)),l=a(t(7790));i(t(9014),e),e.BoltProtocol=u.default,e.RawRoutingTable=l.default,e.default={handshake:o.default,create:s.default}},7021:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SIGNATURES=void 0;var n=t(9305),i=n.internal.constants,a=i.ACCESS_MODE_READ,o=i.FETCH_ALL,s=n.internal.util.assertString,u=Object.freeze({INIT:1,RESET:15,RUN:16,PULL_ALL:63,HELLO:1,GOODBYE:2,BEGIN:17,COMMIT:18,ROLLBACK:19,TELEMETRY:84,ROUTE:102,LOGON:106,LOGOFF:107,DISCARD:47,PULL:63});e.SIGNATURES=u;var l=function(){function _(S,A,D){this.signature=S,this.fields=A,this.toString=D}return _.init=function(S,A){return new _(1,[S,A],function(){return"INIT ".concat(S," {...}")})},_.run=function(S,A){return new _(16,[S,A],function(){return"RUN ".concat(S," ").concat(n.json.stringify(A))})},_.pullAll=function(){return p},_.reset=function(){return m},_.hello=function(S,A,D,R){D===void 0&&(D=null),R===void 0&&(R=null);var k=Object.assign({user_agent:S},A);return D&&(k.routing=D),R&&(k.patch_bolt=R),new _(1,[k],function(){return"HELLO {user_agent: '".concat(S,"', ...}")})},_.hello5x1=function(S,A){A===void 0&&(A=null);var D={user_agent:S};return A&&(D.routing=A),new _(1,[D],function(){return"HELLO {user_agent: '".concat(S,"', ...}")})},_.hello5x2=function(S,A,D){A===void 0&&(A=null),D===void 0&&(D=null);var R={user_agent:S};return d(R,A),D&&(R.routing=D),new _(1,[R],function(){return"HELLO ".concat(n.json.stringify(R))})},_.hello5x3=function(S,A,D,R){D===void 0&&(D=null),R===void 0&&(R=null);var k={};return S&&(k.user_agent=S),A&&(k.bolt_agent={product:A.product,platform:A.platform,language:A.language,language_details:A.languageDetails}),d(k,D),R&&(k.routing=R),new _(1,[k],function(){return"HELLO ".concat(n.json.stringify(k))})},_.hello5x5=function(S,A,D,R){D===void 0&&(D=null),R===void 0&&(R=null);var k={};return S&&(k.user_agent=S),A&&(k.bolt_agent={product:A.product,platform:A.platform,language:A.language,language_details:A.languageDetails}),v(k,D),R&&(k.routing=R),new _(1,[k],function(){return"HELLO ".concat(n.json.stringify(k))})},_.logon=function(S){return new _(106,[S],function(){return"LOGON { ... }"})},_.logoff=function(){return new _(107,[],function(){return"LOGOFF"})},_.begin=function(S){var A=S===void 0?{}:S,D=c(A.bookmarks,A.txConfig,A.database,A.mode,A.impersonatedUser,A.notificationFilter);return new _(17,[D],function(){return"BEGIN ".concat(n.json.stringify(D))})},_.begin5x5=function(S){var A=S===void 0?{}:S,D=c(A.bookmarks,A.txConfig,A.database,A.mode,A.impersonatedUser,A.notificationFilter,{appendNotificationFilter:v});return new _(17,[D],function(){return"BEGIN ".concat(n.json.stringify(D))})},_.commit=function(){return w},_.rollback=function(){return b},_.runWithMetadata=function(S,A,D){var R=D===void 0?{}:D,k=c(R.bookmarks,R.txConfig,R.database,R.mode,R.impersonatedUser,R.notificationFilter);return new _(16,[S,A,k],function(){return"RUN ".concat(S," ").concat(n.json.stringify(A)," ").concat(n.json.stringify(k))})},_.runWithMetadata5x5=function(S,A,D){var R=D===void 0?{}:D,k=c(R.bookmarks,R.txConfig,R.database,R.mode,R.impersonatedUser,R.notificationFilter,{appendNotificationFilter:v});return new _(16,[S,A,k],function(){return"RUN ".concat(S," ").concat(n.json.stringify(A)," ").concat(n.json.stringify(k))})},_.goodbye=function(){return y},_.pull=function(S){var A=S===void 0?{}:S,D=A.stmtId,R=D===void 0?-1:D,k=A.n,j=f(R??-1,(k===void 0?o:k)||o);return new _(63,[j],function(){return"PULL ".concat(n.json.stringify(j))})},_.discard=function(S){var A=S===void 0?{}:S,D=A.stmtId,R=D===void 0?-1:D,k=A.n,j=f(R??-1,(k===void 0?o:k)||o);return new _(47,[j],function(){return"DISCARD ".concat(n.json.stringify(j))})},_.telemetry=function(S){var A=S.api,D=(0,n.int)(A);return new _(84,[D],function(){return"TELEMETRY ".concat(D.toString())})},_.route=function(S,A,D){return S===void 0&&(S={}),A===void 0&&(A=[]),D===void 0&&(D=null),new _(102,[S,A,D],function(){return"ROUTE ".concat(n.json.stringify(S)," ").concat(n.json.stringify(A)," ").concat(D)})},_.routeV4x4=function(S,A,D){S===void 0&&(S={}),A===void 0&&(A=[]),D===void 0&&(D={});var R={};return D.databaseName&&(R.db=D.databaseName),D.impersonatedUser&&(R.imp_user=D.impersonatedUser),new _(102,[S,A,R],function(){return"ROUTE ".concat(n.json.stringify(S)," ").concat(n.json.stringify(A)," ").concat(n.json.stringify(R))})},_}();function c(_,S,A,D,R,k,j){var F;j===void 0&&(j={});var z={};return _.isEmpty()||(z.bookmarks=_.values()),S.timeout!==null&&(z.tx_timeout=S.timeout),S.metadata&&(z.tx_metadata=S.metadata),A&&(z.db=s(A,"database")),R&&(z.imp_user=s(R,"impersonatedUser")),D===a&&(z.mode="r"),((F=j.appendNotificationFilter)!==null&&F!==void 0?F:d)(z,k),z}function f(_,S){var A={n:(0,n.int)(S)};return _!==-1&&(A.qid=(0,n.int)(_)),A}function d(_,S){S&&(S.minimumSeverityLevel&&(_.notifications_minimum_severity=S.minimumSeverityLevel),S.disabledCategories&&(_.notifications_disabled_categories=S.disabledCategories),S.disabledClassifications&&(_.notifications_disabled_categories=S.disabledClassifications))}function v(_,S){S&&(S.minimumSeverityLevel&&(_.notifications_minimum_severity=S.minimumSeverityLevel),S.disabledCategories&&(_.notifications_disabled_classifications=S.disabledCategories),S.disabledClassifications&&(_.notifications_disabled_classifications=S.disabledClassifications))}e.default=l;var p=new l(63,[],function(){return"PULL_ALL"}),m=new l(15,[],function(){return"RESET"}),w=new l(18,[],function(){return"COMMIT"}),b=new l(19,[],function(){return"ROLLBACK"}),y=new l(2,[],function(){return"GOODBYE"})},2578:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=t(9305);function i(){}function a(u){return u}var o={onNext:i,onCompleted:i,onError:i},s=function(){function u(l){var c=l===void 0?{}:l,f=c.transformMetadata,d=c.enrichErrorMetadata,v=c.log,p=c.observer;this._pendingObservers=[],this._log=v,this._transformMetadata=f||a,this._enrichErrorMetadata=d||a,this._observer=Object.assign({onObserversCountChange:i,onError:i,onFailure:i,onErrorApplyTransformation:a},p)}return Object.defineProperty(u.prototype,"currentFailure",{get:function(){return this._currentFailure},enumerable:!1,configurable:!0}),u.prototype.handleResponse=function(l){var c=l.fields[0];switch(l.signature){case 113:this._log.isDebugEnabled()&&this._log.debug("S: RECORD ".concat(n.json.stringify(l))),this._currentObserver.onNext(c);break;case 112:this._log.isDebugEnabled()&&this._log.debug("S: SUCCESS ".concat(n.json.stringify(l)));try{var f=this._transformMetadata(c);this._currentObserver.onCompleted(f)}finally{this._updateCurrentObserver()}break;case 127:this._log.isDebugEnabled()&&this._log.debug("S: FAILURE ".concat(n.json.stringify(l)));try{this._currentFailure=this._handleErrorPayload(this._enrichErrorMetadata(c)),this._currentObserver.onError(this._currentFailure)}finally{this._updateCurrentObserver(),this._observer.onFailure(this._currentFailure)}break;case 126:this._log.isDebugEnabled()&&this._log.debug("S: IGNORED ".concat(n.json.stringify(l)));try{this._currentFailure&&this._currentObserver.onError?this._currentObserver.onError(this._currentFailure):this._currentObserver.onError&&this._currentObserver.onError((0,n.newError)("Ignored either because of an error or RESET"))}finally{this._updateCurrentObserver()}break;default:this._observer.onError((0,n.newError)("Unknown Bolt protocol message: "+l))}},u.prototype._updateCurrentObserver=function(){this._currentObserver=this._pendingObservers.shift(),this._observer.onObserversCountChange(this._observersCount)},Object.defineProperty(u.prototype,"_observersCount",{get:function(){return this._currentObserver==null?this._pendingObservers.length:this._pendingObservers.length+1},enumerable:!1,configurable:!0}),u.prototype._queueObserver=function(l){return(l=l||o).onCompleted=l.onCompleted||i,l.onError=l.onError||i,l.onNext=l.onNext||i,this._currentObserver===void 0?this._currentObserver=l:this._pendingObservers.push(l),this._observer.onObserversCountChange(this._observersCount),!0},u.prototype._notifyErrorToObservers=function(l){for(this._currentObserver&&this._currentObserver.onError&&this._currentObserver.onError(l);this._pendingObservers.length>0;){var c=this._pendingObservers.shift();c&&c.onError&&c.onError(l)}},u.prototype.hasOngoingObservableRequests=function(){return this._currentObserver!=null||this._pendingObservers.length>0},u.prototype._resetFailure=function(){this._currentFailure=null},u.prototype._handleErrorPayload=function(l){var c,f=(c=l.code)==="Neo.TransientError.Transaction.Terminated"?"Neo.ClientError.Transaction.Terminated":c==="Neo.TransientError.Transaction.LockClientStopped"?"Neo.ClientError.Transaction.LockClientStopped":c,d=l.cause!=null?this._handleErrorCause(l.cause):void 0,v=(0,n.newError)(l.message,f,d,l.gql_status,l.description,l.diagnostic_record);return this._observer.onErrorApplyTransformation(v)},u.prototype._handleErrorCause=function(l){var c=l.cause!=null?this._handleErrorCause(l.cause):void 0,f=(0,n.newGQLError)(l.message,c,l.gql_status,l.description,l.diagnostic_record);return this._observer.onErrorApplyTransformation(f)},u}();e.default=s},7790:function(r,e,t){var n,i=this&&this.__extends||(n=function(c,f){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var p in v)Object.prototype.hasOwnProperty.call(v,p)&&(d[p]=v[p])},n(c,f)},function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function d(){this.constructor=c}n(c,f),c.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}),a=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(e,"__esModule",{value:!0}),a(t(9305));var o=function(){function c(){}return c.ofRecord=function(f){return f===null?c.ofNull():new l(f)},c.ofMessageResponse=function(f){return f===null?c.ofNull():new s(f)},c.ofNull=function(){return new u},Object.defineProperty(c.prototype,"ttl",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"db",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"servers",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isNull",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),c}();e.default=o;var s=function(c){function f(d){var v=c.call(this)||this;return v._response=d,v}return i(f,c),Object.defineProperty(f.prototype,"ttl",{get:function(){return this._response.rt.ttl},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"servers",{get:function(){return this._response.rt.servers},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"db",{get:function(){return this._response.rt.db},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isNull",{get:function(){return this._response===null},enumerable:!1,configurable:!0}),f}(o),u=function(c){function f(){return c!==null&&c.apply(this,arguments)||this}return i(f,c),Object.defineProperty(f.prototype,"isNull",{get:function(){return!0},enumerable:!1,configurable:!0}),f}(o),l=function(c){function f(d){var v=c.call(this)||this;return v._record=d,v}return i(f,c),Object.defineProperty(f.prototype,"ttl",{get:function(){return this._record.get("ttl")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"servers",{get:function(){return this._record.get("servers")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"db",{get:function(){return this._record.has("db")?this._record.get("db"):null},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isNull",{get:function(){return this._record===null},enumerable:!1,configurable:!0}),f}(o)},9014:function(r,e,t){var n,i=this&&this.__extends||(n=function(D,R){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,j){k.__proto__=j}||function(k,j){for(var F in j)Object.prototype.hasOwnProperty.call(j,F)&&(k[F]=j[F])},n(D,R)},function(D,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");function k(){this.constructor=D}n(D,R),D.prototype=R===null?Object.create(R):(k.prototype=R.prototype,new k)}),a=this&&this.__importDefault||function(D){return D&&D.__esModule?D:{default:D}};Object.defineProperty(e,"__esModule",{value:!0}),e.TelemetryObserver=e.ProcedureRouteObserver=e.RouteObserver=e.CompletedObserver=e.FailedObserver=e.ResetObserver=e.LogoffObserver=e.LoginObserver=e.ResultStreamObserver=e.StreamObserver=void 0;var o=t(9305),s=a(t(7790)),u=t(6781),l=o.internal.constants.FETCH_ALL,c=o.error.PROTOCOL_ERROR,f=function(){function D(){}return D.prototype.onNext=function(R){},D.prototype.onError=function(R){},D.prototype.onCompleted=function(R){},D}();e.StreamObserver=f;var d=function(D){function R(k){var j=k===void 0?{}:k,F=j.reactive,z=F!==void 0&&F,q=j.moreFunction,$=j.discardFunction,K=j.fetchSize,oe=K===void 0?l:K,J=j.beforeError,re=j.afterError,ae=j.beforeKeys,ve=j.afterKeys,se=j.beforeComplete,ce=j.afterComplete,pe=j.server,Pe=j.highRecordWatermark,de=Pe===void 0?Number.MAX_VALUE:Pe,ge=j.lowRecordWatermark,Ce=ge===void 0?Number.MAX_VALUE:ge,Ne=j.enrichMetadata,De=D.call(this)||this;return De._fieldKeys=null,De._fieldLookup=null,De._head=null,De._queuedRecords=[],De._tail=null,De._error=null,De._observers=[],De._meta={},De._server=pe,De._beforeError=J,De._afterError=re,De._beforeKeys=ae,De._afterKeys=ve,De._beforeComplete=se,De._afterComplete=ce,De._enrichMetadata=Ne||u.functional.identity,De._queryId=null,De._moreFunction=q,De._discardFunction=$,De._discard=!1,De._fetchSize=oe,De._lowRecordWatermark=Ce,De._highRecordWatermark=de,De._setState(z?A.READY:A.READY_STREAMING),De._setupAutoPull(),De._paused=!1,De._pulled=!z,De._haveRecordStreamed=!1,De}return i(R,D),R.prototype.pause=function(){this._paused=!0},R.prototype.resume=function(){this._paused=!1,this._setupAutoPull(!0),this._state.pull(this)},R.prototype.onNext=function(k){this._haveRecordStreamed=!0;var j=new o.Record(this._fieldKeys,k,this._fieldLookup);this._observers.some(function(F){return F.onNext})?this._observers.forEach(function(F){F.onNext&&F.onNext(j)}):(this._queuedRecords.push(j),this._queuedRecords.length>this._highRecordWatermark&&(this._autoPull=!1))},R.prototype.onCompleted=function(k){this._state.onSuccess(this,k)},R.prototype.onError=function(k){this._state.onError(this,k)},R.prototype.cancel=function(){this._discard=!0},R.prototype.prepareToHandleSingleResponse=function(){this._head=[],this._fieldKeys=[],this._setState(A.STREAMING)},R.prototype.markCompleted=function(){this._head=[],this._fieldKeys=[],this._tail={},this._setState(A.SUCCEEDED)},R.prototype.subscribe=function(k){if(this._head&&k.onKeys&&k.onKeys(this._head),this._queuedRecords.length>0&&k.onNext)for(var j=0;j<this._queuedRecords.length;j++)k.onNext(this._queuedRecords[j]),this._queuedRecords.length-j-1<=this._lowRecordWatermark&&(this._autoPull=!0,this._state===A.READY&&this._handleStreaming());this._tail&&k.onCompleted&&k.onCompleted(this._tail),this._error&&k.onError(this._error),this._observers.push(k),this._state===A.READY&&this._handleStreaming()},R.prototype._handleHasMore=function(k){this._setState(A.READY),this._handleStreaming(),delete k.has_more},R.prototype._handlePullSuccess=function(k){var j=this,F=this._enrichMetadata(Object.assign(this._server?{server:this._server}:{},this._meta,{stream_summary:{have_records_streamed:this._haveRecordStreamed,pulled:this._pulled,has_keys:this._fieldKeys.length>0}},k));if([void 0,null,"r","w","rw","s"].includes(F.type)){this._setState(A.SUCCEEDED);var z=null;this._beforeComplete&&(z=this._beforeComplete(F));var q=function(){j._tail=F,j._observers.some(function($){return $.onCompleted})&&j._observers.forEach(function($){$.onCompleted&&$.onCompleted(F)}),j._afterComplete&&j._afterComplete(F)};z?Promise.resolve(z).then(function(){return q()}):q()}else this.onError((0,o.newError)(`Server returned invalid query type. Expected one of [undefined, null, "r", "w", "rw", "s"] but got '`.concat(F.type,"'"),c))},R.prototype._handleRunSuccess=function(k,j){var F=this;if(this._fieldKeys===null){if(this._fieldKeys=[],this._fieldLookup={},k.fields&&k.fields.length>0){this._fieldKeys=k.fields;for(var z=0;z<k.fields.length;z++)this._fieldLookup[k.fields[z]]=z}k.fields!=null&&delete k.fields,k.qid!==null&&k.qid!==void 0&&(this._queryId=k.qid,delete k.qid),this._storeMetadataForCompletion(k);var q=null;this._beforeKeys&&(q=this._beforeKeys(this._fieldKeys));var $=function(){F._head=F._fieldKeys,F._observers.some(function(K){return K.onKeys})&&F._observers.forEach(function(K){K.onKeys&&K.onKeys(F._fieldKeys)}),F._afterKeys&&F._afterKeys(F._fieldKeys),j()};q?Promise.resolve(q).then(function(){return $()}):$()}},R.prototype._handleError=function(k){var j=this;this._setState(A.FAILED),this._error=k;var F=null;this._beforeError&&(F=this._beforeError(k));var z=function(){j._observers.some(function(q){return q.onError})&&j._observers.forEach(function(q){q.onError&&q.onError(k)}),j._afterError&&j._afterError(k)};F?Promise.resolve(F).then(function(){return z()}):z()},R.prototype._handleStreaming=function(){this._head&&this._observers.some(function(k){return k.onNext||k.onCompleted})&&(this._paused||!this._discard&&!this._autoPull||this._more())},R.prototype._more=function(){this._discard?this._discardFunction(this._queryId,this):(this._pulled=!0,this._moreFunction(this._queryId,this._fetchSize,this)),this._setState(A.STREAMING)},R.prototype._storeMetadataForCompletion=function(k){for(var j=Object.keys(k),F=j.length,z="";F--;)z=j[F],this._meta[z]=k[z]},R.prototype._setState=function(k){this._state=k},R.prototype._setupAutoPull=function(){this._autoPull=!0},R}(f);e.ResultStreamObserver=d;var v=function(D){function R(k){var j=k===void 0?{}:k,F=j.onError,z=j.onCompleted,q=D.call(this)||this;return q._onError=F,q._onCompleted=z,q}return i(R,D),R.prototype.onNext=function(k){this.onError((0,o.newError)("Received RECORD when initializing "+o.json.stringify(k)))},R.prototype.onError=function(k){this._onError&&this._onError(k)},R.prototype.onCompleted=function(k){this._onCompleted&&this._onCompleted(k)},R}(f);e.LoginObserver=v;var p=function(D){function R(k){var j=k===void 0?{}:k,F=j.onError,z=j.onCompleted,q=D.call(this)||this;return q._onError=F,q._onCompleted=z,q}return i(R,D),R.prototype.onNext=function(k){this.onError((0,o.newError)("Received RECORD when logging off "+o.json.stringify(k)))},R.prototype.onError=function(k){this._onError&&this._onError(k)},R.prototype.onCompleted=function(k){this._onCompleted&&this._onCompleted(k)},R}(f);e.LogoffObserver=p;var m=function(D){function R(k){var j=k===void 0?{}:k,F=j.onProtocolError,z=j.onError,q=j.onComplete,$=D.call(this)||this;return $._onProtocolError=F,$._onError=z,$._onComplete=q,$}return i(R,D),R.prototype.onNext=function(k){this.onError((0,o.newError)("Received RECORD when resetting: received record is: "+o.json.stringify(k),c))},R.prototype.onError=function(k){k.code===c&&this._onProtocolError&&this._onProtocolError(k.message),this._onError&&this._onError(k)},R.prototype.onCompleted=function(k){this._onComplete&&this._onComplete(k)},R}(f);e.ResetObserver=m;var w=function(D){function R(k){var j=k===void 0?{}:k,F=j.onError,z=j.onCompleted,q=D.call(this)||this;return q._onError=F,q._onCompleted=z,q}return i(R,D),R.prototype.onNext=function(k){this.onError((0,o.newError)("Received RECORD when sending telemetry "+o.json.stringify(k),c))},R.prototype.onError=function(k){this._onError&&this._onError(k)},R.prototype.onCompleted=function(k){this._onCompleted&&this._onCompleted(k)},R}(d);e.TelemetryObserver=w;var b=function(D){function R(k){var j=k.error,F=k.onError,z=D.call(this,{beforeError:F})||this;return z.onError(j),z}return i(R,D),R}(d);e.FailedObserver=b;var y=function(D){function R(){var k=D.call(this)||this;return D.prototype.markCompleted.call(k),k}return i(R,D),R}(d);e.CompletedObserver=y;var _=function(D){function R(k){var j=k.resultObserver,F=k.onProtocolError,z=k.onError,q=k.onCompleted,$=D.call(this)||this;return $._resultObserver=j,$._onError=z,$._onCompleted=q,$._records=[],$._onProtocolError=F,j.subscribe($),$}return i(R,D),R.prototype.onNext=function(k){this._records.push(k)},R.prototype.onError=function(k){k.code===c&&this._onProtocolError&&this._onProtocolError(k.message),this._onError&&this._onError(k)},R.prototype.onCompleted=function(){this._records===null||this._records.length===1?this._onCompleted&&this._onCompleted(s.default.ofRecord(this._records[0])):this.onError((0,o.newError)("Illegal response from router. Received "+this._records.length+` records but expected only one.
`+o.json.stringify(this._records),c))},R}(f);e.ProcedureRouteObserver=_;var S=function(D){function R(k){var j=k===void 0?{}:k,F=j.onProtocolError,z=j.onError,q=j.onCompleted,$=D.call(this)||this;return $._onProtocolError=F,$._onError=z,$._onCompleted=q,$}return i(R,D),R.prototype.onNext=function(k){this.onError((0,o.newError)("Received RECORD when resetting: received record is: "+o.json.stringify(k),c))},R.prototype.onError=function(k){k.code===c&&this._onProtocolError&&this._onProtocolError(k.message),this._onError&&this._onError(k)},R.prototype.onCompleted=function(k){this._onCompleted&&this._onCompleted(s.default.ofMessageResponse(k))},R}(f);e.RouteObserver=S;var A={READY_STREAMING:{onSuccess:function(D,R){D._handleRunSuccess(R,function(){D._setState(A.STREAMING)})},onError:function(D,R){D._handleError(R)},name:function(){return"READY_STREAMING"},pull:function(){}},READY:{onSuccess:function(D,R){D._handleRunSuccess(R,function(){return D._handleStreaming()})},onError:function(D,R){D._handleError(R)},name:function(){return"READY"},pull:function(D){return D._more()}},STREAMING:{onSuccess:function(D,R){R.has_more?D._handleHasMore(R):D._handlePullSuccess(R)},onError:function(D,R){D._handleError(R)},name:function(){return"STREAMING"},pull:function(){}},FAILED:{onError:function(D){},name:function(){return"FAILED"},pull:function(){}},SUCCEEDED:{name:function(){return"SUCCEEDED"},pull:function(){}}}},5973:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.epochSecondAndNanoToLocalDateTime=e.nanoOfDayToLocalTime=e.epochDayToDate=void 0;var n=t(9305),i=n.internal.temporalUtil,a=i.DAYS_0000_TO_1970,o=i.DAYS_PER_400_YEAR_CYCLE,s=i.NANOS_PER_HOUR,u=i.NANOS_PER_MINUTE,l=i.NANOS_PER_SECOND,c=i.SECONDS_PER_DAY,f=i.floorDiv,d=i.floorMod;function v(m){var w=(m=(0,n.int)(m)).add(a).subtract(60),b=(0,n.int)(0);if(w.lessThan(0)){var y=w.add(1).div(o).subtract(1);b=y.multiply(400),w=w.add(y.multiply(-o))}var _=w.multiply(400).add(591).div(o),S=w.subtract(_.multiply(365).add(_.div(4)).subtract(_.div(100)).add(_.div(400)));S.lessThan(0)&&(_=_.subtract(1),S=w.subtract(_.multiply(365).add(_.div(4)).subtract(_.div(100)).add(_.div(400)))),_=_.add(b);var A=S,D=A.multiply(5).add(2).div(153),R=D.add(2).modulo(12).add(1),k=A.subtract(D.multiply(306).add(5).div(10)).add(1);return _=_.add(D.div(10)),new n.Date(_,R,k)}function p(m){var w=(m=(0,n.int)(m)).div(s),b=(m=m.subtract(w.multiply(s))).div(u),y=(m=m.subtract(b.multiply(u))).div(l),_=m.subtract(y.multiply(l));return new n.LocalTime(w,b,y,_)}e.epochDayToDate=v,e.nanoOfDayToLocalTime=p,e.epochSecondAndNanoToLocalDateTime=function(m,w){var b=f(m,c),y=d(m,c).multiply(l).add(w),_=v(b),S=p(y);return new n.LocalDateTime(_.year,_.month,_.day,S.hour,S.minute,S.second,S.nanosecond)}},3321:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TypeTransformer=void 0;var n=t(7168),i=t(9305).internal.objectUtil,a=function(){function s(u){this._transformers=u,this._transformersPerSignature=new Map(u.map(function(l){return[l.signature,l]})),this.fromStructure=this.fromStructure.bind(this),this.toStructure=this.toStructure.bind(this),Object.freeze(this)}return s.prototype.fromStructure=function(u){try{return u instanceof n.structure.Structure&&this._transformersPerSignature.has(u.signature)?(0,this._transformersPerSignature.get(u.signature).fromStructure)(u):u}catch(l){return i.createBrokenObject(l)}},s.prototype.toStructure=function(u){var l=this._transformers.find(function(c){return(0,c.isTypeInstance)(u)});return l!==void 0?l.toStructure(u):u},s}();e.default=a;var o=function(){function s(u){var l=u.signature,c=u.fromStructure,f=u.toStructure,d=u.isTypeInstance;this.signature=l,this.isTypeInstance=d,this.fromStructure=c,this.toStructure=f,Object.freeze(this)}return s.prototype.extendsWith=function(u){var l=u.signature,c=u.fromStructure,f=u.toStructure,d=u.isTypeInstance;return new s({signature:l||this.signature,fromStructure:c||this.fromStructure,toStructure:f||this.toStructure,isTypeInstance:d||this.isTypeInstance})},s}();e.TypeTransformer=o},45:function(r,e){var t,n=this&&this.__extends||(t=function(o,s){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,l){u.__proto__=l}||function(u,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(u[c]=l[c])},t(o,s)},function(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function u(){this.constructor=o}t(o,s),o.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function o(s){this.position=0,this.length=s}return o.prototype.getUInt8=function(s){throw new Error("Not implemented")},o.prototype.getInt8=function(s){throw new Error("Not implemented")},o.prototype.getFloat64=function(s){throw new Error("Not implemented")},o.prototype.putUInt8=function(s,u){throw new Error("Not implemented")},o.prototype.putInt8=function(s,u){throw new Error("Not implemented")},o.prototype.putFloat64=function(s,u){throw new Error("Not implemented")},o.prototype.getInt16=function(s){return this.getInt8(s)<<8|this.getUInt8(s+1)},o.prototype.getUInt16=function(s){return this.getUInt8(s)<<8|this.getUInt8(s+1)},o.prototype.getInt32=function(s){return this.getInt8(s)<<24|this.getUInt8(s+1)<<16|this.getUInt8(s+2)<<8|this.getUInt8(s+3)},o.prototype.getUInt32=function(s){return this.getUInt8(s)<<24|this.getUInt8(s+1)<<16|this.getUInt8(s+2)<<8|this.getUInt8(s+3)},o.prototype.getInt64=function(s){return this.getInt8(s)<<56|this.getUInt8(s+1)<<48|this.getUInt8(s+2)<<40|this.getUInt8(s+3)<<32|this.getUInt8(s+4)<<24|this.getUInt8(s+5)<<16|this.getUInt8(s+6)<<8|this.getUInt8(s+7)},o.prototype.getSlice=function(s,u){return new a(s,u,this)},o.prototype.putInt16=function(s,u){this.putInt8(s,u>>8),this.putUInt8(s+1,255&u)},o.prototype.putUInt16=function(s,u){this.putUInt8(s,u>>8&255),this.putUInt8(s+1,255&u)},o.prototype.putInt32=function(s,u){this.putInt8(s,u>>24),this.putUInt8(s+1,u>>16&255),this.putUInt8(s+2,u>>8&255),this.putUInt8(s+3,255&u)},o.prototype.putUInt32=function(s,u){this.putUInt8(s,u>>24&255),this.putUInt8(s+1,u>>16&255),this.putUInt8(s+2,u>>8&255),this.putUInt8(s+3,255&u)},o.prototype.putInt64=function(s,u){this.putInt8(s,u>>48),this.putUInt8(s+1,u>>42&255),this.putUInt8(s+2,u>>36&255),this.putUInt8(s+3,u>>30&255),this.putUInt8(s+4,u>>24&255),this.putUInt8(s+5,u>>16&255),this.putUInt8(s+6,u>>8&255),this.putUInt8(s+7,255&u)},o.prototype.putBytes=function(s,u){for(var l=0,c=u.remaining();l<c;l++)this.putUInt8(s+l,u.readUInt8())},o.prototype.readUInt8=function(){return this.getUInt8(this._updatePos(1))},o.prototype.readInt8=function(){return this.getInt8(this._updatePos(1))},o.prototype.readUInt16=function(){return this.getUInt16(this._updatePos(2))},o.prototype.readUInt32=function(){return this.getUInt32(this._updatePos(4))},o.prototype.readInt16=function(){return this.getInt16(this._updatePos(2))},o.prototype.readInt32=function(){return this.getInt32(this._updatePos(4))},o.prototype.readInt64=function(){return this.getInt32(this._updatePos(8))},o.prototype.readFloat64=function(){return this.getFloat64(this._updatePos(8))},o.prototype.writeUInt8=function(s){this.putUInt8(this._updatePos(1),s)},o.prototype.writeInt8=function(s){this.putInt8(this._updatePos(1),s)},o.prototype.writeInt16=function(s){this.putInt16(this._updatePos(2),s)},o.prototype.writeInt32=function(s){this.putInt32(this._updatePos(4),s)},o.prototype.writeUInt32=function(s){this.putUInt32(this._updatePos(4),s)},o.prototype.writeInt64=function(s){this.putInt64(this._updatePos(8),s)},o.prototype.writeFloat64=function(s){this.putFloat64(this._updatePos(8),s)},o.prototype.writeBytes=function(s){this.putBytes(this._updatePos(s.remaining()),s)},o.prototype.readSlice=function(s){return this.getSlice(this._updatePos(s),s)},o.prototype._updatePos=function(s){var u=this.position;return this.position+=s,u},o.prototype.remaining=function(){return this.length-this.position},o.prototype.hasRemaining=function(){return this.remaining()>0},o.prototype.reset=function(){this.position=0},o.prototype.toString=function(){return this.constructor.name+"( position="+this.position+` )
  `+this.toHex()},o.prototype.toHex=function(){for(var s="",u=0;u<this.length;u++){var l=this.getUInt8(u).toString(16);l.length===1&&(l="0"+l),s+=l,u!==this.length-1&&(s+=" ")}return s},o}();e.default=i;var a=function(o){function s(u,l,c){var f=o.call(this,l)||this;return f._start=u,f._inner=c,f}return n(s,o),s.prototype.putUInt8=function(u,l){this._inner.putUInt8(this._start+u,l)},s.prototype.getUInt8=function(u){return this._inner.getUInt8(this._start+u)},s.prototype.putInt8=function(u,l){this._inner.putInt8(this._start+u,l)},s.prototype.putFloat64=function(u,l){this._inner.putFloat64(this._start+u,l)},s.prototype.getInt8=function(u){return this._inner.getInt8(this._start+u)},s.prototype.getFloat64=function(u){return this._inner.getFloat64(this._start+u)},s}(i)},7174:function(r,e,t){var n=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0}),e.BaseBuffer=void 0;var i=n(t(45));e.BaseBuffer=i.default,e.default=i.default},6245:function(r,e,t){var n=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(t(5319)),a=t(9305),o=a.internal.util,s=o.ENCRYPTION_OFF,u=o.ENCRYPTION_ON,l=function(){function f(d,v,p){v===void 0&&(v=c),p===void 0&&(p=function(S){return new WebSocket(S)});var m=this;this._open=!0,this._pending=[],this._error=null,this._handleConnectionError=this._handleConnectionError.bind(this),this._config=d,this._receiveTimeout=null,this._receiveTimeoutStarted=!1,this._receiveTimeoutId=null,this._closingPromise=null;var w=function(S,A){var D=function(F){return F.encrypted===!0||F.encrypted===u}(S),R=function(F){return F.encrypted===!1||F.encrypted===s}(S),k=S.trust,j=function(F){var z=typeof F=="function"?F():"";return z&&z.toLowerCase().indexOf("https")>=0}(A);return function(F,z,q){q===null||(F&&!q?console.warn("Neo4j driver is configured to use secure WebSocket on a HTTP web page. WebSockets might not work in a mixed content environment. Please consider configuring driver to not use encryption."):z&&q&&console.warn("Neo4j driver is configured to use insecure WebSocket on a HTTPS web page. WebSockets might not work in a mixed content environment. Please consider configuring driver to use encryption."))}(D,R,j),R?{scheme:"ws",error:null}:j?{scheme:"wss",error:null}:D?k&&k!=="TRUST_SYSTEM_CA_SIGNED_CERTIFICATES"?{scheme:null,error:(0,a.newError)("The browser version of this driver only supports one trust strategy, 'TRUST_SYSTEM_CA_SIGNED_CERTIFICATES'. "+k+' is not supported. Please either use TRUST_SYSTEM_CA_SIGNED_CERTIFICATES or disable encryption by setting `encrypted:"'+s+'"` in the driver configuration.')}:{scheme:"wss",error:null}:{scheme:"ws",error:null}}(d,v),b=w.scheme,y=w.error;if(y)this._error=y;else{this._ws=function(S,A,D){var R=S+"://"+A.asHostPort();try{return D(R)}catch(j){if(function(F,z){return F.name==="SyntaxError"&&(q=z.asHostPort()).charAt(0)==="["&&q.indexOf("]")!==-1;var q}(j,A)){var k=function(F,z){var q=z.host().replace(/:/g,"-").replace("%","s")+".ipv6-literal.net";return"".concat(F,"://").concat(q,":").concat(z.port())}(S,A);return D(k)}throw j}}(b,d.address,p),this._ws.binaryType="arraybuffer";var _=this;this._ws.onclose=function(S){S&&!S.wasClean&&_._handleConnectionError(),_._open=!1},this._ws.onopen=function(){_._clearConnectionTimeout();var S=_._pending;_._pending=null;for(var A=0;A<S.length;A++)_.write(S[A])},this._ws.onmessage=function(S){if(m._resetTimeout(),_.onmessage){var A=new i.default(S.data);_.onmessage(A)}},this._ws.onerror=this._handleConnectionError,this._connectionTimeoutFired=!1,this._connectionTimeoutId=this._setupConnectionTimeout()}}return f.prototype._handleConnectionError=function(){if(this._connectionTimeoutFired)return this._error=(0,a.newError)("Failed to establish connection in ".concat(this._config.connectionTimeout,"ms"),this._config.connectionErrorCode),void(this.onerror&&this.onerror(this._error));this._open&&!this._timedout&&(this._error=(0,a.newError)("WebSocket connection failure. Due to security constraints in your web browser, the reason for the failure is not available to this Neo4j Driver. Please use your browsers development console to determine the root cause of the failure. Common reasons include the database being unavailable, using the wrong connection URL or temporary network problems. If you have enabled encryption, ensure your browser is configured to trust the certificate Neo4j is configured to use. WebSocket `readyState` is: "+this._ws.readyState,this._config.connectionErrorCode),this.onerror&&this.onerror(this._error))},f.prototype.write=function(d){if(this._pending!==null)this._pending.push(d);else{if(!(d instanceof i.default))throw(0,a.newError)("Don't know how to send buffer: "+d);try{this._ws.send(d._buffer)}catch(v){if(this._ws.readyState===1)throw v;this._handleConnectionError()}}},f.prototype.close=function(){var d=this;return this._closingPromise===null&&(this._closingPromise=new Promise(function(v,p){d._clearConnectionTimeout(),d._ws&&d._ws.readyState!==3?(d._open=!1,d.stopReceiveTimeout(),d._ws.onclose=function(){v()},d._ws.close()):v()})),this._closingPromise},f.prototype.setupReceiveTimeout=function(d){this._receiveTimeout=d},f.prototype.stopReceiveTimeout=function(){this._receiveTimeout!==null&&this._receiveTimeoutStarted&&(this._receiveTimeoutStarted=!1,this._receiveTimeoutId!=null&&clearTimeout(this._receiveTimeoutId),this._receiveTimeoutId=null)},f.prototype.startReceiveTimeout=function(){this._open&&this._receiveTimeout!==null&&!this._receiveTimeoutStarted&&(this._receiveTimeoutStarted=!0,this._resetTimeout())},f.prototype._resetTimeout=function(){var d=this;this._receiveTimeoutStarted&&(this._receiveTimeoutId!==null&&clearTimeout(this._receiveTimeoutId),this._receiveTimeoutId=setTimeout(function(){d._receiveTimeoutId=null,d._timedout=!0,d.stopReceiveTimeout(),d._error=(0,a.newError)("Connection lost. Server didn't respond in ".concat(d._receiveTimeout,"ms"),d._config.connectionErrorCode),d.close(),d.onerror&&d.onerror(d._error)},this._receiveTimeout))},f.prototype._setupConnectionTimeout=function(){var d=this,v=this._config.connectionTimeout;if(v){var p=this._ws;return setTimeout(function(){p.readyState!==1&&(d._connectionTimeoutFired=!0,p.close())},v)}return null},f.prototype._clearConnectionTimeout=function(){var d=this._connectionTimeoutId;(d||d===0)&&(this._connectionTimeoutFired=!1,this._connectionTimeoutId=null,clearTimeout(d))},f}();function c(){return typeof window<"u"&&window.location?window.location.protocol:null}e.default=l},614:function(r,e){var t=this&&this.__awaiter||function(i,a,o,s){return new(o||(o=Promise))(function(u,l){function c(v){try{d(s.next(v))}catch(p){l(p)}}function f(v){try{d(s.throw(v))}catch(p){l(p)}}function d(v){var p;v.done?u(v.value):(p=v.value,p instanceof o?p:new o(function(m){m(p)})).then(c,f)}d((s=s.apply(i,a||[])).next())})},n=this&&this.__generator||function(i,a){var o,s,u,l,c={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(d){return function(v){return function(p){if(o)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(c=0)),c;)try{if(o=1,s&&(u=2&p[0]?s.return:p[0]?s.throw||((u=s.return)&&u.call(s),0):s.next)&&!(u=u.call(s,p[1])).done)return u;switch(s=0,u&&(p=[2&p[0],u.value]),p[0]){case 0:case 1:u=p;break;case 4:return c.label++,{value:p[1],done:!1};case 5:c.label++,s=p[1],p=[0];continue;case 7:p=c.ops.pop(),c.trys.pop();continue;default:if(!((u=(u=c.trys).length>0&&u[u.length-1])||p[0]!==6&&p[0]!==2)){c=0;continue}if(p[0]===3&&(!u||p[1]>u[0]&&p[1]<u[3])){c.label=p[1];break}if(p[0]===6&&c.label<u[1]){c.label=u[1],u=p;break}if(u&&c.label<u[2]){c.label=u[2],c.ops.push(p);break}u[2]&&c.ops.pop(),c.trys.pop();continue}p=a.call(i,c)}catch(m){p=[6,m],s=0}finally{o=u=0}if(5&p[0])throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}([d,v])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.default={load:function(i){return t(this,void 0,void 0,function(){return n(this,function(a){return[2,i]})})}}},2199:function(r,e,t){var n,i=this&&this.__extends||(n=function(o,s){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,l){u.__proto__=l}||function(u,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(u[c]=l[c])},n(o,s)},function(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function u(){this.constructor=o}n(o,s),o.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)});Object.defineProperty(e,"__esModule",{value:!0});var a=function(o){function s(){return o!==null&&o.apply(this,arguments)||this}return i(s,o),s.prototype.resolve=function(u){return this._resolveToItself(u)},s}(t(9305).internal.resolver.BaseHostNameResolver);e.default=a},3951:function(r,e,t){var n=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0}),e.ClientCertificatesLoader=e.HostNameResolver=e.Channel=void 0;var i=n(t(6245)),a=n(t(2199)),o=n(t(614));e.Channel=i.default,e.HostNameResolver=a.default,e.ClientCertificatesLoader=o.default},5319:function(r,e,t){var n,i=this&&this.__extends||(n=function(u,l){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(c[d]=f[d])},n(u,l)},function(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function c(){this.constructor=u}n(u,l),u.prototype=l===null?Object.create(l):(c.prototype=l.prototype,new c)}),a=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0}),e.alloc=void 0;var o=a(t(1048)),s=function(u){function l(c){var f=this,d=function(v){return v instanceof o.default.Buffer?v:typeof v=="number"&&typeof o.default.Buffer.alloc=="function"?o.default.Buffer.alloc(v):new o.default.Buffer(v)}(c);return(f=u.call(this,d.length)||this)._buffer=d,f}return i(l,u),l.prototype.getUInt8=function(c){return this._buffer.readUInt8(c)},l.prototype.getInt8=function(c){return this._buffer.readInt8(c)},l.prototype.getFloat64=function(c){return this._buffer.readDoubleBE(c)},l.prototype.putUInt8=function(c,f){this._buffer.writeUInt8(f,c)},l.prototype.putInt8=function(c,f){this._buffer.writeInt8(f,c)},l.prototype.putFloat64=function(c,f){this._buffer.writeDoubleBE(f,c)},l.prototype.putBytes=function(c,f){if(f instanceof l){var d=Math.min(f.length-f.position,this.length-c);f._buffer.copy(this._buffer,c,f.position,f.position+d),f.position+=d}else u.prototype.putBytes.call(this,c,f)},l.prototype.getSlice=function(c,f){return new l(this._buffer.slice(c,c+f))},l}(a(t(7174)).default);e.default=s,e.alloc=function(u){return new s(u)}},2481:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=t(9305),i=n.internal.util,a=i.ENCRYPTION_OFF,o=i.ENCRYPTION_ON,s=n.error.SERVICE_UNAVAILABLE,u=[null,void 0,!0,!1,o,a],l=[null,void 0,"TRUST_ALL_CERTIFICATES","TRUST_CUSTOM_CA_SIGNED_CERTIFICATES","TRUST_SYSTEM_CA_SIGNED_CERTIFICATES"];e.default=function(c,f,d,v){this.address=c,this.encrypted=function(p){var m=p.encrypted;if(u.indexOf(m)===-1)throw(0,n.newError)("Illegal value of the encrypted setting ".concat(m,". Expected one of ").concat(u));return m}(f),this.trust=function(p){var m=p.trust;if(l.indexOf(m)===-1)throw(0,n.newError)("Illegal value of the trust setting ".concat(m,". Expected one of ").concat(l));return m}(f),this.trustedCertificates=function(p){return p.trustedCertificates||[]}(f),this.knownHostsPath=function(p){return p.knownHosts||null}(f),this.connectionErrorCode=d||s,this.connectionTimeout=f.connectionTimeout,this.clientCertificate=v}},373:function(r,e,t){var n,i=this&&this.__extends||(n=function(f,d){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,p){v.__proto__=p}||function(v,p){for(var m in p)Object.prototype.hasOwnProperty.call(p,m)&&(v[m]=p[m])},n(f,d)},function(f,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function v(){this.constructor=f}n(f,d),f.prototype=d===null?Object.create(d):(v.prototype=d.prototype,new v)}),a=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(e,"__esModule",{value:!0}),e.Dechunker=e.Chunker=void 0;var o=a(t(45)),s=t(5319),u=a(t(5553)),l=function(f){function d(v,p){var m=f.call(this,0)||this;return m._bufferSize=p||1400,m._ch=v,m._buffer=(0,s.alloc)(m._bufferSize),m._currentChunkStart=0,m._chunkOpen=!1,m}return i(d,f),d.prototype.putUInt8=function(v,p){this._ensure(1),this._buffer.writeUInt8(p)},d.prototype.putInt8=function(v,p){this._ensure(1),this._buffer.writeInt8(p)},d.prototype.putFloat64=function(v,p){this._ensure(8),this._buffer.writeFloat64(p)},d.prototype.putBytes=function(v,p){for(;p.remaining()>0;)this._ensure(1),this._buffer.remaining()>p.remaining()?this._buffer.writeBytes(p):this._buffer.writeBytes(p.readSlice(this._buffer.remaining()));return this},d.prototype.flush=function(){if(this._buffer.position>0){this._closeChunkIfOpen();var v=this._buffer;this._buffer=null,this._ch.write(v.getSlice(0,v.position)),this._buffer=(0,s.alloc)(this._bufferSize),this._chunkOpen=!1}return this},d.prototype.messageBoundary=function(){this._closeChunkIfOpen(),this._buffer.remaining()<2&&this.flush(),this._buffer.writeInt16(0)},d.prototype._ensure=function(v){var p=this._chunkOpen?v:v+2;this._buffer.remaining()<p&&this.flush(),this._chunkOpen||(this._currentChunkStart=this._buffer.position,this._buffer.position=this._buffer.position+2,this._chunkOpen=!0)},d.prototype._closeChunkIfOpen=function(){if(this._chunkOpen){var v=this._buffer.position-(this._currentChunkStart+2);this._buffer.putUInt16(this._currentChunkStart,v),this._chunkOpen=!1}},d}(o.default);e.Chunker=l;var c=function(){function f(){this._currentMessage=[],this._partialChunkHeader=0,this._state=this.AWAITING_CHUNK}return f.prototype.AWAITING_CHUNK=function(d){return d.remaining()>=2?this._onHeader(d.readUInt16()):(this._partialChunkHeader=d.readUInt8()<<8,this.IN_HEADER)},f.prototype.IN_HEADER=function(d){return this._onHeader(65535&(this._partialChunkHeader|d.readUInt8()))},f.prototype.IN_CHUNK=function(d){return this._chunkSize<=d.remaining()?(this._currentMessage.push(d.readSlice(this._chunkSize)),this.AWAITING_CHUNK):(this._chunkSize-=d.remaining(),this._currentMessage.push(d.readSlice(d.remaining())),this.IN_CHUNK)},f.prototype.CLOSED=function(d){},f.prototype._onHeader=function(d){if(d===0){var v=void 0;switch(this._currentMessage.length){case 0:return this.AWAITING_CHUNK;case 1:v=this._currentMessage[0];break;default:v=new u.default(this._currentMessage)}return this._currentMessage=[],this.onmessage(v),this.AWAITING_CHUNK}return this._chunkSize=d,this.IN_CHUNK},f.prototype.write=function(d){for(;d.hasRemaining();)this._state=this._state(d)},f}();e.Dechunker=c},5553:function(r,e,t){var n,i=this&&this.__extends||(n=function(u,l){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(c[d]=f[d])},n(u,l)},function(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function c(){this.constructor=u}n(u,l),u.prototype=l===null?Object.create(l):(c.prototype=l.prototype,new c)});Object.defineProperty(e,"__esModule",{value:!0});var a=t(7174),o=t(5319),s=function(u){function l(c){for(var f=this,d=0,v=0;v<c.length;v++)d+=c[v].length;return(f=u.call(this,d)||this)._buffers=c,f}return i(l,u),l.prototype.getUInt8=function(c){for(var f=0;f<this._buffers.length;f++){var d=this._buffers[f];if(!(c>=d.length))return d.getUInt8(c);c-=d.length}},l.prototype.getInt8=function(c){for(var f=0;f<this._buffers.length;f++){var d=this._buffers[f];if(!(c>=d.length))return d.getInt8(c);c-=d.length}},l.prototype.getFloat64=function(c){for(var f=(0,o.alloc)(8),d=0;d<8;d++)f.putUInt8(d,this.getUInt8(c+d));return f.getFloat64(0)},l}(a.BaseBuffer);e.default=s},7452:function(r,e,t){var n=this&&this.__createBinding||(Object.create?function(l,c,f,d){d===void 0&&(d=f);var v=Object.getOwnPropertyDescriptor(c,f);v&&!("get"in v?!c.__esModule:v.writable||v.configurable)||(v={enumerable:!0,get:function(){return c[f]}}),Object.defineProperty(l,d,v)}:function(l,c,f,d){d===void 0&&(d=f),l[d]=c[f]}),i=this&&this.__exportStar||function(l,c){for(var f in l)f==="default"||Object.prototype.hasOwnProperty.call(c,f)||n(c,l,f)},a=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0}),e.utf8=e.alloc=e.ChannelConfig=void 0,i(t(3951),e),i(t(373),e);var o=t(2481);Object.defineProperty(e,"ChannelConfig",{enumerable:!0,get:function(){return a(o).default}});var s=t(5319);Object.defineProperty(e,"alloc",{enumerable:!0,get:function(){return s.alloc}});var u=t(3473);Object.defineProperty(e,"utf8",{enumerable:!0,get:function(){return a(u).default}})},3473:function(r,e,t){var n=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(t(5319)),a=t(9305),o=n(t(1048)),s=new(t(8888)).StringDecoder("utf8");e.default={encode:function(u){return new i.default(function(l){return typeof o.default.Buffer.from=="function"?o.default.Buffer.from(l,"utf8"):new o.default.Buffer(l,"utf8")}(u))},decode:function(u,l){if(Object.prototype.hasOwnProperty.call(u,"_buffer"))return function(c,f){var d=c.position,v=d+f;return c.position=Math.min(v,c.length),c._buffer.toString("utf8",d,v)}(u,l);if(Object.prototype.hasOwnProperty.call(u,"_buffers"))return function(c,f){return function(d,v,p,m){var w=v,b=d.position;return d._updatePos(Math.min(v,d.length-b)),d._buffers.reduce(function(y,_){if(w<=0)return y;if(b>=_.length)return b-=_.length,"";_._updatePos(b-_.position);var S=Math.min(_.length-b,w),A=_.readSlice(S);return _._updatePos(S),w=Math.max(w-A.length,0),b=0,y+function(D){return s.write(D._buffer)}(A)},"")+s.end()}(c,f)}(u,l);throw(0,a.newError)("Don't know how to decode strings from '".concat(u,"'"))}}},1839:function(r,e,t){var n=this&&this.__awaiter||function(u,l,c,f){return new(c||(c=Promise))(function(d,v){function p(b){try{w(f.next(b))}catch(y){v(y)}}function m(b){try{w(f.throw(b))}catch(y){v(y)}}function w(b){var y;b.done?d(b.value):(y=b.value,y instanceof c?y:new c(function(_){_(y)})).then(p,m)}w((f=f.apply(u,l||[])).next())})},i=this&&this.__generator||function(u,l){var c,f,d,v,p={label:0,sent:function(){if(1&d[0])throw d[1];return d[1]},trys:[],ops:[]};return v={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function m(w){return function(b){return function(y){if(c)throw new TypeError("Generator is already executing.");for(;v&&(v=0,y[0]&&(p=0)),p;)try{if(c=1,f&&(d=2&y[0]?f.return:y[0]?f.throw||((d=f.return)&&d.call(f),0):f.next)&&!(d=d.call(f,y[1])).done)return d;switch(f=0,d&&(y=[2&y[0],d.value]),y[0]){case 0:case 1:d=y;break;case 4:return p.label++,{value:y[1],done:!1};case 5:p.label++,f=y[1],y=[0];continue;case 7:y=p.ops.pop(),p.trys.pop();continue;default:if(!((d=(d=p.trys).length>0&&d[d.length-1])||y[0]!==6&&y[0]!==2)){p=0;continue}if(y[0]===3&&(!d||y[1]>d[0]&&y[1]<d[3])){p.label=y[1];break}if(y[0]===6&&p.label<d[1]){p.label=d[1],d=y;break}if(d&&p.label<d[2]){p.label=d[2],p.ops.push(y);break}d[2]&&p.ops.pop(),p.trys.pop();continue}y=l.call(u,p)}catch(_){y=[6,_],f=0}finally{c=d=0}if(5&y[0])throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}([w,b])}}};Object.defineProperty(e,"__esModule",{value:!0});var a=t(9305),o=t(6781),s=function(){function u(l){var c=l.authTokenManager,f=l.userAgent,d=l.boltAgent;this._authTokenManager=c||(0,a.staticAuthTokenManager)({}),this._userAgent=f,this._boltAgent=d}return u.prototype.authenticate=function(l){var c=l.connection,f=l.auth,d=l.skipReAuth,v=l.waitReAuth,p=l.forceReAuth;return n(this,void 0,void 0,function(){var m,w;return i(this,function(b){switch(b.label){case 0:return f==null?[3,3]:(m=c.supportsReAuth===!0&&(!o.object.equals(c.authToken,f)&&d!==!0||p===!0),c.authToken==null||m?[4,c.connect(this._userAgent,this._boltAgent,f,v||!1)]:[3,2]);case 1:case 5:return[2,b.sent()];case 2:case 6:return[2,c];case 3:return[4,this._authTokenManager.getToken()];case 4:return w=b.sent(),o.object.equals(w,c.authToken)?[3,6]:[4,c.connect(this._userAgent,this._boltAgent,w,!1)]}})})},u.prototype.handleError=function(l){var c=l.connection,f=l.code;return!(!c||!f.startsWith("Neo.ClientError.Security."))&&this._authTokenManager.handleSecurityException(c.authToken,f)},u}();e.default=s},4271:function(r,e,t){var n=this&&this.__awaiter||function(s,u,l,c){return new(l||(l=Promise))(function(f,d){function v(w){try{m(c.next(w))}catch(b){d(b)}}function p(w){try{m(c.throw(w))}catch(b){d(b)}}function m(w){var b;w.done?f(w.value):(b=w.value,b instanceof l?b:new l(function(y){y(b)})).then(v,p)}m((c=c.apply(s,u||[])).next())})},i=this&&this.__generator||function(s,u){var l,c,f,d,v={label:0,sent:function(){if(1&f[0])throw f[1];return f[1]},trys:[],ops:[]};return d={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function p(m){return function(w){return function(b){if(l)throw new TypeError("Generator is already executing.");for(;d&&(d=0,b[0]&&(v=0)),v;)try{if(l=1,c&&(f=2&b[0]?c.return:b[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,b[1])).done)return f;switch(c=0,f&&(b=[2&b[0],f.value]),b[0]){case 0:case 1:f=b;break;case 4:return v.label++,{value:b[1],done:!1};case 5:v.label++,c=b[1],b=[0];continue;case 7:b=v.ops.pop(),v.trys.pop();continue;default:if(!((f=(f=v.trys).length>0&&f[f.length-1])||b[0]!==6&&b[0]!==2)){v=0;continue}if(b[0]===3&&(!f||b[1]>f[0]&&b[1]<f[3])){v.label=b[1];break}if(b[0]===6&&v.label<f[1]){v.label=f[1],f=b;break}if(f&&v.label<f[2]){v.label=f[2],v.ops.push(b);break}f[2]&&v.ops.pop(),v.trys.pop();continue}b=u.call(s,v)}catch(y){b=[6,y],c=0}finally{l=f=0}if(5&b[0])throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}([m,w])}}};Object.defineProperty(e,"__esModule",{value:!0});var a=t(7452),o=function(){function s(u){var l=u.clientCertificateProvider,c=u.loader;this._clientCertificateProvider=l,this._loader=c||a.ClientCertificatesLoader,this._clientCertificate=null}return s.prototype.getClientCertificate=function(){return n(this,void 0,void 0,function(){var u,l,c=this;return i(this,function(f){switch(f.label){case 0:return(u=this._clientCertificateProvider!=null)?(l=this._clientCertificate==null)?[3,2]:[4,this._clientCertificateProvider.hasUpdate()]:[3,3];case 1:l=f.sent(),f.label=2;case 2:u=l,f.label=3;case 3:return u&&(this._clientCertificate=Promise.resolve(this._clientCertificateProvider.getClientCertificate()).then(this._loader.load).then(function(d){return c._clientCertificate=d,c._clientCertificate}).catch(function(d){throw c._clientCertificate=null,d})),[2,this._clientCertificate]}})})},s}();e.default=o},3545:function(r,e,t){var n,i=this&&this.__extends||(n=function(y,_){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,A){S.__proto__=A}||function(S,A){for(var D in A)Object.prototype.hasOwnProperty.call(A,D)&&(S[D]=A[D])},n(y,_)},function(y,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");function S(){this.constructor=y}n(y,_),y.prototype=_===null?Object.create(_):(S.prototype=_.prototype,new S)}),a=this&&this.__awaiter||function(y,_,S,A){return new(S||(S=Promise))(function(D,R){function k(z){try{F(A.next(z))}catch(q){R(q)}}function j(z){try{F(A.throw(z))}catch(q){R(q)}}function F(z){var q;z.done?D(z.value):(q=z.value,q instanceof S?q:new S(function($){$(q)})).then(k,j)}F((A=A.apply(y,_||[])).next())})},o=this&&this.__generator||function(y,_){var S,A,D,R,k={label:0,sent:function(){if(1&D[0])throw D[1];return D[1]},trys:[],ops:[]};return R={next:j(0),throw:j(1),return:j(2)},typeof Symbol=="function"&&(R[Symbol.iterator]=function(){return this}),R;function j(F){return function(z){return function(q){if(S)throw new TypeError("Generator is already executing.");for(;R&&(R=0,q[0]&&(k=0)),k;)try{if(S=1,A&&(D=2&q[0]?A.return:q[0]?A.throw||((D=A.return)&&D.call(A),0):A.next)&&!(D=D.call(A,q[1])).done)return D;switch(A=0,D&&(q=[2&q[0],D.value]),q[0]){case 0:case 1:D=q;break;case 4:return k.label++,{value:q[1],done:!1};case 5:k.label++,A=q[1],q=[0];continue;case 7:q=k.ops.pop(),k.trys.pop();continue;default:if(!((D=(D=k.trys).length>0&&D[D.length-1])||q[0]!==6&&q[0]!==2)){k=0;continue}if(q[0]===3&&(!D||q[1]>D[0]&&q[1]<D[3])){k.label=q[1];break}if(q[0]===6&&k.label<D[1]){k.label=D[1],D=q;break}if(D&&k.label<D[2]){k.label=D[2],k.ops.push(q);break}D[2]&&k.ops.pop(),k.trys.pop();continue}q=_.call(y,k)}catch($){q=[6,$],A=0}finally{S=D=0}if(5&q[0])throw q[1];return{value:q[0]?q[1]:void 0,done:!0}}([F,z])}}},s=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(e,"__esModule",{value:!0});var u=s(t(8987)),l=t(7721),c=t(9305),f=c.internal.constants,d=f.BOLT_PROTOCOL_V3,v=f.BOLT_PROTOCOL_V4_0,p=f.BOLT_PROTOCOL_V4_4,m=f.BOLT_PROTOCOL_V5_1,w=c.error.SERVICE_UNAVAILABLE,b=function(y){function _(S){var A=S.id,D=S.config,R=S.log,k=S.address,j=S.userAgent,F=S.boltAgent,z=S.authTokenManager,q=S.newPool,$=y.call(this,{id:A,config:D,log:R,userAgent:j,boltAgent:F,authTokenManager:z,newPool:q})||this;return $._address=k,$}return i(_,y),_.prototype.acquireConnection=function(S){var A=S===void 0?{}:S,D=(A.accessMode,A.database),R=(A.bookmarks,A.auth),k=A.forceReAuth;return a(this,void 0,void 0,function(){var j,F,z=this;return o(this,function(q){switch(q.label){case 0:return j=l.ConnectionErrorHandler.create({errorCode:w,handleSecurityError:function($,K,oe){return z._handleSecurityError($,K,oe,D)}}),[4,this._connectionPool.acquire({auth:R,forceReAuth:k},this._address)];case 1:return F=q.sent(),R?[4,this._verifyStickyConnection({auth:R,connection:F,address:this._address})]:[3,3];case 2:return q.sent(),[2,F];case 3:return[2,new l.DelegateConnection(F,j)]}})})},_.prototype._handleSecurityError=function(S,A,D,R){return this._log.warn("Direct driver ".concat(this._id," will close connection to ").concat(A," for database '").concat(R,"' because of an error ").concat(S.code," '").concat(S.message,"'")),y.prototype._handleSecurityError.call(this,S,A,D)},_.prototype._hasProtocolVersion=function(S){return a(this,void 0,void 0,function(){var A,D;return o(this,function(R){switch(R.label){case 0:return[4,this._createChannelConnection(this._address)];case 1:return A=R.sent(),D=A.protocol()?A.protocol().version:null,[4,A.close()];case 2:return R.sent(),D?[2,S(D)]:[2,!1]}})})},_.prototype.supportsMultiDb=function(){return a(this,void 0,void 0,function(){return o(this,function(S){switch(S.label){case 0:return[4,this._hasProtocolVersion(function(A){return A>=v})];case 1:return[2,S.sent()]}})})},_.prototype.getNegotiatedProtocolVersion=function(){var S=this;return new Promise(function(A,D){S._hasProtocolVersion(A).catch(D)})},_.prototype.supportsTransactionConfig=function(){return a(this,void 0,void 0,function(){return o(this,function(S){switch(S.label){case 0:return[4,this._hasProtocolVersion(function(A){return A>=d})];case 1:return[2,S.sent()]}})})},_.prototype.supportsUserImpersonation=function(){return a(this,void 0,void 0,function(){return o(this,function(S){switch(S.label){case 0:return[4,this._hasProtocolVersion(function(A){return A>=p})];case 1:return[2,S.sent()]}})})},_.prototype.supportsSessionAuth=function(){return a(this,void 0,void 0,function(){return o(this,function(S){switch(S.label){case 0:return[4,this._hasProtocolVersion(function(A){return A>=m})];case 1:return[2,S.sent()]}})})},_.prototype.verifyAuthentication=function(S){var A=S.auth;return a(this,void 0,void 0,function(){var D=this;return o(this,function(R){return[2,this._verifyAuthentication({auth:A,getAddress:function(){return D._address}})]})})},_.prototype.verifyConnectivityAndGetServerInfo=function(){return a(this,void 0,void 0,function(){return o(this,function(S){switch(S.label){case 0:return[4,this._verifyConnectivityAndGetServerVersion({address:this._address})];case 1:return[2,S.sent()]}})})},_}(u.default);e.default=b},8987:function(r,e,t){var n,i=this&&this.__extends||(n=function(D,R){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,j){k.__proto__=j}||function(k,j){for(var F in j)Object.prototype.hasOwnProperty.call(j,F)&&(k[F]=j[F])},n(D,R)},function(D,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");function k(){this.constructor=D}n(D,R),D.prototype=R===null?Object.create(R):(k.prototype=R.prototype,new k)}),a=this&&this.__awaiter||function(D,R,k,j){return new(k||(k=Promise))(function(F,z){function q(oe){try{K(j.next(oe))}catch(J){z(J)}}function $(oe){try{K(j.throw(oe))}catch(J){z(J)}}function K(oe){var J;oe.done?F(oe.value):(J=oe.value,J instanceof k?J:new k(function(re){re(J)})).then(q,$)}K((j=j.apply(D,R||[])).next())})},o=this&&this.__generator||function(D,R){var k,j,F,z,q={label:0,sent:function(){if(1&F[0])throw F[1];return F[1]},trys:[],ops:[]};return z={next:$(0),throw:$(1),return:$(2)},typeof Symbol=="function"&&(z[Symbol.iterator]=function(){return this}),z;function $(K){return function(oe){return function(J){if(k)throw new TypeError("Generator is already executing.");for(;z&&(z=0,J[0]&&(q=0)),q;)try{if(k=1,j&&(F=2&J[0]?j.return:J[0]?j.throw||((F=j.return)&&F.call(j),0):j.next)&&!(F=F.call(j,J[1])).done)return F;switch(j=0,F&&(J=[2&J[0],F.value]),J[0]){case 0:case 1:F=J;break;case 4:return q.label++,{value:J[1],done:!1};case 5:q.label++,j=J[1],J=[0];continue;case 7:J=q.ops.pop(),q.trys.pop();continue;default:if(!((F=(F=q.trys).length>0&&F[F.length-1])||J[0]!==6&&J[0]!==2)){q=0;continue}if(J[0]===3&&(!F||J[1]>F[0]&&J[1]<F[3])){q.label=J[1];break}if(J[0]===6&&q.label<F[1]){q.label=F[1],F=J;break}if(F&&q.label<F[2]){q.label=F[2],q.ops.push(J);break}F[2]&&q.ops.pop(),q.trys.pop();continue}J=R.call(D,q)}catch(re){J=[6,re],j=0}finally{k=F=0}if(5&J[0])throw J[1];return{value:J[0]?J[1]:void 0,done:!0}}([K,oe])}}},s=this&&this.__read||function(D,R){var k=typeof Symbol=="function"&&D[Symbol.iterator];if(!k)return D;var j,F,z=k.call(D),q=[];try{for(;(R===void 0||R-- >0)&&!(j=z.next()).done;)q.push(j.value)}catch($){F={error:$}}finally{try{j&&!j.done&&(k=z.return)&&k.call(z)}finally{if(F)throw F.error}}return q},u=this&&this.__spreadArray||function(D,R,k){if(k||arguments.length===2)for(var j,F=0,z=R.length;F<z;F++)!j&&F in R||(j||(j=Array.prototype.slice.call(R,0,F)),j[F]=R[F]);return D.concat(j||Array.prototype.slice.call(R))},l=this&&this.__importDefault||function(D){return D&&D.__esModule?D:{default:D}};Object.defineProperty(e,"__esModule",{value:!0});var c=t(7721),f=t(9305),d=l(t(1839)),v=t(6781),p=l(t(4531)),m=l(t(4271)),w=f.error.SERVICE_UNAVAILABLE,b=["Neo.ClientError.Security.CredentialsExpired","Neo.ClientError.Security.Forbidden","Neo.ClientError.Security.TokenExpired","Neo.ClientError.Security.Unauthorized"],y=f.internal.pool,_=y.Pool,S=y.PoolConfig,A=function(D){function R(k,j){var F=k.id,z=k.config,q=k.log,$=k.userAgent,K=k.boltAgent,oe=k.authTokenManager,J=k.newPool,re=J===void 0?function(){for(var ve=[],se=0;se<arguments.length;se++)ve[se]=arguments[se];return new(_.bind.apply(_,u([void 0],s(ve),!1)))}:J;j===void 0&&(j=null);var ae=D.call(this)||this;return ae._id=F,ae._config=z,ae._log=q,ae._clientCertificateHolder=new m.default({clientCertificateProvider:ae._config.clientCertificate}),ae._authenticationProvider=new d.default({authTokenManager:oe,userAgent:$,boltAgent:K}),ae._livenessCheckProvider=new p.default({connectionLivenessCheckTimeout:z.connectionLivenessCheckTimeout}),ae._userAgent=$,ae._boltAgent=K,ae._createChannelConnection=j||function(ve){return a(ae,void 0,void 0,function(){var se,ce;return o(this,function(pe){switch(pe.label){case 0:return se=c.createChannelConnection,ce=[ve,this._config,this._createConnectionErrorHandler(),this._log],[4,this._clientCertificateHolder.getClientCertificate()];case 1:return[2,se.apply(void 0,ce.concat([pe.sent()]))]}})})},ae._connectionPool=re({create:ae._createConnection.bind(ae),destroy:ae._destroyConnection.bind(ae),validateOnAcquire:ae._validateConnectionOnAcquire.bind(ae),validateOnRelease:ae._validateConnectionOnRelease.bind(ae),installIdleObserver:R._installIdleObserverOnConnection.bind(ae),removeIdleObserver:R._removeIdleObserverOnConnection.bind(ae),config:S.fromDriverConfig(z),log:ae._log}),ae._openConnections={},ae}return i(R,D),R.prototype._createConnectionErrorHandler=function(){return new c.ConnectionErrorHandler(w)},R.prototype._getClientCertificate=function(){return a(this,void 0,void 0,function(){return o(this,function(k){return[2,this._config.clientCertificate.getClientCertificate()]})})},R.prototype._createConnection=function(k,j,F){var z=this,q=k.auth;return this._createChannelConnection(j).then(function($){return $.release=function(){return $.idleTimestamp=Date.now(),F(j,$)},z._openConnections[$.id]=$,z._authenticationProvider.authenticate({connection:$,auth:q}).catch(function(K){throw z._destroyConnection($),K})})},R.prototype._validateConnectionOnAcquire=function(k,j){var F=k.auth,z=k.skipReAuth;return a(this,void 0,void 0,function(){var q,$;return o(this,function(K){switch(K.label){case 0:if(!this._validateConnection(j))return[2,!1];K.label=1;case 1:return K.trys.push([1,3,,4]),[4,this._livenessCheckProvider.check(j)];case 2:return K.sent(),[3,4];case 3:return q=K.sent(),this._log.debug("The connection ".concat(j.id," is not alive because of an error ").concat(q.code," '").concat(q.message,"'")),[2,!1];case 4:return K.trys.push([4,6,,7]),[4,this._authenticationProvider.authenticate({connection:j,auth:F,skipReAuth:z})];case 5:return K.sent(),[2,!0];case 6:return $=K.sent(),this._log.debug("The connection ".concat(j.id," is not valid because of an error ").concat($.code," '").concat($.message,"'")),[2,!1];case 7:return[2]}})})},R.prototype._validateConnectionOnRelease=function(k){return k._sticky!==!0&&this._validateConnection(k)},R.prototype._validateConnection=function(k){if(!k.isOpen())return!1;var j=this._config.maxConnectionLifetime;return!(Date.now()-k.creationTimestamp>j)},R.prototype._destroyConnection=function(k){return delete this._openConnections[k.id],k.close()},R.prototype._verifyConnectivityAndGetServerVersion=function(k){var j=k.address;return a(this,void 0,void 0,function(){var F,z;return o(this,function(q){switch(q.label){case 0:return[4,this._connectionPool.acquire({},j)];case 1:F=q.sent(),z=new f.ServerInfo(F.server,F.protocol().version),q.label=2;case 2:return q.trys.push([2,,5,7]),F.protocol().isLastMessageLogon()?[3,4]:[4,F.resetAndFlush()];case 3:q.sent(),q.label=4;case 4:return[3,7];case 5:return[4,F.release()];case 6:return q.sent(),[7];case 7:return[2,z]}})})},R.prototype._verifyAuthentication=function(k){var j=k.getAddress,F=k.auth;return a(this,void 0,void 0,function(){var z,q,$,K,oe,J;return o(this,function(re){switch(re.label){case 0:z=[],re.label=1;case 1:return re.trys.push([1,8,9,11]),[4,j()];case 2:return q=re.sent(),[4,this._connectionPool.acquire({auth:F,skipReAuth:!0},q)];case 3:if($=re.sent(),z.push($),K=!$.protocol().isLastMessageLogon(),!$.supportsReAuth)throw(0,f.newError)("Driver is connected to a database that does not support user switch.");return K&&$.supportsReAuth?[4,this._authenticationProvider.authenticate({connection:$,auth:F,waitReAuth:!0,forceReAuth:!0})]:[3,5];case 4:return re.sent(),[3,7];case 5:return!K||$.supportsReAuth?[3,7]:[4,this._connectionPool.acquire({auth:F},q,{requireNew:!0})];case 6:(oe=re.sent())._sticky=!0,z.push(oe),re.label=7;case 7:return[2,!0];case 8:if(J=re.sent(),b.includes(J.code))return[2,!1];throw J;case 9:return[4,Promise.all(z.map(function(ae){return ae.release()}))];case 10:return re.sent(),[7];case 11:return[2]}})})},R.prototype._verifyStickyConnection=function(k){var j=k.auth,F=k.connection;return k.address,a(this,void 0,void 0,function(){var z,q;return o(this,function($){switch($.label){case 0:return z=v.object.equals(j,F.authToken),q=!z,F._sticky=z&&!F.supportsReAuth,q||F._sticky?[4,F.release()]:[3,2];case 1:throw $.sent(),(0,f.newError)("Driver is connected to a database that does not support user switch.");case 2:return[2]}})})},R.prototype.close=function(){return a(this,void 0,void 0,function(){return o(this,function(k){switch(k.label){case 0:return[4,this._connectionPool.close()];case 1:return k.sent(),[4,Promise.all(Object.values(this._openConnections).map(function(j){return j.close()}))];case 2:return k.sent(),[2]}})})},R._installIdleObserverOnConnection=function(k,j){k._setIdle(j)},R._removeIdleObserverOnConnection=function(k){k._unsetIdle()},R.prototype._handleSecurityError=function(k,j,F){return this._authenticationProvider.handleError({connection:F,code:k.code})&&(k.retriable=!0),k.code==="Neo.ClientError.Security.AuthorizationExpired"&&this._connectionPool.apply(j,function(z){z.authToken=null}),F&&F.close().catch(function(){}),k},R}(f.ConnectionProvider);e.default=A},7428:function(r,e,t){var n,i=this&&this.__extends||(n=function(De,ke){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_e,Ie){_e.__proto__=Ie}||function(_e,Ie){for(var Ge in Ie)Object.prototype.hasOwnProperty.call(Ie,Ge)&&(_e[Ge]=Ie[Ge])},n(De,ke)},function(De,ke){if(typeof ke!="function"&&ke!==null)throw new TypeError("Class extends value "+String(ke)+" is not a constructor or null");function _e(){this.constructor=De}n(De,ke),De.prototype=ke===null?Object.create(ke):(_e.prototype=ke.prototype,new _e)}),a=this&&this.__assign||function(){return a=Object.assign||function(De){for(var ke,_e=1,Ie=arguments.length;_e<Ie;_e++)for(var Ge in ke=arguments[_e])Object.prototype.hasOwnProperty.call(ke,Ge)&&(De[Ge]=ke[Ge]);return De},a.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(De,ke,_e,Ie){Ie===void 0&&(Ie=_e);var Ge=Object.getOwnPropertyDescriptor(ke,_e);Ge&&!("get"in Ge?!ke.__esModule:Ge.writable||Ge.configurable)||(Ge={enumerable:!0,get:function(){return ke[_e]}}),Object.defineProperty(De,Ie,Ge)}:function(De,ke,_e,Ie){Ie===void 0&&(Ie=_e),De[Ie]=ke[_e]}),s=this&&this.__setModuleDefault||(Object.create?function(De,ke){Object.defineProperty(De,"default",{enumerable:!0,value:ke})}:function(De,ke){De.default=ke}),u=this&&this.__importStar||function(De){if(De&&De.__esModule)return De;var ke={};if(De!=null)for(var _e in De)_e!=="default"&&Object.prototype.hasOwnProperty.call(De,_e)&&o(ke,De,_e);return s(ke,De),ke},l=this&&this.__awaiter||function(De,ke,_e,Ie){return new(_e||(_e=Promise))(function(Ge,Qe){function ot(pt){try{zt(Ie.next(pt))}catch(Q){Qe(Q)}}function Tt(pt){try{zt(Ie.throw(pt))}catch(Q){Qe(Q)}}function zt(pt){var Q;pt.done?Ge(pt.value):(Q=pt.value,Q instanceof _e?Q:new _e(function(ne){ne(Q)})).then(ot,Tt)}zt((Ie=Ie.apply(De,ke||[])).next())})},c=this&&this.__generator||function(De,ke){var _e,Ie,Ge,Qe,ot={label:0,sent:function(){if(1&Ge[0])throw Ge[1];return Ge[1]},trys:[],ops:[]};return Qe={next:Tt(0),throw:Tt(1),return:Tt(2)},typeof Symbol=="function"&&(Qe[Symbol.iterator]=function(){return this}),Qe;function Tt(zt){return function(pt){return function(Q){if(_e)throw new TypeError("Generator is already executing.");for(;Qe&&(Qe=0,Q[0]&&(ot=0)),ot;)try{if(_e=1,Ie&&(Ge=2&Q[0]?Ie.return:Q[0]?Ie.throw||((Ge=Ie.return)&&Ge.call(Ie),0):Ie.next)&&!(Ge=Ge.call(Ie,Q[1])).done)return Ge;switch(Ie=0,Ge&&(Q=[2&Q[0],Ge.value]),Q[0]){case 0:case 1:Ge=Q;break;case 4:return ot.label++,{value:Q[1],done:!1};case 5:ot.label++,Ie=Q[1],Q=[0];continue;case 7:Q=ot.ops.pop(),ot.trys.pop();continue;default:if(!((Ge=(Ge=ot.trys).length>0&&Ge[Ge.length-1])||Q[0]!==6&&Q[0]!==2)){ot=0;continue}if(Q[0]===3&&(!Ge||Q[1]>Ge[0]&&Q[1]<Ge[3])){ot.label=Q[1];break}if(Q[0]===6&&ot.label<Ge[1]){ot.label=Ge[1],Ge=Q;break}if(Ge&&ot.label<Ge[2]){ot.label=Ge[2],ot.ops.push(Q);break}Ge[2]&&ot.ops.pop(),ot.trys.pop();continue}Q=ke.call(De,ot)}catch(ne){Q=[6,ne],Ie=0}finally{_e=Ge=0}if(5&Q[0])throw Q[1];return{value:Q[0]?Q[1]:void 0,done:!0}}([zt,pt])}}},f=this&&this.__values||function(De){var ke=typeof Symbol=="function"&&Symbol.iterator,_e=ke&&De[ke],Ie=0;if(_e)return _e.call(De);if(De&&typeof De.length=="number")return{next:function(){return De&&Ie>=De.length&&(De=void 0),{value:De&&De[Ie++],done:!De}}};throw new TypeError(ke?"Object is not iterable.":"Symbol.iterator is not defined.")},d=this&&this.__read||function(De,ke){var _e=typeof Symbol=="function"&&De[Symbol.iterator];if(!_e)return De;var Ie,Ge,Qe=_e.call(De),ot=[];try{for(;(ke===void 0||ke-- >0)&&!(Ie=Qe.next()).done;)ot.push(Ie.value)}catch(Tt){Ge={error:Tt}}finally{try{Ie&&!Ie.done&&(_e=Qe.return)&&_e.call(Qe)}finally{if(Ge)throw Ge.error}}return ot},v=this&&this.__importDefault||function(De){return De&&De.__esModule?De:{default:De}};Object.defineProperty(e,"__esModule",{value:!0});var p=t(9305),m=u(t(206)),w=t(7452),b=v(t(4132)),y=v(t(8987)),_=t(4455),S=t(7721),A=t(6781),D=p.error.SERVICE_UNAVAILABLE,R=p.error.SESSION_EXPIRED,k=p.internal.bookmarks.Bookmarks,j=p.internal.constants,F=j.ACCESS_MODE_READ,z=j.ACCESS_MODE_WRITE,q=j.BOLT_PROTOCOL_V3,$=j.BOLT_PROTOCOL_V4_0,K=j.BOLT_PROTOCOL_V4_4,oe=j.BOLT_PROTOCOL_V5_1,J="Neo.ClientError.Database.DatabaseNotFound",re="Neo.ClientError.Transaction.InvalidBookmark",ae="Neo.ClientError.Transaction.InvalidBookmarkMixture",ve="Neo.ClientError.Security.AuthorizationExpired",se="Neo.ClientError.Statement.ArgumentError",ce="Neo.ClientError.Request.Invalid",pe="Neo.ClientError.Statement.TypeError",Pe="N/A",de=null,ge=(0,p.int)(3e4),Ce=function(De){function ke(_e){var Ie=_e.id,Ge=_e.address,Qe=_e.routingContext,ot=_e.hostNameResolver,Tt=_e.config,zt=_e.log,pt=_e.userAgent,Q=_e.boltAgent,ne=_e.authTokenManager,fe=_e.routingTablePurgeDelay,Ue=_e.newPool,qe=De.call(this,{id:Ie,config:Tt,log:zt,userAgent:pt,boltAgent:Q,authTokenManager:ne,newPool:Ue},function(We){return l(qe,void 0,void 0,function(){var ft,Ht;return c(this,function(Et){switch(Et.label){case 0:return ft=S.createChannelConnection,Ht=[We,this._config,this._createConnectionErrorHandler(),this._log],[4,this._clientCertificateHolder.getClientCertificate()];case 1:return[2,ft.apply(void 0,Ht.concat([Et.sent(),this._routingContext]))]}})})})||this;return qe._routingContext=a(a({},Qe),{address:Ge.toString()}),qe._seedRouter=Ge,qe._rediscovery=new m.default(qe._routingContext),qe._loadBalancingStrategy=new _.LeastConnectedLoadBalancingStrategy(qe._connectionPool),qe._hostNameResolver=ot,qe._dnsResolver=new w.HostNameResolver,qe._log=zt,qe._useSeedRouter=!0,qe._routingTableRegistry=new Ne(fe?(0,p.int)(fe):ge),qe._refreshRoutingTable=A.functional.reuseOngoingRequest(qe._refreshRoutingTable,qe),qe}return i(ke,De),ke.prototype._createConnectionErrorHandler=function(){return new S.ConnectionErrorHandler(R)},ke.prototype._handleUnavailability=function(_e,Ie,Ge){return this._log.warn("Routing driver ".concat(this._id," will forget ").concat(Ie," for database '").concat(Ge,"' because of an error ").concat(_e.code," '").concat(_e.message,"'")),this.forget(Ie,Ge||de),_e},ke.prototype._handleSecurityError=function(_e,Ie,Ge,Qe){return this._log.warn("Routing driver ".concat(this._id," will close connections to ").concat(Ie," for database '").concat(Qe,"' because of an error ").concat(_e.code," '").concat(_e.message,"'")),De.prototype._handleSecurityError.call(this,_e,Ie,Ge,Qe)},ke.prototype._handleWriteFailure=function(_e,Ie,Ge){return this._log.warn("Routing driver ".concat(this._id," will forget writer ").concat(Ie," for database '").concat(Ge,"' because of an error ").concat(_e.code," '").concat(_e.message,"'")),this.forgetWriter(Ie,Ge||de),(0,p.newError)("No longer possible to write to server at "+Ie,R,_e)},ke.prototype.acquireConnection=function(_e){var Ie=_e===void 0?{}:_e,Ge=Ie.accessMode,Qe=Ie.database,ot=Ie.bookmarks,Tt=Ie.impersonatedUser,zt=Ie.onDatabaseNameResolved,pt=Ie.auth;return l(this,void 0,void 0,function(){var Q,ne,fe,Ue,qe,We,ft,Ht=this;return c(this,function(Et){switch(Et.label){case 0:return fe={database:Qe||de},Ue=new S.ConnectionErrorHandler(R,function(Se,Ke){return Ht._handleUnavailability(Se,Ke,fe.database)},function(Se,Ke){return Ht._handleWriteFailure(Se,Ke,fe.database)},function(Se,Ke,ht){return Ht._handleSecurityError(Se,Ke,ht,fe.database)}),[4,this._freshRoutingTable({accessMode:Ge,database:fe.database,bookmarks:ot,impersonatedUser:Tt,auth:pt,onDatabaseNameResolved:function(Se){fe.database=fe.database||Se,zt&&zt(Se)}})];case 1:if(qe=Et.sent(),Ge===F)ne=this._loadBalancingStrategy.selectReader(qe.readers),Q="read";else{if(Ge!==z)throw(0,p.newError)("Illegal mode "+Ge);ne=this._loadBalancingStrategy.selectWriter(qe.writers),Q="write"}if(!ne)throw(0,p.newError)("Failed to obtain connection towards ".concat(Q," server. Known routing table is: ").concat(qe),R);Et.label=2;case 2:return Et.trys.push([2,6,,7]),[4,this._connectionPool.acquire({auth:pt},ne)];case 3:return We=Et.sent(),pt?[4,this._verifyStickyConnection({auth:pt,connection:We,address:ne})]:[3,5];case 4:return Et.sent(),[2,We];case 5:return[2,new S.DelegateConnection(We,Ue)];case 6:throw ft=Et.sent(),Ue.handleAndTransformError(ft,ne);case 7:return[2]}})})},ke.prototype._hasProtocolVersion=function(_e){return l(this,void 0,void 0,function(){var Ie,Ge,Qe,ot,Tt,zt;return c(this,function(pt){switch(pt.label){case 0:return[4,this._resolveSeedRouter(this._seedRouter)];case 1:Ie=pt.sent(),Qe=0,pt.label=2;case 2:if(!(Qe<Ie.length))return[3,8];pt.label=3;case 3:return pt.trys.push([3,6,,7]),[4,this._createChannelConnection(Ie[Qe])];case 4:return ot=pt.sent(),Tt=ot.protocol()?ot.protocol().version:null,[4,ot.close()];case 5:return pt.sent(),Tt?[2,_e(Tt)]:[2,!1];case 6:return zt=pt.sent(),Ge=zt,[3,7];case 7:return Qe++,[3,2];case 8:if(Ge)throw Ge;return[2,!1]}})})},ke.prototype.supportsMultiDb=function(){return l(this,void 0,void 0,function(){return c(this,function(_e){switch(_e.label){case 0:return[4,this._hasProtocolVersion(function(Ie){return Ie>=$})];case 1:return[2,_e.sent()]}})})},ke.prototype.supportsTransactionConfig=function(){return l(this,void 0,void 0,function(){return c(this,function(_e){switch(_e.label){case 0:return[4,this._hasProtocolVersion(function(Ie){return Ie>=q})];case 1:return[2,_e.sent()]}})})},ke.prototype.supportsUserImpersonation=function(){return l(this,void 0,void 0,function(){return c(this,function(_e){switch(_e.label){case 0:return[4,this._hasProtocolVersion(function(Ie){return Ie>=K})];case 1:return[2,_e.sent()]}})})},ke.prototype.supportsSessionAuth=function(){return l(this,void 0,void 0,function(){return c(this,function(_e){switch(_e.label){case 0:return[4,this._hasProtocolVersion(function(Ie){return Ie>=oe})];case 1:return[2,_e.sent()]}})})},ke.prototype.getNegotiatedProtocolVersion=function(){var _e=this;return new Promise(function(Ie,Ge){_e._hasProtocolVersion(Ie).catch(Ge)})},ke.prototype.verifyAuthentication=function(_e){var Ie=_e.database,Ge=_e.accessMode,Qe=_e.auth;return l(this,void 0,void 0,function(){var ot=this;return c(this,function(Tt){return[2,this._verifyAuthentication({auth:Qe,getAddress:function(){return l(ot,void 0,void 0,function(){var zt,pt,Q;return c(this,function(ne){switch(ne.label){case 0:return zt={database:Ie||de},[4,this._freshRoutingTable({accessMode:Ge,database:zt.database,auth:Qe,onDatabaseNameResolved:function(fe){zt.database=zt.database||fe}})];case 1:if(pt=ne.sent(),(Q=Ge===z?pt.writers:pt.readers).length===0)throw(0,p.newError)("No servers available for database '".concat(zt.database,"' with access mode '").concat(Ge,"'"),D);return[2,Q[0]]}})})}})]})})},ke.prototype.verifyConnectivityAndGetServerInfo=function(_e){var Ie=_e.database,Ge=_e.accessMode;return l(this,void 0,void 0,function(){var Qe,ot,Tt,zt,pt,Q,ne,fe,Ue,qe,We;return c(this,function(ft){switch(ft.label){case 0:return Qe={database:Ie||de},[4,this._freshRoutingTable({accessMode:Ge,database:Qe.database,onDatabaseNameResolved:function(Ht){Qe.database=Qe.database||Ht}})];case 1:ot=ft.sent(),Tt=Ge===z?ot.writers:ot.readers,zt=(0,p.newError)("No servers available for database '".concat(Qe.database,"' with access mode '").concat(Ge,"'"),D),ft.label=2;case 2:ft.trys.push([2,9,10,11]),pt=f(Tt),Q=pt.next(),ft.label=3;case 3:if(Q.done)return[3,8];ne=Q.value,ft.label=4;case 4:return ft.trys.push([4,6,,7]),[4,this._verifyConnectivityAndGetServerVersion({address:ne})];case 5:return[2,ft.sent()];case 6:return fe=ft.sent(),zt=fe,[3,7];case 7:return Q=pt.next(),[3,3];case 8:return[3,11];case 9:return Ue=ft.sent(),qe={error:Ue},[3,11];case 10:try{Q&&!Q.done&&(We=pt.return)&&We.call(pt)}finally{if(qe)throw qe.error}return[7];case 11:throw zt}})})},ke.prototype.forget=function(_e,Ie){this._routingTableRegistry.apply(Ie,{applyWhenExists:function(Ge){return Ge.forget(_e)}}),this._connectionPool.purge(_e).catch(function(){})},ke.prototype.forgetWriter=function(_e,Ie){this._routingTableRegistry.apply(Ie,{applyWhenExists:function(Ge){return Ge.forgetWriter(_e)}})},ke.prototype._freshRoutingTable=function(_e){var Ie=_e===void 0?{}:_e,Ge=Ie.accessMode,Qe=Ie.database,ot=Ie.bookmarks,Tt=Ie.impersonatedUser,zt=Ie.onDatabaseNameResolved,pt=Ie.auth,Q=this._routingTableRegistry.get(Qe,function(){return new m.RoutingTable({database:Qe})});return Q.isStaleFor(Ge)?(this._log.info('Routing table is stale for database: "'.concat(Qe,'" and access mode: "').concat(Ge,'": ').concat(Q)),this._refreshRoutingTable(Q,ot,Tt,pt).then(function(ne){return zt(ne.database),ne})):Q},ke.prototype._refreshRoutingTable=function(_e,Ie,Ge,Qe){var ot=_e.routers;return this._useSeedRouter?this._fetchRoutingTableFromSeedRouterFallbackToKnownRouters(ot,_e,Ie,Ge,Qe):this._fetchRoutingTableFromKnownRoutersFallbackToSeedRouter(ot,_e,Ie,Ge,Qe)},ke.prototype._fetchRoutingTableFromSeedRouterFallbackToKnownRouters=function(_e,Ie,Ge,Qe,ot){return l(this,void 0,void 0,function(){var Tt,zt,pt,Q,ne,fe,Ue;return c(this,function(qe){switch(qe.label){case 0:return Tt=[],[4,this._fetchRoutingTableUsingSeedRouter(Tt,this._seedRouter,Ie,Ge,Qe,ot)];case 1:return zt=d.apply(void 0,[qe.sent(),2]),pt=zt[0],Q=zt[1],pt?(this._useSeedRouter=!1,[3,4]):[3,2];case 2:return[4,this._fetchRoutingTableUsingKnownRouters(_e,Ie,Ge,Qe,ot)];case 3:ne=d.apply(void 0,[qe.sent(),2]),fe=ne[0],Ue=ne[1],pt=fe,Q=Ue||Q,qe.label=4;case 4:return[4,this._applyRoutingTableIfPossible(Ie,pt,Q)];case 5:return[2,qe.sent()]}})})},ke.prototype._fetchRoutingTableFromKnownRoutersFallbackToSeedRouter=function(_e,Ie,Ge,Qe,ot){return l(this,void 0,void 0,function(){var Tt,zt,pt,Q;return c(this,function(ne){switch(ne.label){case 0:return[4,this._fetchRoutingTableUsingKnownRouters(_e,Ie,Ge,Qe,ot)];case 1:return Tt=d.apply(void 0,[ne.sent(),2]),zt=Tt[0],pt=Tt[1],zt?[3,3]:[4,this._fetchRoutingTableUsingSeedRouter(_e,this._seedRouter,Ie,Ge,Qe,ot)];case 2:Q=d.apply(void 0,[ne.sent(),2]),zt=Q[0],pt=Q[1],ne.label=3;case 3:return[4,this._applyRoutingTableIfPossible(Ie,zt,pt)];case 4:return[2,ne.sent()]}})})},ke.prototype._fetchRoutingTableUsingKnownRouters=function(_e,Ie,Ge,Qe,ot){return l(this,void 0,void 0,function(){var Tt,zt,pt,Q;return c(this,function(ne){switch(ne.label){case 0:return[4,this._fetchRoutingTable(_e,Ie,Ge,Qe,ot)];case 1:return Tt=d.apply(void 0,[ne.sent(),2]),zt=Tt[0],pt=Tt[1],zt?[2,[zt,null]]:(Q=_e.length-1,ke._forgetRouter(Ie,_e,Q),[2,[null,pt]])}})})},ke.prototype._fetchRoutingTableUsingSeedRouter=function(_e,Ie,Ge,Qe,ot,Tt){return l(this,void 0,void 0,function(){var zt,pt;return c(this,function(Q){switch(Q.label){case 0:return[4,this._resolveSeedRouter(Ie)];case 1:return zt=Q.sent(),pt=zt.filter(function(ne){return _e.indexOf(ne)<0}),[4,this._fetchRoutingTable(pt,Ge,Qe,ot,Tt)];case 2:return[2,Q.sent()]}})})},ke.prototype._resolveSeedRouter=function(_e){return l(this,void 0,void 0,function(){var Ie,Ge,Qe=this;return c(this,function(ot){switch(ot.label){case 0:return[4,this._hostNameResolver.resolve(_e)];case 1:return Ie=ot.sent(),[4,Promise.all(Ie.map(function(Tt){return Qe._dnsResolver.resolve(Tt)}))];case 2:return Ge=ot.sent(),[2,[].concat.apply([],Ge)]}})})},ke.prototype._fetchRoutingTable=function(_e,Ie,Ge,Qe,ot){return l(this,void 0,void 0,function(){var Tt=this;return c(this,function(zt){return[2,_e.reduce(function(pt,Q,ne){return l(Tt,void 0,void 0,function(){var fe,Ue,qe,We,ft,Ht,Et;return c(this,function(Se){switch(Se.label){case 0:return[4,pt];case 1:return fe=d.apply(void 0,[Se.sent(),1]),(Ue=fe[0])?[2,[Ue,null]]:(qe=ne-1,ke._forgetRouter(Ie,_e,qe),[4,this._createSessionForRediscovery(Q,Ge,Qe,ot)]);case 2:if(We=d.apply(void 0,[Se.sent(),2]),ft=We[0],Ht=We[1],!ft)return[3,8];Se.label=3;case 3:return Se.trys.push([3,5,6,7]),[4,this._rediscovery.lookupRoutingTableOnRouter(ft,Ie.database,Q,Qe)];case 4:return[2,[Se.sent(),null]];case 5:return Et=Se.sent(),[2,this._handleRediscoveryError(Et,Q)];case 6:return ft.close(),[7];case 7:return[3,9];case 8:return[2,[null,Ht]];case 9:return[2]}})})},Promise.resolve([null,null]))]})})},ke.prototype._createSessionForRediscovery=function(_e,Ie,Ge,Qe){return l(this,void 0,void 0,function(){var ot,Tt,zt,pt,Q,ne=this;return c(this,function(fe){switch(fe.label){case 0:return fe.trys.push([0,4,,5]),[4,this._connectionPool.acquire({auth:Qe},_e)];case 1:return ot=fe.sent(),Qe?[4,this._verifyStickyConnection({auth:Qe,connection:ot,address:_e})]:[3,3];case 2:fe.sent(),fe.label=3;case 3:return Tt=S.ConnectionErrorHandler.create({errorCode:R,handleSecurityError:function(Ue,qe,We){return ne._handleSecurityError(Ue,qe,We)}}),zt=ot._sticky?new S.DelegateConnection(ot):new S.DelegateConnection(ot,Tt),pt=new b.default(zt),ot.protocol().version<4?[2,[new p.Session({mode:z,bookmarks:k.empty(),connectionProvider:pt}),null]]:[2,[new p.Session({mode:F,database:"system",bookmarks:Ie,connectionProvider:pt,impersonatedUser:Ge}),null]];case 4:return Q=fe.sent(),[2,this._handleRediscoveryError(Q,_e)];case 5:return[2]}})})},ke.prototype._handleRediscoveryError=function(_e,Ie){if(function(Ge){return[J,re,ae,se,ce,pe,Pe].includes(Ge.code)}(_e)||function(Ge){return Ge.code.startsWith("Neo.ClientError.Security.")&&![ve].includes(Ge.code)}(_e))throw _e;if(_e.code==="Neo.ClientError.Procedure.ProcedureNotFound")throw(0,p.newError)("Server at ".concat(Ie.asHostPort()," can't perform routing. Make sure you are connecting to a causal cluster"),D,_e);return this._log.warn("unable to fetch routing table because of an error ".concat(_e)),[null,_e]},ke.prototype._applyRoutingTableIfPossible=function(_e,Ie,Ge){return l(this,void 0,void 0,function(){return c(this,function(Qe){switch(Qe.label){case 0:if(!Ie)throw(0,p.newError)("Could not perform discovery. No routing servers available. Known routing table: ".concat(_e),D,Ge);return Ie.writers.length===0&&(this._useSeedRouter=!0),[4,this._updateRoutingTable(Ie)];case 1:return Qe.sent(),[2,Ie]}})})},ke.prototype._updateRoutingTable=function(_e){return l(this,void 0,void 0,function(){return c(this,function(Ie){switch(Ie.label){case 0:return[4,this._connectionPool.keepAll(_e.allServers())];case 1:return Ie.sent(),this._routingTableRegistry.removeExpired(),this._routingTableRegistry.register(_e),this._log.info("Updated routing table ".concat(_e)),[2]}})})},ke._forgetRouter=function(_e,Ie,Ge){var Qe=Ie[Ge];_e&&Qe&&_e.forgetRouter(Qe)},ke}(y.default);e.default=Ce;var Ne=function(){function De(ke){this._tables=new Map,this._routingTablePurgeDelay=ke}return De.prototype.register=function(ke){return this._tables.set(ke.database,ke),this},De.prototype.apply=function(ke,_e){var Ie=_e===void 0?{}:_e,Ge=Ie.applyWhenExists,Qe=Ie.applyWhenDontExists,ot=Qe===void 0?function(){}:Qe;return this._tables.has(ke)?Ge(this._tables.get(ke)):typeof ke=="string"||ke===null?ot():this._forEach(Ge),this},De.prototype.get=function(ke,_e){return this._tables.has(ke)?this._tables.get(ke):typeof _e=="function"?_e():_e},De.prototype.removeExpired=function(){var ke=this;return this._removeIf(function(_e){return _e.isExpiredFor(ke._routingTablePurgeDelay)})},De.prototype._forEach=function(ke){var _e,Ie;try{for(var Ge=f(this._tables),Qe=Ge.next();!Qe.done;Qe=Ge.next())ke(d(Qe.value,2)[1])}catch(ot){_e={error:ot}}finally{try{Qe&&!Qe.done&&(Ie=Ge.return)&&Ie.call(Ge)}finally{if(_e)throw _e.error}}return this},De.prototype._remove=function(ke){return this._tables.delete(ke),this},De.prototype._removeIf=function(ke){var _e,Ie;try{for(var Ge=f(this._tables),Qe=Ge.next();!Qe.done;Qe=Ge.next()){var ot=d(Qe.value,2),Tt=ot[0];ke(ot[1])&&this._remove(Tt)}}catch(zt){_e={error:zt}}finally{try{Qe&&!Qe.done&&(Ie=Ge.return)&&Ie.call(Ge)}finally{if(_e)throw _e.error}}return this},De}()},4132:function(r,e,t){var n,i=this&&this.__extends||(n=function(o,s){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,l){u.__proto__=l}||function(u,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(u[c]=l[c])},n(o,s)},function(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function u(){this.constructor=o}n(o,s),o.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)});Object.defineProperty(e,"__esModule",{value:!0});var a=function(o){function s(u){var l=o.call(this)||this;return l._connection=u,l}return i(s,o),s.prototype.acquireConnection=function(u){var l=u===void 0?{}:u,c=(l.accessMode,l.database,l.bookmarks,this._connection);return this._connection=null,Promise.resolve(c)},s}(t(9305).ConnectionProvider);e.default=a},9689:function(r,e,t){var n=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0}),e.RoutingConnectionProvider=e.DirectConnectionProvider=e.PooledConnectionProvider=e.SingleConnectionProvider=void 0;var i=t(4132);Object.defineProperty(e,"SingleConnectionProvider",{enumerable:!0,get:function(){return n(i).default}});var a=t(8987);Object.defineProperty(e,"PooledConnectionProvider",{enumerable:!0,get:function(){return n(a).default}});var o=t(3545);Object.defineProperty(e,"DirectConnectionProvider",{enumerable:!0,get:function(){return n(o).default}});var s=t(7428);Object.defineProperty(e,"RoutingConnectionProvider",{enumerable:!0,get:function(){return n(s).default}})},4531:function(r,e){var t=this&&this.__awaiter||function(a,o,s,u){return new(s||(s=Promise))(function(l,c){function f(p){try{v(u.next(p))}catch(m){c(m)}}function d(p){try{v(u.throw(p))}catch(m){c(m)}}function v(p){var m;p.done?l(p.value):(m=p.value,m instanceof s?m:new s(function(w){w(m)})).then(f,d)}v((u=u.apply(a,o||[])).next())})},n=this&&this.__generator||function(a,o){var s,u,l,c,f={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return c={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(v){return function(p){return function(m){if(s)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(f=0)),f;)try{if(s=1,u&&(l=2&m[0]?u.return:m[0]?u.throw||((l=u.return)&&l.call(u),0):u.next)&&!(l=l.call(u,m[1])).done)return l;switch(u=0,l&&(m=[2&m[0],l.value]),m[0]){case 0:case 1:l=m;break;case 4:return f.label++,{value:m[1],done:!1};case 5:f.label++,u=m[1],m=[0];continue;case 7:m=f.ops.pop(),f.trys.pop();continue;default:if(!((l=(l=f.trys).length>0&&l[l.length-1])||m[0]!==6&&m[0]!==2)){f=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){f.label=m[1];break}if(m[0]===6&&f.label<l[1]){f.label=l[1],l=m;break}if(l&&f.label<l[2]){f.label=l[2],f.ops.push(m);break}l[2]&&f.ops.pop(),f.trys.pop();continue}m=o.call(a,f)}catch(w){m=[6,w],u=0}finally{s=l=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([v,p])}}};Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function a(o){var s=o.connectionLivenessCheckTimeout;this._connectionLivenessCheckTimeout=s}return a.prototype.check=function(o){return t(this,void 0,void 0,function(){var s;return n(this,function(u){switch(u.label){case 0:return this._isCheckDisabled||this._isNewlyCreatedConnection(o)?[2,!0]:(s=Date.now()-o.idleTimestamp,this._connectionLivenessCheckTimeout===0||s>this._connectionLivenessCheckTimeout?[4,o.resetAndFlush().then(function(){return!0})]:[3,2]);case 1:return[2,u.sent()];case 2:return[2,!0]}})})},Object.defineProperty(a.prototype,"_isCheckDisabled",{get:function(){return this._connectionLivenessCheckTimeout==null||this._connectionLivenessCheckTimeout<0},enumerable:!1,configurable:!0}),a.prototype._isNewlyCreatedConnection=function(o){return o.authToken==null},a}();e.default=i},8031:function(r,e,t){var n,i=this&&this.__extends||(n=function(w,b){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,_){y.__proto__=_}||function(y,_){for(var S in _)Object.prototype.hasOwnProperty.call(_,S)&&(y[S]=_[S])},n(w,b)},function(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function y(){this.constructor=w}n(w,b),w.prototype=b===null?Object.create(b):(y.prototype=b.prototype,new y)}),a=this&&this.__awaiter||function(w,b,y,_){return new(y||(y=Promise))(function(S,A){function D(j){try{k(_.next(j))}catch(F){A(F)}}function R(j){try{k(_.throw(j))}catch(F){A(F)}}function k(j){var F;j.done?S(j.value):(F=j.value,F instanceof y?F:new y(function(z){z(F)})).then(D,R)}k((_=_.apply(w,b||[])).next())})},o=this&&this.__generator||function(w,b){var y,_,S,A,D={label:0,sent:function(){if(1&S[0])throw S[1];return S[1]},trys:[],ops:[]};return A={next:R(0),throw:R(1),return:R(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function R(k){return function(j){return function(F){if(y)throw new TypeError("Generator is already executing.");for(;A&&(A=0,F[0]&&(D=0)),D;)try{if(y=1,_&&(S=2&F[0]?_.return:F[0]?_.throw||((S=_.return)&&S.call(_),0):_.next)&&!(S=S.call(_,F[1])).done)return S;switch(_=0,S&&(F=[2&F[0],S.value]),F[0]){case 0:case 1:S=F;break;case 4:return D.label++,{value:F[1],done:!1};case 5:D.label++,_=F[1],F=[0];continue;case 7:F=D.ops.pop(),D.trys.pop();continue;default:if(!((S=(S=D.trys).length>0&&S[S.length-1])||F[0]!==6&&F[0]!==2)){D=0;continue}if(F[0]===3&&(!S||F[1]>S[0]&&F[1]<S[3])){D.label=F[1];break}if(F[0]===6&&D.label<S[1]){D.label=S[1],S=F;break}if(S&&D.label<S[2]){D.label=S[2],D.ops.push(F);break}S[2]&&D.ops.pop(),D.trys.pop();continue}F=b.call(w,D)}catch(z){F=[6,z],_=0}finally{y=S=0}if(5&F[0])throw F[1];return{value:F[0]?F[1]:void 0,done:!0}}([k,j])}}},s=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(e,"__esModule",{value:!0}),e.createChannelConnection=void 0;var u=t(7452),l=t(9305),c=s(t(6385)),f=s(t(7666)),d=l.error.PROTOCOL_ERROR,v=l.internal.logger.Logger,p=0;e.createChannelConnection=function(w,b,y,_,S,A,D){A===void 0&&(A=null),D===void 0&&(D=function(k){return new u.Channel(k)});var R=D(new u.ChannelConfig(w,b,y.errorCode(),S));return f.default.handshake(R,_).then(function(k){var j=k.protocolVersion,F=k.consumeRemainingBuffer,z=new u.Chunker(R),q=new u.Dechunker,$=new m(R,y,w,_,b.disableLosslessIntegers,A,z,b.notificationFilter,function(K){return f.default.create({version:j,channel:R,chunker:z,dechunker:q,disableLosslessIntegers:b.disableLosslessIntegers,useBigInt:b.useBigInt,serversideRouting:A,server:K.server,log:K.logger,observer:{onObserversCountChange:K._handleOngoingRequestsNumberChange.bind(K),onError:K._handleFatalError.bind(K),onFailure:K._resetOnFailure.bind(K),onProtocolError:K._handleProtocolError.bind(K),onErrorApplyTransformation:function(oe){return K.handleAndTransformError(oe,K._address)}}})},b.telemetryDisabled);return F(function(K){return q.write(K)}),$}).catch(function(k){return R.close().then(function(){throw k})})};var m=function(w){function b(y,_,S,A,D,R,k,j,F,z){D===void 0&&(D=!1),R===void 0&&(R=null);var q,$,K=w.call(this,_)||this;return K._authToken=null,K._idle=!1,K._reseting=!1,K._resetObservers=[],K._id=p++,K._address=S,K._server={address:S.asHostPort()},K._creationTimestamp=Date.now(),K._disableLosslessIntegers=D,K._ch=y,K._chunker=k,K._log=(q=K,new v(($=A)._level,function(oe,J){return $._loggerFunction(oe,"".concat(q," ").concat(J))})),K._serversideRouting=R,K._notificationFilter=j,K._telemetryDisabledDriverConfig=z===!0,K._telemetryDisabledConnection=!0,K._dbConnectionId=null,K._protocol=F(K),K._isBroken=!1,K._log.isDebugEnabled()&&K._log.debug("created towards ".concat(S)),K}return i(b,w),b.prototype.beginTransaction=function(y){return this._sendTelemetryIfEnabled(y),this._protocol.beginTransaction(y)},b.prototype.run=function(y,_,S){return this._sendTelemetryIfEnabled(S),this._protocol.run(y,_,S)},b.prototype._sendTelemetryIfEnabled=function(y){this._telemetryDisabledConnection||this._telemetryDisabledDriverConfig||y==null||y.apiTelemetryConfig==null||this._protocol.telemetry({api:y.apiTelemetryConfig.api},{onCompleted:y.apiTelemetryConfig.onTelemetrySuccess,onError:y.beforeError})},b.prototype.commitTransaction=function(y){return this._protocol.commitTransaction(y)},b.prototype.rollbackTransaction=function(y){return this._protocol.rollbackTransaction(y)},b.prototype.getProtocolVersion=function(){return this._protocol.version},Object.defineProperty(b.prototype,"authToken",{get:function(){return this._authToken},set:function(y){this._authToken=y},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"supportsReAuth",{get:function(){return this._protocol.supportsReAuth},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"databaseId",{get:function(){return this._dbConnectionId},set:function(y){this._dbConnectionId=y},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"idleTimestamp",{get:function(){return this._idleTimestamp},set:function(y){this._idleTimestamp=y},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"creationTimestamp",{get:function(){return this._creationTimestamp},enumerable:!1,configurable:!0}),b.prototype.connect=function(y,_,S,A){return a(this,void 0,void 0,function(){var D=this;return o(this,function(R){switch(R.label){case 0:if(this._protocol.initialized&&!this._protocol.supportsReAuth)throw(0,l.newError)("Connection does not support re-auth");return this._authToken=S,this._protocol.initialized?[3,2]:[4,this._initialize(y,_,S)];case 1:case 3:return[2,R.sent()];case 2:return A?[4,new Promise(function(k,j){D._protocol.logoff({onError:j}),D._protocol.logon({authToken:S,onError:j,onComplete:function(){return k(D)},flush:!0})})]:[3,4];case 4:return this._protocol.logoff(),this._protocol.logon({authToken:S,flush:!0}),[2,this]}})})},b.prototype._initialize=function(y,_,S){var A=this,D=this;return new Promise(function(R,k){A._protocol.initialize({userAgent:y,boltAgent:_,authToken:S,notificationFilter:A._notificationFilter,onError:function(j){return k(j)},onComplete:function(j){if(j){var F=j.server;A.version&&!F||(A.version=F);var z=j.connection_id;if(A.databaseId||(A.databaseId=z),j.hints){var q=j.hints["connection.recv_timeout_seconds"];if(q!=null){var $=(0,l.toNumber)(q);Number.isInteger($)&&$>0?A._ch.setupReceiveTimeout(1e3*$):A._log.info("Server located at ".concat(A._address," supplied an invalid connection receive timeout value (").concat($,"). ")+"Please, verify the server configuration and status because this can be the symptom of a bigger issue.")}j.hints["telemetry.enabled"]===!0&&(A._telemetryDisabledConnection=!1)}}R(D)}})})},b.prototype.protocol=function(){return this._protocol},Object.defineProperty(b.prototype,"address",{get:function(){return this._address},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"version",{get:function(){return this._server.version},set:function(y){this._server.version=y},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"server",{get:function(){return this._server},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"logger",{get:function(){return this._log},enumerable:!1,configurable:!0}),b.prototype._handleFatalError=function(y){this._isBroken=!0,this._error=this.handleAndTransformError(this._protocol.currentFailure||y,this._address),this._log.isErrorEnabled()&&this._log.error("experienced a fatal error caused by ".concat(this._error," (").concat(l.json.stringify(this._error),")")),this._protocol.notifyFatalError(this._error)},b.prototype._setIdle=function(y){this._idle=!0,this._ch.stopReceiveTimeout(),this._protocol.queueObserverIfProtocolIsNotBroken(y)},b.prototype._unsetIdle=function(){this._idle=!1,this._updateCurrentObserver()},b.prototype._queueObserver=function(y){return this._protocol.queueObserverIfProtocolIsNotBroken(y)},b.prototype.hasOngoingObservableRequests=function(){return!this._idle&&this._protocol.hasOngoingObservableRequests()},b.prototype.resetAndFlush=function(){var y=this;return new Promise(function(_,S){y._reset({onError:function(A){if(y._isBroken)S(A);else{var D=y._handleProtocolError("Received FAILURE as a response for RESET: ".concat(A));S(D)}},onComplete:function(){_()}})})},b.prototype._resetOnFailure=function(){var y=this;this.isOpen()&&this._reset({onError:function(){y._protocol.resetFailure()},onComplete:function(){y._protocol.resetFailure()}})},b.prototype._reset=function(y){var _=this;if(this._reseting)this._protocol.isLastMessageReset()?this._resetObservers.push(y):this._protocol.reset({onError:function(A){y.onError(A)},onComplete:function(){y.onComplete()}});else{this._resetObservers.push(y),this._reseting=!0;var S=function(A){_._reseting=!1;var D=_._resetObservers;_._resetObservers=[],D.forEach(A)};this._protocol.reset({onError:function(A){S(function(D){return D.onError(A)})},onComplete:function(){S(function(A){return A.onComplete()})}})}},b.prototype._updateCurrentObserver=function(){this._protocol.updateCurrentObserver()},b.prototype.isOpen=function(){return!this._isBroken&&this._ch._open},b.prototype._handleOngoingRequestsNumberChange=function(y){this._idle||(y===0?this._ch.stopReceiveTimeout():this._ch.startReceiveTimeout())},b.prototype.close=function(){return a(this,void 0,void 0,function(){return o(this,function(y){switch(y.label){case 0:return this._log.isDebugEnabled()&&this._log.debug("closing"),this._protocol&&this.isOpen()&&this._protocol.prepareToClose(),[4,this._ch.close()];case 1:return y.sent(),this._log.isDebugEnabled()&&this._log.debug("closed"),[2]}})})},b.prototype.toString=function(){return"Connection [".concat(this.id,"][").concat(this.databaseId||"","]")},b.prototype._handleProtocolError=function(y){this._protocol.resetFailure(),this._updateCurrentObserver();var _=(0,l.newError)(y,d);return this._handleFatalError(_),_},b}(c.default);e.default=m},9857:function(r,e,t){var n,i=this&&this.__extends||(n=function(s,u){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,c){l.__proto__=c}||function(l,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(l[f]=c[f])},n(s,u)},function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}n(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}),a=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0});var o=function(s){function u(l,c){var f=s.call(this,c)||this;return c&&(f._originalErrorHandler=l._errorHandler,l._errorHandler=f._errorHandler),f._delegate=l,f}return i(u,s),u.prototype.beginTransaction=function(l){return this._delegate.beginTransaction(l)},u.prototype.run=function(l,c,f){return this._delegate.run(l,c,f)},u.prototype.commitTransaction=function(l){return this._delegate.commitTransaction(l)},u.prototype.rollbackTransaction=function(l){return this._delegate.rollbackTransaction(l)},u.prototype.getProtocolVersion=function(){return this._delegate.getProtocolVersion()},Object.defineProperty(u.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"databaseId",{get:function(){return this._delegate.databaseId},set:function(l){this._delegate.databaseId=l},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"server",{get:function(){return this._delegate.server},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"authToken",{get:function(){return this._delegate.authToken},set:function(l){this._delegate.authToken=l},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"supportsReAuth",{get:function(){return this._delegate.supportsReAuth},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"address",{get:function(){return this._delegate.address},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"version",{get:function(){return this._delegate.version},set:function(l){this._delegate.version=l},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"creationTimestamp",{get:function(){return this._delegate.creationTimestamp},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"idleTimestamp",{get:function(){return this._delegate.idleTimestamp},set:function(l){this._delegate.idleTimestamp=l},enumerable:!1,configurable:!0}),u.prototype.isOpen=function(){return this._delegate.isOpen()},u.prototype.protocol=function(){return this._delegate.protocol()},u.prototype.connect=function(l,c,f,d){return this._delegate.connect(l,c,f,d)},u.prototype.write=function(l,c,f){return this._delegate.write(l,c,f)},u.prototype.resetAndFlush=function(){return this._delegate.resetAndFlush()},u.prototype.hasOngoingObservableRequests=function(){return this._delegate.hasOngoingObservableRequests()},u.prototype.close=function(){return this._delegate.close()},u.prototype.release=function(){return this._originalErrorHandler&&(this._delegate._errorHandler=this._originalErrorHandler),this._delegate.release()},u}(a(t(6385)).default);e.default=o},2363:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=t(9305),i=n.error.SERVICE_UNAVAILABLE,a=n.error.SESSION_EXPIRED,o=function(){function u(l,c,f,d){this._errorCode=l,this._handleUnavailability=c||s,this._handleWriteFailure=f||s,this._handleSecurityError=d||s}return u.create=function(l){return new u(l.errorCode,l.handleUnavailability,l.handleWriteFailure,l.handleSecurityError)},u.prototype.errorCode=function(){return this._errorCode},u.prototype.handleAndTransformError=function(l,c,f){return function(d){return d!=null&&d.code!=null&&d.code.startsWith("Neo.ClientError.Security.")}(l)?this._handleSecurityError(l,c,f):function(d){return!!d&&(d.code===a||d.code===i||d.code==="Neo.TransientError.General.DatabaseUnavailable")}(l)?this._handleUnavailability(l,c,f):function(d){return!!d&&(d.code==="Neo.ClientError.Cluster.NotALeader"||d.code==="Neo.ClientError.General.ForbiddenOnReadOnlyDatabase")}(l)?this._handleWriteFailure(l,c,f):l},u}();function s(u){return u}e.default=o},6385:function(r,e,t){var n,i=this&&this.__extends||(n=function(o,s){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,l){u.__proto__=l}||function(u,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(u[c]=l[c])},n(o,s)},function(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function u(){this.constructor=o}n(o,s),o.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)});Object.defineProperty(e,"__esModule",{value:!0}),t(7666);var a=function(o){function s(u){var l=o.call(this)||this;return l._errorHandler=u,l}return i(s,o),Object.defineProperty(s.prototype,"id",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"databaseId",{get:function(){throw new Error("not implemented")},set:function(u){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"authToken",{get:function(){throw new Error("not implemented")},set:function(u){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"supportsReAuth",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"creationTimestamp",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"idleTimestamp",{get:function(){throw new Error("not implemented")},set:function(u){throw new Error("not implemented")},enumerable:!1,configurable:!0}),s.prototype.protocol=function(){throw new Error("not implemented")},Object.defineProperty(s.prototype,"address",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"version",{get:function(){throw new Error("not implemented")},set:function(u){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"server",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),s.prototype.connect=function(u,l,c,f){throw new Error("not implemented")},s.prototype.write=function(u,l,c){throw new Error("not implemented")},s.prototype.close=function(){throw new Error("not implemented")},s.prototype.handleAndTransformError=function(u,l){return this._errorHandler?this._errorHandler.handleAndTransformError(u,l,this):u},s}(t(9305).Connection);e.default=a},7721:function(r,e,t){var n=this&&this.__createBinding||(Object.create?function(f,d,v,p){p===void 0&&(p=v);var m=Object.getOwnPropertyDescriptor(d,v);m&&!("get"in m?!d.__esModule:m.writable||m.configurable)||(m={enumerable:!0,get:function(){return d[v]}}),Object.defineProperty(f,p,m)}:function(f,d,v,p){p===void 0&&(p=v),f[p]=d[v]}),i=this&&this.__setModuleDefault||(Object.create?function(f,d){Object.defineProperty(f,"default",{enumerable:!0,value:d})}:function(f,d){f.default=d}),a=this&&this.__importStar||function(f){if(f&&f.__esModule)return f;var d={};if(f!=null)for(var v in f)v!=="default"&&Object.prototype.hasOwnProperty.call(f,v)&&n(d,f,v);return i(d,f),d},o=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(e,"__esModule",{value:!0}),e.createChannelConnection=e.ConnectionErrorHandler=e.DelegateConnection=e.ChannelConnection=e.Connection=void 0;var s=o(t(6385));e.Connection=s.default;var u=a(t(8031));e.ChannelConnection=u.default,Object.defineProperty(e,"createChannelConnection",{enumerable:!0,get:function(){return u.createChannelConnection}});var l=o(t(9857));e.DelegateConnection=l.default;var c=o(t(2363));e.ConnectionErrorHandler=c.default,e.default=s.default},6672:function(r,e,t){var n=this&&this.__createBinding||(Object.create?function(s,u,l,c){c===void 0&&(c=l);var f=Object.getOwnPropertyDescriptor(u,l);f&&!("get"in f?!u.__esModule:f.writable||f.configurable)||(f={enumerable:!0,get:function(){return u[l]}}),Object.defineProperty(s,c,f)}:function(s,u,l,c){c===void 0&&(c=l),s[c]=u[l]}),i=this&&this.__setModuleDefault||(Object.create?function(s,u){Object.defineProperty(s,"default",{enumerable:!0,value:u})}:function(s,u){s.default=u}),a=this&&this.__importStar||function(s){if(s&&s.__esModule)return s;var u={};if(s!=null)for(var l in s)l!=="default"&&Object.prototype.hasOwnProperty.call(s,l)&&n(u,s,l);return i(u,s),u},o=this&&this.__exportStar||function(s,u){for(var l in s)l==="default"||Object.prototype.hasOwnProperty.call(u,l)||n(u,s,l)};Object.defineProperty(e,"__esModule",{value:!0}),e.packstream=e.channel=e.buf=e.bolt=e.loadBalancing=void 0,e.loadBalancing=a(t(4455)),e.bolt=a(t(7666)),e.buf=a(t(7174)),e.channel=a(t(7452)),e.packstream=a(t(7168)),o(t(9689),e)},6492:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.reuseOngoingRequest=e.identity=void 0;var n=t(9305);e.identity=function(i){return i},e.reuseOngoingRequest=function(i,a){a===void 0&&(a=null);var o=new Map;return function(){for(var s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];var l=n.json.stringify(s);if(o.has(l))return o.get(l);var c=i.apply(a,s);return o.set(l,c),c.finally(function(){o.delete(l)})}}},6781:function(r,e,t){var n=this&&this.__createBinding||(Object.create?function(o,s,u,l){l===void 0&&(l=u);var c=Object.getOwnPropertyDescriptor(s,u);c&&!("get"in c?!s.__esModule:c.writable||c.configurable)||(c={enumerable:!0,get:function(){return s[u]}}),Object.defineProperty(o,l,c)}:function(o,s,u,l){l===void 0&&(l=u),o[l]=s[u]}),i=this&&this.__setModuleDefault||(Object.create?function(o,s){Object.defineProperty(o,"default",{enumerable:!0,value:s})}:function(o,s){o.default=s}),a=this&&this.__importStar||function(o){if(o&&o.__esModule)return o;var s={};if(o!=null)for(var u in o)u!=="default"&&Object.prototype.hasOwnProperty.call(o,u)&&n(s,o,u);return i(s,o),s};Object.defineProperty(e,"__esModule",{value:!0}),e.object=e.functional=void 0,e.functional=a(t(6492)),e.object=a(t(6702))},6702:function(r,e){var t=this&&this.__values||function(n){var i=typeof Symbol=="function"&&Symbol.iterator,a=i&&n[i],o=0;if(a)return a.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.equals=void 0,e.equals=function(n,i){var a,o;if(n===i)return!0;if(n===null||i===null)return!1;if(typeof n=="object"&&typeof i=="object"){var s=Object.keys(n),u=Object.keys(i);if(s.length!==u.length)return!1;try{for(var l=t(s),c=l.next();!c.done;c=l.next()){var f=c.value;if(n[f]!==i[f])return!1}}catch(d){a={error:d}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(a)throw a.error}}return!0}return!1}},4455:function(r,e,t){var n=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0}),e.LeastConnectedLoadBalancingStrategy=e.LoadBalancingStrategy=void 0;var i=n(t(4311));e.LoadBalancingStrategy=i.default;var a=n(t(2533));e.LeastConnectedLoadBalancingStrategy=a.default,e.default=a.default},2533:function(r,e,t){var n,i=this&&this.__extends||(n=function(u,l){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(c[d]=f[d])},n(u,l)},function(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function c(){this.constructor=u}n(u,l),u.prototype=l===null?Object.create(l):(c.prototype=l.prototype,new c)}),a=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0});var o=a(t(715)),s=function(u){function l(c){var f=u.call(this)||this;return f._readersIndex=new o.default,f._writersIndex=new o.default,f._connectionPool=c,f}return i(l,u),l.prototype.selectReader=function(c){return this._select(c,this._readersIndex)},l.prototype.selectWriter=function(c){return this._select(c,this._writersIndex)},l.prototype._select=function(c,f){var d=c.length;if(d===0)return null;var v=f.next(d),p=v,m=null,w=Number.MAX_SAFE_INTEGER;do{var b=c[p],y=this._connectionPool.activeResourceCount(b);y<w&&(m=b,w=y),p===d-1?p=0:p++}while(p!==v);return m},l}(a(t(4311)).default);e.default=s},4311:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function n(){}return n.prototype.selectReader=function(i){throw new Error("Abstract function")},n.prototype.selectWriter=function(i){throw new Error("Abstract function")},n}();e.default=t},715:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function n(i){this._offset=i||0}return n.prototype.next=function(i){if(i===0)return-1;var a=this._offset;return this._offset+=1,this._offset===Number.MAX_SAFE_INTEGER&&(this._offset=0),a%i},n}();e.default=t},7168:function(r,e,t){var n=this&&this.__createBinding||(Object.create?function(l,c,f,d){d===void 0&&(d=f);var v=Object.getOwnPropertyDescriptor(c,f);v&&!("get"in v?!c.__esModule:v.writable||v.configurable)||(v={enumerable:!0,get:function(){return c[f]}}),Object.defineProperty(l,d,v)}:function(l,c,f,d){d===void 0&&(d=f),l[d]=c[f]}),i=this&&this.__setModuleDefault||(Object.create?function(l,c){Object.defineProperty(l,"default",{enumerable:!0,value:c})}:function(l,c){l.default=c}),a=this&&this.__importStar||function(l){if(l&&l.__esModule)return l;var c={};if(l!=null)for(var f in l)f!=="default"&&Object.prototype.hasOwnProperty.call(l,f)&&n(c,l,f);return i(c,l),c};Object.defineProperty(e,"__esModule",{value:!0}),e.structure=e.v2=e.v1=void 0;var o=a(t(5361));e.v1=o;var s=a(t(2072));e.v2=s;var u=a(t(7665));e.structure=u,e.default=s},5361:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Unpacker=e.Packer=void 0;var n=t(7452),i=t(6781),a=t(7665),o=t(9305),s=o.error.PROTOCOL_ERROR,u=function(){function c(f){this._ch=f,this._byteArraysSupported=!0}return c.prototype.packable=function(f,d){var v,p=this;d===void 0&&(d=i.functional.identity);try{f=d(f)}catch(b){return function(){throw b}}if(f===null)return function(){return p._ch.writeUInt8(192)};if(f===!0)return function(){return p._ch.writeUInt8(195)};if(f===!1)return function(){return p._ch.writeUInt8(194)};if(typeof f=="number")return function(){return p.packFloat(f)};if(typeof f=="string")return function(){return p.packString(f)};if(typeof f=="bigint")return function(){return p.packInteger((0,o.int)(f))};if((0,o.isInt)(f))return function(){return p.packInteger(f)};if(f instanceof Int8Array)return function(){return p.packBytes(f)};if(f instanceof Array)return function(){p.packListHeader(f.length);for(var b=0;b<f.length;b++)p.packable(f[b]===void 0?null:f[b],d)()};if((v=f)!=null&&typeof v[Symbol.iterator]=="function")return this.packableIterable(f,d);if(f instanceof a.Structure){for(var m=[],w=0;w<f.fields.length;w++)m[w]=this.packable(f.fields[w],d);return function(){return p.packStruct(f.signature,m)}}return typeof f=="object"?function(){for(var b=Object.keys(f),y=0,_=0;_<b.length;_++)f[b[_]]!==void 0&&y++;for(p.packMapHeader(y),_=0;_<b.length;_++){var S=b[_];f[S]!==void 0&&(p.packString(S),p.packable(f[S],d)())}}:this._nonPackableValue("Unable to pack the given value: ".concat(f))},c.prototype.packableIterable=function(f,d){try{var v=Array.from(f);return this.packable(v,d)}catch(p){throw(0,o.newError)("Cannot pack given iterable, ".concat(p.message,": ").concat(f))}},c.prototype.packStruct=function(f,d){d=d||[],this.packStructHeader(d.length,f);for(var v=0;v<d.length;v++)d[v]()},c.prototype.packInteger=function(f){var d=f.high,v=f.low;f.greaterThanOrEqual(-16)&&f.lessThan(128)?this._ch.writeInt8(v):f.greaterThanOrEqual(-128)&&f.lessThan(-16)?(this._ch.writeUInt8(200),this._ch.writeInt8(v)):f.greaterThanOrEqual(-32768)&&f.lessThan(32768)?(this._ch.writeUInt8(201),this._ch.writeInt16(v)):f.greaterThanOrEqual(-2147483648)&&f.lessThan(2147483648)?(this._ch.writeUInt8(202),this._ch.writeInt32(v)):(this._ch.writeUInt8(203),this._ch.writeInt32(d),this._ch.writeInt32(v))},c.prototype.packFloat=function(f){this._ch.writeUInt8(193),this._ch.writeFloat64(f)},c.prototype.packString=function(f){var d=n.utf8.encode(f),v=d.length;if(v<16)this._ch.writeUInt8(128|v),this._ch.writeBytes(d);else if(v<256)this._ch.writeUInt8(208),this._ch.writeUInt8(v),this._ch.writeBytes(d);else if(v<65536)this._ch.writeUInt8(209),this._ch.writeUInt8(v/256>>0),this._ch.writeUInt8(v%256),this._ch.writeBytes(d);else{if(!(v<4294967296))throw(0,o.newError)("UTF-8 strings of size "+v+" are not supported");this._ch.writeUInt8(210),this._ch.writeUInt8((v/16777216>>0)%256),this._ch.writeUInt8((v/65536>>0)%256),this._ch.writeUInt8((v/256>>0)%256),this._ch.writeUInt8(v%256),this._ch.writeBytes(d)}},c.prototype.packListHeader=function(f){if(f<16)this._ch.writeUInt8(144|f);else if(f<256)this._ch.writeUInt8(212),this._ch.writeUInt8(f);else if(f<65536)this._ch.writeUInt8(213),this._ch.writeUInt8((f/256>>0)%256),this._ch.writeUInt8(f%256);else{if(!(f<4294967296))throw(0,o.newError)("Lists of size "+f+" are not supported");this._ch.writeUInt8(214),this._ch.writeUInt8((f/16777216>>0)%256),this._ch.writeUInt8((f/65536>>0)%256),this._ch.writeUInt8((f/256>>0)%256),this._ch.writeUInt8(f%256)}},c.prototype.packBytes=function(f){if(!this._byteArraysSupported)throw(0,o.newError)("Byte arrays are not supported by the database this driver is connected to");this.packBytesHeader(f.length);for(var d=0;d<f.length;d++)this._ch.writeInt8(f[d])},c.prototype.packBytesHeader=function(f){if(f<256)this._ch.writeUInt8(204),this._ch.writeUInt8(f);else if(f<65536)this._ch.writeUInt8(205),this._ch.writeUInt8((f/256>>0)%256),this._ch.writeUInt8(f%256);else{if(!(f<4294967296))throw(0,o.newError)("Byte arrays of size "+f+" are not supported");this._ch.writeUInt8(206),this._ch.writeUInt8((f/16777216>>0)%256),this._ch.writeUInt8((f/65536>>0)%256),this._ch.writeUInt8((f/256>>0)%256),this._ch.writeUInt8(f%256)}},c.prototype.packMapHeader=function(f){if(f<16)this._ch.writeUInt8(160|f);else if(f<256)this._ch.writeUInt8(216),this._ch.writeUInt8(f);else if(f<65536)this._ch.writeUInt8(217),this._ch.writeUInt8(f/256>>0),this._ch.writeUInt8(f%256);else{if(!(f<4294967296))throw(0,o.newError)("Maps of size "+f+" are not supported");this._ch.writeUInt8(218),this._ch.writeUInt8((f/16777216>>0)%256),this._ch.writeUInt8((f/65536>>0)%256),this._ch.writeUInt8((f/256>>0)%256),this._ch.writeUInt8(f%256)}},c.prototype.packStructHeader=function(f,d){if(f<16)this._ch.writeUInt8(176|f),this._ch.writeUInt8(d);else if(f<256)this._ch.writeUInt8(220),this._ch.writeUInt8(f),this._ch.writeUInt8(d);else{if(!(f<65536))throw(0,o.newError)("Structures of size "+f+" are not supported");this._ch.writeUInt8(221),this._ch.writeUInt8(f/256>>0),this._ch.writeUInt8(f%256)}},c.prototype.disableByteArrays=function(){this._byteArraysSupported=!1},c.prototype._nonPackableValue=function(f){return function(){throw(0,o.newError)(f,s)}},c}();e.Packer=u;var l=function(){function c(f,d){f===void 0&&(f=!1),d===void 0&&(d=!1),this._disableLosslessIntegers=f,this._useBigInt=d}return c.prototype.unpack=function(f,d){d===void 0&&(d=i.functional.identity);var v=f.readUInt8(),p=240&v,m=15&v;if(v===192)return null;var w=this._unpackBoolean(v);if(w!==null)return w;var b=this._unpackNumberOrInteger(v,f);if(b!==null){if((0,o.isInt)(b)){if(this._useBigInt)return b.toBigInt();if(this._disableLosslessIntegers)return b.toNumberOrInfinity()}return b}var y=this._unpackString(v,p,m,f);if(y!==null)return y;var _=this._unpackList(v,p,m,f,d);if(_!==null)return _;var S=this._unpackByteArray(v,f);if(S!==null)return S;var A=this._unpackMap(v,p,m,f,d);if(A!==null)return A;var D=this._unpackStruct(v,p,m,f,d);if(D!==null)return D;throw(0,o.newError)("Unknown packed value with marker "+v.toString(16))},c.prototype.unpackInteger=function(f){var d=f.readUInt8(),v=this._unpackInteger(d,f);if(v==null)throw(0,o.newError)("Unable to unpack integer value with marker "+d.toString(16));return v},c.prototype._unpackBoolean=function(f){return f===195||f!==194&&null},c.prototype._unpackNumberOrInteger=function(f,d){return f===193?d.readFloat64():this._unpackInteger(f,d)},c.prototype._unpackInteger=function(f,d){if(f>=0&&f<128)return(0,o.int)(f);if(f>=240&&f<256)return(0,o.int)(f-256);if(f===200)return(0,o.int)(d.readInt8());if(f===201)return(0,o.int)(d.readInt16());if(f===202){var v=d.readInt32();return(0,o.int)(v)}if(f===203){var p=d.readInt32(),m=d.readInt32();return new o.Integer(m,p)}return null},c.prototype._unpackString=function(f,d,v,p){return d===128?n.utf8.decode(p,v):f===208?n.utf8.decode(p,p.readUInt8()):f===209?n.utf8.decode(p,p.readUInt16()):f===210?n.utf8.decode(p,p.readUInt32()):null},c.prototype._unpackList=function(f,d,v,p,m){return d===144?this._unpackListWithSize(v,p,m):f===212?this._unpackListWithSize(p.readUInt8(),p,m):f===213?this._unpackListWithSize(p.readUInt16(),p,m):f===214?this._unpackListWithSize(p.readUInt32(),p,m):null},c.prototype._unpackListWithSize=function(f,d,v){for(var p=[],m=0;m<f;m++)p.push(this.unpack(d,v));return p},c.prototype._unpackByteArray=function(f,d){return f===204?this._unpackByteArrayWithSize(d.readUInt8(),d):f===205?this._unpackByteArrayWithSize(d.readUInt16(),d):f===206?this._unpackByteArrayWithSize(d.readUInt32(),d):null},c.prototype._unpackByteArrayWithSize=function(f,d){for(var v=new Int8Array(f),p=0;p<f;p++)v[p]=d.readInt8();return v},c.prototype._unpackMap=function(f,d,v,p,m){return d===160?this._unpackMapWithSize(v,p,m):f===216?this._unpackMapWithSize(p.readUInt8(),p,m):f===217?this._unpackMapWithSize(p.readUInt16(),p,m):f===218?this._unpackMapWithSize(p.readUInt32(),p,m):null},c.prototype._unpackMapWithSize=function(f,d,v){for(var p={},m=0;m<f;m++)p[this.unpack(d,v)]=this.unpack(d,v);return p},c.prototype._unpackStruct=function(f,d,v,p,m){return d===176?this._unpackStructWithSize(v,p,m):f===220?this._unpackStructWithSize(p.readUInt8(),p,m):f===221?this._unpackStructWithSize(p.readUInt16(),p,m):null},c.prototype._unpackStructWithSize=function(f,d,v){for(var p=d.readUInt8(),m=new a.Structure(p,[]),w=0;w<f;w++)m.fields.push(this.unpack(d,v));return v(m)},c}();e.Unpacker=l},2072:function(r,e,t){var n,i=this&&this.__extends||(n=function(f,d){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,p){v.__proto__=p}||function(v,p){for(var m in p)Object.prototype.hasOwnProperty.call(p,m)&&(v[m]=p[m])},n(f,d)},function(f,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function v(){this.constructor=f}n(f,d),f.prototype=d===null?Object.create(d):(v.prototype=d.prototype,new v)}),a=this&&this.__createBinding||(Object.create?function(f,d,v,p){p===void 0&&(p=v);var m=Object.getOwnPropertyDescriptor(d,v);m&&!("get"in m?!d.__esModule:m.writable||m.configurable)||(m={enumerable:!0,get:function(){return d[v]}}),Object.defineProperty(f,p,m)}:function(f,d,v,p){p===void 0&&(p=v),f[p]=d[v]}),o=this&&this.__setModuleDefault||(Object.create?function(f,d){Object.defineProperty(f,"default",{enumerable:!0,value:d})}:function(f,d){f.default=d}),s=this&&this.__importStar||function(f){if(f&&f.__esModule)return f;var d={};if(f!=null)for(var v in f)v!=="default"&&Object.prototype.hasOwnProperty.call(f,v)&&a(d,f,v);return o(d,f),d};Object.defineProperty(e,"__esModule",{value:!0}),e.Unpacker=e.Packer=void 0;var u=s(t(5361)),l=function(f){function d(){return f!==null&&f.apply(this,arguments)||this}return i(d,f),d.prototype.disableByteArrays=function(){throw new Error("Bolt V2 should always support byte arrays")},d}(u.Packer);e.Packer=l;var c=function(f){function d(v,p){return v===void 0&&(v=!1),p===void 0&&(p=!1),f.call(this,v,p)||this}return i(d,f),d}(u.Unpacker);e.Unpacker=c},7665:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.verifyStructSize=e.Structure=void 0;var n=t(9305),i=n.error.PROTOCOL_ERROR,a=function(){function o(s,u){this.signature=s,this.fields=u}return Object.defineProperty(o.prototype,"size",{get:function(){return this.fields.length},enumerable:!1,configurable:!0}),o.prototype.toString=function(){for(var s="",u=0;u<this.fields.length;u++)u>0&&(s+=", "),s+=this.fields[u];return"Structure("+this.signature+", ["+s+"])"},o}();e.Structure=a,e.verifyStructSize=function(o,s,u){if(s!==u)throw(0,n.newError)("Wrong struct size for ".concat(o,", expected ").concat(s," but was ").concat(u),i)},e.default=a},206:function(r,e,t){var n=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0}),e.RoutingTable=e.Rediscovery=void 0;var i=n(t(4151));e.Rediscovery=i.default;var a=n(t(9018));e.RoutingTable=a.default,e.default=i.default},4151:function(r,e,t){var n=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(t(9018)),a=(t(9305),function(){function o(s){this._routingContext=s}return o.prototype.lookupRoutingTableOnRouter=function(s,u,l,c){var f=this;return s._acquireConnection(function(d){return f._requestRawRoutingTable(d,s,u,l,c).then(function(v){return v.isNull?null:i.default.fromRawRoutingTable(u,l,v)})})},o.prototype._requestRawRoutingTable=function(s,u,l,c,f){var d=this;return new Promise(function(v,p){s.protocol().requestRoutingInformation({routingContext:d._routingContext,databaseName:l,impersonatedUser:f,sessionContext:{bookmarks:u._lastBookmarks,mode:u._mode,database:u._database,afterComplete:u._onComplete},onCompleted:v,onError:p})})},o}());e.default=a},9018:function(r,e,t){var n=this&&this.__read||function(w,b){var y=typeof Symbol=="function"&&w[Symbol.iterator];if(!y)return w;var _,S,A=y.call(w),D=[];try{for(;(b===void 0||b-- >0)&&!(_=A.next()).done;)D.push(_.value)}catch(R){S={error:R}}finally{try{_&&!_.done&&(y=A.return)&&y.call(A)}finally{if(S)throw S.error}}return D},i=this&&this.__spreadArray||function(w,b,y){if(y||arguments.length===2)for(var _,S=0,A=b.length;S<A;S++)!_&&S in b||(_||(_=Array.prototype.slice.call(b,0,S)),_[S]=b[S]);return w.concat(_||Array.prototype.slice.call(b))};Object.defineProperty(e,"__esModule",{value:!0}),e.createValidRoutingTable=void 0;var a=t(9305),o=a.internal.constants,s=o.ACCESS_MODE_WRITE,u=o.ACCESS_MODE_READ,l=a.internal.serverAddress.ServerAddress,c=a.error.PROTOCOL_ERROR,f=function(){function w(b){var y=b===void 0?{}:b,_=y.database,S=y.routers,A=y.readers,D=y.writers,R=y.expirationTime,k=y.ttl;this.database=_||null,this.databaseName=_||"default database",this.routers=S||[],this.readers=A||[],this.writers=D||[],this.expirationTime=R||(0,a.int)(0),this.ttl=k}return w.fromRawRoutingTable=function(b,y,_){return v(b,y,_)},w.prototype.forget=function(b){this.readers=d(this.readers,b),this.writers=d(this.writers,b)},w.prototype.forgetRouter=function(b){this.routers=d(this.routers,b)},w.prototype.forgetWriter=function(b){this.writers=d(this.writers,b)},w.prototype.isStaleFor=function(b){return this.expirationTime.lessThan(Date.now())||this.routers.length<1||b===u&&this.readers.length===0||b===s&&this.writers.length===0},w.prototype.isExpiredFor=function(b){return this.expirationTime.add(b).lessThan(Date.now())},w.prototype.allServers=function(){return i(i(i([],n(this.routers),!1),n(this.readers),!1),n(this.writers),!1)},w.prototype.toString=function(){return"RoutingTable["+"database=".concat(this.databaseName,", ")+"expirationTime=".concat(this.expirationTime,", ")+"currentTime=".concat(Date.now(),", ")+"routers=[".concat(this.routers,"], ")+"readers=[".concat(this.readers,"], ")+"writers=[".concat(this.writers,"]]")},w}();function d(w,b){return w.filter(function(y){return y.asKey()!==b.asKey()})}function v(w,b,y){var _=y.ttl,S=function(j,F){try{var z=(0,a.int)(Date.now()),q=(0,a.int)(j.ttl).multiply(1e3).add(z);return q.lessThan(z)?a.Integer.MAX_VALUE:q}catch($){throw(0,a.newError)("Unable to parse TTL entry from router ".concat(F,` from raw routing table:
`).concat(a.json.stringify(j),`
Error message: `).concat($.message),c)}}(y,b),A=function(j,F){try{var z=[],q=[],$=[];return j.servers.forEach(function(K){var oe=K.role,J=K.addresses;oe==="ROUTE"?z=m(J).map(function(re){return l.fromUrl(re)}):oe==="WRITE"?$=m(J).map(function(re){return l.fromUrl(re)}):oe==="READ"&&(q=m(J).map(function(re){return l.fromUrl(re)}))}),{routers:z,readers:q,writers:$}}catch(K){throw(0,a.newError)("Unable to parse servers entry from router ".concat(F,` from addresses:
`).concat(a.json.stringify(j.servers),`
Error message: `).concat(K.message),c)}}(y,b),D=A.routers,R=A.readers,k=A.writers;return p(D,"routers",b),p(R,"readers",b),new f({database:w||y.db,routers:D,readers:R,writers:k,expirationTime:S,ttl:_})}function p(w,b,y){if(w.length===0)throw(0,a.newError)("Received no "+b+" from router "+y,c)}function m(w){if(!Array.isArray(w))throw new TypeError("Array expected but got: "+w);return Array.from(w)}e.default=f,e.createValidRoutingTable=v},2069:function(r,e,t){var n=this&&this.__awaiter||function(v,p,m,w){return new(m||(m=Promise))(function(b,y){function _(D){try{A(w.next(D))}catch(R){y(R)}}function S(D){try{A(w.throw(D))}catch(R){y(R)}}function A(D){var R;D.done?b(D.value):(R=D.value,R instanceof m?R:new m(function(k){k(R)})).then(_,S)}A((w=w.apply(v,p||[])).next())})},i=this&&this.__generator||function(v,p){var m,w,b,y,_={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return y={next:S(0),throw:S(1),return:S(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function S(A){return function(D){return function(R){if(m)throw new TypeError("Generator is already executing.");for(;y&&(y=0,R[0]&&(_=0)),_;)try{if(m=1,w&&(b=2&R[0]?w.return:R[0]?w.throw||((b=w.return)&&b.call(w),0):w.next)&&!(b=b.call(w,R[1])).done)return b;switch(w=0,b&&(R=[2&R[0],b.value]),R[0]){case 0:case 1:b=R;break;case 4:return _.label++,{value:R[1],done:!1};case 5:_.label++,w=R[1],R=[0];continue;case 7:R=_.ops.pop(),_.trys.pop();continue;default:if(!((b=(b=_.trys).length>0&&b[b.length-1])||R[0]!==6&&R[0]!==2)){_=0;continue}if(R[0]===3&&(!b||R[1]>b[0]&&R[1]<b[3])){_.label=R[1];break}if(R[0]===6&&_.label<b[1]){_.label=b[1],b=R;break}if(b&&_.label<b[2]){_.label=b[2],_.ops.push(R);break}b[2]&&_.ops.pop(),_.trys.pop();continue}R=p.call(v,_)}catch(k){R=[6,k],w=0}finally{m=b=0}if(5&R[0])throw R[1];return{value:R[0]?R[1]:void 0,done:!0}}([A,D])}}},a=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(e,"__esModule",{value:!0}),e.staticAuthTokenManager=e.authTokenManagers=e.AuthTokenAndExpiration=void 0;var o=a(t(1967)),s=t(6995),u=function(){function v(){}return v.prototype.getToken=function(){throw new Error("Not Implemented")},v.prototype.handleSecurityException=function(p,m){throw new Error("Not implemented")},v}();e.default=u,e.AuthTokenAndExpiration=function(){this.token=o.default.none(),this.expiration=void 0};var l=new(function(){function v(){}return v.prototype.bearer=function(p){var m=p.tokenProvider;if(typeof m!="function")throw new TypeError("tokenProvider should be function, but got: ".concat(typeof m));return new f(m,["Neo.ClientError.Security.Unauthorized","Neo.ClientError.Security.TokenExpired"])},v.prototype.basic=function(p){var m=this,w=p.tokenProvider;if(typeof w!="function")throw new TypeError("tokenProvider should be function, but got: ".concat(typeof w));return new f(function(){return n(m,void 0,void 0,function(){var b;return i(this,function(y){switch(y.label){case 0:return b={},[4,w()];case 1:return[2,(b.token=y.sent(),b)]}})})},["Neo.ClientError.Security.Unauthorized"])},v}());e.authTokenManagers=l,Object.freeze(l),e.staticAuthTokenManager=function(v){var p=v.authToken;return new d(p)};var c=function(){function v(p){p===void 0&&(p=[]),this._subscribers=p}return v.prototype.subscribe=function(p){this._subscribers.push(p)},v.prototype.onCompleted=function(p){this._subscribers.forEach(function(m){return m.onCompleted(p)})},v.prototype.onError=function(p){this._subscribers.forEach(function(m){return m.onError(p)})},v}(),f=function(){function v(p,m,w,b){this._tokenProvider=p,this._handledSecurityCodes=m,this._currentAuthData=w,this._refreshObservable=b}return v.prototype.getToken=function(){var p;return n(this,void 0,void 0,function(){return i(this,function(m){switch(m.label){case 0:return this._currentAuthData===void 0||this._currentAuthData.expiration!==void 0&&this._currentAuthData.expiration<new Date?[4,this._refreshAuthToken()]:[3,2];case 1:m.sent(),m.label=2;case 2:return[2,(p=this._currentAuthData)===null||p===void 0?void 0:p.token]}})})},v.prototype.handleSecurityException=function(p,m){var w;return!!this._handledSecurityCodes.includes(m)&&(s.util.equals(p,(w=this._currentAuthData)===null||w===void 0?void 0:w.token)&&this._scheduleRefreshAuthToken(),!0)},v.prototype._scheduleRefreshAuthToken=function(p){var m=this;this._refreshObservable===void 0&&(this._currentAuthData=void 0,this._refreshObservable=new c,Promise.resolve(this._tokenProvider()).then(function(w){var b;m._currentAuthData=w,(b=m._refreshObservable)===null||b===void 0||b.onCompleted(w)}).catch(function(w){var b;(b=m._refreshObservable)===null||b===void 0||b.onError(w)}).finally(function(){m._refreshObservable=void 0})),p!==void 0&&this._refreshObservable.subscribe(p)},v.prototype._refreshAuthToken=function(){return n(this,void 0,void 0,function(){var p=this;return i(this,function(m){switch(m.label){case 0:return[4,new Promise(function(w,b){p._scheduleRefreshAuthToken({onCompleted:w,onError:b})})];case 1:return[2,m.sent()]}})})},v}(),d=function(){function v(p){this._authToken=p}return v.prototype.getToken=function(){return this._authToken},v.prototype.handleSecurityException=function(p,m){return!1},v}()},1967:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var t={basic:function(i,a,o){return o!=null?{scheme:"basic",principal:i,credentials:a,realm:o}:{scheme:"basic",principal:i,credentials:a}},kerberos:function(i){return{scheme:"kerberos",principal:"",credentials:i}},bearer:function(i){return{scheme:"bearer",credentials:i}},none:function(){return{scheme:"none"}},custom:function(i,a,o,s,u){var l={scheme:s,principal:i};return n(a)&&(l.credentials=a),n(o)&&(l.realm=o),n(u)&&(l.parameters=u),l}};function n(i){return!(i==null||i===""||Object.getPrototypeOf(i)===Object.prototype&&Object.keys(i).length===0)}e.default=t},6755:function(r,e){var t=this&&this.__awaiter||function(l,c,f,d){return new(f||(f=Promise))(function(v,p){function m(y){try{b(d.next(y))}catch(_){p(_)}}function w(y){try{b(d.throw(y))}catch(_){p(_)}}function b(y){var _;y.done?v(y.value):(_=y.value,_ instanceof f?_:new f(function(S){S(_)})).then(m,w)}b((d=d.apply(l,c||[])).next())})},n=this&&this.__generator||function(l,c){var f,d,v,p,m={label:0,sent:function(){if(1&v[0])throw v[1];return v[1]},trys:[],ops:[]};return p={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function w(b){return function(y){return function(_){if(f)throw new TypeError("Generator is already executing.");for(;p&&(p=0,_[0]&&(m=0)),m;)try{if(f=1,d&&(v=2&_[0]?d.return:_[0]?d.throw||((v=d.return)&&v.call(d),0):d.next)&&!(v=v.call(d,_[1])).done)return v;switch(d=0,v&&(_=[2&_[0],v.value]),_[0]){case 0:case 1:v=_;break;case 4:return m.label++,{value:_[1],done:!1};case 5:m.label++,d=_[1],_=[0];continue;case 7:_=m.ops.pop(),m.trys.pop();continue;default:if(!((v=(v=m.trys).length>0&&v[v.length-1])||_[0]!==6&&_[0]!==2)){m=0;continue}if(_[0]===3&&(!v||_[1]>v[0]&&_[1]<v[3])){m.label=_[1];break}if(_[0]===6&&m.label<v[1]){m.label=v[1],v=_;break}if(v&&m.label<v[2]){m.label=v[2],m.ops.push(_);break}v[2]&&m.ops.pop(),m.trys.pop();continue}_=c.call(l,m)}catch(S){_=[6,S],d=0}finally{f=v=0}if(5&_[0])throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}([b,y])}}},i=this&&this.__values||function(l){var c=typeof Symbol=="function"&&Symbol.iterator,f=c&&l[c],d=0;if(f)return f.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&d>=l.length&&(l=void 0),{value:l&&l[d++],done:!l}}};throw new TypeError(c?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__read||function(l,c){var f=typeof Symbol=="function"&&l[Symbol.iterator];if(!f)return l;var d,v,p=f.call(l),m=[];try{for(;(c===void 0||c-- >0)&&!(d=p.next()).done;)m.push(d.value)}catch(w){v={error:w}}finally{try{d&&!d.done&&(f=p.return)&&f.call(p)}finally{if(v)throw v.error}}return m},o=this&&this.__spreadArray||function(l,c,f){if(f||arguments.length===2)for(var d,v=0,p=c.length;v<p;v++)!d&&v in c||(d||(d=Array.prototype.slice.call(c,0,v)),d[v]=c[v]);return l.concat(d||Array.prototype.slice.call(c))};Object.defineProperty(e,"__esModule",{value:!0}),e.bookmarkManager=void 0;var s=function(){function l(){throw new Error("Not implemented")}return l.prototype.updateBookmarks=function(c,f){return t(this,void 0,void 0,function(){return n(this,function(d){throw new Error("Not implemented")})})},l.prototype.getBookmarks=function(){return t(this,void 0,void 0,function(){return n(this,function(c){throw new Error("Not implemented")})})},l}();e.default=s,e.bookmarkManager=function(l){l===void 0&&(l={});var c=new Set(l.initialBookmarks);return new u(c,l.bookmarksSupplier,l.bookmarksConsumer)};var u=function(){function l(c,f,d){this._bookmarks=c,this._bookmarksSupplier=f,this._bookmarksConsumer=d}return l.prototype.updateBookmarks=function(c,f){return t(this,void 0,void 0,function(){var d,v,p,m,w,b,y,_,S,A;return n(this,function(D){switch(D.label){case 0:d=this._bookmarks;try{for(v=i(c),p=v.next();!p.done;p=v.next())b=p.value,d.delete(b)}catch(R){y={error:R}}finally{try{p&&!p.done&&(_=v.return)&&_.call(v)}finally{if(y)throw y.error}}try{for(m=i(f),w=m.next();!w.done;w=m.next())b=w.value,d.add(b)}catch(R){S={error:R}}finally{try{w&&!w.done&&(A=m.return)&&A.call(m)}finally{if(S)throw S.error}}return typeof this._bookmarksConsumer!="function"?[3,2]:[4,this._bookmarksConsumer(o([],a(d),!1))];case 1:D.sent(),D.label=2;case 2:return[2]}})})},l.prototype.getBookmarks=function(){var c;return t(this,void 0,void 0,function(){var f,d,v,p,m,w,b;return n(this,function(y){switch(y.label){case 0:return f=new Set(this._bookmarks),typeof this._bookmarksSupplier!="function"?[3,2]:[4,this._bookmarksSupplier()];case 1:d=(c=y.sent())!==null&&c!==void 0?c:[];try{for(v=i(d),p=v.next();!p.done;p=v.next())m=p.value,f.add(m)}catch(_){w={error:_}}finally{try{p&&!p.done&&(b=v.return)&&b.call(v)}finally{if(w)throw w.error}}y.label=2;case 2:return[2,o([],a(f),!1)]}})})},l}()},8264:function(r,e,t){var n,i=this&&this.__extends||(n=function(y,_){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,A){S.__proto__=A}||function(S,A){for(var D in A)Object.prototype.hasOwnProperty.call(A,D)&&(S[D]=A[D])},n(y,_)},function(y,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");function S(){this.constructor=y}n(y,_),y.prototype=_===null?Object.create(_):(S.prototype=_.prototype,new S)}),a=this&&this.__assign||function(){return a=Object.assign||function(y){for(var _,S=1,A=arguments.length;S<A;S++)for(var D in _=arguments[S])Object.prototype.hasOwnProperty.call(_,D)&&(y[D]=_[D]);return y},a.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(y,_,S,A){A===void 0&&(A=S);var D=Object.getOwnPropertyDescriptor(_,S);D&&!("get"in D?!_.__esModule:D.writable||D.configurable)||(D={enumerable:!0,get:function(){return _[S]}}),Object.defineProperty(y,A,D)}:function(y,_,S,A){A===void 0&&(A=S),y[A]=_[S]}),s=this&&this.__setModuleDefault||(Object.create?function(y,_){Object.defineProperty(y,"default",{enumerable:!0,value:_})}:function(y,_){y.default=_}),u=this&&this.__importStar||function(y){if(y&&y.__esModule)return y;var _={};if(y!=null)for(var S in y)S!=="default"&&Object.prototype.hasOwnProperty.call(y,S)&&o(_,y,S);return s(_,y),_};Object.defineProperty(e,"__esModule",{value:!0}),e.resolveCertificateProvider=e.clientCertificateProviders=e.RotatingClientCertificateProvider=e.ClientCertificateProvider=void 0;var l=u(t(4027));e.default=function(){this.certfile="",this.keyfile="",this.password=void 0};var c=function(){function y(){}return y.prototype.hasUpdate=function(){throw new Error("Not Implemented")},y.prototype.getClientCertificate=function(){throw new Error("Not Implemented")},y}();e.ClientCertificateProvider=c;var f=function(y){function _(){return y!==null&&y.apply(this,arguments)||this}return i(_,y),_.prototype.updateCertificate=function(S){throw new Error("Not implemented")},_}(c);e.RotatingClientCertificateProvider=f;var d=new(function(){function y(){}return y.prototype.rotating=function(_){var S=_.initialCertificate;if(S==null||!v(S))throw new TypeError("initialCertificate should be ClientCertificate, but got ".concat(l.stringify(S)));var A=a({},S);return new b(A)},y}());function v(y){return y!=null&&typeof y=="object"&&"certfile"in y&&(p(_=y.certfile)||m(_,p))&&"keyfile"in y&&function(S){function A(D){return typeof D=="string"||D!=null&&typeof D=="object"&&"path"in D&&typeof D.path=="string"&&w("password",D)}return A(S)||m(S,A)}(y.keyfile)&&w("password",y);var _}function p(y){return typeof y=="string"}function m(y,_,S){return S===void 0&&(S=!1),Array.isArray(y)&&(S||y.length>0)&&y.filter(_).length===y.length}function w(y,_){return!(y in _)||_[y]==null||typeof _[y]=="string"}e.clientCertificateProviders=d,Object.freeze(d),e.resolveCertificateProvider=function(y){if(y!=null){if(typeof y=="object"&&"hasUpdate"in y&&"getClientCertificate"in y&&typeof y.getClientCertificate=="function"&&typeof y.hasUpdate=="function")return y;if(v(y)){var _=a({},y);return{getClientCertificate:function(){return _},hasUpdate:function(){return!1}}}throw new TypeError("clientCertificate should be configured with ClientCertificate or ClientCertificateProvider, but got ".concat(l.stringify(y)))}};var b=function(){function y(_,S){S===void 0&&(S=!1),this._certificate=_,this._updated=S}return y.prototype.hasUpdate=function(){try{return this._updated}finally{this._updated=!1}},y.prototype.getClientCertificate=function(){return this._certificate},y.prototype.updateCertificate=function(_){if(!v(_))throw new TypeError("certificate should be ClientCertificate, but got ".concat(l.stringify(_)));this._certificate=a({},_),this._updated=!0},y}()},2007:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Releasable=void 0;var t=function(){function i(){}return i.prototype.release=function(){throw new Error("Not implemented")},i}();e.Releasable=t;var n=function(){function i(){}return i.prototype.acquireConnection=function(a){throw Error("Not implemented")},i.prototype.supportsMultiDb=function(){throw Error("Not implemented")},i.prototype.supportsTransactionConfig=function(){throw Error("Not implemented")},i.prototype.supportsUserImpersonation=function(){throw Error("Not implemented")},i.prototype.supportsSessionAuth=function(){throw Error("Not implemented")},i.prototype.verifyConnectivityAndGetServerInfo=function(a){throw Error("Not implemented")},i.prototype.verifyAuthentication=function(a){throw Error("Not implemented")},i.prototype.getNegotiatedProtocolVersion=function(){throw Error("Not Implemented")},i.prototype.close=function(){throw Error("Not implemented")},i}();e.default=n},1409:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function n(){}return n.prototype.beginTransaction=function(i){throw new Error("Not implemented")},n.prototype.run=function(i,a,o){throw new Error("Not implemented")},n.prototype.commitTransaction=function(i){throw new Error("Not implemented")},n.prototype.rollbackTransaction=function(i){throw new Error("Not implemented")},n.prototype.resetAndFlush=function(){throw new Error("Not implemented")},n.prototype.isOpen=function(){throw new Error("Not implemented")},n.prototype.getProtocolVersion=function(){throw new Error("Not implemented")},n.prototype.hasOngoingObservableRequests=function(){throw new Error("Not implemented")},n}();e.default=t},7264:function(r,e,t){var n=this&&this.__awaiter||function(R,k,j,F){return new(j||(j=Promise))(function(z,q){function $(J){try{oe(F.next(J))}catch(re){q(re)}}function K(J){try{oe(F.throw(J))}catch(re){q(re)}}function oe(J){var re;J.done?z(J.value):(re=J.value,re instanceof j?re:new j(function(ae){ae(re)})).then($,K)}oe((F=F.apply(R,k||[])).next())})},i=this&&this.__generator||function(R,k){var j,F,z,q,$={label:0,sent:function(){if(1&z[0])throw z[1];return z[1]},trys:[],ops:[]};return q={next:K(0),throw:K(1),return:K(2)},typeof Symbol=="function"&&(q[Symbol.iterator]=function(){return this}),q;function K(oe){return function(J){return function(re){if(j)throw new TypeError("Generator is already executing.");for(;q&&(q=0,re[0]&&($=0)),$;)try{if(j=1,F&&(z=2&re[0]?F.return:re[0]?F.throw||((z=F.return)&&z.call(F),0):F.next)&&!(z=z.call(F,re[1])).done)return z;switch(F=0,z&&(re=[2&re[0],z.value]),re[0]){case 0:case 1:z=re;break;case 4:return $.label++,{value:re[1],done:!1};case 5:$.label++,F=re[1],re=[0];continue;case 7:re=$.ops.pop(),$.trys.pop();continue;default:if(!((z=(z=$.trys).length>0&&z[z.length-1])||re[0]!==6&&re[0]!==2)){$=0;continue}if(re[0]===3&&(!z||re[1]>z[0]&&re[1]<z[3])){$.label=re[1];break}if(re[0]===6&&$.label<z[1]){$.label=z[1],z=re;break}if(z&&$.label<z[2]){$.label=z[2],$.ops.push(re);break}z[2]&&$.ops.pop(),$.trys.pop();continue}re=k.call(R,$)}catch(ae){re=[6,ae],F=0}finally{j=z=0}if(5&re[0])throw re[1];return{value:re[0]?re[1]:void 0,done:!0}}([oe,J])}}},a=this&&this.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty(e,"__esModule",{value:!0}),e.QueryConfig=e.SessionConfig=e.routing=e.WRITE=e.READ=e.Driver=void 0;var o=t(9730),s=a(t(8341)),u=t(326),l=t(4883),c=a(t(5481)),f=t(6587),d=t(6755),v=a(t(1573)),p=a(t(7041)),m=t(9691),w=u.ACCESS_MODE_READ;e.READ=w;var b=u.ACCESS_MODE_WRITE;e.WRITE=b;var y=0;e.SessionConfig=function(){this.defaultAccessMode=b,this.bookmarks=[],this.database="",this.impersonatedUser=void 0,this.auth=void 0,this.fetchSize=void 0,this.bookmarkManager=void 0,this.notificationFilter=void 0};var _={WRITE:"WRITE",READ:"READ"};e.routing=_,Object.freeze(_),e.QueryConfig=function(){this.routing=_.WRITE,this.resultTransformer=void 0,this.database="",this.impersonatedUser=void 0,this.bookmarkManager=void 0,this.transactionConfig=void 0,this.auth=void 0,this.signal=void 0};var S=function(){function R(k,j,F,z,q){j===void 0&&(j={}),z===void 0&&(z=function(K){return new c.default(K)}),q===void 0&&(q=function(K){return new p.default(K)}),function(K){K.maxConnectionLifetime=A(K.maxConnectionLifetime,36e5),K.maxConnectionPoolSize=A(K.maxConnectionPoolSize,u.DEFAULT_POOL_MAX_SIZE),K.connectionAcquisitionTimeout=A(K.connectionAcquisitionTimeout,u.DEFAULT_POOL_ACQUISITION_TIMEOUT),K.fetchSize=D(K.fetchSize,1e3),K.connectionTimeout=function(oe){var J=parseInt(oe.connectionTimeout,10);return J===0||!isNaN(J)&&J<0?null:isNaN(J)?u.DEFAULT_CONNECTION_TIMEOUT_MILLIS:J}(K),K.connectionLivenessCheckTimeout=function(oe){if(oe!=null){var J=parseInt(oe,10);if(J<0||Number.isNaN(J))throw new Error("The connectionLivenessCheckTimeout can only be a positive value or 0 for always. However connectionLivenessCheckTimeout = ".concat(J));return J}}(K.connectionLivenessCheckTimeout)}(j);var $=l.Logger.create(j);(function(K,oe){var J,re,ae=K.resolver;if(ae!=null&&typeof ae!="function")throw new TypeError("Configured resolver should be a function. Got: ".concat(typeof ae));if(K.connectionAcquisitionTimeout<K.connectionTimeout&&oe.warn('Configuration for "connectionAcquisitionTimeout" should be greater than or equal to "connectionTimeout". Otherwise, the connection acquisition timeout will take precedence for over the connection timeout in scenarios where a new connection is created while it is acquired'),((J=K.notificationFilter)===null||J===void 0?void 0:J.disabledCategories)!=null&&((re=K.notificationFilter)===null||re===void 0?void 0:re.disabledClassifications)!=null)throw new Error(`The notificationFilter can't have both "disabledCategories" and  "disabledClassifications" configured at the same time.`)})(j,$),this._id=y++,this._meta=k,this._config=j,this._log=$,this._createConnectionProvider=F,this._createSession=z,this._defaultExecuteQueryBookmarkManager=(0,d.bookmarkManager)(),this._queryExecutor=q(this.session.bind(this)),this._connectionProvider=null,this._afterConstruction()}return Object.defineProperty(R.prototype,"executeQueryBookmarkManager",{get:function(){return this._defaultExecuteQueryBookmarkManager},enumerable:!1,configurable:!0}),R.prototype.executeQuery=function(k,j,F){var z,q,$;return F===void 0&&(F={}),n(this,void 0,void 0,function(){var K,oe,J;return i(this,function(re){switch(re.label){case 0:if(K=F.bookmarkManager===null?void 0:(z=F.bookmarkManager)!==null&&z!==void 0?z:this.executeQueryBookmarkManager,oe=(q=F.resultTransformer)!==null&&q!==void 0?q:v.default.eagerResultTransformer(),(J=($=F.routing)!==null&&$!==void 0?$:_.WRITE)!==_.READ&&J!==_.WRITE)throw(0,m.newError)('Illegal query routing config: "'.concat(J,'"'));return[4,this._queryExecutor.execute({resultTransformer:oe,bookmarkManager:K,routing:J,database:F.database,impersonatedUser:F.impersonatedUser,transactionConfig:F.transactionConfig,auth:F.auth,signal:F.signal},k,j)];case 1:return[2,re.sent()]}})})},R.prototype.verifyConnectivity=function(k){var j=(k===void 0?{}:k).database,F=j===void 0?"":j;return this._getOrCreateConnectionProvider().verifyConnectivityAndGetServerInfo({database:F,accessMode:w})},R.prototype.verifyAuthentication=function(k){var j=k===void 0?{}:k,F=j.database,z=j.auth;return n(this,void 0,void 0,function(){return i(this,function(q){switch(q.label){case 0:return[4,this._getOrCreateConnectionProvider().verifyAuthentication({database:F??"system",auth:z,accessMode:w})];case 1:return[2,q.sent()]}})})},R.prototype.getServerInfo=function(k){var j=(k===void 0?{}:k).database,F=j===void 0?"":j;return this._getOrCreateConnectionProvider().verifyConnectivityAndGetServerInfo({database:F,accessMode:w})},R.prototype.supportsMultiDb=function(){return this._getOrCreateConnectionProvider().supportsMultiDb()},R.prototype.supportsTransactionConfig=function(){return this._getOrCreateConnectionProvider().supportsTransactionConfig()},R.prototype.supportsUserImpersonation=function(){return this._getOrCreateConnectionProvider().supportsUserImpersonation()},R.prototype.supportsSessionAuth=function(){return this._getOrCreateConnectionProvider().supportsSessionAuth()},R.prototype.getNegotiatedProtocolVersion=function(){return this._getOrCreateConnectionProvider().getNegotiatedProtocolVersion()},R.prototype.isEncrypted=function(){return this._isEncrypted()},R.prototype._supportsRouting=function(){return this._meta.routing},R.prototype._isEncrypted=function(){return this._config.encrypted===f.ENCRYPTION_ON||this._config.encrypted===!0},R.prototype._getTrust=function(){return this._config.trust},R.prototype.session=function(k){var j=k===void 0?{}:k,F=j.defaultAccessMode,z=F===void 0?b:F,q=j.bookmarks,$=j.database,K=$===void 0?"":$,oe=j.impersonatedUser,J=j.fetchSize,re=j.bookmarkManager,ae=j.notificationFilter,ve=j.auth;return this._newSession({defaultAccessMode:z,bookmarkOrBookmarks:q,database:K,reactive:!1,impersonatedUser:oe,fetchSize:D(J,this._config.fetchSize),bookmarkManager:re,notificationFilter:ae,auth:ve})},R.prototype.close=function(){return this._log.info("Driver ".concat(this._id," closing")),this._connectionProvider!=null?this._connectionProvider.close():Promise.resolve()},R.prototype[Symbol.asyncDispose]=function(){return this.close()},R.prototype._afterConstruction=function(){this._log.info("".concat(this._meta.typename," driver ").concat(this._id," created for server address ").concat(this._meta.address.toString()))},R.prototype._newSession=function(k){var j=k.defaultAccessMode,F=k.bookmarkOrBookmarks,z=k.database,q=k.reactive,$=k.impersonatedUser,K=k.fetchSize,oe=k.bookmarkManager,J=k.notificationFilter,re=k.auth,ae=c.default._validateSessionMode(j),ve=this._getOrCreateConnectionProvider(),se=F!=null?new o.Bookmarks(F):o.Bookmarks.empty();return this._createSession({mode:ae,database:z??"",connectionProvider:ve,bookmarks:se,config:this._config,reactive:q,impersonatedUser:$,fetchSize:K,bookmarkManager:oe,notificationFilter:J,auth:re,log:this._log})},R.prototype._getOrCreateConnectionProvider=function(){var k;return this._connectionProvider==null&&(this._connectionProvider=this._createConnectionProvider(this._id,this._config,this._log,(k=this._config,new s.default(k.resolver)))),this._connectionProvider},R}();function A(R,k){var j=parseInt(R,10);return j>0||j===0?j:j<0?Number.MAX_SAFE_INTEGER:k}function D(R,k){var j=parseInt(R,10);if(j>0||j===u.FETCH_ALL)return j;if(j===0||j<0)throw new Error("The fetch size can only be a positive value or ".concat(u.FETCH_ALL," for ALL. However fetchSize = ").concat(j));return k}e.Driver=S,e.default=S},9691:function(r,e,t){var n,i=this&&this.__extends||(n=function(b,y){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,S){_.__proto__=S}||function(_,S){for(var A in S)Object.prototype.hasOwnProperty.call(S,A)&&(_[A]=S[A])},n(b,y)},function(b,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function _(){this.constructor=b}n(b,y),b.prototype=y===null?Object.create(y):(_.prototype=y.prototype,new _)}),a=this&&this.__createBinding||(Object.create?function(b,y,_,S){S===void 0&&(S=_);var A=Object.getOwnPropertyDescriptor(y,_);A&&!("get"in A?!y.__esModule:A.writable||A.configurable)||(A={enumerable:!0,get:function(){return y[_]}}),Object.defineProperty(b,S,A)}:function(b,y,_,S){S===void 0&&(S=_),b[S]=y[_]}),o=this&&this.__setModuleDefault||(Object.create?function(b,y){Object.defineProperty(b,"default",{enumerable:!0,value:y})}:function(b,y){b.default=y}),s=this&&this.__importStar||function(b){if(b&&b.__esModule)return b;var y={};if(b!=null)for(var _ in b)_!=="default"&&Object.prototype.hasOwnProperty.call(b,_)&&a(y,b,_);return o(y,b),y};Object.defineProperty(e,"__esModule",{value:!0}),e.PROTOCOL_ERROR=e.SESSION_EXPIRED=e.SERVICE_UNAVAILABLE=e.GQLError=e.Neo4jError=e.isRetriableError=e.newGQLError=e.newError=void 0;var u=s(t(4027)),l=t(1053),c={DATABASE_ERROR:"DATABASE_ERROR",CLIENT_ERROR:"CLIENT_ERROR",TRANSIENT_ERROR:"TRANSIENT_ERROR",UNKNOWN:"UNKNOWN"};Object.freeze(c);var f=Object.values(c),d="ServiceUnavailable";e.SERVICE_UNAVAILABLE=d;var v="SessionExpired";e.SESSION_EXPIRED=v,e.PROTOCOL_ERROR="ProtocolError";var p=function(b){function y(_,S,A,D,R){var k,j=this;return(j=b.call(this,_,R!=null?{cause:R}:void 0)||this).constructor=y,j.__proto__=y.prototype,j.cause=R??void 0,j.gqlStatus=S,j.gqlStatusDescription=A,j.diagnosticRecord=D,j.classification=function(F){return F===void 0||F._classification===void 0?"UNKNOWN":f.includes(F._classification)?F==null?void 0:F._classification:"UNKNOWN"}(j.diagnosticRecord),j.rawClassification=(k=D==null?void 0:D._classification)!==null&&k!==void 0?k:void 0,j.name="GQLError",j}return i(y,b),Object.defineProperty(y.prototype,"diagnosticRecordAsJsonString",{get:function(){return u.stringify(this.diagnosticRecord,{useCustomToString:!0})},enumerable:!1,configurable:!0}),y}(Error);e.GQLError=p;var m=function(b){function y(_,S,A,D,R,k){var j=b.call(this,_,A,D,R,k)||this;return j.constructor=y,j.__proto__=y.prototype,j.code=S,j.name="Neo4jError",j.retriable=function(F){return F===d||F===v||function(z){return z==="Neo.ClientError.Security.AuthorizationExpired"}(F)||function(z){return(z==null?void 0:z.includes("TransientError"))===!0}(F)}(S),j}return i(y,b),y.isRetriable=function(_){return _!=null&&_ instanceof y&&_.retriable},y}(p);e.Neo4jError=m,e.newError=function(b,y,_,S,A,D){return new m(b,y??"N/A",S??"50N42",A??"error: general processing exception - unexpected error. "+b,D??l.rawPolyfilledDiagnosticRecord,_)},e.newGQLError=function(b,y,_,S,A){return new p(b,_??"50N42",S??"error: general processing exception - unexpected error. "+b,A??l.rawPolyfilledDiagnosticRecord,y)};var w=m.isRetriable;e.isRetriableError=w},1053:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.rawPolyfilledDiagnosticRecord=void 0,e.rawPolyfilledDiagnosticRecord={OPERATION:"",OPERATION_CODE:"0",CURRENT_SCHEMA:"/"},Object.freeze(e.rawPolyfilledDiagnosticRecord)},1517:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isPathSegment=e.PathSegment=e.isPath=e.Path=e.isUnboundRelationship=e.UnboundRelationship=e.isRelationship=e.Relationship=e.isNode=e.Node=void 0;var n=t(4027),i={value:!0,enumerable:!1,configurable:!1,writable:!1},a="__isNode__",o="__isRelationship__",s="__isUnboundRelationship__",u="__isPath__",l="__isPathSegment__";function c(b,y){return b!=null&&b[y]===!0}var f=function(){function b(y,_,S,A){this.identity=y,this.labels=_,this.properties=S,this.elementId=w(A,function(){return y.toString()})}return b.prototype.toString=function(){for(var y="("+this.elementId,_=0;_<this.labels.length;_++)y+=":"+this.labels[_];var S=Object.keys(this.properties);if(S.length>0){for(y+=" {",_=0;_<S.length;_++)_>0&&(y+=","),y+=S[_]+":"+(0,n.stringify)(this.properties[S[_]]);y+="}"}return y+")"},b}();e.Node=f,Object.defineProperty(f.prototype,a,i),e.isNode=function(b){return c(b,a)};var d=function(){function b(y,_,S,A,D,R,k,j){this.identity=y,this.start=_,this.end=S,this.type=A,this.properties=D,this.elementId=w(R,function(){return y.toString()}),this.startNodeElementId=w(k,function(){return _.toString()}),this.endNodeElementId=w(j,function(){return S.toString()})}return b.prototype.toString=function(){var y="("+this.startNodeElementId+")-[:"+this.type,_=Object.keys(this.properties);if(_.length>0){y+=" {";for(var S=0;S<_.length;S++)S>0&&(y+=","),y+=_[S]+":"+(0,n.stringify)(this.properties[_[S]]);y+="}"}return y+"]->("+this.endNodeElementId+")"},b}();e.Relationship=d,Object.defineProperty(d.prototype,o,i),e.isRelationship=function(b){return c(b,o)};var v=function(){function b(y,_,S,A){this.identity=y,this.type=_,this.properties=S,this.elementId=w(A,function(){return y.toString()})}return b.prototype.bind=function(y,_){return new d(this.identity,y,_,this.type,this.properties,this.elementId)},b.prototype.bindTo=function(y,_){return new d(this.identity,y.identity,_.identity,this.type,this.properties,this.elementId,y.elementId,_.elementId)},b.prototype.toString=function(){var y="-[:"+this.type,_=Object.keys(this.properties);if(_.length>0){y+=" {";for(var S=0;S<_.length;S++)S>0&&(y+=","),y+=_[S]+":"+(0,n.stringify)(this.properties[_[S]]);y+="}"}return y+"]->"},b}();e.UnboundRelationship=v,Object.defineProperty(v.prototype,s,i),e.isUnboundRelationship=function(b){return c(b,s)};var p=function(b,y,_){this.start=b,this.relationship=y,this.end=_};e.PathSegment=p,Object.defineProperty(p.prototype,l,i),e.isPathSegment=function(b){return c(b,l)};var m=function(b,y,_){this.start=b,this.end=y,this.segments=_,this.length=_.length};function w(b,y){return b??y()}e.Path=m,Object.defineProperty(m.prototype,u,i),e.isPath=function(b){return c(b,u)}},9305:function(r,e,t){var n=this&&this.__createBinding||(Object.create?function(ce,pe,Pe,de){de===void 0&&(de=Pe);var ge=Object.getOwnPropertyDescriptor(pe,Pe);ge&&!("get"in ge?!pe.__esModule:ge.writable||ge.configurable)||(ge={enumerable:!0,get:function(){return pe[Pe]}}),Object.defineProperty(ce,de,ge)}:function(ce,pe,Pe,de){de===void 0&&(de=Pe),ce[de]=pe[Pe]}),i=this&&this.__setModuleDefault||(Object.create?function(ce,pe){Object.defineProperty(ce,"default",{enumerable:!0,value:pe})}:function(ce,pe){ce.default=pe}),a=this&&this.__importStar||function(ce){if(ce&&ce.__esModule)return ce;var pe={};if(ce!=null)for(var Pe in ce)Pe!=="default"&&Object.prototype.hasOwnProperty.call(ce,Pe)&&n(pe,ce,Pe);return i(pe,ce),pe},o=this&&this.__importDefault||function(ce){return ce&&ce.__esModule?ce:{default:ce}};Object.defineProperty(e,"__esModule",{value:!0}),e.EagerResult=e.Result=e.Stats=e.QueryStatistics=e.ProfiledPlan=e.Plan=e.GqlStatusObject=e.Notification=e.ServerInfo=e.queryType=e.ResultSummary=e.Record=e.isPathSegment=e.PathSegment=e.isPath=e.Path=e.isUnboundRelationship=e.UnboundRelationship=e.isRelationship=e.Relationship=e.isNode=e.Node=e.Time=e.LocalTime=e.LocalDateTime=e.isTime=e.isLocalTime=e.isLocalDateTime=e.isDuration=e.isDateTime=e.isDate=e.Duration=e.DateTime=e.Date=e.Point=e.isPoint=e.internal=e.toString=e.toNumber=e.inSafeRange=e.isInt=e.int=e.Integer=e.error=e.isRetriableError=e.GQLError=e.newGQLError=e.Neo4jError=e.newError=e.authTokenManagers=void 0,e.resolveCertificateProvider=e.clientCertificateProviders=e.notificationFilterMinimumSeverityLevel=e.notificationFilterDisabledClassification=e.notificationFilterDisabledCategory=e.notificationSeverityLevel=e.notificationClassification=e.notificationCategory=e.resultTransformers=e.routing=e.staticAuthTokenManager=e.bookmarkManager=e.auth=e.json=e.driver=e.types=e.Driver=e.Session=e.TransactionPromise=e.ManagedTransaction=e.Transaction=e.Connection=e.Releasable=e.ConnectionProvider=void 0;var s=t(9691);Object.defineProperty(e,"newError",{enumerable:!0,get:function(){return s.newError}}),Object.defineProperty(e,"Neo4jError",{enumerable:!0,get:function(){return s.Neo4jError}}),Object.defineProperty(e,"newGQLError",{enumerable:!0,get:function(){return s.newGQLError}}),Object.defineProperty(e,"GQLError",{enumerable:!0,get:function(){return s.GQLError}}),Object.defineProperty(e,"isRetriableError",{enumerable:!0,get:function(){return s.isRetriableError}});var u=a(t(3371));e.Integer=u.default,Object.defineProperty(e,"int",{enumerable:!0,get:function(){return u.int}}),Object.defineProperty(e,"isInt",{enumerable:!0,get:function(){return u.isInt}}),Object.defineProperty(e,"inSafeRange",{enumerable:!0,get:function(){return u.inSafeRange}}),Object.defineProperty(e,"toNumber",{enumerable:!0,get:function(){return u.toNumber}}),Object.defineProperty(e,"toString",{enumerable:!0,get:function(){return u.toString}});var l=t(5459);Object.defineProperty(e,"Date",{enumerable:!0,get:function(){return l.Date}}),Object.defineProperty(e,"DateTime",{enumerable:!0,get:function(){return l.DateTime}}),Object.defineProperty(e,"Duration",{enumerable:!0,get:function(){return l.Duration}}),Object.defineProperty(e,"isDate",{enumerable:!0,get:function(){return l.isDate}}),Object.defineProperty(e,"isDateTime",{enumerable:!0,get:function(){return l.isDateTime}}),Object.defineProperty(e,"isDuration",{enumerable:!0,get:function(){return l.isDuration}}),Object.defineProperty(e,"isLocalDateTime",{enumerable:!0,get:function(){return l.isLocalDateTime}}),Object.defineProperty(e,"isLocalTime",{enumerable:!0,get:function(){return l.isLocalTime}}),Object.defineProperty(e,"isTime",{enumerable:!0,get:function(){return l.isTime}}),Object.defineProperty(e,"LocalDateTime",{enumerable:!0,get:function(){return l.LocalDateTime}}),Object.defineProperty(e,"LocalTime",{enumerable:!0,get:function(){return l.LocalTime}}),Object.defineProperty(e,"Time",{enumerable:!0,get:function(){return l.Time}});var c=t(1517);Object.defineProperty(e,"Node",{enumerable:!0,get:function(){return c.Node}}),Object.defineProperty(e,"isNode",{enumerable:!0,get:function(){return c.isNode}}),Object.defineProperty(e,"Relationship",{enumerable:!0,get:function(){return c.Relationship}}),Object.defineProperty(e,"isRelationship",{enumerable:!0,get:function(){return c.isRelationship}}),Object.defineProperty(e,"UnboundRelationship",{enumerable:!0,get:function(){return c.UnboundRelationship}}),Object.defineProperty(e,"isUnboundRelationship",{enumerable:!0,get:function(){return c.isUnboundRelationship}}),Object.defineProperty(e,"Path",{enumerable:!0,get:function(){return c.Path}}),Object.defineProperty(e,"isPath",{enumerable:!0,get:function(){return c.isPath}}),Object.defineProperty(e,"PathSegment",{enumerable:!0,get:function(){return c.PathSegment}}),Object.defineProperty(e,"isPathSegment",{enumerable:!0,get:function(){return c.isPathSegment}});var f=o(t(4820));e.Record=f.default;var d=t(7093);Object.defineProperty(e,"isPoint",{enumerable:!0,get:function(){return d.isPoint}}),Object.defineProperty(e,"Point",{enumerable:!0,get:function(){return d.Point}});var v=a(t(6033));e.ResultSummary=v.default,Object.defineProperty(e,"queryType",{enumerable:!0,get:function(){return v.queryType}}),Object.defineProperty(e,"ServerInfo",{enumerable:!0,get:function(){return v.ServerInfo}}),Object.defineProperty(e,"Plan",{enumerable:!0,get:function(){return v.Plan}}),Object.defineProperty(e,"ProfiledPlan",{enumerable:!0,get:function(){return v.ProfiledPlan}}),Object.defineProperty(e,"QueryStatistics",{enumerable:!0,get:function(){return v.QueryStatistics}}),Object.defineProperty(e,"Stats",{enumerable:!0,get:function(){return v.Stats}});var p=a(t(1866));e.Notification=p.default,Object.defineProperty(e,"GqlStatusObject",{enumerable:!0,get:function(){return p.GqlStatusObject}}),Object.defineProperty(e,"notificationCategory",{enumerable:!0,get:function(){return p.notificationCategory}}),Object.defineProperty(e,"notificationClassification",{enumerable:!0,get:function(){return p.notificationClassification}}),Object.defineProperty(e,"notificationSeverityLevel",{enumerable:!0,get:function(){return p.notificationSeverityLevel}});var m=t(1985);Object.defineProperty(e,"notificationFilterDisabledCategory",{enumerable:!0,get:function(){return m.notificationFilterDisabledCategory}}),Object.defineProperty(e,"notificationFilterDisabledClassification",{enumerable:!0,get:function(){return m.notificationFilterDisabledClassification}}),Object.defineProperty(e,"notificationFilterMinimumSeverityLevel",{enumerable:!0,get:function(){return m.notificationFilterMinimumSeverityLevel}});var w=o(t(9512));e.Result=w.default;var b=o(t(8917));e.EagerResult=b.default;var y=a(t(2007));e.ConnectionProvider=y.default,Object.defineProperty(e,"Releasable",{enumerable:!0,get:function(){return y.Releasable}});var _=o(t(1409));e.Connection=_.default;var S=o(t(9473));e.Transaction=S.default;var A=o(t(5909));e.ManagedTransaction=A.default;var D=o(t(4569));e.TransactionPromise=D.default;var R=o(t(5481));e.Session=R.default;var k=a(t(7264)),j=k;e.Driver=k.default,e.driver=j;var F=o(t(1967));e.auth=F.default;var z=t(6755);Object.defineProperty(e,"bookmarkManager",{enumerable:!0,get:function(){return z.bookmarkManager}});var q=t(2069);Object.defineProperty(e,"authTokenManagers",{enumerable:!0,get:function(){return q.authTokenManagers}}),Object.defineProperty(e,"staticAuthTokenManager",{enumerable:!0,get:function(){return q.staticAuthTokenManager}});var $=t(7264);Object.defineProperty(e,"routing",{enumerable:!0,get:function(){return $.routing}});var K=a(t(6872));e.types=K;var oe=a(t(4027));e.json=oe;var J=o(t(1573));e.resultTransformers=J.default;var re=t(8264);Object.defineProperty(e,"clientCertificateProviders",{enumerable:!0,get:function(){return re.clientCertificateProviders}}),Object.defineProperty(e,"resolveCertificateProvider",{enumerable:!0,get:function(){return re.resolveCertificateProvider}});var ae=a(t(6995));e.internal=ae;var ve={SERVICE_UNAVAILABLE:s.SERVICE_UNAVAILABLE,SESSION_EXPIRED:s.SESSION_EXPIRED,PROTOCOL_ERROR:s.PROTOCOL_ERROR};e.error=ve;var se={authTokenManagers:q.authTokenManagers,newError:s.newError,Neo4jError:s.Neo4jError,newGQLError:s.newGQLError,GQLError:s.GQLError,isRetriableError:s.isRetriableError,error:ve,Integer:u.default,int:u.int,isInt:u.isInt,inSafeRange:u.inSafeRange,toNumber:u.toNumber,toString:u.toString,internal:ae,isPoint:d.isPoint,Point:d.Point,Date:l.Date,DateTime:l.DateTime,Duration:l.Duration,isDate:l.isDate,isDateTime:l.isDateTime,isDuration:l.isDuration,isLocalDateTime:l.isLocalDateTime,isLocalTime:l.isLocalTime,isTime:l.isTime,LocalDateTime:l.LocalDateTime,LocalTime:l.LocalTime,Time:l.Time,Node:c.Node,isNode:c.isNode,Relationship:c.Relationship,isRelationship:c.isRelationship,UnboundRelationship:c.UnboundRelationship,isUnboundRelationship:c.isUnboundRelationship,Path:c.Path,isPath:c.isPath,PathSegment:c.PathSegment,isPathSegment:c.isPathSegment,Record:f.default,ResultSummary:v.default,queryType:v.queryType,ServerInfo:v.ServerInfo,Notification:p.default,GqlStatusObject:p.GqlStatusObject,Plan:v.Plan,ProfiledPlan:v.ProfiledPlan,QueryStatistics:v.QueryStatistics,Stats:v.Stats,Result:w.default,EagerResult:b.default,Transaction:S.default,ManagedTransaction:A.default,TransactionPromise:D.default,Session:R.default,Driver:k.default,Connection:_.default,Releasable:y.Releasable,types:K,driver:j,json:oe,auth:F.default,bookmarkManager:z.bookmarkManager,routing:$.routing,resultTransformers:J.default,notificationCategory:p.notificationCategory,notificationClassification:p.notificationClassification,notificationSeverityLevel:p.notificationSeverityLevel,notificationFilterDisabledCategory:m.notificationFilterDisabledCategory,notificationFilterDisabledClassification:m.notificationFilterDisabledClassification,notificationFilterMinimumSeverityLevel:m.notificationFilterMinimumSeverityLevel,clientCertificateProviders:re.clientCertificateProviders,resolveCertificateProvider:re.resolveCertificateProvider};e.default=se},3371:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.toString=e.toNumber=e.inSafeRange=e.isInt=e.int=void 0;var n=t(9691),i=new Map,a=function(){function m(w,b){this.low=w??0,this.high=b??0}return m.prototype.inSafeRange=function(){return this.greaterThanOrEqual(m.MIN_SAFE_VALUE)&&this.lessThanOrEqual(m.MAX_SAFE_VALUE)},m.prototype.toInt=function(){return this.low},m.prototype.toNumber=function(){return this.high*s+(this.low>>>0)},m.prototype.toBigInt=function(){if(this.isZero())return BigInt(0);if(this.isPositive())return BigInt(this.high>>>0)*BigInt(s)+BigInt(this.low>>>0);var w=this.negate();return BigInt(-1)*(BigInt(w.high>>>0)*BigInt(s)+BigInt(w.low>>>0))},m.prototype.toNumberOrInfinity=function(){return this.lessThan(m.MIN_SAFE_VALUE)?Number.NEGATIVE_INFINITY:this.greaterThan(m.MAX_SAFE_VALUE)?Number.POSITIVE_INFINITY:this.toNumber()},m.prototype.toString=function(w){if((w=w??10)<2||w>36)throw RangeError("radix out of range: "+w.toString());if(this.isZero())return"0";var b;if(this.isNegative()){if(this.equals(m.MIN_VALUE)){var y=m.fromNumber(w),_=this.div(y);return b=_.multiply(y).subtract(this),_.toString(w)+b.toInt().toString(w)}return"-"+this.negate().toString(w)}var S=m.fromNumber(Math.pow(w,6));b=this;for(var A="";;){var D=b.div(S),R=(b.subtract(D.multiply(S)).toInt()>>>0).toString(w);if((b=D).isZero())return R+A;for(;R.length<6;)R="0"+R;A=""+R+A}},m.prototype.valueOf=function(){return this.toBigInt()},m.prototype.getHighBits=function(){return this.high},m.prototype.getLowBits=function(){return this.low},m.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(m.MIN_VALUE)?64:this.negate().getNumBitsAbs();var w=this.high!==0?this.high:this.low,b=0;for(b=31;b>0&&(w&1<<b)==0;b--);return this.high!==0?b+33:b+1},m.prototype.isZero=function(){return this.high===0&&this.low===0},m.prototype.isNegative=function(){return this.high<0},m.prototype.isPositive=function(){return this.high>=0},m.prototype.isOdd=function(){return(1&this.low)==1},m.prototype.isEven=function(){return(1&this.low)==0},m.prototype.equals=function(w){var b=m.fromValue(w);return this.high===b.high&&this.low===b.low},m.prototype.notEquals=function(w){return!this.equals(w)},m.prototype.lessThan=function(w){return this.compare(w)<0},m.prototype.lessThanOrEqual=function(w){return this.compare(w)<=0},m.prototype.greaterThan=function(w){return this.compare(w)>0},m.prototype.greaterThanOrEqual=function(w){return this.compare(w)>=0},m.prototype.compare=function(w){var b=m.fromValue(w);if(this.equals(b))return 0;var y=this.isNegative(),_=b.isNegative();return y&&!_?-1:!y&&_?1:this.subtract(b).isNegative()?-1:1},m.prototype.negate=function(){return this.equals(m.MIN_VALUE)?m.MIN_VALUE:this.not().add(m.ONE)},m.prototype.add=function(w){var b=m.fromValue(w),y=this.high>>>16,_=65535&this.high,S=this.low>>>16,A=65535&this.low,D=b.high>>>16,R=65535&b.high,k=b.low>>>16,j=0,F=0,z=0,q=0;return z+=(q+=A+(65535&b.low))>>>16,q&=65535,F+=(z+=S+k)>>>16,z&=65535,j+=(F+=_+R)>>>16,F&=65535,j+=y+D,j&=65535,m.fromBits(z<<16|q,j<<16|F)},m.prototype.subtract=function(w){var b=m.fromValue(w);return this.add(b.negate())},m.prototype.multiply=function(w){if(this.isZero())return m.ZERO;var b=m.fromValue(w);if(b.isZero())return m.ZERO;if(this.equals(m.MIN_VALUE))return b.isOdd()?m.MIN_VALUE:m.ZERO;if(b.equals(m.MIN_VALUE))return this.isOdd()?m.MIN_VALUE:m.ZERO;if(this.isNegative())return b.isNegative()?this.negate().multiply(b.negate()):this.negate().multiply(b).negate();if(b.isNegative())return this.multiply(b.negate()).negate();if(this.lessThan(l)&&b.lessThan(l))return m.fromNumber(this.toNumber()*b.toNumber());var y=this.high>>>16,_=65535&this.high,S=this.low>>>16,A=65535&this.low,D=b.high>>>16,R=65535&b.high,k=b.low>>>16,j=65535&b.low,F=0,z=0,q=0,$=0;return q+=($+=A*j)>>>16,$&=65535,z+=(q+=S*j)>>>16,q&=65535,z+=(q+=A*k)>>>16,q&=65535,F+=(z+=_*j)>>>16,z&=65535,F+=(z+=S*k)>>>16,z&=65535,F+=(z+=A*R)>>>16,z&=65535,F+=y*j+_*k+S*R+A*D,F&=65535,m.fromBits(q<<16|$,F<<16|z)},m.prototype.div=function(w){var b,y,_,S=m.fromValue(w);if(S.isZero())throw(0,n.newError)("division by zero");if(this.isZero())return m.ZERO;if(this.equals(m.MIN_VALUE))return S.equals(m.ONE)||S.equals(m.NEG_ONE)?m.MIN_VALUE:S.equals(m.MIN_VALUE)?m.ONE:(b=this.shiftRight(1).div(S).shiftLeft(1)).equals(m.ZERO)?S.isNegative()?m.ONE:m.NEG_ONE:(y=this.subtract(S.multiply(b)),_=b.add(y.div(S)));if(S.equals(m.MIN_VALUE))return m.ZERO;if(this.isNegative())return S.isNegative()?this.negate().div(S.negate()):this.negate().div(S).negate();if(S.isNegative())return this.div(S.negate()).negate();for(_=m.ZERO,y=this;y.greaterThanOrEqual(S);){b=Math.max(1,Math.floor(y.toNumber()/S.toNumber()));for(var A=Math.ceil(Math.log(b)/Math.LN2),D=A<=48?1:Math.pow(2,A-48),R=m.fromNumber(b),k=R.multiply(S);k.isNegative()||k.greaterThan(y);)b-=D,k=(R=m.fromNumber(b)).multiply(S);R.isZero()&&(R=m.ONE),_=_.add(R),y=y.subtract(k)}return _},m.prototype.modulo=function(w){var b=m.fromValue(w);return this.subtract(this.div(b).multiply(b))},m.prototype.not=function(){return m.fromBits(~this.low,~this.high)},m.prototype.and=function(w){var b=m.fromValue(w);return m.fromBits(this.low&b.low,this.high&b.high)},m.prototype.or=function(w){var b=m.fromValue(w);return m.fromBits(this.low|b.low,this.high|b.high)},m.prototype.xor=function(w){var b=m.fromValue(w);return m.fromBits(this.low^b.low,this.high^b.high)},m.prototype.shiftLeft=function(w){var b=m.toNumber(w);return(b&=63)==0?m.ZERO:b<32?m.fromBits(this.low<<b,this.high<<b|this.low>>>32-b):m.fromBits(0,this.low<<b-32)},m.prototype.shiftRight=function(w){var b=m.toNumber(w),y=m.toNumber(w);return(b&=63)==0?m.ZERO:y<32?m.fromBits(this.low>>>b|this.high<<32-b,this.high>>b):m.fromBits(this.high>>b-32,this.high>=0?0:-1)},m.isInteger=function(w){return(w==null?void 0:w.__isInteger__)===!0},m.fromInt=function(w){var b;if((w|=0)>=-128&&w<128&&(b=i.get(w))!=null)return b;var y=new m(w,w<0?-1:0);return w>=-128&&w<128&&i.set(w,y),y},m.fromBits=function(w,b){return new m(w,b)},m.fromNumber=function(w){return isNaN(w)||!isFinite(w)?m.ZERO:w<=-u?m.MIN_VALUE:w+1>=u?m.MAX_VALUE:w<0?m.fromNumber(-w).negate():new m(w%s|0,w/s|0)},m.fromString=function(w,b,y){var _,S=(y===void 0?{}:y).strictStringValidation;if(w.length===0)throw(0,n.newError)("number format error: empty string");if(w==="NaN"||w==="Infinity"||w==="+Infinity"||w==="-Infinity")return m.ZERO;if((b=b??10)<2||b>36)throw(0,n.newError)("radix out of range: "+b.toString());if((_=w.indexOf("-"))>0)throw(0,n.newError)('number format error: interior "-" character: '+w);if(_===0)return m.fromString(w.substring(1),b).negate();for(var A=m.fromNumber(Math.pow(b,8)),D=m.ZERO,R=0;R<w.length;R+=8){var k=Math.min(8,w.length-R),j=w.substring(R,R+k),F=parseInt(j,b);if(S===!0&&!o(j,F,b))throw(0,n.newError)('number format error: "'.concat(j,'" is NaN in radix ').concat(b,": ").concat(w));if(k<8){var z=m.fromNumber(Math.pow(b,k));D=D.multiply(z).add(m.fromNumber(F))}else D=(D=D.multiply(A)).add(m.fromNumber(F))}return D},m.fromValue=function(w,b){return b===void 0&&(b={}),w instanceof m?w:typeof w=="number"?(b.ceilFloat===!0&&(w=Math.ceil(w)),m.fromNumber(w)):typeof w=="string"?m.fromString(w,void 0,b):typeof w=="bigint"?m.fromString(w.toString()):new m(w.low,w.high)},m.toNumber=function(w){switch(typeof w){case"number":return w;case"bigint":return Number(w);default:return m.fromValue(w).toNumber()}},m.toString=function(w,b){return m.fromValue(w).toString(b)},m.inSafeRange=function(w){return m.fromValue(w).inSafeRange()},m.ZERO=m.fromInt(0),m.ONE=m.fromInt(1),m.NEG_ONE=m.fromInt(-1),m.MAX_VALUE=m.fromBits(-1,2147483647),m.MIN_VALUE=m.fromBits(0,-2147483648),m.MIN_SAFE_VALUE=m.fromBits(1,-2097152),m.MAX_SAFE_VALUE=m.fromBits(-1,2097151),m.__isInteger__=!0,m}();function o(m,w,b){return!Number.isNaN(m)&&!Number.isNaN(w)&&function(y,_,S){var A=y.toString(_),D=Math.max(S-A.length,0),R="0".repeat(D);return"".concat(R).concat(A)}(w,b,m.length)===m.toLowerCase()}Object.defineProperty(a.prototype,"__isInteger__",{value:!0,enumerable:!1,configurable:!1});var s=4294967296,u=s*s/2,l=a.fromInt(1<<24),c=a.fromValue;e.int=c;var f=a.isInteger;e.isInt=f;var d=a.inSafeRange;e.inSafeRange=d;var v=a.toNumber;e.toNumber=v;var p=a.toString;e.toString=p,e.default=a},5837:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.fromVersion=void 0,e.fromVersion=function(t,n){n===void 0&&(n=function(){return{get userAgent(){}}});var i=n(),a=i.userAgent!=null?i.userAgent.split("(")[1].split(")")[0]:void 0,o=i.userAgent||void 0;return{product:"neo4j-javascript/".concat(t),platform:a,languageDetails:o}}},3488:function(r,e,t){var n=this&&this.__createBinding||(Object.create?function(a,o,s,u){u===void 0&&(u=s);var l=Object.getOwnPropertyDescriptor(o,s);l&&!("get"in l?!o.__esModule:l.writable||l.configurable)||(l={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(a,u,l)}:function(a,o,s,u){u===void 0&&(u=s),a[u]=o[s]}),i=this&&this.__exportStar||function(a,o){for(var s in a)s==="default"||Object.prototype.hasOwnProperty.call(o,s)||n(o,a,s)};Object.defineProperty(e,"__esModule",{value:!0}),i(t(5837),e)},9730:function(r,e,t){var n=this&&this.__createBinding||(Object.create?function(d,v,p,m){m===void 0&&(m=p);var w=Object.getOwnPropertyDescriptor(v,p);w&&!("get"in w?!v.__esModule:w.writable||w.configurable)||(w={enumerable:!0,get:function(){return v[p]}}),Object.defineProperty(d,m,w)}:function(d,v,p,m){m===void 0&&(m=p),d[m]=v[p]}),i=this&&this.__setModuleDefault||(Object.create?function(d,v){Object.defineProperty(d,"default",{enumerable:!0,value:v})}:function(d,v){d.default=v}),a=this&&this.__importStar||function(d){if(d&&d.__esModule)return d;var v={};if(d!=null)for(var p in d)p!=="default"&&Object.prototype.hasOwnProperty.call(d,p)&&n(v,d,p);return i(v,d),v},o=this&&this.__read||function(d,v){var p=typeof Symbol=="function"&&d[Symbol.iterator];if(!p)return d;var m,w,b=p.call(d),y=[];try{for(;(v===void 0||v-- >0)&&!(m=b.next()).done;)y.push(m.value)}catch(_){w={error:_}}finally{try{m&&!m.done&&(p=b.return)&&p.call(b)}finally{if(w)throw w.error}}return y},s=this&&this.__spreadArray||function(d,v,p){if(p||arguments.length===2)for(var m,w=0,b=v.length;w<b;w++)!m&&w in v||(m||(m=Array.prototype.slice.call(v,0,w)),m[w]=v[w]);return d.concat(m||Array.prototype.slice.call(v))};Object.defineProperty(e,"__esModule",{value:!0}),e.Bookmarks=void 0;var u=a(t(6587)),l=function(){function d(v){this._values=function(p){if(p==null||p==="")return[];if(u.isString(p))return[p];if(Array.isArray(p)){for(var m=new Set,w=f(p),b=0;b<w.length;b++){var y=w[b];if(y!=null){if(!u.isString(y))throw new TypeError("Bookmark value should be a string, given: '".concat(y,"'"));m.add(y)}}return s([],o(m),!1)}throw new TypeError("Bookmarks should either be a string or a string array, given: '".concat(p,"'"))}(v)}return d.empty=function(){return c},d.prototype.isEmpty=function(){return this._values.length===0},d.prototype.values=function(){return this._values},d.prototype[Symbol.iterator]=function(){return this._values[Symbol.iterator]()},d.prototype.asBeginTransactionParameters=function(){var v;return this.isEmpty()?{}:((v={}).bookmarks=this._values,v)},d}();e.Bookmarks=l;var c=new l(null);function f(d){return d.reduce(function(v,p){return Array.isArray(p)?v.concat(f(p)):v.concat(p)},[])}},3618:function(r,e,t){var n,i=this&&this.__extends||(n=function(w,b){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,_){y.__proto__=_}||function(y,_){for(var S in _)Object.prototype.hasOwnProperty.call(_,S)&&(y[S]=_[S])},n(w,b)},function(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function y(){this.constructor=w}n(w,b),w.prototype=b===null?Object.create(b):(y.prototype=b.prototype,new y)}),a=this&&this.__awaiter||function(w,b,y,_){return new(y||(y=Promise))(function(S,A){function D(j){try{k(_.next(j))}catch(F){A(F)}}function R(j){try{k(_.throw(j))}catch(F){A(F)}}function k(j){var F;j.done?S(j.value):(F=j.value,F instanceof y?F:new y(function(z){z(F)})).then(D,R)}k((_=_.apply(w,b||[])).next())})},o=this&&this.__generator||function(w,b){var y,_,S,A,D={label:0,sent:function(){if(1&S[0])throw S[1];return S[1]},trys:[],ops:[]};return A={next:R(0),throw:R(1),return:R(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function R(k){return function(j){return function(F){if(y)throw new TypeError("Generator is already executing.");for(;A&&(A=0,F[0]&&(D=0)),D;)try{if(y=1,_&&(S=2&F[0]?_.return:F[0]?_.throw||((S=_.return)&&S.call(_),0):_.next)&&!(S=S.call(_,F[1])).done)return S;switch(_=0,S&&(F=[2&F[0],S.value]),F[0]){case 0:case 1:S=F;break;case 4:return D.label++,{value:F[1],done:!1};case 5:D.label++,_=F[1],F=[0];continue;case 7:F=D.ops.pop(),D.trys.pop();continue;default:if(!((S=(S=D.trys).length>0&&S[S.length-1])||F[0]!==6&&F[0]!==2)){D=0;continue}if(F[0]===3&&(!S||F[1]>S[0]&&F[1]<S[3])){D.label=F[1];break}if(F[0]===6&&D.label<S[1]){D.label=S[1],S=F;break}if(S&&D.label<S[2]){D.label=S[2],D.ops.push(F);break}S[2]&&D.ops.pop(),D.trys.pop();continue}F=b.call(w,D)}catch(z){F=[6,z],_=0}finally{y=S=0}if(5&F[0])throw F[1];return{value:F[0]?F[1]:void 0,done:!0}}([k,j])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.EMPTY_CONNECTION_HOLDER=e.ReadOnlyConnectionHolder=e.ConnectionHolder=void 0;var s=t(9691),u=t(6587),l=t(326),c=t(9730),f=t(4883),d=function(){function w(b){var y=b.mode,_=b.database,S=_===void 0?"":_,A=b.bookmarks,D=b.connectionProvider,R=b.impersonatedUser,k=b.onDatabaseNameResolved,j=b.getConnectionAcquistionBookmarks,F=b.auth,z=b.log;this._mode=y??l.ACCESS_MODE_WRITE,this._closed=!1,this._database=S!=null?(0,u.assertString)(S,"database"):"",this._bookmarks=A??c.Bookmarks.empty(),this._connectionProvider=D,this._impersonatedUser=R,this._referenceCount=0,this._connectionPromise=Promise.resolve(null),this._onDatabaseNameResolved=k,this._auth=F,this._log=z,this._logError=this._logError.bind(this),this._getConnectionAcquistionBookmarks=j??function(){return Promise.resolve(c.Bookmarks.empty())}}return w.prototype.mode=function(){return this._mode},w.prototype.database=function(){return this._database},w.prototype.setDatabase=function(b){this._database=b},w.prototype.bookmarks=function(){return this._bookmarks},w.prototype.connectionProvider=function(){return this._connectionProvider},w.prototype.referenceCount=function(){return this._referenceCount},w.prototype.initializeConnection=function(){return this._referenceCount!==0||this._connectionProvider==null?(this._referenceCount++,!1):(this._connectionPromise=this._createConnectionPromise(this._connectionProvider),this._referenceCount++,!0)},w.prototype._createConnectionPromise=function(b){return a(this,void 0,void 0,function(){var y,_,S;return o(this,function(A){switch(A.label){case 0:return _=(y=b).acquireConnection,S={accessMode:this._mode,database:this._database},[4,this._getBookmarks()];case 1:return[4,_.apply(y,[(S.bookmarks=A.sent(),S.impersonatedUser=this._impersonatedUser,S.onDatabaseNameResolved=this._onDatabaseNameResolved,S.auth=this._auth,S)])];case 2:return[2,A.sent()]}})})},w.prototype._getBookmarks=function(){return a(this,void 0,void 0,function(){return o(this,function(b){switch(b.label){case 0:return[4,this._getConnectionAcquistionBookmarks()];case 1:return[2,b.sent()]}})})},w.prototype.getConnection=function(){return this._connectionPromise},w.prototype.releaseConnection=function(){return this._referenceCount===0?this._connectionPromise:(this._referenceCount--,this._referenceCount===0?this._releaseConnection():this._connectionPromise)},w.prototype.close=function(b){return this._closed=!0,this._referenceCount===0?this._connectionPromise:(this._referenceCount=0,this._releaseConnection(b))},w.prototype.log=function(){return this._log},w.prototype._releaseConnection=function(b){return this._connectionPromise=this._connectionPromise.then(function(y){return y!=null?y.isOpen()&&(y.hasOngoingObservableRequests()||b===!0)?y.resetAndFlush().catch(m).then(function(){return y.release().then(function(){return null})}):y.release().then(function(){return null}):Promise.resolve(null)}).catch(this._logError),this._connectionPromise},w.prototype._logError=function(b){return this._log.isWarnEnabled()&&this._log.warn("ConnectionHolder got an error while releasing the connection. Error ".concat(b,". Stacktrace: ").concat(b.stack)),null},w}();e.ConnectionHolder=d;var v=function(w){function b(y){var _=w.call(this,{mode:y.mode(),database:y.database(),bookmarks:y.bookmarks(),getConnectionAcquistionBookmarks:y._getConnectionAcquistionBookmarks,connectionProvider:y.connectionProvider(),log:y.log()})||this;return _._connectionHolder=y,_}return i(b,w),b.prototype.initializeConnection=function(){return this._connectionHolder.referenceCount()!==0},b.prototype.getConnection=function(){return this._connectionHolder.getConnection()},b.prototype.releaseConnection=function(){return this._connectionHolder.getConnection().catch(function(){return Promise.resolve(null)})},b.prototype.close=function(){return this._connectionHolder.getConnection().catch(function(){return Promise.resolve(null)})},b}(d);e.ReadOnlyConnectionHolder=v,e.default=v;var p=new(function(w){function b(){return w.call(this,{log:f.Logger.create({})})||this}return i(b,w),b.prototype.mode=function(){},b.prototype.database=function(){},b.prototype.initializeConnection=function(){return!0},b.prototype.getConnection=function(){return a(this,void 0,void 0,function(){return o(this,function(y){switch(y.label){case 0:return[4,Promise.reject((0,s.newError)("This connection holder does not serve connections"))];case 1:return[2,y.sent()]}})})},b.prototype.releaseConnection=function(){return a(this,void 0,void 0,function(){return o(this,function(y){switch(y.label){case 0:return[4,Promise.resolve(null)];case 1:return[2,y.sent()]}})})},b.prototype.close=function(){return a(this,void 0,void 0,function(){return o(this,function(y){switch(y.label){case 0:return[4,Promise.resolve(null)];case 1:return[2,y.sent()]}})})},b}(d));function m(w){return null}e.EMPTY_CONNECTION_HOLDER=p},326:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TELEMETRY_APIS=e.BOLT_PROTOCOL_V5_7=e.BOLT_PROTOCOL_V5_6=e.BOLT_PROTOCOL_V5_5=e.BOLT_PROTOCOL_V5_4=e.BOLT_PROTOCOL_V5_3=e.BOLT_PROTOCOL_V5_2=e.BOLT_PROTOCOL_V5_1=e.BOLT_PROTOCOL_V5_0=e.BOLT_PROTOCOL_V4_4=e.BOLT_PROTOCOL_V4_3=e.BOLT_PROTOCOL_V4_2=e.BOLT_PROTOCOL_V4_1=e.BOLT_PROTOCOL_V4_0=e.BOLT_PROTOCOL_V3=e.BOLT_PROTOCOL_V2=e.BOLT_PROTOCOL_V1=e.DEFAULT_POOL_MAX_SIZE=e.DEFAULT_POOL_ACQUISITION_TIMEOUT=e.DEFAULT_CONNECTION_TIMEOUT_MILLIS=e.ACCESS_MODE_WRITE=e.ACCESS_MODE_READ=e.FETCH_ALL=void 0,e.FETCH_ALL=-1,e.DEFAULT_POOL_ACQUISITION_TIMEOUT=6e4,e.DEFAULT_POOL_MAX_SIZE=100,e.DEFAULT_CONNECTION_TIMEOUT_MILLIS=3e4,e.ACCESS_MODE_READ="READ",e.ACCESS_MODE_WRITE="WRITE",e.BOLT_PROTOCOL_V1=1,e.BOLT_PROTOCOL_V2=2,e.BOLT_PROTOCOL_V3=3,e.BOLT_PROTOCOL_V4_0=4,e.BOLT_PROTOCOL_V4_1=4.1,e.BOLT_PROTOCOL_V4_2=4.2,e.BOLT_PROTOCOL_V4_3=4.3,e.BOLT_PROTOCOL_V4_4=4.4,e.BOLT_PROTOCOL_V5_0=5,e.BOLT_PROTOCOL_V5_1=5.1,e.BOLT_PROTOCOL_V5_2=5.2,e.BOLT_PROTOCOL_V5_3=5.3,e.BOLT_PROTOCOL_V5_4=5.4,e.BOLT_PROTOCOL_V5_5=5.5,e.BOLT_PROTOCOL_V5_6=5.6,e.BOLT_PROTOCOL_V5_7=5.7,e.TELEMETRY_APIS={MANAGED_TRANSACTION:0,UNMANAGED_TRANSACTION:1,AUTO_COMMIT_TRANSACTION:2,EXECUTE_QUERY:3}},6995:function(r,e,t){var n=this&&this.__createBinding||(Object.create?function(A,D,R,k){k===void 0&&(k=R);var j=Object.getOwnPropertyDescriptor(D,R);j&&!("get"in j?!D.__esModule:j.writable||j.configurable)||(j={enumerable:!0,get:function(){return D[R]}}),Object.defineProperty(A,k,j)}:function(A,D,R,k){k===void 0&&(k=R),A[k]=D[R]}),i=this&&this.__setModuleDefault||(Object.create?function(A,D){Object.defineProperty(A,"default",{enumerable:!0,value:D})}:function(A,D){A.default=D}),a=this&&this.__importStar||function(A){if(A&&A.__esModule)return A;var D={};if(A!=null)for(var R in A)R!=="default"&&Object.prototype.hasOwnProperty.call(A,R)&&n(D,A,R);return i(D,A),D};Object.defineProperty(e,"__esModule",{value:!0}),e.pool=e.boltAgent=e.objectUtil=e.resolver=e.serverAddress=e.urlUtil=e.logger=e.transactionExecutor=e.txConfig=e.connectionHolder=e.constants=e.bookmarks=e.observer=e.temporalUtil=e.util=void 0;var o=a(t(6587));e.util=o;var s=a(t(5022));e.temporalUtil=s;var u=a(t(2696));e.observer=u;var l=a(t(9730));e.bookmarks=l;var c=a(t(326));e.constants=c;var f=a(t(3618));e.connectionHolder=f;var d=a(t(754));e.txConfig=d;var v=a(t(6189));e.transactionExecutor=v;var p=a(t(4883));e.logger=p;var m=a(t(407));e.urlUtil=m;var w=a(t(7509));e.serverAddress=w;var b=a(t(9470));e.resolver=b;var y=a(t(93));e.objectUtil=y;var _=a(t(3488));e.boltAgent=_;var S=a(t(2906));e.pool=S},4883:function(r,e,t){var n,i,a=this&&this.__extends||(n=function(w,b){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,_){y.__proto__=_}||function(y,_){for(var S in _)Object.prototype.hasOwnProperty.call(_,S)&&(y[S]=_[S])},n(w,b)},function(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function y(){this.constructor=w}n(w,b),w.prototype=b===null?Object.create(b):(y.prototype=b.prototype,new y)});Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=void 0;var o=t(9691),s="error",u="warn",l="info",c="debug",f=l,d=((i={})[s]=0,i[u]=1,i[l]=2,i[c]=3,i),v=function(){function w(b,y){this._level=b,this._loggerFunction=y}return w.create=function(b){if((b==null?void 0:b.logging)!=null){var y=b.logging,_=function(A){if((A==null?void 0:A.level)!=null){var D=A.level,R=d[D];if(R==null&&R!==0)throw(0,o.newError)("Illegal logging level: ".concat(D,". Supported levels are: ").concat(Object.keys(d).toString()));return D}return f}(y),S=function(A){var D,R;if((A==null?void 0:A.logger)!=null){var k=A.logger;if(k!=null&&typeof k=="function")return k}throw(0,o.newError)("Illegal logger function: ".concat((R=(D=A==null?void 0:A.logger)===null||D===void 0?void 0:D.toString())!==null&&R!==void 0?R:"undefined"))}(y);return new w(_,S)}return this.noOp()},w.noOp=function(){return p},w.prototype.isErrorEnabled=function(){return m(this._level,s)},w.prototype.error=function(b){this.isErrorEnabled()&&this._loggerFunction(s,b)},w.prototype.isWarnEnabled=function(){return m(this._level,u)},w.prototype.warn=function(b){this.isWarnEnabled()&&this._loggerFunction(u,b)},w.prototype.isInfoEnabled=function(){return m(this._level,l)},w.prototype.info=function(b){this.isInfoEnabled()&&this._loggerFunction(l,b)},w.prototype.isDebugEnabled=function(){return m(this._level,c)},w.prototype.debug=function(b){this.isDebugEnabled()&&this._loggerFunction(c,b)},w}();e.Logger=v;var p=new(function(w){function b(){return w.call(this,l,function(y,_){})||this}return a(b,w),b.prototype.isErrorEnabled=function(){return!1},b.prototype.error=function(y){},b.prototype.isWarnEnabled=function(){return!1},b.prototype.warn=function(y){},b.prototype.isInfoEnabled=function(){return!1},b.prototype.info=function(y){},b.prototype.isDebugEnabled=function(){return!1},b.prototype.debug=function(y){},b}(v));function m(w,b){return d[w]>=d[b]}},93:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getBrokenObjectReason=e.isBrokenObject=e.createBrokenObject=void 0;var t="__isBrokenObject__",n="__reason__";e.createBrokenObject=function(i,a){a===void 0&&(a={});var o=function(){throw i};return new Proxy(a,{get:function(s,u){return u===t||(u===n?i:void(u!=="toJSON"&&o()))},set:o,apply:o,construct:o,defineProperty:o,deleteProperty:o,getOwnPropertyDescriptor:o,getPrototypeOf:o,has:o,isExtensible:o,ownKeys:o,preventExtensions:o,setPrototypeOf:o})},e.isBrokenObject=function(i){return i!==null&&typeof i=="object"&&i[t]===!0},e.getBrokenObjectReason=function(i){return i[n]}},2696:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FailedObserver=e.CompletedObserver=void 0;var t=function(){function a(){}return a.prototype.subscribe=function(o){i(o,o.onKeys,[]),i(o,o.onCompleted,{})},a.prototype.cancel=function(){},a.prototype.pause=function(){},a.prototype.resume=function(){},a.prototype.prepareToHandleSingleResponse=function(){},a.prototype.markCompleted=function(){},a.prototype.onError=function(o){throw new Error("CompletedObserver not supposed to call onError",{cause:o})},a}();e.CompletedObserver=t;var n=function(){function a(o){var s=o.error,u=o.onError;this._error=s,this._beforeError=u,this._observers=[],this.onError(s)}return a.prototype.subscribe=function(o){i(o,o.onError,this._error),this._observers.push(o)},a.prototype.onError=function(o){i(this,this._beforeError,o),this._observers.forEach(function(s){return i(s,s.onError,o)})},a.prototype.cancel=function(){},a.prototype.pause=function(){},a.prototype.resume=function(){},a.prototype.markCompleted=function(){},a.prototype.prepareToHandleSingleResponse=function(){},a}();function i(a,o,s){o!=null&&o.bind(a)(s)}e.FailedObserver=n},2906:function(r,e,t){var n=this&&this.__createBinding||(Object.create?function(l,c,f,d){d===void 0&&(d=f);var v=Object.getOwnPropertyDescriptor(c,f);v&&!("get"in v?!c.__esModule:v.writable||v.configurable)||(v={enumerable:!0,get:function(){return c[f]}}),Object.defineProperty(l,d,v)}:function(l,c,f,d){d===void 0&&(d=f),l[d]=c[f]}),i=this&&this.__setModuleDefault||(Object.create?function(l,c){Object.defineProperty(l,"default",{enumerable:!0,value:c})}:function(l,c){l.default=c}),a=this&&this.__importStar||function(l){if(l&&l.__esModule)return l;var c={};if(l!=null)for(var f in l)f!=="default"&&Object.prototype.hasOwnProperty.call(l,f)&&n(c,l,f);return i(c,l),c},o=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_MAX_SIZE=e.DEFAULT_ACQUISITION_TIMEOUT=e.PoolConfig=e.Pool=void 0;var s=a(t(7589));e.PoolConfig=s.default,Object.defineProperty(e,"DEFAULT_ACQUISITION_TIMEOUT",{enumerable:!0,get:function(){return s.DEFAULT_ACQUISITION_TIMEOUT}}),Object.defineProperty(e,"DEFAULT_MAX_SIZE",{enumerable:!0,get:function(){return s.DEFAULT_MAX_SIZE}});var u=o(t(6842));e.Pool=u.default,e.default=u.default},7589:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_ACQUISITION_TIMEOUT=e.DEFAULT_MAX_SIZE=void 0;var t=100;e.DEFAULT_MAX_SIZE=t;var n=6e4;e.DEFAULT_ACQUISITION_TIMEOUT=n;var i=function(){function s(u,l){this.maxSize=a(u,t),this.acquisitionTimeout=a(l,n)}return s.defaultConfig=function(){return new s(t,n)},s.fromDriverConfig=function(u){return new s(o(u.maxConnectionPoolSize)?u.maxConnectionPoolSize:t,o(u.connectionAcquisitionTimeout)?u.connectionAcquisitionTimeout:n)},s}();function a(s,u){return o(s)?s:u}function o(s){return s===0||s!=null}e.default=i},6842:function(r,e,t){var n=this&&this.__awaiter||function(p,m,w,b){return new(w||(w=Promise))(function(y,_){function S(R){try{D(b.next(R))}catch(k){_(k)}}function A(R){try{D(b.throw(R))}catch(k){_(k)}}function D(R){var k;R.done?y(R.value):(k=R.value,k instanceof w?k:new w(function(j){j(k)})).then(S,A)}D((b=b.apply(p,m||[])).next())})},i=this&&this.__generator||function(p,m){var w,b,y,_,S={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return _={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function A(D){return function(R){return function(k){if(w)throw new TypeError("Generator is already executing.");for(;_&&(_=0,k[0]&&(S=0)),S;)try{if(w=1,b&&(y=2&k[0]?b.return:k[0]?b.throw||((y=b.return)&&y.call(b),0):b.next)&&!(y=y.call(b,k[1])).done)return y;switch(b=0,y&&(k=[2&k[0],y.value]),k[0]){case 0:case 1:y=k;break;case 4:return S.label++,{value:k[1],done:!1};case 5:S.label++,b=k[1],k=[0];continue;case 7:k=S.ops.pop(),S.trys.pop();continue;default:if(!((y=(y=S.trys).length>0&&y[y.length-1])||k[0]!==6&&k[0]!==2)){S=0;continue}if(k[0]===3&&(!y||k[1]>y[0]&&k[1]<y[3])){S.label=k[1];break}if(k[0]===6&&S.label<y[1]){S.label=y[1],y=k;break}if(y&&S.label<y[2]){S.label=y[2],S.ops.push(k);break}y[2]&&S.ops.pop(),S.trys.pop();continue}k=m.call(p,S)}catch(j){k=[6,j],b=0}finally{w=y=0}if(5&k[0])throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}([D,R])}}},a=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(e,"__esModule",{value:!0});var o=a(t(7589)),s=t(9691),u=t(4883),l=function(){function p(m){var w=m.create,b=w===void 0?function(re,ae,ve){return n(J,void 0,void 0,function(){return i(this,function(se){switch(se.label){case 0:return[4,Promise.reject(new Error("Not implemented"))];case 1:return[2,se.sent()]}})})}:w,y=m.destroy,_=y===void 0?function(re){return n(J,void 0,void 0,function(){return i(this,function(ae){switch(ae.label){case 0:return[4,Promise.resolve()];case 1:return[2,ae.sent()]}})})}:y,S=m.validateOnAcquire,A=S===void 0?function(re,ae){return!0}:S,D=m.validateOnRelease,R=D===void 0?function(re){return!0}:D,k=m.installIdleObserver,j=k===void 0?function(re,ae){}:k,F=m.removeIdleObserver,z=F===void 0?function(re){}:F,q=m.config,$=q===void 0?o.default.defaultConfig():q,K=m.log,oe=K===void 0?u.Logger.noOp():K,J=this;this._create=b,this._destroy=_,this._validateOnAcquire=A,this._validateOnRelease=R,this._installIdleObserver=j,this._removeIdleObserver=z,this._maxSize=$.maxSize,this._acquisitionTimeout=$.acquisitionTimeout,this._pools={},this._pendingCreates={},this._acquireRequests={},this._activeResourceCounts={},this._release=this._release.bind(this),this._log=oe,this._closed=!1}return p.prototype.acquire=function(m,w,b){return n(this,void 0,void 0,function(){var y,_,S=this;return i(this,function(A){switch(A.label){case 0:return y=w.asKey(),(_=this._acquireRequests)[y]==null&&(_[y]=[]),[4,new Promise(function(D,R){var k=setTimeout(function(){var F=_[y];if(F!=null&&(_[y]=F.filter(function($){return $!==j})),!j.isCompleted()){var z=S.activeResourceCount(w),q=S.has(w)?S._pools[y].length:0;j.reject((0,s.newError)("Connection acquisition timed out in ".concat(S._acquisitionTimeout," ms. Pool status: Active conn count = ").concat(z,", Idle conn count = ").concat(q,".")))}},S._acquisitionTimeout);typeof k=="object"&&k.unref();var j=new d(y,m,b,D,R,k,S._log);_[y].push(j),S._processPendingAcquireRequests(w)})];case 1:return[2,A.sent()]}})})},p.prototype.purge=function(m){return n(this,void 0,void 0,function(){return i(this,function(w){switch(w.label){case 0:return[4,this._purgeKey(m.asKey())];case 1:return[2,w.sent()]}})})},p.prototype.apply=function(m,w){var b=m.asKey();b in this._pools&&this._pools[b].apply(w)},p.prototype.close=function(){return n(this,void 0,void 0,function(){var m=this;return i(this,function(w){switch(w.label){case 0:return this._closed=!0,[4,Promise.all(Object.keys(this._pools).map(function(b){return n(m,void 0,void 0,function(){return i(this,function(y){switch(y.label){case 0:return[4,this._purgeKey(b)];case 1:return[2,y.sent()]}})})})).then()];case 1:return[2,w.sent()]}})})},p.prototype.keepAll=function(m){return n(this,void 0,void 0,function(){var w,b,y,_=this;return i(this,function(S){switch(S.label){case 0:return w=m.map(function(A){return A.asKey()}),b=Object.keys(this._pools),y=b.filter(function(A){return!w.includes(A)}),[4,Promise.all(y.map(function(A){return n(_,void 0,void 0,function(){return i(this,function(D){switch(D.label){case 0:return[4,this._purgeKey(A)];case 1:return[2,D.sent()]}})})})).then()];case 1:return[2,S.sent()]}})})},p.prototype.has=function(m){return m.asKey()in this._pools},p.prototype.activeResourceCount=function(m){var w;return(w=this._activeResourceCounts[m.asKey()])!==null&&w!==void 0?w:0},p.prototype._getOrInitializePoolFor=function(m){var w=this._pools[m];return w==null&&(w=new v,this._pools[m]=w,this._pendingCreates[m]=0),w},p.prototype._acquire=function(m,w,b){return n(this,void 0,void 0,function(){var y,_,S,A,D,R,k,j=this;return i(this,function(F){switch(F.label){case 0:if(this._closed)throw(0,s.newError)("Pool is closed, it is no more able to serve requests.");if(y=w.asKey(),_=this._getOrInitializePoolFor(y),b)return[3,10];F.label=1;case 1:if(!(_.length>0))return[3,10];if((S=_.pop())==null)return[3,1];c(y,this._activeResourceCounts),this._removeIdleObserver!=null&&this._removeIdleObserver(S),A=!1,F.label=2;case 2:return F.trys.push([2,4,,6]),[4,this._validateOnAcquire(m,S)];case 3:return A=F.sent(),[3,6];case 4:return D=F.sent(),f(y,this._activeResourceCounts),_.removeInUse(S),[4,this._destroy(S)];case 5:throw F.sent(),D;case 6:return A?(this._log.isDebugEnabled()&&this._log.debug("".concat(S," acquired from the pool ").concat(y)),[2,{resource:S,pool:_}]):[3,7];case 7:return f(y,this._activeResourceCounts),_.removeInUse(S),[4,this._destroy(S)];case 8:F.sent(),F.label=9;case 9:return[3,1];case 10:if(this._maxSize>0&&this.activeResourceCount(w)+this._pendingCreates[y]>=this._maxSize)return[2,{resource:null,pool:_}];this._pendingCreates[y]=this._pendingCreates[y]+1,F.label=11;case 11:return F.trys.push([11,,15,16]),this.activeResourceCount(w)+_.length>=this._maxSize&&b?(k=_.pop())==null?[3,13]:(this._removeIdleObserver!=null&&this._removeIdleObserver(k),_.removeInUse(k),[4,this._destroy(k)]):[3,13];case 12:F.sent(),F.label=13;case 13:return[4,this._create(m,w,function(z,q){return n(j,void 0,void 0,function(){return i(this,function($){switch($.label){case 0:return[4,this._release(z,q,_)];case 1:return[2,$.sent()]}})})})];case 14:return R=F.sent(),_.pushInUse(R),c(y,this._activeResourceCounts),this._log.isDebugEnabled()&&this._log.debug("".concat(R," created for the pool ").concat(y)),[3,16];case 15:return this._pendingCreates[y]=this._pendingCreates[y]-1,[7];case 16:return[2,{resource:R,pool:_}]}})})},p.prototype._release=function(m,w,b){return n(this,void 0,void 0,function(){var y,_=this;return i(this,function(S){switch(S.label){case 0:y=m.asKey(),S.label=1;case 1:return S.trys.push([1,,9,10]),b.isActive()?[4,this._validateOnRelease(w)]:[3,6];case 2:return S.sent()?[3,4]:(this._log.isDebugEnabled()&&this._log.debug("".concat(w," destroyed and can't be released to the pool ").concat(y," because it is not functional")),b.removeInUse(w),[4,this._destroy(w)]);case 3:return S.sent(),[3,5];case 4:this._installIdleObserver!=null&&this._installIdleObserver(w,{onError:function(A){_._log.debug("Idle connection ".concat(w," destroyed because of error: ").concat(A));var D=_._pools[y];D!=null&&(_._pools[y]=D.filter(function(R){return R!==w}),D.removeInUse(w)),_._destroy(w).catch(function(){})}}),b.push(w),this._log.isDebugEnabled()&&this._log.debug("".concat(w," released to the pool ").concat(y)),S.label=5;case 5:return[3,8];case 6:return this._log.isDebugEnabled()&&this._log.debug("".concat(w," destroyed and can't be released to the pool ").concat(y," because pool has been purged")),b.removeInUse(w),[4,this._destroy(w)];case 7:S.sent(),S.label=8;case 8:return[3,10];case 9:return f(y,this._activeResourceCounts),this._processPendingAcquireRequests(m),[7];case 10:return[2]}})})},p.prototype._purgeKey=function(m){return n(this,void 0,void 0,function(){var w,b,y;return i(this,function(_){switch(_.label){case 0:if(w=this._pools[m],b=[],w==null)return[3,2];for(;w.length>0;)(y=w.pop())!=null&&(this._removeIdleObserver!=null&&this._removeIdleObserver(y),b.push(this._destroy(y)));return w.close(),delete this._pools[m],[4,Promise.all(b)];case 1:_.sent(),_.label=2;case 2:return[2]}})})},p.prototype._processPendingAcquireRequests=function(m){var w=this,b=m.asKey(),y=this._acquireRequests[b];if(y!=null){var _=y.shift();_!=null?this._acquire(_.context,m,_.requireNew).catch(function(S){return _.reject(S),{resource:null,pool:null}}).then(function(S){var A=S.resource,D=S.pool;A!=null&&D!=null?_.isCompleted()?w._release(m,A,D).catch(function(R){w._log.isDebugEnabled()&&w._log.debug("".concat(A," could not be release back to the pool. Cause: ").concat(R))}):_.resolve(A):_.isCompleted()||(w._acquireRequests[b]==null&&(w._acquireRequests[b]=[]),w._acquireRequests[b].unshift(_))}).catch(function(S){return _.reject(S)}):delete this._acquireRequests[b]}},p}();function c(p,m){var w,b=(w=m[p])!==null&&w!==void 0?w:0;m[p]=b+1}function f(p,m){var w,b=((w=m[p])!==null&&w!==void 0?w:0)-1;b>0?m[p]=b:delete m[p]}var d=function(){function p(m,w,b,y,_,S,A){this._key=m,this._context=w,this._resolve=y,this._reject=_,this._timeoutId=S,this._log=A,this._completed=!1,this._config=b??{}}return Object.defineProperty(p.prototype,"context",{get:function(){return this._context},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"requireNew",{get:function(){var m;return(m=this._config.requireNew)!==null&&m!==void 0&&m},enumerable:!1,configurable:!0}),p.prototype.isCompleted=function(){return this._completed},p.prototype.resolve=function(m){this._completed||(this._completed=!0,clearTimeout(this._timeoutId),this._log.isDebugEnabled()&&this._log.debug("".concat(m," acquired from the pool ").concat(this._key)),this._resolve(m))},p.prototype.reject=function(m){this._completed||(this._completed=!0,clearTimeout(this._timeoutId),this._reject(m))},p}(),v=function(){function p(){this._active=!0,this._elements=[],this._elementsInUse=new Set}return p.prototype.isActive=function(){return this._active},p.prototype.close=function(){this._active=!1,this._elements=[],this._elementsInUse=new Set},p.prototype.filter=function(m){return this._elements=this._elements.filter(m),this},p.prototype.apply=function(m){this._elements.forEach(m),this._elementsInUse.forEach(m)},Object.defineProperty(p.prototype,"length",{get:function(){return this._elements.length},enumerable:!1,configurable:!0}),p.prototype.pop=function(){var m=this._elements.pop();return m!=null&&this._elementsInUse.add(m),m},p.prototype.push=function(m){return this._elementsInUse.delete(m),this._elements.push(m)},p.prototype.pushInUse=function(m){this._elementsInUse.add(m)},p.prototype.removeInUse=function(m){this._elementsInUse.delete(m)},p}();e.default=l},7041:function(r,e,t){var n=this&&this.__awaiter||function(s,u,l,c){return new(l||(l=Promise))(function(f,d){function v(w){try{m(c.next(w))}catch(b){d(b)}}function p(w){try{m(c.throw(w))}catch(b){d(b)}}function m(w){var b;w.done?f(w.value):(b=w.value,b instanceof l?b:new l(function(y){y(b)})).then(v,p)}m((c=c.apply(s,u||[])).next())})},i=this&&this.__generator||function(s,u){var l,c,f,d,v={label:0,sent:function(){if(1&f[0])throw f[1];return f[1]},trys:[],ops:[]};return d={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function p(m){return function(w){return function(b){if(l)throw new TypeError("Generator is already executing.");for(;d&&(d=0,b[0]&&(v=0)),v;)try{if(l=1,c&&(f=2&b[0]?c.return:b[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,b[1])).done)return f;switch(c=0,f&&(b=[2&b[0],f.value]),b[0]){case 0:case 1:f=b;break;case 4:return v.label++,{value:b[1],done:!1};case 5:v.label++,c=b[1],b=[0];continue;case 7:b=v.ops.pop(),v.trys.pop();continue;default:if(!((f=(f=v.trys).length>0&&f[f.length-1])||b[0]!==6&&b[0]!==2)){v=0;continue}if(b[0]===3&&(!f||b[1]>f[0]&&b[1]<f[3])){v.label=b[1];break}if(b[0]===6&&v.label<f[1]){v.label=f[1],f=b;break}if(f&&v.label<f[2]){v.label=f[2],v.ops.push(b);break}f[2]&&v.ops.pop(),v.trys.pop();continue}b=u.call(s,v)}catch(y){b=[6,y],c=0}finally{l=f=0}if(5&b[0])throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}([m,w])}}};Object.defineProperty(e,"__esModule",{value:!0});var a=t(326),o=function(){function s(u){this._createSession=u}return s.prototype.execute=function(u,l,c){return n(this,void 0,void 0,function(){var f,d,v=this;return i(this,function(p){switch(p.label){case 0:f=this._createSession({database:u.database,bookmarkManager:u.bookmarkManager,impersonatedUser:u.impersonatedUser,auth:u.auth}),m=u.signal,w="abort",b=function(){return n(v,void 0,void 0,function(){return i(this,function(y){switch(y.label){case 0:return[4,f.close()];case 1:return[2,y.sent()]}})})},typeof(m==null?void 0:m.addEventListener)=="function"&&m.addEventListener(w,b),d={uninstall:function(){typeof(m==null?void 0:m.removeEventListener)=="function"&&m.removeEventListener(w,b)}},f._configureTransactionExecutor(!0,a.TELEMETRY_APIS.EXECUTE_QUERY),p.label=1;case 1:return p.trys.push([1,,3,5]),[4,(u.routing==="READ"?f.executeRead.bind(f):f.executeWrite.bind(f))(function(y){return n(v,void 0,void 0,function(){var _;return i(this,function(S){switch(S.label){case 0:return _=y.run(l,c),[4,u.resultTransformer(_)];case 1:return[2,S.sent()]}})})},u.transactionConfig)];case 2:return[2,p.sent()];case 3:return d.uninstall(),[4,f.close()];case 4:return p.sent(),[7];case 5:return[2]}var m,w,b})})},s}();e.default=o},3389:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function n(){}return n.prototype.resolve=function(){throw new Error("Abstract function")},n.prototype._resolveToItself=function(i){return Promise.resolve([i])},n}();e.default=t},8341:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=t(7509);function i(o){return Promise.resolve([o])}var a=function(){function o(s){this._resolverFunction=s??i}return o.prototype.resolve=function(s){var u=this;return new Promise(function(l){return l(u._resolverFunction(s.asHostPort()))}).then(function(l){if(!Array.isArray(l))throw new TypeError("Configured resolver function should either return an array of addresses or a Promise resolved with an array of addresses."+"Each address is '<host>:<port>'. Got: ".concat(l));return l.map(function(c){return n.ServerAddress.fromUrl(c)})})},o}();e.default=a},9470:function(r,e,t){var n=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0}),e.ConfiguredCustomResolver=e.BaseHostNameResolver=void 0;var i=n(t(3389));e.BaseHostNameResolver=i.default;var a=n(t(8341));e.ConfiguredCustomResolver=a.default},7509:function(r,e,t){var n=this&&this.__createBinding||(Object.create?function(l,c,f,d){d===void 0&&(d=f);var v=Object.getOwnPropertyDescriptor(c,f);v&&!("get"in v?!c.__esModule:v.writable||v.configurable)||(v={enumerable:!0,get:function(){return c[f]}}),Object.defineProperty(l,d,v)}:function(l,c,f,d){d===void 0&&(d=f),l[d]=c[f]}),i=this&&this.__setModuleDefault||(Object.create?function(l,c){Object.defineProperty(l,"default",{enumerable:!0,value:c})}:function(l,c){l.default=c}),a=this&&this.__importStar||function(l){if(l&&l.__esModule)return l;var c={};if(l!=null)for(var f in l)f!=="default"&&Object.prototype.hasOwnProperty.call(l,f)&&n(c,l,f);return i(c,l),c};Object.defineProperty(e,"__esModule",{value:!0}),e.ServerAddress=void 0;var o=t(6587),s=a(t(407)),u=function(){function l(c,f,d,v){this._host=(0,o.assertString)(c,"host"),this._resolved=f!=null?(0,o.assertString)(f,"resolved"):null,this._port=(0,o.assertNumber)(d,"port"),this._hostPort=v,this._stringValue=f!=null?"".concat(v,"(").concat(f,")"):"".concat(v)}return l.prototype.host=function(){return this._host},l.prototype.resolvedHost=function(){return this._resolved!=null?this._resolved:this._host},l.prototype.port=function(){return this._port},l.prototype.resolveWith=function(c){return new l(this._host,c,this._port,this._hostPort)},l.prototype.asHostPort=function(){return this._hostPort},l.prototype.asKey=function(){return this._hostPort},l.prototype.toString=function(){return this._stringValue},l.fromUrl=function(c){var f=s.parseDatabaseUrl(c);return new l(f.host,null,f.port,f.hostAndPort)},l}();e.ServerAddress=u},5022:function(r,e,t){var n=this&&this.__createBinding||(Object.create?function(y,_,S,A){A===void 0&&(A=S);var D=Object.getOwnPropertyDescriptor(_,S);D&&!("get"in D?!_.__esModule:D.writable||D.configurable)||(D={enumerable:!0,get:function(){return _[S]}}),Object.defineProperty(y,A,D)}:function(y,_,S,A){A===void 0&&(A=S),y[A]=_[S]}),i=this&&this.__setModuleDefault||(Object.create?function(y,_){Object.defineProperty(y,"default",{enumerable:!0,value:_})}:function(y,_){y.default=_}),a=this&&this.__importStar||function(y){if(y&&y.__esModule)return y;var _={};if(y!=null)for(var S in y)S!=="default"&&Object.prototype.hasOwnProperty.call(y,S)&&n(_,y,S);return i(_,y),_};Object.defineProperty(e,"__esModule",{value:!0}),e.floorMod=e.floorDiv=e.assertValidZoneId=e.assertValidNanosecond=e.assertValidSecond=e.assertValidMinute=e.assertValidHour=e.assertValidDay=e.assertValidMonth=e.assertValidYear=e.timeZoneOffsetInSeconds=e.totalNanoseconds=e.newDate=e.toStandardDate=e.isoStringToStandardDate=e.dateToIsoString=e.timeZoneOffsetToIsoString=e.timeToIsoString=e.durationToIsoString=e.dateToEpochDay=e.localDateTimeToEpochSecond=e.localTimeToNanoOfDay=e.normalizeNanosecondsForDuration=e.normalizeSecondsForDuration=e.SECONDS_PER_DAY=e.DAYS_PER_400_YEAR_CYCLE=e.DAYS_0000_TO_1970=e.NANOS_PER_HOUR=e.NANOS_PER_MINUTE=e.NANOS_PER_MILLISECOND=e.NANOS_PER_SECOND=e.SECONDS_PER_HOUR=e.SECONDS_PER_MINUTE=e.MINUTES_PER_HOUR=e.NANOSECOND_OF_SECOND_RANGE=e.SECOND_OF_MINUTE_RANGE=e.MINUTE_OF_HOUR_RANGE=e.HOUR_OF_DAY_RANGE=e.DAY_OF_MONTH_RANGE=e.MONTH_OF_YEAR_RANGE=e.YEAR_RANGE=void 0;var o=a(t(3371)),s=t(9691),u=t(6587),l=function(){function y(_,S){this._minNumber=_,this._maxNumber=S,this._minInteger=(0,o.int)(_),this._maxInteger=(0,o.int)(S)}return y.prototype.contains=function(_){if((0,o.isInt)(_)&&_ instanceof o.default)return _.greaterThanOrEqual(this._minInteger)&&_.lessThanOrEqual(this._maxInteger);if(typeof _=="bigint"){var S=(0,o.int)(_);return S.greaterThanOrEqual(this._minInteger)&&S.lessThanOrEqual(this._maxInteger)}return _>=this._minNumber&&_<=this._maxNumber},y.prototype.toString=function(){return"[".concat(this._minNumber,", ").concat(this._maxNumber,"]")},y}();function c(y,_,S){y=(0,o.int)(y),_=(0,o.int)(_),S=(0,o.int)(S);var A=y.multiply(365);return A=(A=(A=y.greaterThanOrEqual(0)?A.add(y.add(3).div(4).subtract(y.add(99).div(100)).add(y.add(399).div(400))):A.subtract(y.div(-4).subtract(y.div(-100)).add(y.div(-400)))).add(_.multiply(367).subtract(362).div(12))).add(S.subtract(1)),_.greaterThan(2)&&(A=A.subtract(1),function(D){return!(!(D=(0,o.int)(D)).modulo(4).equals(0)||D.modulo(100).equals(0)&&!D.modulo(400).equals(0))}(y)||(A=A.subtract(1))),A.subtract(e.DAYS_0000_TO_1970)}e.YEAR_RANGE=new l(-999999999,999999999),e.MONTH_OF_YEAR_RANGE=new l(1,12),e.DAY_OF_MONTH_RANGE=new l(1,31),e.HOUR_OF_DAY_RANGE=new l(0,23),e.MINUTE_OF_HOUR_RANGE=new l(0,59),e.SECOND_OF_MINUTE_RANGE=new l(0,59),e.NANOSECOND_OF_SECOND_RANGE=new l(0,999999999),e.MINUTES_PER_HOUR=60,e.SECONDS_PER_MINUTE=60,e.SECONDS_PER_HOUR=e.SECONDS_PER_MINUTE*e.MINUTES_PER_HOUR,e.NANOS_PER_SECOND=1e9,e.NANOS_PER_MILLISECOND=1e6,e.NANOS_PER_MINUTE=e.NANOS_PER_SECOND*e.SECONDS_PER_MINUTE,e.NANOS_PER_HOUR=e.NANOS_PER_MINUTE*e.MINUTES_PER_HOUR,e.DAYS_0000_TO_1970=719528,e.DAYS_PER_400_YEAR_CYCLE=146097,e.SECONDS_PER_DAY=86400,e.normalizeSecondsForDuration=function(y,_){return(0,o.int)(y).add(p(_,e.NANOS_PER_SECOND))},e.normalizeNanosecondsForDuration=function(y){return m(y,e.NANOS_PER_SECOND)},e.localTimeToNanoOfDay=function(y,_,S,A){y=(0,o.int)(y),_=(0,o.int)(_),S=(0,o.int)(S),A=(0,o.int)(A);var D=y.multiply(e.NANOS_PER_HOUR);return(D=(D=D.add(_.multiply(e.NANOS_PER_MINUTE))).add(S.multiply(e.NANOS_PER_SECOND))).add(A)},e.localDateTimeToEpochSecond=function(y,_,S,A,D,R,k){var j=c(y,_,S),F=function(z,q,$){z=(0,o.int)(z),q=(0,o.int)(q),$=(0,o.int)($);var K=z.multiply(e.SECONDS_PER_HOUR);return(K=K.add(q.multiply(e.SECONDS_PER_MINUTE))).add($)}(A,D,R);return j.multiply(e.SECONDS_PER_DAY).add(F)},e.dateToEpochDay=c,e.durationToIsoString=function(y,_,S,A){var D=b(y),R=b(_),k=function(j,F){var z,q;j=(0,o.int)(j),F=(0,o.int)(F);var $=j.isNegative(),K=F.greaterThan(0);return z=$&&K?j.equals(-1)?"-0":j.add(1).toString():j.toString(),K&&(q=w($?F.negate().add(2*e.NANOS_PER_SECOND).modulo(e.NANOS_PER_SECOND):F.add(e.NANOS_PER_SECOND).modulo(e.NANOS_PER_SECOND))),q!=null?z+q:z}(S,A);return"P".concat(D,"M").concat(R,"DT").concat(k,"S")},e.timeToIsoString=function(y,_,S,A){var D=b(y,2),R=b(_,2),k=b(S,2),j=w(A);return"".concat(D,":").concat(R,":").concat(k).concat(j)},e.timeZoneOffsetToIsoString=function(y){if((y=(0,o.int)(y)).equals(0))return"Z";var _=y.isNegative();_&&(y=y.multiply(-1));var S=_?"-":"+",A=b(y.div(e.SECONDS_PER_HOUR),2),D=b(y.div(e.SECONDS_PER_MINUTE).modulo(e.MINUTES_PER_HOUR),2),R=y.modulo(e.SECONDS_PER_MINUTE),k=R.equals(0)?null:b(R,2);return k!=null?"".concat(S).concat(A,":").concat(D,":").concat(k):"".concat(S).concat(A,":").concat(D)},e.dateToIsoString=function(y,_,S){var A=function(k){var j=(0,o.int)(k);return j.isNegative()||j.greaterThan(9999)?b(j,6,{usePositiveSign:!0}):b(j,4)}(y),D=b(_,2),R=b(S,2);return"".concat(A,"-").concat(D,"-").concat(R)},e.isoStringToStandardDate=function(y){return new Date(y)},e.toStandardDate=function(y){return new Date(y)},e.newDate=function(y){return new Date(y)},e.totalNanoseconds=function(y,_){return S=_=_??0,A=y.getMilliseconds()*e.NANOS_PER_MILLISECOND,S instanceof o.default?S.add(A):typeof S=="bigint"?S+BigInt(A):S+A;var S,A},e.timeZoneOffsetInSeconds=function(y){var _=y.getSeconds()>=y.getUTCSeconds()?y.getSeconds()-y.getUTCSeconds():y.getSeconds()-y.getUTCSeconds()+60,S=y.getTimezoneOffset();return S===0?0+_:-1*S*e.SECONDS_PER_MINUTE+_},e.assertValidYear=function(y){return v(y,e.YEAR_RANGE,"Year")},e.assertValidMonth=function(y){return v(y,e.MONTH_OF_YEAR_RANGE,"Month")},e.assertValidDay=function(y){return v(y,e.DAY_OF_MONTH_RANGE,"Day")},e.assertValidHour=function(y){return v(y,e.HOUR_OF_DAY_RANGE,"Hour")},e.assertValidMinute=function(y){return v(y,e.MINUTE_OF_HOUR_RANGE,"Minute")},e.assertValidSecond=function(y){return v(y,e.SECOND_OF_MINUTE_RANGE,"Second")},e.assertValidNanosecond=function(y){return v(y,e.NANOSECOND_OF_SECOND_RANGE,"Nanosecond")};var f=new Map,d=function(y,_){return(0,s.newError)("".concat(_,' is expected to be a valid ZoneId but was: "').concat(y,'"'))};function v(y,_,S){if((0,u.assertNumberOrInteger)(y,S),!_.contains(y))throw(0,s.newError)("".concat(S," is expected to be in range ").concat(_.toString()," but was: ").concat(y.toString()));return y}function p(y,_){y=(0,o.int)(y),_=(0,o.int)(_);var S=y.div(_);return y.isPositive()!==_.isPositive()&&S.multiply(_).notEquals(y)&&(S=S.subtract(1)),S}function m(y,_){return y=(0,o.int)(y),_=(0,o.int)(_),y.subtract(p(y,_).multiply(_))}function w(y){return(y=(0,o.int)(y)).equals(0)?"":"."+b(y,9)}function b(y,_,S){var A=(y=(0,o.int)(y)).isNegative();A&&(y=y.negate());var D=y.toString();if(_!=null)for(;D.length<_;)D="0"+D;return A?"-"+D:(S==null?void 0:S.usePositiveSign)===!0?"+"+D:D}e.assertValidZoneId=function(y,_){var S=f.get(_);if(S!==!0){if(S===!1)throw d(_,y);try{Intl.DateTimeFormat(void 0,{timeZone:_}),f.set(_,!0)}catch{throw f.set(_,!1),d(_,y)}}},e.floorDiv=p,e.floorMod=m},6189:function(r,e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(p){for(var m,w=1,b=arguments.length;w<b;w++)for(var y in m=arguments[w])Object.prototype.hasOwnProperty.call(m,y)&&(p[y]=m[y]);return p},n.apply(this,arguments)},i=this&&this.__awaiter||function(p,m,w,b){return new(w||(w=Promise))(function(y,_){function S(R){try{D(b.next(R))}catch(k){_(k)}}function A(R){try{D(b.throw(R))}catch(k){_(k)}}function D(R){var k;R.done?y(R.value):(k=R.value,k instanceof w?k:new w(function(j){j(k)})).then(S,A)}D((b=b.apply(p,m||[])).next())})},a=this&&this.__generator||function(p,m){var w,b,y,_,S={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return _={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function A(D){return function(R){return function(k){if(w)throw new TypeError("Generator is already executing.");for(;_&&(_=0,k[0]&&(S=0)),S;)try{if(w=1,b&&(y=2&k[0]?b.return:k[0]?b.throw||((y=b.return)&&y.call(b),0):b.next)&&!(y=y.call(b,k[1])).done)return y;switch(b=0,y&&(k=[2&k[0],y.value]),k[0]){case 0:case 1:y=k;break;case 4:return S.label++,{value:k[1],done:!1};case 5:S.label++,b=k[1],k=[0];continue;case 7:k=S.ops.pop(),S.trys.pop();continue;default:if(!((y=(y=S.trys).length>0&&y[y.length-1])||k[0]!==6&&k[0]!==2)){S=0;continue}if(k[0]===3&&(!y||k[1]>y[0]&&k[1]<y[3])){S.label=k[1];break}if(k[0]===6&&S.label<y[1]){S.label=y[1],y=k;break}if(y&&S.label<y[2]){S.label=y[2],S.ops.push(k);break}y[2]&&S.ops.pop(),S.trys.pop();continue}k=m.call(p,S)}catch(j){k=[6,j],b=0}finally{w=y=0}if(5&k[0])throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}([D,R])}}},o=this&&this.__read||function(p,m){var w=typeof Symbol=="function"&&p[Symbol.iterator];if(!w)return p;var b,y,_=w.call(p),S=[];try{for(;(m===void 0||m-- >0)&&!(b=_.next()).done;)S.push(b.value)}catch(A){y={error:A}}finally{try{b&&!b.done&&(w=_.return)&&w.call(_)}finally{if(y)throw y.error}}return S},s=this&&this.__spreadArray||function(p,m,w){if(w||arguments.length===2)for(var b,y=0,_=m.length;y<_;y++)!b&&y in m||(b||(b=Array.prototype.slice.call(m,0,y)),b[y]=m[y]);return p.concat(b||Array.prototype.slice.call(m))};Object.defineProperty(e,"__esModule",{value:!0}),e.TransactionExecutor=void 0;var u=t(9691),l=t(326);function c(p,m){for(var w=[],b=2;b<arguments.length;b++)w[b-2]=arguments[b];return setTimeout.apply(void 0,s([p,m],o(w),!1))}function f(p){return clearTimeout(p)}var d=function(){function p(m,w,b,y,_){_===void 0&&(_={setTimeout:c,clearTimeout:f}),this._maxRetryTimeMs=v(m,3e4),this._initialRetryDelayMs=v(w,1e3),this._multiplier=v(b,2),this._jitterFactor=v(y,.2),this._setTimeout=_.setTimeout,this._clearTimeout=_.clearTimeout,this._inFlightTimeoutIds=[],this.pipelineBegin=!1,this.telemetryApi=l.TELEMETRY_APIS.MANAGED_TRANSACTION,this._verifyAfterConstruction()}return p.prototype.execute=function(m,w,b){var y=this,_={apiTransactionConfig:{api:this.telemetryApi,onTelemetrySuccess:function(){_.apiTransactionConfig=void 0}}};return new Promise(function(S,A){y._executeTransactionInsidePromise(m,w,S,A,b,_).catch(A)}).catch(function(S){var A=Date.now(),D=y._initialRetryDelayMs;return y._retryTransactionPromise(m,w,S,A,D,b,_)})},p.prototype.close=function(){var m=this;this._inFlightTimeoutIds.forEach(function(w){return m._clearTimeout(w)}),this._inFlightTimeoutIds=[]},p.prototype._retryTransactionPromise=function(m,w,b,y,_,S,A){var D=this;return Date.now()-y>this._maxRetryTimeMs||!(0,u.isRetriableError)(b)?Promise.reject(b):new Promise(function(R,k){var j=D._computeDelayWithJitter(_),F=D._setTimeout(function(){D._inFlightTimeoutIds=D._inFlightTimeoutIds.filter(function(z){return z!==F}),D._executeTransactionInsidePromise(m,w,R,k,S,A).catch(k)},j);D._inFlightTimeoutIds.push(F)}).catch(function(R){var k=_*D._multiplier;return D._retryTransactionPromise(m,w,R,y,k,S,A)})},p.prototype._executeTransactionInsidePromise=function(m,w,b,y,_,S){return i(this,void 0,void 0,function(){var A,D,R,k,j,F,z=this;return a(this,function(q){switch(q.label){case 0:return q.trys.push([0,4,,5]),D=m((S==null?void 0:S.apiTransactionConfig)!=null?n({},S==null?void 0:S.apiTransactionConfig):void 0),this.pipelineBegin?(R=D,[3,3]):[3,1];case 1:return[4,D];case 2:R=q.sent(),q.label=3;case 3:return A=R,[3,5];case 4:return k=q.sent(),y(k),[2];case 5:return j=_??function($){return $},F=j(A),this._safeExecuteTransactionWork(F,w).then(function($){return z._handleTransactionWorkSuccess($,A,b,y)}).catch(function($){return z._handleTransactionWorkFailure($,A,y)}),[2]}})})},p.prototype._safeExecuteTransactionWork=function(m,w){try{var b=w(m);return Promise.resolve(b)}catch(y){return Promise.reject(y)}},p.prototype._handleTransactionWorkSuccess=function(m,w,b,y){w.isOpen()?w.commit().then(function(){b(m)}).catch(function(_){y(_)}):b(m)},p.prototype._handleTransactionWorkFailure=function(m,w,b){w.isOpen()?w.rollback().catch(function(y){}).then(function(){return b(m)}).catch(b):b(m)},p.prototype._computeDelayWithJitter=function(m){var w=m*this._jitterFactor,b=m-w,y=m+w;return Math.random()*(y-b)+b},p.prototype._verifyAfterConstruction=function(){if(this._maxRetryTimeMs<0)throw(0,u.newError)("Max retry time should be >= 0: "+this._maxRetryTimeMs.toString());if(this._initialRetryDelayMs<0)throw(0,u.newError)("Initial retry delay should >= 0: "+this._initialRetryDelayMs.toString());if(this._multiplier<1)throw(0,u.newError)("Multiplier should be >= 1.0: "+this._multiplier.toString());if(this._jitterFactor<0||this._jitterFactor>1)throw(0,u.newError)("Jitter factor should be in [0.0, 1.0]: "+this._jitterFactor.toFixed())},p}();function v(p,m){return p??m}e.TransactionExecutor=d},754:function(r,e,t){var n=this&&this.__createBinding||(Object.create?function(f,d,v,p){p===void 0&&(p=v);var m=Object.getOwnPropertyDescriptor(d,v);m&&!("get"in m?!d.__esModule:m.writable||m.configurable)||(m={enumerable:!0,get:function(){return d[v]}}),Object.defineProperty(f,p,m)}:function(f,d,v,p){p===void 0&&(p=v),f[p]=d[v]}),i=this&&this.__setModuleDefault||(Object.create?function(f,d){Object.defineProperty(f,"default",{enumerable:!0,value:d})}:function(f,d){f.default=d}),a=this&&this.__importStar||function(f){if(f&&f.__esModule)return f;var d={};if(f!=null)for(var v in f)v!=="default"&&Object.prototype.hasOwnProperty.call(f,v)&&n(d,f,v);return i(d,f),d};Object.defineProperty(e,"__esModule",{value:!0}),e.TxConfig=void 0;var o=a(t(6587)),s=t(9691),u=t(3371),l=function(){function f(d,v){(function(p){p!=null&&o.assertObject(p,"Transaction config")})(d),this.timeout=function(p,m){if(o.isObject(p)&&p.timeout!=null){o.assertNumberOrInteger(p.timeout,"Transaction timeout"),function(b){return typeof b.timeout=="number"&&!Number.isInteger(b.timeout)}(p)&&(m==null?void 0:m.isInfoEnabled())===!0&&(m==null||m.info("Transaction timeout expected to be an integer, got: ".concat(p.timeout,". The value will be rounded up.")));var w=(0,u.int)(p.timeout,{ceilFloat:!0});if(w.isNegative())throw(0,s.newError)("Transaction timeout should not be negative");return w}return null}(d,v),this.metadata=function(p){if(o.isObject(p)&&p.metadata!=null){var m=p.metadata;if(o.assertObject(m,"config.metadata"),Object.keys(m).length!==0)return m}return null}(d)}return f.empty=function(){return c},f.prototype.isEmpty=function(){return Object.values(this).every(function(d){return d==null})},f}();e.TxConfig=l;var c=new l({})},407:function(r,e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(c){for(var f,d=1,v=arguments.length;d<v;d++)for(var p in f=arguments[d])Object.prototype.hasOwnProperty.call(f,p)&&(c[p]=f[p]);return c},n.apply(this,arguments)},i=this&&this.__read||function(c,f){var d=typeof Symbol=="function"&&c[Symbol.iterator];if(!d)return c;var v,p,m=d.call(c),w=[];try{for(;(f===void 0||f-- >0)&&!(v=m.next()).done;)w.push(v.value)}catch(b){p={error:b}}finally{try{v&&!v.done&&(d=m.return)&&d.call(m)}finally{if(p)throw p.error}}return w};Object.defineProperty(e,"__esModule",{value:!0}),e.Url=e.formatIPv6Address=e.formatIPv4Address=e.defaultPortForScheme=e.parseDatabaseUrl=void 0;var a=t(6587),o=function(c,f,d,v,p){this.scheme=c,this.host=f,this.port=d,this.hostAndPort=v,this.query=p};function s(c,f,d){if((c=(c??"").trim())==="")throw new Error("Illegal empty ".concat(f," in URL query '").concat(d,"'"));return c}function u(c){var f=c.charAt(0)==="[",d=c.charAt(c.length-1)==="]";if(f||d){if(f&&d)return c;throw new Error("Illegal IPv6 address ".concat(c))}return"[".concat(c,"]")}function l(c){return c==="http"?7474:c==="https"?7473:7687}e.Url=o,e.parseDatabaseUrl=function(c){var f;(0,a.assertString)(c,"URL");var d,v=function(A){return(A=A.trim()).includes("://")?{schemeMissing:!1,url:A}:{schemeMissing:!0,url:"none://".concat(A)}}(c),p=function(A){function D(j,F){var z=j.indexOf(F);return z>=0?[j.substring(0,z),j[z],j.substring(z+1)]:[j,"",""]}var R,k={};return(R=D(A,":"))[1]===":"&&(k.scheme=decodeURIComponent(R[0]),A=R[2]),(R=D(A,"#"))[1]==="#"&&(k.fragment=decodeURIComponent(R[2]),A=R[0]),(R=D(A,"?"))[1]==="?"&&(k.query=R[2],A=R[0]),A.startsWith("//")?(R=D(A.substr(2),"/"),(k=n(n({},k),function(j){var F,z,q,$,K={};(z=j,q="@",$=z.lastIndexOf(q),F=$>=0?[z.substring(0,$),z[$],z.substring($+1)]:["","",z])[1]==="@"&&(K.userInfo=decodeURIComponent(F[0]),j=F[2]);var oe=i(function(ae,ve,se){var ce=D(ae,ve),pe=D(ce[2],se);return[pe[0],pe[2]]}(j,"[","]"),2),J=oe[0],re=oe[1];return J!==""?(K.host=J,F=D(re,":")):(F=D(j,":"),K.host=F[0]),F[1]===":"&&(K.port=F[2]),K}(R[0]))).path=R[1]+R[2]):k.path=A,k}(v.url),m=v.schemeMissing?null:function(A){return A!=null?((A=A.trim()).charAt(A.length-1)===":"&&(A=A.substring(0,A.length-1)),A):null}(p.scheme),w=function(A,D){if(A==null)throw new Error("Unable to extract host from null or undefined URL");return A.trim()}(p.host),b=function(A){if(A===""||A==null)throw new Error("Illegal host ".concat(A));return A.includes(":")?u(A):A}(w),y=function(A,D){var R=typeof A=="string"?parseInt(A,10):A;return R==null||isNaN(R)?l(D):R}(p.port,m),_="".concat(b,":").concat(y),S=function(A,D){var R=A!=null?function(j){return((j=(j??"").trim())==null?void 0:j.charAt(0))==="?"&&(j=j.substring(1,j.length)),j}(A):null,k={};return R!=null&&R.split("&").forEach(function(j){var F=j.split("=");if(F.length!==2)throw new Error("Invalid parameters: '".concat(F.toString(),"' in URL '").concat(D,"'."));var z=s(F[0],"key",D),q=s(F[1],"value",D);if(k[z]!==void 0)throw new Error("Duplicated query parameters with key '".concat(z,"' in URL '").concat(D,"'"));k[z]=q}),k}((f=p.query)!==null&&f!==void 0?f:typeof(d=p.resourceName)!="string"?null:i(d.split("?"),2)[1],c);return new o(m,w,y,_,S)},e.formatIPv4Address=function(c,f){return"".concat(c,":").concat(f)},e.formatIPv6Address=function(c,f){var d=u(c);return"".concat(d,":").concat(f)},e.defaultPortForScheme=l},6587:function(r,e,t){var n=this&&this.__createBinding||(Object.create?function(d,v,p,m){m===void 0&&(m=p);var w=Object.getOwnPropertyDescriptor(v,p);w&&!("get"in w?!v.__esModule:w.writable||w.configurable)||(w={enumerable:!0,get:function(){return v[p]}}),Object.defineProperty(d,m,w)}:function(d,v,p,m){m===void 0&&(m=p),d[m]=v[p]}),i=this&&this.__setModuleDefault||(Object.create?function(d,v){Object.defineProperty(d,"default",{enumerable:!0,value:v})}:function(d,v){d.default=v}),a=this&&this.__importStar||function(d){if(d&&d.__esModule)return d;var v={};if(d!=null)for(var p in d)p!=="default"&&Object.prototype.hasOwnProperty.call(d,p)&&n(v,d,p);return i(v,d),v},o=this&&this.__values||function(d){var v=typeof Symbol=="function"&&Symbol.iterator,p=v&&d[v],m=0;if(p)return p.call(d);if(d&&typeof d.length=="number")return{next:function(){return d&&m>=d.length&&(d=void 0),{value:d&&d[m++],done:!d}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.ENCRYPTION_OFF=e.ENCRYPTION_ON=e.equals=e.validateQueryAndParameters=e.toNumber=e.assertValidDate=e.assertNumberOrInteger=e.assertNumber=e.assertString=e.assertObject=e.isString=e.isObject=e.isEmptyObjectOrNull=void 0;var s=a(t(3371)),u=t(4027);function l(d){return typeof d=="object"&&!Array.isArray(d)&&d!==null}function c(d,v){if(!f(d))throw new TypeError((0,u.stringify)(v)+" expected to be string but was: "+(0,u.stringify)(d));return d}function f(d){return Object.prototype.toString.call(d)==="[object String]"}e.ENCRYPTION_ON="ENCRYPTION_ON",e.ENCRYPTION_OFF="ENCRYPTION_OFF",e.isEmptyObjectOrNull=function(d){if(d===null)return!0;if(!l(d))return!1;for(var v in d)if(d[v]!==void 0)return!1;return!0},e.isObject=l,e.validateQueryAndParameters=function(d,v,p){var m,w,b="",y=v??{},_=(m=p==null?void 0:p.skipAsserts)!==null&&m!==void 0&&m;return typeof d=="string"?b=d:d instanceof String?b=d.toString():typeof d=="object"&&d.text!=null&&(b=d.text,y=(w=d.parameters)!==null&&w!==void 0?w:{}),_||(function(S){if(c(S,"Cypher query"),S.trim().length===0)throw new TypeError("Cypher query is expected to be a non-empty string.")}(b),function(S){if(!l(S)){var A=S.constructor!=null?" "+S.constructor.name:"";throw new TypeError("Query parameters are expected to either be undefined/null or an object, given:".concat(A," ").concat(JSON.stringify(S)))}}(y)),{validatedQuery:b,params:y}},e.assertObject=function(d,v){if(!l(d))throw new TypeError(v+" expected to be an object but was: "+(0,u.stringify)(d));return d},e.assertString=c,e.assertNumber=function(d,v){if(typeof d!="number")throw new TypeError(v+" expected to be a number but was: "+(0,u.stringify)(d));return d},e.assertNumberOrInteger=function(d,v){if(typeof d!="number"&&typeof d!="bigint"&&!(0,s.isInt)(d))throw new TypeError(v+" expected to be either a number or an Integer object but was: "+(0,u.stringify)(d));return d},e.assertValidDate=function(d,v){if(Object.prototype.toString.call(d)!=="[object Date]")throw new TypeError(v+" expected to be a standard JavaScript Date but was: "+(0,u.stringify)(d));if(Number.isNaN(d.getTime()))throw new TypeError(v+" expected to be valid JavaScript Date but its time was NaN: "+(0,u.stringify)(d));return d},e.isString=f,e.equals=function d(v,p){var m,w;if(v===p)return!0;if(v===null||p===null)return!1;if(typeof v=="object"&&typeof p=="object"){var b=Object.keys(v),y=Object.keys(p);if(b.length!==y.length)return!1;try{for(var _=o(b),S=_.next();!S.done;S=_.next()){var A=S.value;if(!d(v[A],p[A]))return!1}}catch(D){m={error:D}}finally{try{S&&!S.done&&(w=_.return)&&w.call(_)}finally{if(m)throw m.error}}return!0}return!1},e.toNumber=function(d){return d instanceof s.default?d.toNumber():typeof d=="bigint"?(0,s.int)(d).toNumber():d}},4027:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.stringify=void 0;var n=t(93);e.stringify=function(i,a){return JSON.stringify(i,function(o,s){return(0,n.isBrokenObject)(s)?{__isBrokenObject__:!0,__reason__:(0,n.getBrokenObjectReason)(s)}:typeof s=="bigint"?"".concat(s,"n"):(a==null?void 0:a.useCustomToString)!==!0||typeof s!="object"||Array.isArray(s)||typeof s.toString!="function"||s.toString===Object.prototype.toString?s:s==null?void 0:s.toString()})}},1985:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.notificationFilterDisabledClassification=e.notificationFilterDisabledCategory=e.notificationFilterMinimumSeverityLevel=void 0;var t={OFF:"OFF",WARNING:"WARNING",INFORMATION:"INFORMATION"};e.notificationFilterMinimumSeverityLevel=t,Object.freeze(t);var n={HINT:"HINT",UNRECOGNIZED:"UNRECOGNIZED",UNSUPPORTED:"UNSUPPORTED",PERFORMANCE:"PERFORMANCE",TOPOLOGY:"TOPOLOGY",SECURITY:"SECURITY",DEPRECATION:"DEPRECATION",GENERIC:"GENERIC",SCHEMA:"SCHEMA"};e.notificationFilterDisabledCategory=n,Object.freeze(n);var i=n;e.notificationFilterDisabledClassification=i,e.default=function(){throw this.minimumSeverityLevel=void 0,this.disabledCategories=void 0,this.disabledClassifications=void 0,new Error("Not implemented")}},1866:function(r,e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(q){for(var $,K=1,oe=arguments.length;K<oe;K++)for(var J in $=arguments[K])Object.prototype.hasOwnProperty.call($,J)&&(q[J]=$[J]);return q},n.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(q,$,K,oe){oe===void 0&&(oe=K);var J=Object.getOwnPropertyDescriptor($,K);J&&!("get"in J?!$.__esModule:J.writable||J.configurable)||(J={enumerable:!0,get:function(){return $[K]}}),Object.defineProperty(q,oe,J)}:function(q,$,K,oe){oe===void 0&&(oe=K),q[oe]=$[K]}),a=this&&this.__setModuleDefault||(Object.create?function(q,$){Object.defineProperty(q,"default",{enumerable:!0,value:$})}:function(q,$){q.default=$}),o=this&&this.__importStar||function(q){if(q&&q.__esModule)return q;var $={};if(q!=null)for(var K in q)K!=="default"&&Object.prototype.hasOwnProperty.call(q,K)&&i($,q,K);return a($,q),$},s=this&&this.__read||function(q,$){var K=typeof Symbol=="function"&&q[Symbol.iterator];if(!K)return q;var oe,J,re=K.call(q),ae=[];try{for(;($===void 0||$-- >0)&&!(oe=re.next()).done;)ae.push(oe.value)}catch(ve){J={error:ve}}finally{try{oe&&!oe.done&&(K=re.return)&&K.call(re)}finally{if(J)throw J.error}}return ae},u=this&&this.__spreadArray||function(q,$,K){if(K||arguments.length===2)for(var oe,J=0,re=$.length;J<re;J++)!oe&&J in $||(oe||(oe=Array.prototype.slice.call($,0,J)),oe[J]=$[J]);return q.concat(oe||Array.prototype.slice.call($))};Object.defineProperty(e,"__esModule",{value:!0}),e.buildNotificationsFromMetadata=e.buildGqlStatusObjectFromMetadata=e.polyfillNotification=e.polyfillGqlStatusObject=e.GqlStatusObject=e.Notification=e.notificationClassification=e.notificationCategory=e.notificationSeverityLevel=void 0;var l=o(t(4027)),c=t(6995),f=t(1053),d={WARNING:{gql_status:"01N42",status_description:"warn: unknown warning"},NO_DATA:{gql_status:"02N42",status_description:"note: no data - unknown subcondition"},INFORMATION:{gql_status:"03N42",status_description:"info: unknown notification"}},v={WARNING:"WARNING",INFORMATION:"INFORMATION",UNKNOWN:"UNKNOWN"};e.notificationSeverityLevel=v,Object.freeze(v);var p=Object.values(v),m={HINT:"HINT",UNRECOGNIZED:"UNRECOGNIZED",UNSUPPORTED:"UNSUPPORTED",PERFORMANCE:"PERFORMANCE",DEPRECATION:"DEPRECATION",TOPOLOGY:"TOPOLOGY",SECURITY:"SECURITY",GENERIC:"GENERIC",SCHEMA:"SCHEMA",UNKNOWN:"UNKNOWN"};e.notificationCategory=m,Object.freeze(m);var w=Object.values(m),b=m;e.notificationClassification=b;var y=function(q){this.code=q.code,this.title=q.title,this.description=q.description,this.severity=q.severity,this.position=j(q.position),this.severityLevel=F(q.severity),this.rawSeverityLevel=q.severity,this.category=z(q.category),this.rawCategory=q.category};e.Notification=y;var _=function(){function q($){var K;this.gqlStatus=$.gql_status,this.statusDescription=$.status_description,this.diagnosticRecord=(K=$.diagnostic_record)!==null&&K!==void 0?K:{},this.position=this.diagnosticRecord._position!=null?j(this.diagnosticRecord._position):void 0,this.severity=F(this.diagnosticRecord._severity),this.rawSeverity=this.diagnosticRecord._severity,this.classification=z(this.diagnosticRecord._classification),this.rawClassification=this.diagnosticRecord._classification,this.isNotification=$.neo4j_code!=null,Object.freeze(this)}return Object.defineProperty(q.prototype,"diagnosticRecordAsJsonString",{get:function(){return l.stringify(this.diagnosticRecord,{useCustomToString:!0})},enumerable:!1,configurable:!0}),q}();function S(q){var $,K,oe;if(q.neo4j_code!=null)return new y({code:q.neo4j_code,title:q.title,description:q.description,severity:($=q.diagnostic_record)===null||$===void 0?void 0:$._severity,category:(K=q.diagnostic_record)===null||K===void 0?void 0:K._classification,position:(oe=q.diagnostic_record)===null||oe===void 0?void 0:oe._position})}function A(q){var $,K=q.severity===v.WARNING?d.WARNING:d.INFORMATION,oe={gql_status:K.gql_status,status_description:($=q.description)!==null&&$!==void 0?$:K.status_description,neo4j_code:q.code,title:q.title,diagnostic_record:n({},f.rawPolyfilledDiagnosticRecord)};return q.severity!=null&&(oe.diagnostic_record._severity=q.severity),q.category!=null&&(oe.diagnostic_record._classification=q.category),q.position!=null&&(oe.diagnostic_record._position=q.position),new _(oe)}e.GqlStatusObject=_,e.polyfillNotification=S,e.polyfillGqlStatusObject=A;var D={SUCCESS:new _({gql_status:"00000",status_description:"note: successful completion",diagnostic_record:f.rawPolyfilledDiagnosticRecord}),NO_DATA:new _({gql_status:"02000",status_description:"note: no data",diagnostic_record:f.rawPolyfilledDiagnosticRecord}),NO_DATA_UNKNOWN_SUBCONDITION:new _(n(n({},d.NO_DATA),{diagnostic_record:f.rawPolyfilledDiagnosticRecord})),OMITTED_RESULT:new _({gql_status:"00001",status_description:"note: successful completion - omitted result",diagnostic_record:f.rawPolyfilledDiagnosticRecord})};Object.freeze(D),e.buildGqlStatusObjectFromMetadata=function(q){var $,K;if(q.statuses!=null)return q.statuses.map(function(re){return new _(re)});var oe,J=((oe=q.stream_summary)==null?void 0:oe.have_records_streamed)===!0?D.SUCCESS:(oe==null?void 0:oe.has_keys)===!1?D.OMITTED_RESULT:(oe==null?void 0:oe.pulled)===!0?D.NO_DATA:D.NO_DATA_UNKNOWN_SUBCONDITION;return u([J],s((K=($=q.notifications)===null||$===void 0?void 0:$.map(A))!==null&&K!==void 0?K:[]),!1).sort(function(re,ae){return k(re)-k(ae)})};var R=Object.freeze({"02":0,"01":1,"00":2});function k(q){var $,K,oe=($=q.gqlStatus)===null||$===void 0?void 0:$.slice(0,2);return(K=R[oe])!==null&&K!==void 0?K:9999}function j(q){return q==null?{}:{offset:c.util.toNumber(q.offset),line:c.util.toNumber(q.line),column:c.util.toNumber(q.column)}}function F(q){return p.includes(q)?q:v.UNKNOWN}function z(q){return w.includes(q)?q:b.UNKNOWN}e.buildNotificationsFromMetadata=function(q){return q.notifications!=null?q.notifications.map(function($){return new y($)}):q.statuses!=null?q.statuses.map(S).filter(function($){return $!=null}):[]},e.default=y},4820:function(r,e,t){var n=this&&this.__generator||function(u,l){var c,f,d,v,p={label:0,sent:function(){if(1&d[0])throw d[1];return d[1]},trys:[],ops:[]};return v={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function m(w){return function(b){return function(y){if(c)throw new TypeError("Generator is already executing.");for(;v&&(v=0,y[0]&&(p=0)),p;)try{if(c=1,f&&(d=2&y[0]?f.return:y[0]?f.throw||((d=f.return)&&d.call(f),0):f.next)&&!(d=d.call(f,y[1])).done)return d;switch(f=0,d&&(y=[2&y[0],d.value]),y[0]){case 0:case 1:d=y;break;case 4:return p.label++,{value:y[1],done:!1};case 5:p.label++,f=y[1],y=[0];continue;case 7:y=p.ops.pop(),p.trys.pop();continue;default:if(!((d=(d=p.trys).length>0&&d[d.length-1])||y[0]!==6&&y[0]!==2)){p=0;continue}if(y[0]===3&&(!d||y[1]>d[0]&&y[1]<d[3])){p.label=y[1];break}if(y[0]===6&&p.label<d[1]){p.label=d[1],d=y;break}if(d&&p.label<d[2]){p.label=d[2],p.ops.push(y);break}d[2]&&p.ops.pop(),p.trys.pop();continue}y=l.call(u,p)}catch(_){y=[6,_],f=0}finally{c=d=0}if(5&y[0])throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}([w,b])}}},i=this&&this.__values||function(u){var l=typeof Symbol=="function"&&Symbol.iterator,c=l&&u[l],f=0;if(c)return c.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&f>=u.length&&(u=void 0),{value:u&&u[f++],done:!u}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__read||function(u,l){var c=typeof Symbol=="function"&&u[Symbol.iterator];if(!c)return u;var f,d,v=c.call(u),p=[];try{for(;(l===void 0||l-- >0)&&!(f=v.next()).done;)p.push(f.value)}catch(m){d={error:m}}finally{try{f&&!f.done&&(c=v.return)&&c.call(v)}finally{if(d)throw d.error}}return p};Object.defineProperty(e,"__esModule",{value:!0});var o=t(9691),s=function(){function u(l,c,f){this.keys=l,this.length=l.length,this._fields=c,this._fieldLookup=f??function(d){var v={};return d.forEach(function(p,m){v[p]=m}),v}(l)}return u.prototype.forEach=function(l){var c,f;try{for(var d=i(this.entries()),v=d.next();!v.done;v=d.next()){var p=a(v.value,2),m=p[0];l(p[1],m,this)}}catch(w){c={error:w}}finally{try{v&&!v.done&&(f=d.return)&&f.call(d)}finally{if(c)throw c.error}}},u.prototype.map=function(l){var c,f,d=[];try{for(var v=i(this.entries()),p=v.next();!p.done;p=v.next()){var m=a(p.value,2),w=m[0],b=m[1];d.push(l(b,w,this))}}catch(y){c={error:y}}finally{try{p&&!p.done&&(f=v.return)&&f.call(v)}finally{if(c)throw c.error}}return d},u.prototype.entries=function(){var l;return n(this,function(c){switch(c.label){case 0:l=0,c.label=1;case 1:return l<this.keys.length?[4,[this.keys[l],this._fields[l]]]:[3,4];case 2:c.sent(),c.label=3;case 3:return l++,[3,1];case 4:return[2]}})},u.prototype.values=function(){var l;return n(this,function(c){switch(c.label){case 0:l=0,c.label=1;case 1:return l<this.keys.length?[4,this._fields[l]]:[3,4];case 2:c.sent(),c.label=3;case 3:return l++,[3,1];case 4:return[2]}})},u.prototype[Symbol.iterator]=function(){var l;return n(this,function(c){switch(c.label){case 0:l=0,c.label=1;case 1:return l<this.keys.length?[4,this._fields[l]]:[3,4];case 2:c.sent(),c.label=3;case 3:return l++,[3,1];case 4:return[2]}})},u.prototype.toObject=function(){var l,c,f={};try{for(var d=i(this.entries()),v=d.next();!v.done;v=d.next()){var p=a(v.value,2),m=p[0],w=p[1];f[m]=w}}catch(b){l={error:b}}finally{try{v&&!v.done&&(c=d.return)&&c.call(d)}finally{if(l)throw l.error}}return f},u.prototype.get=function(l){var c;if(typeof l!="number"){if((c=this._fieldLookup[l])===void 0)throw(0,o.newError)("This record has no field with key '".concat(l.toString(),"', available keys are: [")+this.keys.toString()+"].")}else c=l;if(c>this._fields.length-1||c<0)throw(0,o.newError)("This record has no field with index '"+c.toString()+"'. Remember that indexes start at `0`, and make sure your query returns records in the shape you meant it to.");return this._fields[c]},u.prototype.has=function(l){return typeof l=="number"?l>=0&&l<this._fields.length:this._fieldLookup[l]!==void 0},u}();e.default=s},8917:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,n,i){this.keys=t,this.records=n,this.summary=i}},6033:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Stats=e.QueryStatistics=e.ProfiledPlan=e.Plan=e.ServerInfo=e.queryType=void 0;var n=t(6995),i=t(1866),a=function(){function f(d,v,p,m){var w,b,y;this.query={text:d,parameters:v},this.queryType=p.type,this.counters=new u((w=p.stats)!==null&&w!==void 0?w:{}),this.updateStatistics=this.counters,this.plan=(p.plan!=null||p.profile!=null)&&new o((b=p.plan)!==null&&b!==void 0?b:p.profile),this.profile=p.profile!=null&&new s(p.profile),this.notifications=(0,i.buildNotificationsFromMetadata)(p),this.gqlStatusObjects=(0,i.buildGqlStatusObjectFromMetadata)(p),this.server=new l(p.server,m),this.resultConsumedAfter=p.result_consumed_after,this.resultAvailableAfter=p.result_available_after,this.database={name:(y=p.db)!==null&&y!==void 0?y:null}}return f.prototype.hasPlan=function(){return this.plan instanceof o},f.prototype.hasProfile=function(){return this.profile instanceof s},f}(),o=function f(d){this.operatorType=d.operatorType,this.identifiers=d.identifiers,this.arguments=d.args,this.children=d.children!=null?d.children.map(function(v){return new f(v)}):[]};e.Plan=o;var s=function(){function f(d){this.operatorType=d.operatorType,this.identifiers=d.identifiers,this.arguments=d.args,this.dbHits=c("dbHits",d),this.rows=c("rows",d),this.pageCacheMisses=c("pageCacheMisses",d),this.pageCacheHits=c("pageCacheHits",d),this.pageCacheHitRatio=c("pageCacheHitRatio",d),this.time=c("time",d),this.children=d.children!=null?d.children.map(function(v){return new f(v)}):[]}return f.prototype.hasPageCacheStats=function(){return this.pageCacheMisses>0||this.pageCacheHits>0||this.pageCacheHitRatio>0},f}();e.ProfiledPlan=s,e.Stats=function(){this.nodesCreated=0,this.nodesDeleted=0,this.relationshipsCreated=0,this.relationshipsDeleted=0,this.propertiesSet=0,this.labelsAdded=0,this.labelsRemoved=0,this.indexesAdded=0,this.indexesRemoved=0,this.constraintsAdded=0,this.constraintsRemoved=0};var u=function(){function f(d){var v=this;this._stats={nodesCreated:0,nodesDeleted:0,relationshipsCreated:0,relationshipsDeleted:0,propertiesSet:0,labelsAdded:0,labelsRemoved:0,indexesAdded:0,indexesRemoved:0,constraintsAdded:0,constraintsRemoved:0},this._systemUpdates=0,Object.keys(d).forEach(function(p){var m=p.replace(/(-\w)/g,function(w){return w[1].toUpperCase()});m in v._stats?v._stats[m]=n.util.toNumber(d[p]):m==="systemUpdates"?v._systemUpdates=n.util.toNumber(d[p]):m==="containsSystemUpdates"?v._containsSystemUpdates=d[p]:m==="containsUpdates"&&(v._containsUpdates=d[p])}),this._stats=Object.freeze(this._stats)}return f.prototype.containsUpdates=function(){var d=this;return this._containsUpdates!==void 0?this._containsUpdates:Object.keys(this._stats).reduce(function(v,p){return v+d._stats[p]},0)>0},f.prototype.updates=function(){return this._stats},f.prototype.containsSystemUpdates=function(){return this._containsSystemUpdates!==void 0?this._containsSystemUpdates:this._systemUpdates>0},f.prototype.systemUpdates=function(){return this._systemUpdates},f}();e.QueryStatistics=u;var l=function(f,d){f!=null&&(this.address=f.address,this.agent=f.version),this.protocolVersion=d};function c(f,d,v){if(v===void 0&&(v=0),d!==!1&&f in d){var p=d[f];return n.util.toNumber(p)}return v}e.ServerInfo=l,e.queryType={READ_ONLY:"r",READ_WRITE:"rw",WRITE_ONLY:"w",SCHEMA_WRITE:"s"},e.default=a},1573:function(r,e,t){var n=this&&this.__awaiter||function(v,p,m,w){return new(m||(m=Promise))(function(b,y){function _(D){try{A(w.next(D))}catch(R){y(R)}}function S(D){try{A(w.throw(D))}catch(R){y(R)}}function A(D){var R;D.done?b(D.value):(R=D.value,R instanceof m?R:new m(function(k){k(R)})).then(_,S)}A((w=w.apply(v,p||[])).next())})},i=this&&this.__generator||function(v,p){var m,w,b,y,_={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return y={next:S(0),throw:S(1),return:S(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function S(A){return function(D){return function(R){if(m)throw new TypeError("Generator is already executing.");for(;y&&(y=0,R[0]&&(_=0)),_;)try{if(m=1,w&&(b=2&R[0]?w.return:R[0]?w.throw||((b=w.return)&&b.call(w),0):w.next)&&!(b=b.call(w,R[1])).done)return b;switch(w=0,b&&(R=[2&R[0],b.value]),R[0]){case 0:case 1:b=R;break;case 4:return _.label++,{value:R[1],done:!1};case 5:_.label++,w=R[1],R=[0];continue;case 7:R=_.ops.pop(),_.trys.pop();continue;default:if(!((b=(b=_.trys).length>0&&b[b.length-1])||R[0]!==6&&R[0]!==2)){_=0;continue}if(R[0]===3&&(!b||R[1]>b[0]&&R[1]<b[3])){_.label=R[1];break}if(R[0]===6&&_.label<b[1]){_.label=b[1],b=R;break}if(b&&_.label<b[2]){_.label=b[2],_.ops.push(R);break}b[2]&&_.ops.pop(),_.trys.pop();continue}R=p.call(v,_)}catch(k){R=[6,k],w=0}finally{m=b=0}if(5&R[0])throw R[1];return{value:R[0]?R[1]:void 0,done:!0}}([A,D])}}},a=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(e,"__esModule",{value:!0});var o=a(t(8917)),s=t(9691),u=new(function(){function v(){}return v.prototype.eagerResultTransformer=function(){return l},v.prototype.eager=function(){return l},v.prototype.mappedResultTransformer=function(p){return c(p)},v.prototype.mapped=function(p){return c(p)},v.prototype.first=function(){return f},v.prototype.summary=function(){return d},v}());function l(v){return n(this,void 0,void 0,function(){var p,m,w,b;return i(this,function(y){switch(y.label){case 0:return[4,v];case 1:return p=y.sent(),m=p.summary,w=p.records,[4,v.keys()];case 2:return b=y.sent(),[2,new o.default(b,w,m)]}})})}function c(v){var p=this;if(v==null||v.collect==null&&v.map==null)throw(0,s.newError)("Requires a map or/and a collect functions.");return function(m){return n(p,void 0,void 0,function(){return i(this,function(w){switch(w.label){case 0:return[4,new Promise(function(b,y){var _={records:[],keys:[]};m.subscribe({onKeys:function(S){_.keys=S},onNext:function(S){if(v.map!=null){var A=v.map(S);A!==void 0&&_.records.push(A)}else _.records.push(S)},onCompleted:function(S){if(v.collect!=null)b(v.collect(_.records,S,_.keys));else{var A={records:_.records,summary:S,keys:_.keys};b(A)}},onError:function(S){y(S)}})})];case 1:return[2,w.sent()]}})})}}function f(v){return n(this,void 0,void 0,function(){var p,m,w,b;return i(this,function(y){switch(y.label){case 0:return[4,(p=v[Symbol.asyncIterator]()).next()];case 1:m=y.sent(),w=m.value,b=m.done,y.label=2;case 2:return y.trys.push([2,,3,6]),b===!0?[2,void 0]:[2,w];case 3:return p.return==null?[3,5]:[4,p.return()];case 4:y.sent(),y.label=5;case 5:return[7];case 6:return[2]}})})}function d(v){return n(this,void 0,void 0,function(){return i(this,function(p){switch(p.label){case 0:return[4,v.summary()];case 1:return[2,p.sent()]}})})}Object.freeze(u),e.default=u},9512:function(r,e,t){var n,i=this&&this.__awaiter||function(m,w,b,y){return new(b||(b=Promise))(function(_,S){function A(k){try{R(y.next(k))}catch(j){S(j)}}function D(k){try{R(y.throw(k))}catch(j){S(j)}}function R(k){var j;k.done?_(k.value):(j=k.value,j instanceof b?j:new b(function(F){F(j)})).then(A,D)}R((y=y.apply(m,w||[])).next())})},a=this&&this.__generator||function(m,w){var b,y,_,S,A={label:0,sent:function(){if(1&_[0])throw _[1];return _[1]},trys:[],ops:[]};return S={next:D(0),throw:D(1),return:D(2)},typeof Symbol=="function"&&(S[Symbol.iterator]=function(){return this}),S;function D(R){return function(k){return function(j){if(b)throw new TypeError("Generator is already executing.");for(;S&&(S=0,j[0]&&(A=0)),A;)try{if(b=1,y&&(_=2&j[0]?y.return:j[0]?y.throw||((_=y.return)&&_.call(y),0):y.next)&&!(_=_.call(y,j[1])).done)return _;switch(y=0,_&&(j=[2&j[0],_.value]),j[0]){case 0:case 1:_=j;break;case 4:return A.label++,{value:j[1],done:!1};case 5:A.label++,y=j[1],j=[0];continue;case 7:j=A.ops.pop(),A.trys.pop();continue;default:if(!((_=(_=A.trys).length>0&&_[_.length-1])||j[0]!==6&&j[0]!==2)){A=0;continue}if(j[0]===3&&(!_||j[1]>_[0]&&j[1]<_[3])){A.label=j[1];break}if(j[0]===6&&A.label<_[1]){A.label=_[1],_=j;break}if(_&&A.label<_[2]){A.label=_[2],A.ops.push(j);break}_[2]&&A.ops.pop(),A.trys.pop();continue}j=w.call(m,A)}catch(F){j=[6,F],y=0}finally{b=_=0}if(5&j[0])throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}([R,k])}}},o=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(e,"__esModule",{value:!0});var s=o(t(6033)),u=t(6995),l=t(9691),c=u.connectionHolder.EMPTY_CONNECTION_HOLDER,f=function(m){console.log("Uncaught error when processing result: "+m)},d=function(m){},v=function(m){},p=function(){function m(w,b,y,_,S){var A;S===void 0&&(S={high:Number.MAX_VALUE,low:Number.MAX_VALUE}),this[n]="Result",this._stack=(A=new Error("")).stack!=null?A.stack.replace(/^Error(\n\r)*/,""):null,this._streamObserverPromise=w,this._p=null,this._query=b,this._parameters=y??{},this._connectionHolder=_??c,this._keys=null,this._summary=null,this._error=null,this._watermarks=S}return m.prototype.keys=function(){var w=this;return this._keys!==null?Promise.resolve(this._keys):this._error!==null?Promise.reject(this._error):new Promise(function(b,y){w._streamObserverPromise.then(function(_){return _.subscribe(w._decorateObserver({onKeys:function(S){return b(S)},onError:function(S){return y(S)}}))}).catch(y)})},m.prototype.summary=function(){var w=this;return this._summary!==null?Promise.resolve(this._summary):this._error!==null?Promise.reject(this._error):new Promise(function(b,y){w._streamObserverPromise.then(function(_){_.cancel(),_.subscribe(w._decorateObserver({onCompleted:function(S){return b(S)},onError:function(S){return y(S)}}))}).catch(y)})},m.prototype._getOrCreatePromise=function(){var w=this;return this._p==null&&(this._p=new Promise(function(b,y){var _=[],S={onNext:function(A){_.push(A)},onCompleted:function(A){b({records:_,summary:A})},onError:function(A){y(A)}};w.subscribe(S)})),this._p},m.prototype[Symbol.asyncIterator]=function(){var w=this;if(!this.isOpen()){var b=(0,l.newError)("Result is already consumed");return{next:function(){return Promise.reject(b)},peek:function(){return Promise.reject(b)}}}var y={paused:!0,firstRun:!0,finished:!1},_=function(){var D,R;if(y.streaming!=null){var k=(R=(D=y.queuedObserver)===null||D===void 0?void 0:D.size)!==null&&R!==void 0?R:0,j=k>=w._watermarks.high,F=k<=w._watermarks.low;j&&!y.paused?(y.paused=!0,y.streaming.pause()):(F&&y.paused||y.firstRun&&!j)&&(y.firstRun=!1,y.paused=!1,y.streaming.resume())}},S=function(){return i(w,void 0,void 0,function(){var D;return a(this,function(R){switch(R.label){case 0:return y.queuedObserver!==void 0?[3,2]:(y.queuedObserver=this._createQueuedResultObserver(_),D=y,[4,this._subscribe(y.queuedObserver,!0).catch(function(){})]);case 1:D.streaming=R.sent(),_(),R.label=2;case 2:return[2,y.queuedObserver]}})})},A=function(D){if(D===void 0)throw(0,l.newError)("InvalidState: Result stream finished without Summary",l.PROTOCOL_ERROR);return!0};return{next:function(){return i(w,void 0,void 0,function(){var D;return a(this,function(R){switch(R.label){case 0:return y.finished&&A(y.summary)?[2,{done:!0,value:y.summary}]:[4,S()];case 1:return[4,R.sent().dequeue()];case 2:return(D=R.sent()).done===!0&&(y.finished=D.done,y.summary=D.value),[2,D]}})})},return:function(D){return i(w,void 0,void 0,function(){var R,k;return a(this,function(j){switch(j.label){case 0:return y.finished&&A(y.summary)?[2,{done:!0,value:D??y.summary}]:((k=y.streaming)===null||k===void 0||k.cancel(),[4,S()]);case 1:return[4,j.sent().dequeueUntilDone()];case 2:return R=j.sent(),y.finished=!0,R.value=D??R.value,y.summary=R.value,[2,R]}})})},peek:function(){return i(w,void 0,void 0,function(){return a(this,function(D){switch(D.label){case 0:return y.finished&&A(y.summary)?[2,{done:!0,value:y.summary}]:[4,S()];case 1:return[4,D.sent().head()];case 2:return[2,D.sent()]}})})}}},m.prototype.then=function(w,b){return this._getOrCreatePromise().then(w,b)},m.prototype.catch=function(w){return this._getOrCreatePromise().catch(w)},m.prototype.finally=function(w){return this._getOrCreatePromise().finally(w)},m.prototype.subscribe=function(w){this._subscribe(w).catch(function(){})},m.prototype.isOpen=function(){return this._summary===null&&this._error===null},m.prototype._subscribe=function(w,b){b===void 0&&(b=!1);var y=this._decorateObserver(w);return this._streamObserverPromise.then(function(_){return b&&_.pause(),_.subscribe(y),_}).catch(function(_){return y.onError!=null&&y.onError(_),Promise.reject(_)})},m.prototype._decorateObserver=function(w){var b,y,_,S=this,A=(b=w.onCompleted)!==null&&b!==void 0?b:d,D=(y=w.onError)!==null&&y!==void 0?y:f,R=(_=w.onKeys)!==null&&_!==void 0?_:v;return{onNext:w.onNext!=null?w.onNext.bind(w):void 0,onKeys:function(k){return S._keys=k,R.call(w,k)},onCompleted:function(k){S._releaseConnectionAndGetSummary(k).then(function(j){return S._summary!==null?A.call(w,S._summary):(S._summary=j,A.call(w,j))}).catch(D)},onError:function(k){S._connectionHolder.releaseConnection().then(function(){(function(j,F){F!=null&&(j.stack=j.toString()+`
`+F)})(k,S._stack),S._error=k,D.call(w,k)}).catch(D)}}},m.prototype._cancel=function(){this._summary===null&&this._error===null&&this._streamObserverPromise.then(function(w){return w.cancel()}).catch(function(){})},m.prototype._releaseConnectionAndGetSummary=function(w){var b=u.util.validateQueryAndParameters(this._query,this._parameters,{skipAsserts:!0}),y=b.validatedQuery,_=b.params,S=this._connectionHolder;return S.getConnection().then(function(A){return S.releaseConnection().then(function(){return A==null?void 0:A.getProtocolVersion()})},function(A){}).then(function(A){return new s.default(y,_,w,A)})},m.prototype._createQueuedResultObserver=function(w){var b=this;function y(){var k={};return k.promise=new Promise(function(j,F){k.resolve=j,k.reject=F}),k}function _(k){return k instanceof Error}function S(){var k;return i(this,void 0,void 0,function(){var j;return a(this,function(F){switch(F.label){case 0:if(A.length>0){if(j=(k=A.shift())!==null&&k!==void 0?k:(0,l.newError)("Unexpected empty buffer",l.PROTOCOL_ERROR),w(),_(j))throw j;return[2,j]}return D.resolvable=y(),[4,D.resolvable.promise];case 1:return[2,F.sent()]}})})}var A=[],D={resolvable:null},R={onNext:function(k){R._push({done:!1,value:k})},onCompleted:function(k){R._push({done:!0,value:k})},onError:function(k){R._push(k)},_push:function(k){if(D.resolvable!==null){var j=D.resolvable;D.resolvable=null,_(k)?j.reject(k):j.resolve(k)}else A.push(k),w()},dequeue:S,dequeueUntilDone:function(){return i(b,void 0,void 0,function(){var k;return a(this,function(j){switch(j.label){case 0:return[4,S()];case 1:return(k=j.sent()).done===!0?[2,k]:[3,0];case 2:return[2]}})})},head:function(){return i(b,void 0,void 0,function(){var k,j;return a(this,function(F){switch(F.label){case 0:if(A.length>0){if(_(k=A[0]))throw k;return[2,k]}D.resolvable=y(),F.label=1;case 1:return F.trys.push([1,3,4,5]),[4,D.resolvable.promise];case 2:return k=F.sent(),A.unshift(k),[2,k];case 3:throw j=F.sent(),A.unshift(j),j;case 4:return w(),[7];case 5:return[2]}})})},get size(){return A.length}};return R},m}();n=Symbol.toStringTag,e.default=p},5481:function(r,e,t){var n=this&&this.__awaiter||function(S,A,D,R){return new(D||(D=Promise))(function(k,j){function F($){try{q(R.next($))}catch(K){j(K)}}function z($){try{q(R.throw($))}catch(K){j(K)}}function q($){var K;$.done?k($.value):(K=$.value,K instanceof D?K:new D(function(oe){oe(K)})).then(F,z)}q((R=R.apply(S,A||[])).next())})},i=this&&this.__generator||function(S,A){var D,R,k,j,F={label:0,sent:function(){if(1&k[0])throw k[1];return k[1]},trys:[],ops:[]};return j={next:z(0),throw:z(1),return:z(2)},typeof Symbol=="function"&&(j[Symbol.iterator]=function(){return this}),j;function z(q){return function($){return function(K){if(D)throw new TypeError("Generator is already executing.");for(;j&&(j=0,K[0]&&(F=0)),F;)try{if(D=1,R&&(k=2&K[0]?R.return:K[0]?R.throw||((k=R.return)&&k.call(R),0):R.next)&&!(k=k.call(R,K[1])).done)return k;switch(R=0,k&&(K=[2&K[0],k.value]),K[0]){case 0:case 1:k=K;break;case 4:return F.label++,{value:K[1],done:!1};case 5:F.label++,R=K[1],K=[0];continue;case 7:K=F.ops.pop(),F.trys.pop();continue;default:if(!((k=(k=F.trys).length>0&&k[k.length-1])||K[0]!==6&&K[0]!==2)){F=0;continue}if(K[0]===3&&(!k||K[1]>k[0]&&K[1]<k[3])){F.label=K[1];break}if(K[0]===6&&F.label<k[1]){F.label=k[1],k=K;break}if(k&&F.label<k[2]){F.label=k[2],F.ops.push(K);break}k[2]&&F.ops.pop(),F.trys.pop();continue}K=A.call(S,F)}catch(oe){K=[6,oe],R=0}finally{D=k=0}if(5&K[0])throw K[1];return{value:K[0]?K[1]:void 0,done:!0}}([q,$])}}},a=this&&this.__read||function(S,A){var D=typeof Symbol=="function"&&S[Symbol.iterator];if(!D)return S;var R,k,j=D.call(S),F=[];try{for(;(A===void 0||A-- >0)&&!(R=j.next()).done;)F.push(R.value)}catch(z){k={error:z}}finally{try{R&&!R.done&&(D=j.return)&&D.call(j)}finally{if(k)throw k.error}}return F},o=this&&this.__spreadArray||function(S,A,D){if(D||arguments.length===2)for(var R,k=0,j=A.length;k<j;k++)!R&&k in A||(R||(R=Array.prototype.slice.call(A,0,k)),R[k]=A[k]);return S.concat(R||Array.prototype.slice.call(A))},s=this&&this.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(e,"__esModule",{value:!0});var u=t(2696),l=t(6587),c=t(326),f=t(9691),d=s(t(9512)),v=t(3618),p=t(6189),m=t(9730),w=t(754),b=s(t(4569)),y=s(t(5909)),_=function(){function S(A){var D=A.mode,R=A.connectionProvider,k=A.bookmarks,j=A.database,F=A.config,z=A.reactive,q=A.fetchSize,$=A.impersonatedUser,K=A.bookmarkManager,oe=A.notificationFilter,J=A.auth,re=A.log;this._mode=D,this._database=j,this._reactive=z,this._fetchSize=q,this._onDatabaseNameResolved=this._onDatabaseNameResolved.bind(this),this._getConnectionAcquistionBookmarks=this._getConnectionAcquistionBookmarks.bind(this),this._readConnectionHolder=new v.ConnectionHolder({mode:c.ACCESS_MODE_READ,auth:J,database:j,bookmarks:k,connectionProvider:R,impersonatedUser:$,onDatabaseNameResolved:this._onDatabaseNameResolved,getConnectionAcquistionBookmarks:this._getConnectionAcquistionBookmarks,log:re}),this._writeConnectionHolder=new v.ConnectionHolder({mode:c.ACCESS_MODE_WRITE,auth:J,database:j,bookmarks:k,connectionProvider:R,impersonatedUser:$,onDatabaseNameResolved:this._onDatabaseNameResolved,getConnectionAcquistionBookmarks:this._getConnectionAcquistionBookmarks,log:re}),this._open=!0,this._hasTx=!1,this._impersonatedUser=$,this._lastBookmarks=k??m.Bookmarks.empty(),this._configuredBookmarks=this._lastBookmarks,this._transactionExecutor=function(ve){var se,ce=(se=ve==null?void 0:ve.maxTransactionRetryTime)!==null&&se!==void 0?se:null;return new p.TransactionExecutor(ce)}(F),this._databaseNameResolved=this._database!=="";var ae=this._calculateWatermaks();this._lowRecordWatermark=ae.low,this._highRecordWatermark=ae.high,this._results=[],this._bookmarkManager=K,this._notificationFilter=oe,this._log=re}return S.prototype.run=function(A,D,R){var k=this,j=(0,l.validateQueryAndParameters)(A,D),F=j.validatedQuery,z=j.params,q=R!=null?new w.TxConfig(R,this._log):w.TxConfig.empty(),$=this._run(F,z,function(K){return n(k,void 0,void 0,function(){var oe,J=this;return i(this,function(re){switch(re.label){case 0:return[4,this._bookmarks()];case 1:return oe=re.sent(),this._assertSessionIsOpen(),[2,K.run(F,z,{bookmarks:oe,txConfig:q,mode:this._mode,database:this._database,apiTelemetryConfig:{api:c.TELEMETRY_APIS.AUTO_COMMIT_TRANSACTION},impersonatedUser:this._impersonatedUser,afterComplete:function(ae){return J._onCompleteCallback(ae,oe)},reactive:this._reactive,fetchSize:this._fetchSize,lowRecordWatermark:this._lowRecordWatermark,highRecordWatermark:this._highRecordWatermark,notificationFilter:this._notificationFilter})]}})})});return this._results.push($),$},S.prototype._run=function(A,D,R){var k=this._acquireAndConsumeConnection(R),j=k.connectionHolder,F=k.resultPromise.catch(function(q){return Promise.resolve(new u.FailedObserver({error:q}))}),z={high:this._highRecordWatermark,low:this._lowRecordWatermark};return new d.default(F,A,D,j,z)},S.prototype._acquireConnection=function(A){var D=this,R=this._acquireAndConsumeConnection(A),k=R.connectionHolder;return R.resultPromise.then(function(j){return n(D,void 0,void 0,function(){return i(this,function(F){switch(F.label){case 0:return[4,k.releaseConnection()];case 1:return F.sent(),[2,j]}})})})},S.prototype._acquireAndConsumeConnection=function(A){var D,R=this._connectionHolderWithMode(this._mode);return D=this._open?!this._hasTx&&R.initializeConnection()?R.getConnection().then(function(k){return A(k)}):Promise.reject((0,f.newError)("Queries cannot be run directly on a session with an open transaction; either run from within the transaction or use a different session.")):Promise.reject((0,f.newError)("Cannot run query in a closed session.")),{connectionHolder:R,resultPromise:D}},S.prototype.beginTransaction=function(A){var D=A,R=w.TxConfig.empty();return D!=null&&(R=new w.TxConfig(D,this._log)),this._beginTransaction(this._mode,R,{api:c.TELEMETRY_APIS.UNMANAGED_TRANSACTION})},S.prototype._beginTransaction=function(A,D,R){var k=this;if(!this._open)throw(0,f.newError)("Cannot begin a transaction on a closed session.");if(this._hasTx)throw(0,f.newError)("You cannot begin a transaction on a session with an open transaction; either run from within the transaction or use a different session.");var j=S._validateSessionMode(A),F=this._connectionHolderWithMode(j);F.initializeConnection(),this._hasTx=!0;var z=new b.default({connectionHolder:F,impersonatedUser:this._impersonatedUser,onClose:this._transactionClosed.bind(this),onBookmarks:function(q,$,K){return k._updateBookmarks(q,$,K)},onConnection:this._assertSessionIsOpen.bind(this),reactive:this._reactive,fetchSize:this._fetchSize,lowRecordWatermark:this._lowRecordWatermark,highRecordWatermark:this._highRecordWatermark,notificationFilter:this._notificationFilter,apiTelemetryConfig:R});return z._begin(function(){return k._bookmarks()},D),z},S.prototype._assertSessionIsOpen=function(){if(!this._open)throw(0,f.newError)("You cannot run more transactions on a closed session.")},S.prototype._transactionClosed=function(){this._hasTx=!1},S.prototype.lastBookmark=function(){return this.lastBookmarks()},S.prototype.lastBookmarks=function(){return this._lastBookmarks.values()},S.prototype._bookmarks=function(){var A;return n(this,void 0,void 0,function(){var D;return i(this,function(R){switch(R.label){case 0:return[4,(A=this._bookmarkManager)===null||A===void 0?void 0:A.getBookmarks()];case 1:return(D=R.sent())===void 0?[2,this._lastBookmarks]:[2,new m.Bookmarks(o(o([],a(D),!1),a(this._configuredBookmarks),!1))]}})})},S.prototype.readTransaction=function(A,D){var R=new w.TxConfig(D,this._log);return this._runTransaction(c.ACCESS_MODE_READ,R,A)},S.prototype.writeTransaction=function(A,D){var R=new w.TxConfig(D,this._log);return this._runTransaction(c.ACCESS_MODE_WRITE,R,A)},S.prototype._runTransaction=function(A,D,R){var k=this;return this._transactionExecutor.execute(function(j){return k._beginTransaction(A,D,j)},R)},S.prototype.executeRead=function(A,D){var R=new w.TxConfig(D,this._log);return this._executeInTransaction(c.ACCESS_MODE_READ,R,A)},S.prototype.executeWrite=function(A,D){var R=new w.TxConfig(D,this._log);return this._executeInTransaction(c.ACCESS_MODE_WRITE,R,A)},S.prototype._executeInTransaction=function(A,D,R){var k=this;return this._transactionExecutor.execute(function(j){return k._beginTransaction(A,D,j)},R,y.default.fromTransaction)},S.prototype._onDatabaseNameResolved=function(A){if(!this._databaseNameResolved){var D=A??"";this._database=D,this._readConnectionHolder.setDatabase(D),this._writeConnectionHolder.setDatabase(D),this._databaseNameResolved=!0}},S.prototype._getConnectionAcquistionBookmarks=function(){var A;return n(this,void 0,void 0,function(){var D;return i(this,function(R){switch(R.label){case 0:return[4,(A=this._bookmarkManager)===null||A===void 0?void 0:A.getBookmarks()];case 1:return(D=R.sent())===void 0?[2,this._lastBookmarks]:[2,new m.Bookmarks(o(o([],a(this._configuredBookmarks),!1),a(D),!1))]}})})},S.prototype._updateBookmarks=function(A,D,R){var k,j,F;A==null||A.isEmpty()||((k=this._bookmarkManager)===null||k===void 0||k.updateBookmarks((j=D==null?void 0:D.values())!==null&&j!==void 0?j:[],(F=A==null?void 0:A.values())!==null&&F!==void 0?F:[]).catch(function(){}),this._lastBookmarks=A,this._configuredBookmarks=m.Bookmarks.empty())},S.prototype.close=function(){return n(this,void 0,void 0,function(){return i(this,function(A){switch(A.label){case 0:return this._open?(this._open=!1,this._results.forEach(function(D){return D._cancel()}),this._transactionExecutor.close(),[4,this._readConnectionHolder.close(this._hasTx)]):[3,3];case 1:return A.sent(),[4,this._writeConnectionHolder.close(this._hasTx)];case 2:A.sent(),A.label=3;case 3:return[2]}})})},S.prototype[Symbol.asyncDispose]=function(){return this.close()},S.prototype._connectionHolderWithMode=function(A){if(A===c.ACCESS_MODE_READ)return this._readConnectionHolder;if(A===c.ACCESS_MODE_WRITE)return this._writeConnectionHolder;throw(0,f.newError)("Unknown access mode: "+A)},S.prototype._onCompleteCallback=function(A,D){this._updateBookmarks(new m.Bookmarks(A.bookmark),D,A.db)},S.prototype._calculateWatermaks=function(){return this._fetchSize===c.FETCH_ALL?{low:Number.MAX_VALUE,high:Number.MAX_VALUE}:{low:.3*this._fetchSize,high:.7*this._fetchSize}},S.prototype._configureTransactionExecutor=function(A,D){this._transactionExecutor.pipelineBegin=A,this._transactionExecutor.telemetryApi=D},S._validateSessionMode=function(A){var D=A??c.ACCESS_MODE_WRITE;if(D!==c.ACCESS_MODE_READ&&D!==c.ACCESS_MODE_WRITE)throw(0,f.newError)("Illegal session mode "+D);return D},S}();e.default=_},7093:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isPoint=e.Point=void 0;var n=t(6587),i="__isPoint__",a=function(){function s(u,l,c,f){this.srid=(0,n.assertNumberOrInteger)(u,"SRID"),this.x=(0,n.assertNumber)(l,"X coordinate"),this.y=(0,n.assertNumber)(c,"Y coordinate"),this.z=f==null?f:(0,n.assertNumber)(f,"Z coordinate"),Object.freeze(this)}return s.prototype.toString=function(){return this.z==null||isNaN(this.z)?"Point{srid=".concat(o(this.srid),", x=").concat(o(this.x),", y=").concat(o(this.y),"}"):"Point{srid=".concat(o(this.srid),", x=").concat(o(this.x),", y=").concat(o(this.y),", z=").concat(o(this.z),"}")},s}();function o(s){return Number.isInteger(s)?s.toString()+".0":s.toString()}e.Point=a,Object.defineProperty(a.prototype,i,{value:!0,enumerable:!1,configurable:!1,writable:!1}),e.isPoint=function(s){return s!=null&&s[i]===!0}},5459:function(r,e,t){var n=this&&this.__createBinding||(Object.create?function(z,q,$,K){K===void 0&&(K=$);var oe=Object.getOwnPropertyDescriptor(q,$);oe&&!("get"in oe?!q.__esModule:oe.writable||oe.configurable)||(oe={enumerable:!0,get:function(){return q[$]}}),Object.defineProperty(z,K,oe)}:function(z,q,$,K){K===void 0&&(K=$),z[K]=q[$]}),i=this&&this.__setModuleDefault||(Object.create?function(z,q){Object.defineProperty(z,"default",{enumerable:!0,value:q})}:function(z,q){z.default=q}),a=this&&this.__importStar||function(z){if(z&&z.__esModule)return z;var q={};if(z!=null)for(var $ in z)$!=="default"&&Object.prototype.hasOwnProperty.call(z,$)&&n(q,z,$);return i(q,z),q},o=this&&this.__read||function(z,q){var $=typeof Symbol=="function"&&z[Symbol.iterator];if(!$)return z;var K,oe,J=$.call(z),re=[];try{for(;(q===void 0||q-- >0)&&!(K=J.next()).done;)re.push(K.value)}catch(ae){oe={error:ae}}finally{try{K&&!K.done&&($=J.return)&&$.call(J)}finally{if(oe)throw oe.error}}return re};Object.defineProperty(e,"__esModule",{value:!0}),e.isDateTime=e.DateTime=e.isLocalDateTime=e.LocalDateTime=e.isDate=e.Date=e.isTime=e.Time=e.isLocalTime=e.LocalTime=e.isDuration=e.Duration=void 0;var s=a(t(5022)),u=t(6587),l=t(9691),c=a(t(3371)),f={value:!0,enumerable:!1,configurable:!1,writable:!1},d="__isDuration__",v="__isLocalTime__",p="__isTime__",m="__isDate__",w="__isLocalDateTime__",b="__isDateTime__",y=function(){function z(q,$,K,oe){this.months=(0,u.assertNumberOrInteger)(q,"Months"),this.days=(0,u.assertNumberOrInteger)($,"Days"),(0,u.assertNumberOrInteger)(K,"Seconds"),(0,u.assertNumberOrInteger)(oe,"Nanoseconds"),this.seconds=s.normalizeSecondsForDuration(K,oe),this.nanoseconds=s.normalizeNanosecondsForDuration(oe),Object.freeze(this)}return z.prototype.toString=function(){return s.durationToIsoString(this.months,this.days,this.seconds,this.nanoseconds)},z}();e.Duration=y,Object.defineProperty(y.prototype,d,f),e.isDuration=function(z){return k(z,d)};var _=function(){function z(q,$,K,oe){this.hour=s.assertValidHour(q),this.minute=s.assertValidMinute($),this.second=s.assertValidSecond(K),this.nanosecond=s.assertValidNanosecond(oe),Object.freeze(this)}return z.fromStandardDate=function(q,$){F(q,$);var K=s.totalNanoseconds(q,$);return new z(q.getHours(),q.getMinutes(),q.getSeconds(),K instanceof c.default?K.toInt():typeof K=="bigint"?(0,c.int)(K).toInt():K)},z.prototype.toString=function(){return s.timeToIsoString(this.hour,this.minute,this.second,this.nanosecond)},z}();e.LocalTime=_,Object.defineProperty(_.prototype,v,f),e.isLocalTime=function(z){return k(z,v)};var S=function(){function z(q,$,K,oe,J){this.hour=s.assertValidHour(q),this.minute=s.assertValidMinute($),this.second=s.assertValidSecond(K),this.nanosecond=s.assertValidNanosecond(oe),this.timeZoneOffsetSeconds=(0,u.assertNumberOrInteger)(J,"Time zone offset in seconds"),Object.freeze(this)}return z.fromStandardDate=function(q,$){return F(q,$),new z(q.getHours(),q.getMinutes(),q.getSeconds(),(0,c.toNumber)(s.totalNanoseconds(q,$)),s.timeZoneOffsetInSeconds(q))},z.prototype.toString=function(){return s.timeToIsoString(this.hour,this.minute,this.second,this.nanosecond)+s.timeZoneOffsetToIsoString(this.timeZoneOffsetSeconds)},z}();e.Time=S,Object.defineProperty(S.prototype,p,f),e.isTime=function(z){return k(z,p)};var A=function(){function z(q,$,K){this.year=s.assertValidYear(q),this.month=s.assertValidMonth($),this.day=s.assertValidDay(K),Object.freeze(this)}return z.fromStandardDate=function(q){return F(q),new z(q.getFullYear(),q.getMonth()+1,q.getDate())},z.prototype.toStandardDate=function(){return s.isoStringToStandardDate(this.toString())},z.prototype.toString=function(){return s.dateToIsoString(this.year,this.month,this.day)},z}();e.Date=A,Object.defineProperty(A.prototype,m,f),e.isDate=function(z){return k(z,m)};var D=function(){function z(q,$,K,oe,J,re,ae){this.year=s.assertValidYear(q),this.month=s.assertValidMonth($),this.day=s.assertValidDay(K),this.hour=s.assertValidHour(oe),this.minute=s.assertValidMinute(J),this.second=s.assertValidSecond(re),this.nanosecond=s.assertValidNanosecond(ae),Object.freeze(this)}return z.fromStandardDate=function(q,$){return F(q,$),new z(q.getFullYear(),q.getMonth()+1,q.getDate(),q.getHours(),q.getMinutes(),q.getSeconds(),(0,c.toNumber)(s.totalNanoseconds(q,$)))},z.prototype.toStandardDate=function(){return s.isoStringToStandardDate(this.toString())},z.prototype.toString=function(){return j(this.year,this.month,this.day,this.hour,this.minute,this.second,this.nanosecond)},z}();e.LocalDateTime=D,Object.defineProperty(D.prototype,w,f),e.isLocalDateTime=function(z){return k(z,w)};var R=function(){function z(q,$,K,oe,J,re,ae,ve,se){this.year=s.assertValidYear(q),this.month=s.assertValidMonth($),this.day=s.assertValidDay(K),this.hour=s.assertValidHour(oe),this.minute=s.assertValidMinute(J),this.second=s.assertValidSecond(re),this.nanosecond=s.assertValidNanosecond(ae);var ce=o(function(de,ge){var Ce=de!=null,Ne=ge!=null&&ge!=="";if(!Ce&&!Ne)throw(0,l.newError)("Unable to create DateTime without either time zone offset or id. Please specify either of them. Given offset: ".concat(de," and id: ").concat(ge));var De=[void 0,void 0];return Ce&&((0,u.assertNumberOrInteger)(de,"Time zone offset in seconds"),De[0]=de),Ne&&((0,u.assertString)(ge,"Time zone ID"),s.assertValidZoneId("Time zone ID",ge),De[1]=ge),De}(ve,se),2),pe=ce[0],Pe=ce[1];this.timeZoneOffsetSeconds=pe,this.timeZoneId=Pe??void 0,Object.freeze(this)}return z.fromStandardDate=function(q,$){return F(q,$),new z(q.getFullYear(),q.getMonth()+1,q.getDate(),q.getHours(),q.getMinutes(),q.getSeconds(),(0,c.toNumber)(s.totalNanoseconds(q,$)),s.timeZoneOffsetInSeconds(q),null)},z.prototype.toStandardDate=function(){return s.toStandardDate(this._toUTC())},z.prototype.toString=function(){var q;return j(this.year,this.month,this.day,this.hour,this.minute,this.second,this.nanosecond)+(this.timeZoneOffsetSeconds!=null?s.timeZoneOffsetToIsoString((q=this.timeZoneOffsetSeconds)!==null&&q!==void 0?q:0):"")+(this.timeZoneId!=null?"[".concat(this.timeZoneId,"]"):"")},z.prototype._toUTC=function(){var q;if(this.timeZoneOffsetSeconds===void 0)throw new Error("Requires DateTime created with time zone offset");var $=s.localDateTimeToEpochSecond(this.year,this.month,this.day,this.hour,this.minute,this.second,this.nanosecond).subtract((q=this.timeZoneOffsetSeconds)!==null&&q!==void 0?q:0);return(0,c.int)($).multiply(1e3).add((0,c.int)(this.nanosecond).div(1e6)).toNumber()},z}();function k(z,q){return z!=null&&z[q]===!0}function j(z,q,$,K,oe,J,re){return s.dateToIsoString(z,q,$)+"T"+s.timeToIsoString(K,oe,J,re)}function F(z,q){(0,u.assertValidDate)(z,"Standard date"),q!=null&&(0,u.assertNumberOrInteger)(q,"Nanosecond")}e.DateTime=R,Object.defineProperty(R.prototype,b,f),e.isDateTime=function(z){return k(z,b)}},5909:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function n(i){var a=i.run;this._run=a}return n.fromTransaction=function(i){return new n({run:i.run.bind(i)})},n.prototype.run=function(i,a){return this._run(i,a)},n}();e.default=t},4569:function(r,e,t){var n,i,a=this&&this.__extends||(n=function(l,c){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var v in d)Object.prototype.hasOwnProperty.call(d,v)&&(f[v]=d[v])},n(l,c)},function(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function f(){this.constructor=l}n(l,c),l.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}),o=this&&this.__assign||function(){return o=Object.assign||function(l){for(var c,f=1,d=arguments.length;f<d;f++)for(var v in c=arguments[f])Object.prototype.hasOwnProperty.call(c,v)&&(l[v]=c[v]);return l},o.apply(this,arguments)},s=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0});var u=function(l){function c(f){var d=f.connectionHolder,v=f.onClose,p=f.onBookmarks,m=f.onConnection,w=f.reactive,b=f.fetchSize,y=f.impersonatedUser,_=f.highRecordWatermark,S=f.lowRecordWatermark,A=f.notificationFilter,D=f.apiTelemetryConfig,R=l.call(this,{connectionHolder:d,onClose:v,onBookmarks:p,onConnection:m,reactive:w,fetchSize:b,impersonatedUser:y,highRecordWatermark:_,lowRecordWatermark:S,notificationFilter:A,apiTelemetryConfig:D})||this;return R[i]="TransactionPromise",R}return a(c,l),c.prototype.then=function(f,d){return this._getOrCreateBeginPromise().then(f,d)},c.prototype.catch=function(f){return this._getOrCreateBeginPromise().catch(f)},c.prototype.finally=function(f){return this._getOrCreateBeginPromise().finally(f)},c.prototype._getOrCreateBeginPromise=function(){var f=this;return this._beginPromise==null&&(this._beginPromise=new Promise(function(d,v){f._resolve=d,f._reject=v,f._beginError!=null&&v(f._beginError),f._beginMetadata!=null&&d(f._toTransaction())})),this._beginPromise},c.prototype._toTransaction=function(){return o(o({},this),{run:l.prototype.run.bind(this),commit:l.prototype.commit.bind(this),rollback:l.prototype.rollback.bind(this),close:l.prototype.close.bind(this),isOpen:l.prototype.isOpen.bind(this),_begin:this._begin.bind(this)})},c.prototype._begin=function(f,d){return l.prototype._begin.call(this,f,d,{onError:this._onBeginError.bind(this),onComplete:this._onBeginMetadata.bind(this)})},c.prototype._onBeginError=function(f){this._beginError=f,this._reject!=null&&this._reject(f)},c.prototype._onBeginMetadata=function(f){this._beginMetadata=f??{},this._resolve!=null&&this._resolve(this._toTransaction())},c}(s(t(9473)).default);i=Symbol.toStringTag,e.default=u},9473:function(r,e,t){var n=this&&this.__awaiter||function(b,y,_,S){return new(_||(_=Promise))(function(A,D){function R(F){try{j(S.next(F))}catch(z){D(z)}}function k(F){try{j(S.throw(F))}catch(z){D(z)}}function j(F){var z;F.done?A(F.value):(z=F.value,z instanceof _?z:new _(function(q){q(z)})).then(R,k)}j((S=S.apply(b,y||[])).next())})},i=this&&this.__generator||function(b,y){var _,S,A,D,R={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return D={next:k(0),throw:k(1),return:k(2)},typeof Symbol=="function"&&(D[Symbol.iterator]=function(){return this}),D;function k(j){return function(F){return function(z){if(_)throw new TypeError("Generator is already executing.");for(;D&&(D=0,z[0]&&(R=0)),R;)try{if(_=1,S&&(A=2&z[0]?S.return:z[0]?S.throw||((A=S.return)&&A.call(S),0):S.next)&&!(A=A.call(S,z[1])).done)return A;switch(S=0,A&&(z=[2&z[0],A.value]),z[0]){case 0:case 1:A=z;break;case 4:return R.label++,{value:z[1],done:!1};case 5:R.label++,S=z[1],z=[0];continue;case 7:z=R.ops.pop(),R.trys.pop();continue;default:if(!((A=(A=R.trys).length>0&&A[A.length-1])||z[0]!==6&&z[0]!==2)){R=0;continue}if(z[0]===3&&(!A||z[1]>A[0]&&z[1]<A[3])){R.label=z[1];break}if(z[0]===6&&R.label<A[1]){R.label=A[1],A=z;break}if(A&&R.label<A[2]){R.label=A[2],R.ops.push(z);break}A[2]&&R.ops.pop(),R.trys.pop();continue}z=y.call(b,R)}catch(q){z=[6,q],S=0}finally{_=A=0}if(5&z[0])throw z[1];return{value:z[0]?z[1]:void 0,done:!0}}([j,F])}}},a=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(e,"__esModule",{value:!0});var o=t(6587),s=t(3618),u=t(9730),l=t(754),c=t(2696),f=t(9691),d=a(t(9512)),v=function(){function b(y){var _=y.connectionHolder,S=y.onClose,A=y.onBookmarks,D=y.onConnection,R=y.reactive,k=y.fetchSize,j=y.impersonatedUser,F=y.highRecordWatermark,z=y.lowRecordWatermark,q=y.notificationFilter,$=y.apiTelemetryConfig,K=this;this._connectionHolder=_,this._reactive=R,this._state=p.ACTIVE,this._onClose=S,this._onBookmarks=A,this._onConnection=D,this._onError=this._onErrorCallback.bind(this),this._fetchSize=k,this._onComplete=this._onCompleteCallback.bind(this),this._results=[],this._impersonatedUser=j,this._lowRecordWatermak=z,this._highRecordWatermark=F,this._bookmarks=u.Bookmarks.empty(),this._notificationFilter=q,this._apiTelemetryConfig=$,this._acceptActive=function(){},this._activePromise=new Promise(function(oe,J){K._acceptActive=oe})}return b.prototype._begin=function(y,_,S){var A=this;this._connectionHolder.getConnection().then(function(D){return n(A,void 0,void 0,function(){var R,k=this;return i(this,function(j){switch(j.label){case 0:return this._onConnection(),D==null?[3,2]:(R=this,[4,y()]);case 1:return R._bookmarks=j.sent(),[2,D.beginTransaction({bookmarks:this._bookmarks,txConfig:_,mode:this._connectionHolder.mode(),database:this._connectionHolder.database(),impersonatedUser:this._impersonatedUser,notificationFilter:this._notificationFilter,apiTelemetryConfig:this._apiTelemetryConfig,beforeError:function(F){S!=null&&S.onError(F),k._onError(F).catch(function(){})},afterComplete:function(F){S!=null&&S.onComplete(F),k._onComplete(F)}})];case 2:throw(0,f.newError)("No connection available")}})})}).catch(function(D){S!=null&&S.onError(D),A._onError(D).catch(function(){})}).finally(function(){return A._acceptActive()})},b.prototype.run=function(y,_){var S=(0,o.validateQueryAndParameters)(y,_),A=S.validatedQuery,D=S.params,R=this._state.run(A,D,{connectionHolder:this._connectionHolder,onError:this._onError,onComplete:this._onComplete,onConnection:this._onConnection,reactive:this._reactive,fetchSize:this._fetchSize,highRecordWatermark:this._highRecordWatermark,lowRecordWatermark:this._lowRecordWatermak,preparationJob:this._activePromise});return this._results.push(R),R},b.prototype.commit=function(){var y=this,_=this._state.commit({connectionHolder:this._connectionHolder,onError:this._onError,onComplete:function(S){return y._onCompleteCallback(S,y._bookmarks)},onConnection:this._onConnection,pendingResults:this._results,preparationJob:this._activePromise});return this._state=_.state,this._onClose(),new Promise(function(S,A){_.result.subscribe({onCompleted:function(){return S()},onError:function(D){return A(D)}})})},b.prototype.rollback=function(){var y=this._state.rollback({connectionHolder:this._connectionHolder,onError:this._onError,onComplete:this._onComplete,onConnection:this._onConnection,pendingResults:this._results,preparationJob:this._activePromise});return this._state=y.state,this._onClose(),new Promise(function(_,S){y.result.subscribe({onCompleted:function(){return _()},onError:function(A){return S(A)}})})},b.prototype.isOpen=function(){return this._state===p.ACTIVE},b.prototype.close=function(){return n(this,void 0,void 0,function(){return i(this,function(y){switch(y.label){case 0:return this.isOpen()?[4,this.rollback()]:[3,2];case 1:y.sent(),y.label=2;case 2:return[2]}})})},b.prototype[Symbol.asyncDispose]=function(){return this.close()},b.prototype._onErrorCallback=function(y){return this._state===p.FAILED?Promise.resolve(null):(this._state=p.FAILED,this._onClose(),this._results.forEach(function(_){_.isOpen()&&_._streamObserverPromise.then(function(S){return S.onError(y)}).catch(function(S){})}),this._connectionHolder.releaseConnection())},b.prototype._onCompleteCallback=function(y,_){this._onBookmarks(new u.Bookmarks(y==null?void 0:y.bookmark),_??u.Bookmarks.empty(),y==null?void 0:y.db)},b}(),p={ACTIVE:{commit:function(b){return{result:m(!0,b.connectionHolder,b.onError,b.onComplete,b.onConnection,b.pendingResults,b.preparationJob),state:p.SUCCEEDED}},rollback:function(b){return{result:m(!1,b.connectionHolder,b.onError,b.onComplete,b.onConnection,b.pendingResults,b.preparationJob),state:p.ROLLED_BACK}},run:function(b,y,_){var S=_.connectionHolder,A=_.onError,D=_.onComplete,R=_.onConnection,k=_.reactive,j=_.fetchSize,F=_.highRecordWatermark,z=_.lowRecordWatermark,q=_.preparationJob,$=q??Promise.resolve();return w(S.getConnection().then(function(K){return $.then(function(){return K})}).then(function(K){if(R(),K!=null)return K.run(b,y,{bookmarks:u.Bookmarks.empty(),txConfig:l.TxConfig.empty(),beforeError:A,afterComplete:D,reactive:k,fetchSize:j,highRecordWatermark:F,lowRecordWatermark:z});throw(0,f.newError)("No connection available")}).catch(function(K){return new c.FailedObserver({error:K,onError:A})}),b,y,S,F,z)}},FAILED:{commit:function(b){var y=b.connectionHolder,_=b.onError;return b.onComplete,{result:w(new c.FailedObserver({error:(0,f.newError)("Cannot commit this transaction, because it has been rolled back either because of an error or explicit termination."),onError:_}),"COMMIT",{},y,0,0),state:p.FAILED}},rollback:function(b){var y=b.connectionHolder;return b.onError,b.onComplete,{result:w(new c.CompletedObserver,"ROLLBACK",{},y,0,0),state:p.FAILED}},run:function(b,y,_){var S=_.connectionHolder,A=_.onError;return _.onComplete,w(new c.FailedObserver({error:(0,f.newError)("Cannot run query in this transaction, because it has been rolled back either because of an error or explicit termination."),onError:A}),b,y,S,0,0)}},SUCCEEDED:{commit:function(b){var y=b.connectionHolder,_=b.onError;return b.onComplete,{result:w(new c.FailedObserver({error:(0,f.newError)("Cannot commit this transaction, because it has already been committed."),onError:_}),"COMMIT",{},s.EMPTY_CONNECTION_HOLDER,0,0),state:p.SUCCEEDED,connectionHolder:y}},rollback:function(b){var y=b.connectionHolder,_=b.onError;return b.onComplete,{result:w(new c.FailedObserver({error:(0,f.newError)("Cannot rollback this transaction, because it has already been committed."),onError:_}),"ROLLBACK",{},s.EMPTY_CONNECTION_HOLDER,0,0),state:p.SUCCEEDED,connectionHolder:y}},run:function(b,y,_){var S=_.connectionHolder,A=_.onError;return _.onComplete,w(new c.FailedObserver({error:(0,f.newError)("Cannot run query in this transaction, because it has already been committed."),onError:A}),b,y,S,0,0)}},ROLLED_BACK:{commit:function(b){var y=b.connectionHolder,_=b.onError;return b.onComplete,{result:w(new c.FailedObserver({error:(0,f.newError)("Cannot commit this transaction, because it has already been rolled back."),onError:_}),"COMMIT",{},y,0,0),state:p.ROLLED_BACK}},rollback:function(b){var y=b.connectionHolder;return b.onError,b.onComplete,{result:w(new c.FailedObserver({error:(0,f.newError)("Cannot rollback this transaction, because it has already been rolled back.")}),"ROLLBACK",{},y,0,0),state:p.ROLLED_BACK}},run:function(b,y,_){var S=_.connectionHolder,A=_.onError;return _.onComplete,w(new c.FailedObserver({error:(0,f.newError)("Cannot run query in this transaction, because it has already been rolled back."),onError:A}),b,y,S,0,0)}}};function m(b,y,_,S,A,D,R){var k=R??Promise.resolve(),j=y.getConnection().then(function(F){return k.then(function(){return F})}).then(function(F){return A(),D.forEach(function(z){return z._cancel()}),Promise.all(D.map(function(z){return z.summary()})).then(function(z){if(F!=null)return b?F.commitTransaction({beforeError:_,afterComplete:S}):F.rollbackTransaction({beforeError:_,afterComplete:S});throw(0,f.newError)("No connection available")})}).catch(function(F){return new c.FailedObserver({error:F,onError:_})});return new d.default(j,b?"COMMIT":"ROLLBACK",{},y,{high:Number.MAX_VALUE,low:Number.MAX_VALUE})}function w(b,y,_,S,A,D){return S===void 0&&(S=s.EMPTY_CONNECTION_HOLDER),new d.default(Promise.resolve(b),y,_,new s.ReadOnlyConnectionHolder(S??s.EMPTY_CONNECTION_HOLDER),{low:D,high:A})}e.default=v},6872:function(r,e){var t,n=this&&this.__extends||(t=function(o,s){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,l){u.__proto__=l}||function(u,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(u[c]=l[c])},t(o,s)},function(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function u(){this.constructor=o}t(o,s),o.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)});Object.defineProperty(e,"__esModule",{value:!0}),e.InternalConfig=e.Config=void 0;var i=function(){this.encrypted=void 0,this.trust=void 0,this.trustedCertificates=[],this.maxConnectionPoolSize=100,this.maxConnectionLifetime=36e5,this.connectionAcquisitionTimeout=6e4,this.maxTransactionRetryTime=3e4,this.connectionLivenessCheckTimeout=void 0,this.connectionTimeout=3e4,this.disableLosslessIntegers=!1,this.useBigInt=!1,this.logging=void 0,this.resolver=void 0,this.notificationFilter=void 0,this.userAgent=void 0,this.telemetryDisabled=!1,this.clientCertificate=void 0};e.Config=i;var a=function(o){function s(){return o!==null&&o.apply(this,arguments)||this}return n(s,o),s}(i);e.InternalConfig=a},7857:function(r,e,t){var n,i=this&&this.__extends||(n=function(v,p){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,w){m.__proto__=w}||function(m,w){for(var b in w)Object.prototype.hasOwnProperty.call(w,b)&&(m[b]=w[b])},n(v,p)},function(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");function m(){this.constructor=v}n(v,p),v.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}),a=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(e,"__esModule",{value:!0}),e.WRITE=e.READ=e.Driver=void 0;var o=t(9305),s=a(t(3466)),u=o.internal.constants.FETCH_ALL,l=o.driver.READ,c=o.driver.WRITE;e.READ=l,e.WRITE=c;var f=function(v){function p(){return v!==null&&v.apply(this,arguments)||this}return i(p,v),p.prototype.rxSession=function(m){var w=m===void 0?{}:m,b=w.defaultAccessMode,y=b===void 0?c:b,_=w.bookmarks,S=w.database,A=S===void 0?"":S,D=w.fetchSize,R=w.impersonatedUser,k=w.bookmarkManager,j=w.notificationFilter,F=w.auth;return new s.default({session:this._newSession({defaultAccessMode:y,bookmarkOrBookmarks:_,database:A,impersonatedUser:R,auth:F,reactive:!1,fetchSize:d(D,this._config.fetchSize),bookmarkManager:k,notificationFilter:j,log:this._log}),config:this._config,log:this._log})},p}(o.Driver);function d(v,p){var m=parseInt(v,10);if(m>0||m===u)return m;if(m===0||m<0)throw new Error("The fetch size can only be a positive value or ".concat(u," for ALL. However fetchSize = ").concat(m));return p}e.Driver=f,e.default=f},1187:function(r,e,t){var n=this&&this.__awaiter||function(oe,J,re,ae){return new(re||(re=Promise))(function(ve,se){function ce(de){try{Pe(ae.next(de))}catch(ge){se(ge)}}function pe(de){try{Pe(ae.throw(de))}catch(ge){se(ge)}}function Pe(de){var ge;de.done?ve(de.value):(ge=de.value,ge instanceof re?ge:new re(function(Ce){Ce(ge)})).then(ce,pe)}Pe((ae=ae.apply(oe,J||[])).next())})},i=this&&this.__generator||function(oe,J){var re,ae,ve,se,ce={label:0,sent:function(){if(1&ve[0])throw ve[1];return ve[1]},trys:[],ops:[]};return se={next:pe(0),throw:pe(1),return:pe(2)},typeof Symbol=="function"&&(se[Symbol.iterator]=function(){return this}),se;function pe(Pe){return function(de){return function(ge){if(re)throw new TypeError("Generator is already executing.");for(;se&&(se=0,ge[0]&&(ce=0)),ce;)try{if(re=1,ae&&(ve=2&ge[0]?ae.return:ge[0]?ae.throw||((ve=ae.return)&&ve.call(ae),0):ae.next)&&!(ve=ve.call(ae,ge[1])).done)return ve;switch(ae=0,ve&&(ge=[2&ge[0],ve.value]),ge[0]){case 0:case 1:ve=ge;break;case 4:return ce.label++,{value:ge[1],done:!1};case 5:ce.label++,ae=ge[1],ge=[0];continue;case 7:ge=ce.ops.pop(),ce.trys.pop();continue;default:if(!((ve=(ve=ce.trys).length>0&&ve[ve.length-1])||ge[0]!==6&&ge[0]!==2)){ce=0;continue}if(ge[0]===3&&(!ve||ge[1]>ve[0]&&ge[1]<ve[3])){ce.label=ge[1];break}if(ge[0]===6&&ce.label<ve[1]){ce.label=ve[1],ve=ge;break}if(ve&&ce.label<ve[2]){ce.label=ve[2],ce.ops.push(ge);break}ve[2]&&ce.ops.pop(),ce.trys.pop();continue}ge=J.call(oe,ce)}catch(Ce){ge=[6,Ce],ae=0}finally{re=ve=0}if(5&ge[0])throw ge[1];return{value:ge[0]?ge[1]:void 0,done:!0}}([Pe,de])}}},a=this&&this.__importDefault||function(oe){return oe&&oe.__esModule?oe:{default:oe}};Object.defineProperty(e,"__esModule",{value:!0}),e.UnboundRelationship=e.Relationship=e.Node=e.Record=e.ServerInfo=e.GqlStatusObject=e.Notification=e.QueryStatistics=e.ProfiledPlan=e.Plan=e.ResultSummary=e.RxResult=e.RxManagedTransaction=e.RxTransaction=e.RxSession=e.EagerResult=e.Result=e.ManagedTransaction=e.Transaction=e.Session=e.Driver=e.temporal=e.spatial=e.graph=e.error=e.routing=e.session=e.types=e.logging=e.auth=e.isRetryableError=e.Neo4jError=e.integer=e.isUnboundRelationship=e.isRelationship=e.isPathSegment=e.isPath=e.isNode=e.isDateTime=e.isLocalDateTime=e.isDate=e.isTime=e.isLocalTime=e.isDuration=e.isPoint=e.isInt=e.int=e.hasReachableServer=e.driver=e.authTokenManagers=void 0,e.clientCertificateProviders=e.notificationFilterMinimumSeverityLevel=e.notificationFilterDisabledClassification=e.notificationFilterDisabledCategory=e.notificationSeverityLevel=e.notificationClassification=e.notificationCategory=e.resultTransformers=e.bookmarkManager=e.DateTime=e.LocalDateTime=e.Date=e.Time=e.LocalTime=e.Duration=e.Integer=e.Point=e.PathSegment=e.Path=void 0;var o=t(7857);Object.defineProperty(e,"Driver",{enumerable:!0,get:function(){return o.Driver}});var s=a(t(3659)),u=t(9305);Object.defineProperty(e,"authTokenManagers",{enumerable:!0,get:function(){return u.authTokenManagers}}),Object.defineProperty(e,"Neo4jError",{enumerable:!0,get:function(){return u.Neo4jError}}),Object.defineProperty(e,"isRetryableError",{enumerable:!0,get:function(){return u.isRetryableError}}),Object.defineProperty(e,"error",{enumerable:!0,get:function(){return u.error}}),Object.defineProperty(e,"Integer",{enumerable:!0,get:function(){return u.Integer}}),Object.defineProperty(e,"int",{enumerable:!0,get:function(){return u.int}}),Object.defineProperty(e,"isInt",{enumerable:!0,get:function(){return u.isInt}}),Object.defineProperty(e,"isPoint",{enumerable:!0,get:function(){return u.isPoint}}),Object.defineProperty(e,"Point",{enumerable:!0,get:function(){return u.Point}}),Object.defineProperty(e,"Date",{enumerable:!0,get:function(){return u.Date}}),Object.defineProperty(e,"DateTime",{enumerable:!0,get:function(){return u.DateTime}}),Object.defineProperty(e,"Duration",{enumerable:!0,get:function(){return u.Duration}}),Object.defineProperty(e,"isDate",{enumerable:!0,get:function(){return u.isDate}}),Object.defineProperty(e,"isDateTime",{enumerable:!0,get:function(){return u.isDateTime}}),Object.defineProperty(e,"isDuration",{enumerable:!0,get:function(){return u.isDuration}}),Object.defineProperty(e,"isLocalDateTime",{enumerable:!0,get:function(){return u.isLocalDateTime}}),Object.defineProperty(e,"isLocalTime",{enumerable:!0,get:function(){return u.isLocalTime}}),Object.defineProperty(e,"isNode",{enumerable:!0,get:function(){return u.isNode}}),Object.defineProperty(e,"isPath",{enumerable:!0,get:function(){return u.isPath}}),Object.defineProperty(e,"isPathSegment",{enumerable:!0,get:function(){return u.isPathSegment}}),Object.defineProperty(e,"isRelationship",{enumerable:!0,get:function(){return u.isRelationship}}),Object.defineProperty(e,"isTime",{enumerable:!0,get:function(){return u.isTime}}),Object.defineProperty(e,"isUnboundRelationship",{enumerable:!0,get:function(){return u.isUnboundRelationship}}),Object.defineProperty(e,"LocalDateTime",{enumerable:!0,get:function(){return u.LocalDateTime}}),Object.defineProperty(e,"LocalTime",{enumerable:!0,get:function(){return u.LocalTime}}),Object.defineProperty(e,"Time",{enumerable:!0,get:function(){return u.Time}}),Object.defineProperty(e,"Node",{enumerable:!0,get:function(){return u.Node}}),Object.defineProperty(e,"Path",{enumerable:!0,get:function(){return u.Path}}),Object.defineProperty(e,"PathSegment",{enumerable:!0,get:function(){return u.PathSegment}}),Object.defineProperty(e,"Relationship",{enumerable:!0,get:function(){return u.Relationship}}),Object.defineProperty(e,"UnboundRelationship",{enumerable:!0,get:function(){return u.UnboundRelationship}}),Object.defineProperty(e,"Record",{enumerable:!0,get:function(){return u.Record}}),Object.defineProperty(e,"ResultSummary",{enumerable:!0,get:function(){return u.ResultSummary}}),Object.defineProperty(e,"Plan",{enumerable:!0,get:function(){return u.Plan}}),Object.defineProperty(e,"ProfiledPlan",{enumerable:!0,get:function(){return u.ProfiledPlan}}),Object.defineProperty(e,"QueryStatistics",{enumerable:!0,get:function(){return u.QueryStatistics}}),Object.defineProperty(e,"Notification",{enumerable:!0,get:function(){return u.Notification}}),Object.defineProperty(e,"GqlStatusObject",{enumerable:!0,get:function(){return u.GqlStatusObject}}),Object.defineProperty(e,"ServerInfo",{enumerable:!0,get:function(){return u.ServerInfo}}),Object.defineProperty(e,"Result",{enumerable:!0,get:function(){return u.Result}}),Object.defineProperty(e,"EagerResult",{enumerable:!0,get:function(){return u.EagerResult}}),Object.defineProperty(e,"auth",{enumerable:!0,get:function(){return u.auth}}),Object.defineProperty(e,"Session",{enumerable:!0,get:function(){return u.Session}}),Object.defineProperty(e,"Transaction",{enumerable:!0,get:function(){return u.Transaction}}),Object.defineProperty(e,"ManagedTransaction",{enumerable:!0,get:function(){return u.ManagedTransaction}}),Object.defineProperty(e,"bookmarkManager",{enumerable:!0,get:function(){return u.bookmarkManager}}),Object.defineProperty(e,"routing",{enumerable:!0,get:function(){return u.routing}}),Object.defineProperty(e,"resultTransformers",{enumerable:!0,get:function(){return u.resultTransformers}}),Object.defineProperty(e,"notificationCategory",{enumerable:!0,get:function(){return u.notificationCategory}}),Object.defineProperty(e,"notificationClassification",{enumerable:!0,get:function(){return u.notificationClassification}}),Object.defineProperty(e,"notificationSeverityLevel",{enumerable:!0,get:function(){return u.notificationSeverityLevel}}),Object.defineProperty(e,"notificationFilterDisabledCategory",{enumerable:!0,get:function(){return u.notificationFilterDisabledCategory}}),Object.defineProperty(e,"notificationFilterDisabledClassification",{enumerable:!0,get:function(){return u.notificationFilterDisabledClassification}}),Object.defineProperty(e,"notificationFilterMinimumSeverityLevel",{enumerable:!0,get:function(){return u.notificationFilterMinimumSeverityLevel}}),Object.defineProperty(e,"clientCertificateProviders",{enumerable:!0,get:function(){return u.clientCertificateProviders}});var l=t(6672),c=a(t(3466));e.RxSession=c.default;var f=a(t(5742));e.RxTransaction=f.default;var d=a(t(1530));e.RxManagedTransaction=d.default;var v=a(t(3057));e.RxResult=v.default;var p=u.internal.util,m=p.ENCRYPTION_ON,w=p.assertString,b=p.isEmptyObjectOrNull,y=u.internal.serverAddress.ServerAddress,_=u.internal.urlUtil,S="neo4j-javascript/"+s.default;function A(oe,J,re){re===void 0&&(re={}),w(oe,"Bolt URL");var ae,ve=_.parseDatabaseUrl(oe),se=!1,ce=!1;switch(ve.scheme){case"bolt":break;case"bolt+s":ce=!0,ae="TRUST_SYSTEM_CA_SIGNED_CERTIFICATES";break;case"bolt+ssc":ce=!0,ae="TRUST_ALL_CERTIFICATES";break;case"neo4j":se=!0;break;case"neo4j+s":ce=!0,ae="TRUST_SYSTEM_CA_SIGNED_CERTIFICATES",se=!0;break;case"neo4j+ssc":ce=!0,ae="TRUST_ALL_CERTIFICATES",se=!0;break;default:throw new Error("Unknown scheme: ".concat(ve.scheme))}if(ce){if("encrypted"in re||"trust"in re)throw new Error("Encryption/trust can only be configured either through URL or config, not both");re.encrypted=m,re.trust=ae,re.clientCertificate=(0,u.resolveCertificateProvider)(re.clientCertificate)}var pe=function(ge){if(typeof(Ce=ge)=="object"&&Ce!=null&&"getToken"in Ce&&"handleSecurityException"in Ce&&typeof Ce.getToken=="function"&&typeof Ce.handleSecurityException=="function")return ge;var Ce,Ne=ge;return(Ne=Ne||{}).scheme=Ne.scheme||"none",(0,u.staticAuthTokenManager)({authToken:Ne})}(J);re.userAgent=re.userAgent||S,re.boltAgent=u.internal.boltAgent.fromVersion(s.default);var Pe=y.fromUrl(ve.hostAndPort),de={address:Pe,typename:se?"Routing":"Direct",routing:se};return new o.Driver(de,re,function(){if(se)return function(ge,Ce,Ne,De){return new l.RoutingConnectionProvider({id:ge,config:Ce,log:Ne,hostNameResolver:De,authTokenManager:pe,address:Pe,userAgent:Ce.userAgent,boltAgent:Ce.boltAgent,routingContext:ve.query})};if(!b(ve.query))throw new Error("Parameters are not supported with none routed scheme. Given URL: '".concat(oe,"'"));return function(ge,Ce,Ne){return new l.DirectConnectionProvider({id:ge,config:Ce,log:Ne,authTokenManager:pe,address:Pe,userAgent:Ce.userAgent,boltAgent:Ce.boltAgent})}}())}function D(oe,J){return n(this,void 0,void 0,function(){var re;return i(this,function(ae){switch(ae.label){case 0:re=A(oe,{scheme:"none",principal:"",credentials:""},J),ae.label=1;case 1:return ae.trys.push([1,,3,5]),[4,re.getNegotiatedProtocolVersion()];case 2:return ae.sent(),[2,!0];case 3:return[4,re.close()];case 4:return ae.sent(),[7];case 5:return[2]}})})}e.driver=A,e.hasReachableServer=D;var R={console:function(oe){return{level:oe,logger:function(J,re){return console.log("".concat(t.g.Date.now()," ").concat(J.toUpperCase()," ").concat(re))}}}};e.logging=R;var k={Node:u.Node,Relationship:u.Relationship,UnboundRelationship:u.UnboundRelationship,PathSegment:u.PathSegment,Path:u.Path,Result:u.Result,EagerResult:u.EagerResult,ResultSummary:u.ResultSummary,Record:u.Record,Point:u.Point,Date:u.Date,DateTime:u.DateTime,Duration:u.Duration,LocalDateTime:u.LocalDateTime,LocalTime:u.LocalTime,Time:u.Time,Integer:u.Integer};e.types=k;var j={READ:o.READ,WRITE:o.WRITE};e.session=j;var F={toNumber:u.toNumber,toString:u.toString,inSafeRange:u.inSafeRange};e.integer=F;var z={isPoint:u.isPoint};e.spatial=z;var q={isDuration:u.isDuration,isLocalTime:u.isLocalTime,isTime:u.isTime,isDate:u.isDate,isLocalDateTime:u.isLocalDateTime,isDateTime:u.isDateTime};e.temporal=q;var $={isNode:u.isNode,isPath:u.isPath,isPathSegment:u.isPathSegment,isRelationship:u.isRelationship,isUnboundRelationship:u.isUnboundRelationship};e.graph=$;var K={authTokenManagers:u.authTokenManagers,driver:A,hasReachableServer:D,int:u.int,isInt:u.isInt,isPoint:u.isPoint,isDuration:u.isDuration,isLocalTime:u.isLocalTime,isTime:u.isTime,isDate:u.isDate,isLocalDateTime:u.isLocalDateTime,isDateTime:u.isDateTime,isNode:u.isNode,isPath:u.isPath,isPathSegment:u.isPathSegment,isRelationship:u.isRelationship,isUnboundRelationship:u.isUnboundRelationship,integer:F,Neo4jError:u.Neo4jError,isRetryableError:u.isRetryableError,auth:u.auth,logging:R,types:k,session:j,routing:u.routing,error:u.error,graph:$,spatial:z,temporal:q,Driver:o.Driver,Session:u.Session,Transaction:u.Transaction,ManagedTransaction:u.ManagedTransaction,Result:u.Result,EagerResult:u.EagerResult,RxSession:c.default,RxTransaction:f.default,RxManagedTransaction:d.default,RxResult:v.default,ResultSummary:u.ResultSummary,Plan:u.Plan,ProfiledPlan:u.ProfiledPlan,QueryStatistics:u.QueryStatistics,Notification:u.Notification,GqlStatusObject:u.GqlStatusObject,ServerInfo:u.ServerInfo,Record:u.Record,Node:u.Node,Relationship:u.Relationship,UnboundRelationship:u.UnboundRelationship,Path:u.Path,PathSegment:u.PathSegment,Point:u.Point,Integer:u.Integer,Duration:u.Duration,LocalTime:u.LocalTime,Time:u.Time,Date:u.Date,LocalDateTime:u.LocalDateTime,DateTime:u.DateTime,bookmarkManager:u.bookmarkManager,resultTransformers:u.resultTransformers,notificationCategory:u.notificationCategory,notificationSeverityLevel:u.notificationSeverityLevel,notificationFilterDisabledCategory:u.notificationFilterDisabledCategory,notificationFilterMinimumSeverityLevel:u.notificationFilterMinimumSeverityLevel,clientCertificateProviders:u.clientCertificateProviders};e.default=K},9823:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=t(9305),i=t(8813),a=t(9419),o=(n.internal.logger.Logger,n.error.SERVICE_UNAVAILABLE),s=function(){function l(c){var f=c===void 0?{}:c,d=f.maxRetryTimeout,v=d===void 0?3e4:d,p=f.initialDelay,m=p===void 0?1e3:p,w=f.delayMultiplier,b=w===void 0?2:w,y=f.delayJitter,_=y===void 0?.2:y,S=f.logger,A=S===void 0?null:S;this._maxRetryTimeout=u(v,3e4),this._initialDelay=u(m,1e3),this._delayMultiplier=u(b,2),this._delayJitter=u(_,.2),this._logger=A}return l.prototype.retry=function(c){var f=this;return c.pipe((0,a.retryWhen)(function(d){var v=[],p=Date.now(),m=1,w=f._initialDelay;return d.pipe((0,a.mergeMap)(function(b){if(!(0,n.isRetriableError)(b))return(0,i.throwError)(function(){return b});if(v.push(b),m>=2&&Date.now()-p>=f._maxRetryTimeout){var y=(0,n.newError)("Failed after retried for ".concat(m," times in ").concat(f._maxRetryTimeout," ms. Make sure that your database is online and retry again."),o);return y.seenErrors=v,(0,i.throwError)(function(){return y})}var _=f._computeNextDelay(w);return w*=f._delayMultiplier,m++,f._logger&&f._logger.warn("Transaction failed and will be retried in ".concat(_)),(0,i.of)(1).pipe((0,a.delay)(_))}))}))},l.prototype._computeNextDelay=function(c){var f=c*this._delayJitter;return c-f+2*f*Math.random()},l}();function u(l,c){return l||l===0?l:c}e.default=s},3057:function(r,e,t){var n=this&&this.__awaiter||function(c,f,d,v){return new(d||(d=Promise))(function(p,m){function w(_){try{y(v.next(_))}catch(S){m(S)}}function b(_){try{y(v.throw(_))}catch(S){m(S)}}function y(_){var S;_.done?p(_.value):(S=_.value,S instanceof d?S:new d(function(A){A(S)})).then(w,b)}y((v=v.apply(c,f||[])).next())})},i=this&&this.__generator||function(c,f){var d,v,p,m,w={label:0,sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]};return m={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function b(y){return function(_){return function(S){if(d)throw new TypeError("Generator is already executing.");for(;m&&(m=0,S[0]&&(w=0)),w;)try{if(d=1,v&&(p=2&S[0]?v.return:S[0]?v.throw||((p=v.return)&&p.call(v),0):v.next)&&!(p=p.call(v,S[1])).done)return p;switch(v=0,p&&(S=[2&S[0],p.value]),S[0]){case 0:case 1:p=S;break;case 4:return w.label++,{value:S[1],done:!1};case 5:w.label++,v=S[1],S=[0];continue;case 7:S=w.ops.pop(),w.trys.pop();continue;default:if(!((p=(p=w.trys).length>0&&p[p.length-1])||S[0]!==6&&S[0]!==2)){w=0;continue}if(S[0]===3&&(!p||S[1]>p[0]&&S[1]<p[3])){w.label=S[1];break}if(S[0]===6&&w.label<p[1]){w.label=p[1],p=S;break}if(p&&w.label<p[2]){w.label=p[2],w.ops.push(S);break}p[2]&&w.ops.pop(),w.trys.pop();continue}S=f.call(c,w)}catch(A){S=[6,A],v=0}finally{d=p=0}if(5&S[0])throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}([y,_])}}};Object.defineProperty(e,"__esModule",{value:!0});var a=t(9305),o=t(8813),s=t(9419),u=function(){function c(f,d){var v=f.pipe((0,s.publishReplay)(1),(0,s.refCount)());this._result=v,this._keys=v.pipe((0,s.mergeMap)(function(p){return(0,o.from)(p.keys())}),(0,s.publishReplay)(1),(0,s.refCount)()),this._records=void 0,this._controls=new l,this._summary=new o.ReplaySubject,this._state=d||0}return c.prototype.keys=function(){return this._keys},c.prototype.records=function(){var f=this,d=this._result.pipe((0,s.mergeMap)(function(v){return new o.Observable(function(p){return f._startStreaming({result:v,recordsObserver:p})})}));return d.push=function(){return f._push()},d},c.prototype.consume=function(){var f=this;return this._result.pipe((0,s.mergeMap)(function(d){return new o.Observable(function(v){return f._startStreaming({result:d,summaryObserver:v})})}))},c.prototype.pause=function(){this._controls.pause()},c.prototype.resume=function(){return this._controls.resume()},c.prototype.push=function(){return this._controls.push()},c.prototype._startStreaming=function(f){var d=f===void 0?{}:f,v=d.result,p=d.recordsObserver,m=p===void 0?null:p,w=d.summaryObserver,b=w===void 0?null:w,y=[];return b&&y.push(this._summary.subscribe(b)),this._state<1?(this._state=1,this._setupRecordsStream(v),m?y.push(this._records.subscribe(m)):v._cancel(),y.push({unsubscribe:function(){v._cancel&&v._cancel()}})):m&&m.error((0,a.newError)("Streaming has already started/consumed with a previous records or summary subscription.")),function(){y.forEach(function(_){return _.unsubscribe()})}},c.prototype._toObservable=function(){var f=this;return new o.Observable(function(d){f._result.subscribe({complete:function(){return d.complete()},next:function(v){return d.next(new c(function(p){return new o.Observable(function(m){m.next(p),m.complete()})}(v)),f._state)},error:function(v){return d.error(v)}})})},c.prototype._setupRecordsStream=function(f){var d=this;return this._records||(this._records=function(v,p,m){var w=this;m===void 0&&(m=new l);var b=new o.Subject,y=function(S){return n(w,void 0,void 0,function(){var A,D,R,k;return i(this,function(j){switch(j.label){case 0:return j.trys.push([0,2,3,4]),m.pushing=!0,[4,S];case 1:return A=j.sent(),D=A.done,R=A.value,D?(b.complete(),p.complete()):(b.next(R),m.paused||y(v.next()).catch(function(){})),[3,4];case 2:return k=j.sent(),b.error(k),p.error(k),[3,4];case 3:return m.pushing=!1,[7];case 4:return[2]}})})};function _(S){return n(this,void 0,void 0,function(){return i(this,function(A){switch(A.label){case 0:return[4,y(v.next(S))];case 1:return A.sent(),[2]}})})}return m.pusher=_,_(),b}(f[Symbol.asyncIterator](),{complete:function(){return n(d,void 0,void 0,function(){var v,p;return i(this,function(m){switch(m.label){case 0:return this._state=2,p=(v=this._summary).next,[4,f.summary()];case 1:return p.apply(v,[m.sent()]),this._summary.complete(),[2]}})})},error:function(v){d._state=2,d._summary.error(v)}},this._controls)),this._records},c}();e.default=u;var l=function(){function c(f){f===void 0&&(f=function(){return n(d,void 0,void 0,function(){return i(this,function(v){return[2]})})});var d=this;this._paused=!1,this._pushing=!1,this._push=f}return c.prototype.pause=function(){this._paused=!0},Object.defineProperty(c.prototype,"paused",{get:function(){return this._paused},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"pushing",{get:function(){return this._pushing},set:function(f){this._pushing=f},enumerable:!1,configurable:!0}),c.prototype.resume=function(){return n(this,void 0,void 0,function(){var f;return i(this,function(d){switch(d.label){case 0:return f=this._paused,this._paused=!1,!f||this._pushing?[3,2]:[4,this._push()];case 1:d.sent(),d.label=2;case 2:return[2]}})})},c.prototype.push=function(){return n(this,void 0,void 0,function(){return i(this,function(f){switch(f.label){case 0:return this.pause(),[4,this._push()];case 1:return[2,f.sent()]}})})},Object.defineProperty(c.prototype,"pusher",{get:function(){return this._push},set:function(f){this._push=f},enumerable:!1,configurable:!0}),c}()},3466:function(r,e,t){var n=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(e,"__esModule",{value:!0});var i=t(8813),a=t(9419),o=n(t(3057)),s=t(9305),u=n(t(5742)),l=n(t(1530)),c=n(t(9823)),f=s.internal.constants,d=f.ACCESS_MODE_READ,v=f.ACCESS_MODE_WRITE,p=f.TELEMETRY_APIS,m=s.internal.txConfig.TxConfig,w=function(){function b(y){var _=y===void 0?{}:y,S=_.session,A=_.config,D=_.log;this._session=S,this._retryLogic=function(R){var k=R&&R.maxTransactionRetryTime?R.maxTransactionRetryTime:null;return new c.default({maxRetryTimeout:k})}(A),this._log=D}return b.prototype.run=function(y,_,S){var A=this;return new o.default(new i.Observable(function(D){try{D.next(A._session.run(y,_,S)),D.complete()}catch(R){D.error(R)}return function(){}}))},b.prototype.beginTransaction=function(y){return this._beginTransaction(this._session._mode,y,{api:p.UNMANAGED_TRANSACTION})},b.prototype.readTransaction=function(y,_){return this._runTransaction(d,y,_)},b.prototype.writeTransaction=function(y,_){return this._runTransaction(v,y,_)},b.prototype.executeRead=function(y,_){return this._executeInTransaction(d,y,_)},b.prototype.executeWrite=function(y,_){return this._executeInTransaction(v,y,_)},b.prototype._executeInTransaction=function(y,_,S){return this._runTransaction(y,_,S,function(A){return new l.default({run:A.run.bind(A)})})},b.prototype.close=function(){var y=this;return new i.Observable(function(_){y._session.close().then(function(){_.complete()}).catch(function(S){return _.error(S)})})},b.prototype[Symbol.asyncDispose]=function(){return this.close()},b.prototype.lastBookmark=function(){return this.lastBookmarks()},b.prototype.lastBookmarks=function(){return this._session.lastBookmarks()},b.prototype._beginTransaction=function(y,_,S){var A=this,D=m.empty();return _&&(D=new m(_,this._log)),new i.Observable(function(R){try{A._session._beginTransaction(y,D,S).then(function(k){R.next(new u.default(k)),R.complete()}).catch(function(k){return R.error(k)})}catch(k){R.error(k)}return function(){}})},b.prototype._runTransaction=function(y,_,S,A){var D=this;A===void 0&&(A=function(j){return j});var R=m.empty();S&&(R=new m(S));var k={apiTelemetryConfig:{api:p.MANAGED_TRANSACTION,onTelemetrySuccess:function(){k.apiTelemetryConfig=void 0}}};return this._retryLogic.retry((0,i.of)(1).pipe((0,a.mergeMap)(function(){return D._beginTransaction(y,R,k.apiTelemetryConfig)}),(0,a.mergeMap)(function(j){return(0,i.defer)(function(){try{return _(A(j))}catch(F){return(0,i.throwError)(function(){return F})}}).pipe((0,a.catchError)(function(F){return j.rollback().pipe((0,a.concatWith)((0,i.throwError)(function(){return F})))}),(0,a.concatWith)(j.commit()))})))},b}();e.default=w},1530:function(r,e,t){var n=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0}),n(t(3057)),n(t(5742));var i=function(){function a(o){var s=o.run;this._run=s}return a.fromTransaction=function(o){return new a({run:o.run.bind(o)})},a.prototype.run=function(o,s){return this._run(o,s)},a}();e.default=i},5742:function(r,e,t){var n=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0});var i=t(8813),a=n(t(3057)),o=(n(t(9305)),function(){function s(u){this._txc=u}return s.prototype.run=function(u,l){var c=this;return new a.default(new i.Observable(function(f){try{f.next(c._txc.run(u,l)),f.complete()}catch(d){f.error(d)}return function(){}}))},s.prototype.commit=function(){var u=this;return new i.Observable(function(l){u._txc.commit().then(function(){l.complete()}).catch(function(c){return l.error(c)})})},s.prototype.rollback=function(){var u=this;return new i.Observable(function(l){u._txc.rollback().then(function(){l.complete()}).catch(function(c){return l.error(c)})})},s.prototype.isOpen=function(){return this._txc.isOpen()},s.prototype.close=function(){var u=this;return new i.Observable(function(l){u._txc.close().then(function(){l.complete()}).catch(function(c){return l.error(c)})})},s}());e.default=o},3659:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default="5.26.0"},481:(r,e,t)=>{r.exports=t(137)},137:r=>{r.exports=class{constructor(e,t,n,i){let a;if(typeof e=="object"){let o=e;e=o.k_p,t=o.k_i,n=o.k_d,i=o.dt,a=o.i_max}this.k_p=typeof e=="number"?e:1,this.k_i=t||0,this.k_d=n||0,this.dt=i||0,this.i_max=a||0,this.sumError=0,this.lastError=0,this.lastTime=0,this.target=0}setTarget(e){this.target=e}update(e){this.currentValue=e;let t=this.dt;if(!t){let a=Date.now();t=this.lastTime===0?0:(a-this.lastTime)/1e3,this.lastTime=a}typeof t=="number"&&t!==0||(t=1);let n=this.target-this.currentValue;if(this.sumError=this.sumError+n*t,this.i_max>0&&Math.abs(this.sumError)>this.i_max){let a=this.sumError>0?1:-1;this.sumError=a*this.i_max}let i=(n-this.lastError)/t;return this.lastError=n,this.k_p*n+this.k_i*this.sumError+this.k_d*i}reset(){this.sumError=0,this.lastError=0,this.lastTime=0}}},1803:r=>{var e,t,n=document.attachEvent,i=!1;function a(_){var S=_.__resizeTriggers__,A=S.firstElementChild,D=S.lastElementChild,R=A.firstElementChild;D.scrollLeft=D.scrollWidth,D.scrollTop=D.scrollHeight,R.style.width=A.offsetWidth+1+"px",R.style.height=A.offsetHeight+1+"px",A.scrollLeft=A.scrollWidth,A.scrollTop=A.scrollHeight}function o(_){var S=this;a(this),this.__resizeRAF__&&u(this.__resizeRAF__),this.__resizeRAF__=s(function(){(function(A){return A.offsetWidth!=A.__resizeLast__.width||A.offsetHeight!=A.__resizeLast__.height})(S)&&(S.__resizeLast__.width=S.offsetWidth,S.__resizeLast__.height=S.offsetHeight,S.__resizeListeners__.forEach(function(A){A.call(S,_)}))})}if(!n){var s=(t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(_){return window.setTimeout(_,20)},function(_){return t(_)}),u=(e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout,function(_){return e(_)}),l=!1,c="",f="animationstart",d="Webkit Moz O ms".split(" "),v="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),p=document.createElement("fakeelement");if(p.style.animationName!==void 0&&(l=!0),l===!1){for(var m=0;m<d.length;m++)if(p.style[d[m]+"AnimationName"]!==void 0){c="-"+d[m].toLowerCase()+"-",f=v[m],l=!0;break}}var w="resizeanim",b="@"+c+"keyframes "+w+" { from { opacity: 0; } to { opacity: 0; } } ",y=c+"animation: 1ms "+w+"; "}r.exports=function(_,S){return n?_.attachEvent("onresize",S):(_.__resizeTriggers__||(getComputedStyle(_).position=="static"&&(_.style.position="relative"),function(){if(!i){var A=(b||"")+".resize-triggers { "+(y||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',D=document.head||document.getElementsByTagName("head")[0],R=document.createElement("style");R.type="text/css",R.styleSheet?R.styleSheet.cssText=A:R.appendChild(document.createTextNode(A)),D.appendChild(R),i=!0}}(),_.__resizeLast__={},_.__resizeListeners__=[],(_.__resizeTriggers__=document.createElement("div")).className="resize-triggers",_.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',_.appendChild(_.__resizeTriggers__),a(_),_.addEventListener("scroll",o,!0),f&&_.__resizeTriggers__.addEventListener(f,function(A){A.animationName==w&&a(_)})),_.__resizeListeners__.push(S)),function(){n?_.detachEvent("onresize",S):(_.__resizeListeners__.splice(_.__resizeListeners__.indexOf(S),1),_.__resizeListeners__.length||(_.removeEventListener("scroll",o),_.__resizeTriggers__=!_.removeChild(_.__resizeTriggers__)))}}},8813:function(r,e,t){var n=this&&this.__createBinding||(Object.create?function(Fi,Mu,Nu,uu){uu===void 0&&(uu=Nu),Object.defineProperty(Fi,uu,{enumerable:!0,get:function(){return Mu[Nu]}})}:function(Fi,Mu,Nu,uu){uu===void 0&&(uu=Nu),Fi[uu]=Mu[Nu]}),i=this&&this.__exportStar||function(Fi,Mu){for(var Nu in Fi)Nu==="default"||Object.prototype.hasOwnProperty.call(Mu,Nu)||n(Mu,Fi,Nu)};Object.defineProperty(e,"__esModule",{value:!0}),e.interval=e.iif=e.generate=e.fromEventPattern=e.fromEvent=e.from=e.forkJoin=e.empty=e.defer=e.connectable=e.concat=e.combineLatest=e.bindNodeCallback=e.bindCallback=e.UnsubscriptionError=e.TimeoutError=e.SequenceError=e.ObjectUnsubscribedError=e.NotFoundError=e.EmptyError=e.ArgumentOutOfRangeError=e.firstValueFrom=e.lastValueFrom=e.isObservable=e.identity=e.noop=e.pipe=e.NotificationKind=e.Notification=e.Subscriber=e.Subscription=e.Scheduler=e.VirtualAction=e.VirtualTimeScheduler=e.animationFrameScheduler=e.animationFrame=e.queueScheduler=e.queue=e.asyncScheduler=e.async=e.asapScheduler=e.asap=e.AsyncSubject=e.ReplaySubject=e.BehaviorSubject=e.Subject=e.animationFrames=e.observable=e.ConnectableObservable=e.Observable=void 0,e.filter=e.expand=e.exhaustMap=e.exhaustAll=e.exhaust=e.every=e.endWith=e.elementAt=e.distinctUntilKeyChanged=e.distinctUntilChanged=e.distinct=e.dematerialize=e.delayWhen=e.delay=e.defaultIfEmpty=e.debounceTime=e.debounce=e.count=e.connect=e.concatWith=e.concatMapTo=e.concatMap=e.concatAll=e.combineLatestWith=e.combineLatestAll=e.combineAll=e.catchError=e.bufferWhen=e.bufferToggle=e.bufferTime=e.bufferCount=e.buffer=e.auditTime=e.audit=e.config=e.NEVER=e.EMPTY=e.scheduled=e.zip=e.using=e.timer=e.throwError=e.range=e.race=e.partition=e.pairs=e.onErrorResumeNext=e.of=e.never=e.merge=void 0,e.switchMap=e.switchAll=e.subscribeOn=e.startWith=e.skipWhile=e.skipUntil=e.skipLast=e.skip=e.single=e.shareReplay=e.share=e.sequenceEqual=e.scan=e.sampleTime=e.sample=e.refCount=e.retryWhen=e.retry=e.repeatWhen=e.repeat=e.reduce=e.raceWith=e.publishReplay=e.publishLast=e.publishBehavior=e.publish=e.pluck=e.pairwise=e.onErrorResumeNextWith=e.observeOn=e.multicast=e.min=e.mergeWith=e.mergeScan=e.mergeMapTo=e.mergeMap=e.flatMap=e.mergeAll=e.max=e.materialize=e.mapTo=e.map=e.last=e.isEmpty=e.ignoreElements=e.groupBy=e.first=e.findIndex=e.find=e.finalize=void 0,e.zipWith=e.zipAll=e.withLatestFrom=e.windowWhen=e.windowToggle=e.windowTime=e.windowCount=e.window=e.toArray=e.timestamp=e.timeoutWith=e.timeout=e.timeInterval=e.throwIfEmpty=e.throttleTime=e.throttle=e.tap=e.takeWhile=e.takeUntil=e.takeLast=e.take=e.switchScan=e.switchMapTo=void 0;var a=t(4662);Object.defineProperty(e,"Observable",{enumerable:!0,get:function(){return a.Observable}});var o=t(8918);Object.defineProperty(e,"ConnectableObservable",{enumerable:!0,get:function(){return o.ConnectableObservable}});var s=t(3327);Object.defineProperty(e,"observable",{enumerable:!0,get:function(){return s.observable}});var u=t(3110);Object.defineProperty(e,"animationFrames",{enumerable:!0,get:function(){return u.animationFrames}});var l=t(2483);Object.defineProperty(e,"Subject",{enumerable:!0,get:function(){return l.Subject}});var c=t(1637);Object.defineProperty(e,"BehaviorSubject",{enumerable:!0,get:function(){return c.BehaviorSubject}});var f=t(1242);Object.defineProperty(e,"ReplaySubject",{enumerable:!0,get:function(){return f.ReplaySubject}});var d=t(95);Object.defineProperty(e,"AsyncSubject",{enumerable:!0,get:function(){return d.AsyncSubject}});var v=t(3692);Object.defineProperty(e,"asap",{enumerable:!0,get:function(){return v.asap}}),Object.defineProperty(e,"asapScheduler",{enumerable:!0,get:function(){return v.asapScheduler}});var p=t(7961);Object.defineProperty(e,"async",{enumerable:!0,get:function(){return p.async}}),Object.defineProperty(e,"asyncScheduler",{enumerable:!0,get:function(){return p.asyncScheduler}});var m=t(2886);Object.defineProperty(e,"queue",{enumerable:!0,get:function(){return m.queue}}),Object.defineProperty(e,"queueScheduler",{enumerable:!0,get:function(){return m.queueScheduler}});var w=t(3862);Object.defineProperty(e,"animationFrame",{enumerable:!0,get:function(){return w.animationFrame}}),Object.defineProperty(e,"animationFrameScheduler",{enumerable:!0,get:function(){return w.animationFrameScheduler}});var b=t(182);Object.defineProperty(e,"VirtualTimeScheduler",{enumerable:!0,get:function(){return b.VirtualTimeScheduler}}),Object.defineProperty(e,"VirtualAction",{enumerable:!0,get:function(){return b.VirtualAction}});var y=t(8986);Object.defineProperty(e,"Scheduler",{enumerable:!0,get:function(){return y.Scheduler}});var _=t(8014);Object.defineProperty(e,"Subscription",{enumerable:!0,get:function(){return _.Subscription}});var S=t(5);Object.defineProperty(e,"Subscriber",{enumerable:!0,get:function(){return S.Subscriber}});var A=t(7800);Object.defineProperty(e,"Notification",{enumerable:!0,get:function(){return A.Notification}}),Object.defineProperty(e,"NotificationKind",{enumerable:!0,get:function(){return A.NotificationKind}});var D=t(2706);Object.defineProperty(e,"pipe",{enumerable:!0,get:function(){return D.pipe}});var R=t(1342);Object.defineProperty(e,"noop",{enumerable:!0,get:function(){return R.noop}});var k=t(6640);Object.defineProperty(e,"identity",{enumerable:!0,get:function(){return k.identity}});var j=t(1751);Object.defineProperty(e,"isObservable",{enumerable:!0,get:function(){return j.isObservable}});var F=t(6894);Object.defineProperty(e,"lastValueFrom",{enumerable:!0,get:function(){return F.lastValueFrom}});var z=t(9060);Object.defineProperty(e,"firstValueFrom",{enumerable:!0,get:function(){return z.firstValueFrom}});var q=t(7057);Object.defineProperty(e,"ArgumentOutOfRangeError",{enumerable:!0,get:function(){return q.ArgumentOutOfRangeError}});var $=t(2823);Object.defineProperty(e,"EmptyError",{enumerable:!0,get:function(){return $.EmptyError}});var K=t(1759);Object.defineProperty(e,"NotFoundError",{enumerable:!0,get:function(){return K.NotFoundError}});var oe=t(9686);Object.defineProperty(e,"ObjectUnsubscribedError",{enumerable:!0,get:function(){return oe.ObjectUnsubscribedError}});var J=t(1505);Object.defineProperty(e,"SequenceError",{enumerable:!0,get:function(){return J.SequenceError}});var re=t(1554);Object.defineProperty(e,"TimeoutError",{enumerable:!0,get:function(){return re.TimeoutError}});var ae=t(5788);Object.defineProperty(e,"UnsubscriptionError",{enumerable:!0,get:function(){return ae.UnsubscriptionError}});var ve=t(2713);Object.defineProperty(e,"bindCallback",{enumerable:!0,get:function(){return ve.bindCallback}});var se=t(8561);Object.defineProperty(e,"bindNodeCallback",{enumerable:!0,get:function(){return se.bindNodeCallback}});var ce=t(3247);Object.defineProperty(e,"combineLatest",{enumerable:!0,get:function(){return ce.combineLatest}});var pe=t(3865);Object.defineProperty(e,"concat",{enumerable:!0,get:function(){return pe.concat}});var Pe=t(7579);Object.defineProperty(e,"connectable",{enumerable:!0,get:function(){return Pe.connectable}});var de=t(9353);Object.defineProperty(e,"defer",{enumerable:!0,get:function(){return de.defer}});var ge=t(8616);Object.defineProperty(e,"empty",{enumerable:!0,get:function(){return ge.empty}});var Ce=t(9105);Object.defineProperty(e,"forkJoin",{enumerable:!0,get:function(){return Ce.forkJoin}});var Ne=t(4917);Object.defineProperty(e,"from",{enumerable:!0,get:function(){return Ne.from}});var De=t(5337);Object.defineProperty(e,"fromEvent",{enumerable:!0,get:function(){return De.fromEvent}});var ke=t(347);Object.defineProperty(e,"fromEventPattern",{enumerable:!0,get:function(){return ke.fromEventPattern}});var _e=t(7610);Object.defineProperty(e,"generate",{enumerable:!0,get:function(){return _e.generate}});var Ie=t(4209);Object.defineProperty(e,"iif",{enumerable:!0,get:function(){return Ie.iif}});var Ge=t(6472);Object.defineProperty(e,"interval",{enumerable:!0,get:function(){return Ge.interval}});var Qe=t(2833);Object.defineProperty(e,"merge",{enumerable:!0,get:function(){return Qe.merge}});var ot=t(8655);Object.defineProperty(e,"never",{enumerable:!0,get:function(){return ot.never}});var Tt=t(1004);Object.defineProperty(e,"of",{enumerable:!0,get:function(){return Tt.of}});var zt=t(6102);Object.defineProperty(e,"onErrorResumeNext",{enumerable:!0,get:function(){return zt.onErrorResumeNext}});var pt=t(7740);Object.defineProperty(e,"pairs",{enumerable:!0,get:function(){return pt.pairs}});var Q=t(1699);Object.defineProperty(e,"partition",{enumerable:!0,get:function(){return Q.partition}});var ne=t(5584);Object.defineProperty(e,"race",{enumerable:!0,get:function(){return ne.race}});var fe=t(9376);Object.defineProperty(e,"range",{enumerable:!0,get:function(){return fe.range}});var Ue=t(1103);Object.defineProperty(e,"throwError",{enumerable:!0,get:function(){return Ue.throwError}});var qe=t(4092);Object.defineProperty(e,"timer",{enumerable:!0,get:function(){return qe.timer}});var We=t(7853);Object.defineProperty(e,"using",{enumerable:!0,get:function(){return We.using}});var ft=t(7286);Object.defineProperty(e,"zip",{enumerable:!0,get:function(){return ft.zip}});var Ht=t(1656);Object.defineProperty(e,"scheduled",{enumerable:!0,get:function(){return Ht.scheduled}});var Et=t(8616);Object.defineProperty(e,"EMPTY",{enumerable:!0,get:function(){return Et.EMPTY}});var Se=t(8655);Object.defineProperty(e,"NEVER",{enumerable:!0,get:function(){return Se.NEVER}}),i(t(6038),e);var Ke=t(3413);Object.defineProperty(e,"config",{enumerable:!0,get:function(){return Ke.config}});var ht=t(3146);Object.defineProperty(e,"audit",{enumerable:!0,get:function(){return ht.audit}});var ct=t(3231);Object.defineProperty(e,"auditTime",{enumerable:!0,get:function(){return ct.auditTime}});var xt=t(8015);Object.defineProperty(e,"buffer",{enumerable:!0,get:function(){return xt.buffer}});var er=t(5572);Object.defineProperty(e,"bufferCount",{enumerable:!0,get:function(){return er.bufferCount}});var Rt=t(7210);Object.defineProperty(e,"bufferTime",{enumerable:!0,get:function(){return Rt.bufferTime}});var Jt=t(8995);Object.defineProperty(e,"bufferToggle",{enumerable:!0,get:function(){return Jt.bufferToggle}});var mr=t(8831);Object.defineProperty(e,"bufferWhen",{enumerable:!0,get:function(){return mr.bufferWhen}});var Mr=t(8118);Object.defineProperty(e,"catchError",{enumerable:!0,get:function(){return Mr.catchError}});var cr=t(6625);Object.defineProperty(e,"combineAll",{enumerable:!0,get:function(){return cr.combineAll}});var Fr=t(6728);Object.defineProperty(e,"combineLatestAll",{enumerable:!0,get:function(){return Fr.combineLatestAll}});var Dr=t(8239);Object.defineProperty(e,"combineLatestWith",{enumerable:!0,get:function(){return Dr.combineLatestWith}});var Cr=t(8158);Object.defineProperty(e,"concatAll",{enumerable:!0,get:function(){return Cr.concatAll}});var On=t(9135);Object.defineProperty(e,"concatMap",{enumerable:!0,get:function(){return On.concatMap}});var Rn=t(9938);Object.defineProperty(e,"concatMapTo",{enumerable:!0,get:function(){return Rn.concatMapTo}});var Ha=t(9669);Object.defineProperty(e,"concatWith",{enumerable:!0,get:function(){return Ha.concatWith}});var ni=t(1483);Object.defineProperty(e,"connect",{enumerable:!0,get:function(){return ni.connect}});var Vn=t(1038);Object.defineProperty(e,"count",{enumerable:!0,get:function(){return Vn.count}});var ii=t(4461);Object.defineProperty(e,"debounce",{enumerable:!0,get:function(){return ii.debounce}});var ui=t(8079);Object.defineProperty(e,"debounceTime",{enumerable:!0,get:function(){return ui.debounceTime}});var ji=t(378);Object.defineProperty(e,"defaultIfEmpty",{enumerable:!0,get:function(){return ji.defaultIfEmpty}});var la=t(914);Object.defineProperty(e,"delay",{enumerable:!0,get:function(){return la.delay}});var ca=t(8766);Object.defineProperty(e,"delayWhen",{enumerable:!0,get:function(){return ca.delayWhen}});var Pn=t(7441);Object.defineProperty(e,"dematerialize",{enumerable:!0,get:function(){return Pn.dematerialize}});var ai=t(5365);Object.defineProperty(e,"distinct",{enumerable:!0,get:function(){return ai.distinct}});var fa=t(8937);Object.defineProperty(e,"distinctUntilChanged",{enumerable:!0,get:function(){return fa.distinctUntilChanged}});var po=t(9612);Object.defineProperty(e,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return po.distinctUntilKeyChanged}});var Qi=t(4520);Object.defineProperty(e,"elementAt",{enumerable:!0,get:function(){return Qi.elementAt}});var Wr=t(1776);Object.defineProperty(e,"endWith",{enumerable:!0,get:function(){return Wr.endWith}});var zn=t(5510);Object.defineProperty(e,"every",{enumerable:!0,get:function(){return zn.every}});var Na=t(1551);Object.defineProperty(e,"exhaust",{enumerable:!0,get:function(){return Na.exhaust}});var wa=t(2752);Object.defineProperty(e,"exhaustAll",{enumerable:!0,get:function(){return wa.exhaustAll}});var Va=t(4753);Object.defineProperty(e,"exhaustMap",{enumerable:!0,get:function(){return Va.exhaustMap}});var Fs=t(7661);Object.defineProperty(e,"expand",{enumerable:!0,get:function(){return Fs.expand}});var $a=t(783);Object.defineProperty(e,"filter",{enumerable:!0,get:function(){return $a.filter}});var ko=t(3555);Object.defineProperty(e,"finalize",{enumerable:!0,get:function(){return ko.finalize}});var Bi=t(7714);Object.defineProperty(e,"find",{enumerable:!0,get:function(){return Bi.find}});var Us=t(9756);Object.defineProperty(e,"findIndex",{enumerable:!0,get:function(){return Us.findIndex}});var lf=t(8275);Object.defineProperty(e,"first",{enumerable:!0,get:function(){return lf.first}});var go=t(7815);Object.defineProperty(e,"groupBy",{enumerable:!0,get:function(){return go.groupBy}});var Oi=t(490);Object.defineProperty(e,"ignoreElements",{enumerable:!0,get:function(){return Oi.ignoreElements}});var iu=t(9356);Object.defineProperty(e,"isEmpty",{enumerable:!0,get:function(){return iu.isEmpty}});var Mo=t(8669);Object.defineProperty(e,"last",{enumerable:!0,get:function(){return Mo.last}});var wi=t(5471);Object.defineProperty(e,"map",{enumerable:!0,get:function(){return wi.map}});var ha=t(3218);Object.defineProperty(e,"mapTo",{enumerable:!0,get:function(){return ha.mapTo}});var Nr=t(2360);Object.defineProperty(e,"materialize",{enumerable:!0,get:function(){return Nr.materialize}});var La=t(1415);Object.defineProperty(e,"max",{enumerable:!0,get:function(){return La.max}});var da=t(7302);Object.defineProperty(e,"mergeAll",{enumerable:!0,get:function(){return da.mergeAll}});var Tn=t(6902);Object.defineProperty(e,"flatMap",{enumerable:!0,get:function(){return Tn.flatMap}});var gn=t(983);Object.defineProperty(e,"mergeMap",{enumerable:!0,get:function(){return gn.mergeMap}});var Ji=t(6586);Object.defineProperty(e,"mergeMapTo",{enumerable:!0,get:function(){return Ji.mergeMapTo}});var fl=t(4408);Object.defineProperty(e,"mergeScan",{enumerable:!0,get:function(){return fl.mergeScan}});var Gf=t(8253);Object.defineProperty(e,"mergeWith",{enumerable:!0,get:function(){return Gf.mergeWith}});var gc=t(2669);Object.defineProperty(e,"min",{enumerable:!0,get:function(){return gc.min}});var Th=t(9247);Object.defineProperty(e,"multicast",{enumerable:!0,get:function(){return Th.multicast}});var Xn=t(5184);Object.defineProperty(e,"observeOn",{enumerable:!0,get:function(){return Xn.observeOn}});var yc=t(1226);Object.defineProperty(e,"onErrorResumeNextWith",{enumerable:!0,get:function(){return yc.onErrorResumeNextWith}});var Wo=t(1518);Object.defineProperty(e,"pairwise",{enumerable:!0,get:function(){return Wo.pairwise}});var hl=t(4912);Object.defineProperty(e,"pluck",{enumerable:!0,get:function(){return hl.pluck}});var cf=t(766);Object.defineProperty(e,"publish",{enumerable:!0,get:function(){return cf.publish}});var Ta=t(7220);Object.defineProperty(e,"publishBehavior",{enumerable:!0,get:function(){return Ta.publishBehavior}});var dl=t(6106);Object.defineProperty(e,"publishLast",{enumerable:!0,get:function(){return dl.publishLast}});var Wa=t(8157);Object.defineProperty(e,"publishReplay",{enumerable:!0,get:function(){return Wa.publishReplay}});var ff=t(5600);Object.defineProperty(e,"raceWith",{enumerable:!0,get:function(){return ff.raceWith}});var Hf=t(9139);Object.defineProperty(e,"reduce",{enumerable:!0,get:function(){return Hf.reduce}});var hn=t(8522);Object.defineProperty(e,"repeat",{enumerable:!0,get:function(){return hn.repeat}});var ro=t(6566);Object.defineProperty(e,"repeatWhen",{enumerable:!0,get:function(){return ro.repeatWhen}});var No=t(7835);Object.defineProperty(e,"retry",{enumerable:!0,get:function(){return No.retry}});var Vf=t(9843);Object.defineProperty(e,"retryWhen",{enumerable:!0,get:function(){return Vf.retryWhen}});var fr=t(7561);Object.defineProperty(e,"refCount",{enumerable:!0,get:function(){return fr.refCount}});var mc=t(1731);Object.defineProperty(e,"sample",{enumerable:!0,get:function(){return mc.sample}});var $f=t(6086);Object.defineProperty(e,"sampleTime",{enumerable:!0,get:function(){return $f.sampleTime}});var au=t(8624);Object.defineProperty(e,"scan",{enumerable:!0,get:function(){return au.scan}});var Fl=t(582);Object.defineProperty(e,"sequenceEqual",{enumerable:!0,get:function(){return Fl.sequenceEqual}});var ps=t(8977);Object.defineProperty(e,"share",{enumerable:!0,get:function(){return ps.share}});var kn=t(3133);Object.defineProperty(e,"shareReplay",{enumerable:!0,get:function(){return kn.shareReplay}});var Yo=t(3001);Object.defineProperty(e,"single",{enumerable:!0,get:function(){return Yo.single}});var bc=t(3982);Object.defineProperty(e,"skip",{enumerable:!0,get:function(){return bc.skip}});var Ch=t(9098);Object.defineProperty(e,"skipLast",{enumerable:!0,get:function(){return Ch.skipLast}});var vl=t(7372);Object.defineProperty(e,"skipUntil",{enumerable:!0,get:function(){return vl.skipUntil}});var _c=t(4721);Object.defineProperty(e,"skipWhile",{enumerable:!0,get:function(){return _c.skipWhile}});var Ah=t(269);Object.defineProperty(e,"startWith",{enumerable:!0,get:function(){return Ah.startWith}});var wc=t(8960);Object.defineProperty(e,"subscribeOn",{enumerable:!0,get:function(){return wc.subscribeOn}});var Ul=t(8774);Object.defineProperty(e,"switchAll",{enumerable:!0,get:function(){return Ul.switchAll}});var zs=t(3879);Object.defineProperty(e,"switchMap",{enumerable:!0,get:function(){return zs.switchMap}});var no=t(3274);Object.defineProperty(e,"switchMapTo",{enumerable:!0,get:function(){return no.switchMapTo}});var Ec=t(8712);Object.defineProperty(e,"switchScan",{enumerable:!0,get:function(){return Ec.switchScan}});var zl=t(846);Object.defineProperty(e,"take",{enumerable:!0,get:function(){return zl.take}});var ou=t(8330);Object.defineProperty(e,"takeLast",{enumerable:!0,get:function(){return ou.takeLast}});var xc=t(4780);Object.defineProperty(e,"takeUntil",{enumerable:!0,get:function(){return xc.takeUntil}});var ku=t(2129);Object.defineProperty(e,"takeWhile",{enumerable:!0,get:function(){return ku.takeWhile}});var hf=t(3964);Object.defineProperty(e,"tap",{enumerable:!0,get:function(){return hf.tap}});var $n=t(8941);Object.defineProperty(e,"throttle",{enumerable:!0,get:function(){return $n.throttle}});var tn=t(7640);Object.defineProperty(e,"throttleTime",{enumerable:!0,get:function(){return tn.throttleTime}});var Wf=t(4869);Object.defineProperty(e,"throwIfEmpty",{enumerable:!0,get:function(){return Wf.throwIfEmpty}});var Ca=t(489);Object.defineProperty(e,"timeInterval",{enumerable:!0,get:function(){return Ca.timeInterval}});var pl=t(1554);Object.defineProperty(e,"timeout",{enumerable:!0,get:function(){return pl.timeout}});var su=t(4862);Object.defineProperty(e,"timeoutWith",{enumerable:!0,get:function(){return su.timeoutWith}});var gs=t(6505);Object.defineProperty(e,"timestamp",{enumerable:!0,get:function(){return gs.timestamp}});var bv=t(2343);Object.defineProperty(e,"toArray",{enumerable:!0,get:function(){return bv.toArray}});var Yf=t(5477);Object.defineProperty(e,"window",{enumerable:!0,get:function(){return Yf.window}});var gl=t(6746);Object.defineProperty(e,"windowCount",{enumerable:!0,get:function(){return gl.windowCount}});var li=t(8208);Object.defineProperty(e,"windowTime",{enumerable:!0,get:function(){return li.windowTime}});var Sc=t(6637);Object.defineProperty(e,"windowToggle",{enumerable:!0,get:function(){return Sc.windowToggle}});var yo=t(1141);Object.defineProperty(e,"windowWhen",{enumerable:!0,get:function(){return yo.windowWhen}});var Oc=t(5442);Object.defineProperty(e,"withLatestFrom",{enumerable:!0,get:function(){return Oc.withLatestFrom}});var Rh=t(187);Object.defineProperty(e,"zipAll",{enumerable:!0,get:function(){return Rh.zipAll}});var io=t(8538);Object.defineProperty(e,"zipWith",{enumerable:!0,get:function(){return io.zipWith}})},95:function(r,e,t){var n,i=this&&this.__extends||(n=function(o,s){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,l){u.__proto__=l}||function(u,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(u[c]=l[c])},n(o,s)},function(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function u(){this.constructor=o}n(o,s),o.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)});Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncSubject=void 0;var a=function(o){function s(){var u=o!==null&&o.apply(this,arguments)||this;return u._value=null,u._hasValue=!1,u._isComplete=!1,u}return i(s,o),s.prototype._checkFinalizedStatuses=function(u){var l=this,c=l.hasError,f=l._hasValue,d=l._value,v=l.thrownError,p=l.isStopped,m=l._isComplete;c?u.error(v):(p||m)&&(f&&u.next(d),u.complete())},s.prototype.next=function(u){this.isStopped||(this._value=u,this._hasValue=!0)},s.prototype.complete=function(){var u=this,l=u._hasValue,c=u._value;u._isComplete||(this._isComplete=!0,l&&o.prototype.next.call(this,c),o.prototype.complete.call(this))},s}(t(2483).Subject);e.AsyncSubject=a},1637:function(r,e,t){var n,i=this&&this.__extends||(n=function(o,s){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,l){u.__proto__=l}||function(u,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(u[c]=l[c])},n(o,s)},function(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function u(){this.constructor=o}n(o,s),o.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)});Object.defineProperty(e,"__esModule",{value:!0}),e.BehaviorSubject=void 0;var a=function(o){function s(u){var l=o.call(this)||this;return l._value=u,l}return i(s,o),Object.defineProperty(s.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),s.prototype._subscribe=function(u){var l=o.prototype._subscribe.call(this,u);return!l.closed&&u.next(this._value),l},s.prototype.getValue=function(){var u=this,l=u.hasError,c=u.thrownError,f=u._value;if(l)throw c;return this._throwIfClosed(),f},s.prototype.next=function(u){o.prototype.next.call(this,this._value=u)},s}(t(2483).Subject);e.BehaviorSubject=a},7800:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.observeNotification=e.Notification=e.NotificationKind=void 0;var n,i=t(8616),a=t(1004),o=t(1103),s=t(1018);(n=e.NotificationKind||(e.NotificationKind={})).NEXT="N",n.ERROR="E",n.COMPLETE="C";var u=function(){function c(f,d,v){this.kind=f,this.value=d,this.error=v,this.hasValue=f==="N"}return c.prototype.observe=function(f){return l(this,f)},c.prototype.do=function(f,d,v){var p=this,m=p.kind,w=p.value,b=p.error;return m==="N"?f==null?void 0:f(w):m==="E"?d==null?void 0:d(b):v==null?void 0:v()},c.prototype.accept=function(f,d,v){var p;return s.isFunction((p=f)===null||p===void 0?void 0:p.next)?this.observe(f):this.do(f,d,v)},c.prototype.toObservable=function(){var f=this,d=f.kind,v=f.value,p=f.error,m=d==="N"?a.of(v):d==="E"?o.throwError(function(){return p}):d==="C"?i.EMPTY:0;if(!m)throw new TypeError("Unexpected notification kind "+d);return m},c.createNext=function(f){return new c("N",f)},c.createError=function(f){return new c("E",void 0,f)},c.createComplete=function(){return c.completeNotification},c.completeNotification=new c("C"),c}();function l(c,f){var d,v,p,m=c,w=m.kind,b=m.value,y=m.error;if(typeof w!="string")throw new TypeError('Invalid notification, missing "kind"');w==="N"?(d=f.next)===null||d===void 0||d.call(f,b):w==="E"?(v=f.error)===null||v===void 0||v.call(f,y):(p=f.complete)===null||p===void 0||p.call(f)}e.Notification=u,e.observeNotification=l},9052:(r,e)=>{function t(n,i,a){return{kind:n,value:i,error:a}}Object.defineProperty(e,"__esModule",{value:!0}),e.createNotification=e.nextNotification=e.errorNotification=e.COMPLETE_NOTIFICATION=void 0,e.COMPLETE_NOTIFICATION=t("C",void 0,void 0),e.errorNotification=function(n){return t("E",void 0,n)},e.nextNotification=function(n){return t("N",n,void 0)},e.createNotification=t},4662:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Observable=void 0;var n=t(5),i=t(8014),a=t(3327),o=t(2706),s=t(3413),u=t(1018),l=t(9223),c=function(){function d(v){v&&(this._subscribe=v)}return d.prototype.lift=function(v){var p=new d;return p.source=this,p.operator=v,p},d.prototype.subscribe=function(v,p,m){var w,b=this,y=(w=v)&&w instanceof n.Subscriber||function(_){return _&&u.isFunction(_.next)&&u.isFunction(_.error)&&u.isFunction(_.complete)}(w)&&i.isSubscription(w)?v:new n.SafeSubscriber(v,p,m);return l.errorContext(function(){var _=b,S=_.operator,A=_.source;y.add(S?S.call(y,A):A?b._subscribe(y):b._trySubscribe(y))}),y},d.prototype._trySubscribe=function(v){try{return this._subscribe(v)}catch(p){v.error(p)}},d.prototype.forEach=function(v,p){var m=this;return new(p=f(p))(function(w,b){var y=new n.SafeSubscriber({next:function(_){try{v(_)}catch(S){b(S),y.unsubscribe()}},error:b,complete:w});m.subscribe(y)})},d.prototype._subscribe=function(v){var p;return(p=this.source)===null||p===void 0?void 0:p.subscribe(v)},d.prototype[a.observable]=function(){return this},d.prototype.pipe=function(){for(var v=[],p=0;p<arguments.length;p++)v[p]=arguments[p];return o.pipeFromArray(v)(this)},d.prototype.toPromise=function(v){var p=this;return new(v=f(v))(function(m,w){var b;p.subscribe(function(y){return b=y},function(y){return w(y)},function(){return m(b)})})},d.create=function(v){return new d(v)},d}();function f(d){var v;return(v=d??s.config.Promise)!==null&&v!==void 0?v:Promise}e.Observable=c},1242:function(r,e,t){var n,i=this&&this.__extends||(n=function(u,l){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(c[d]=f[d])},n(u,l)},function(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function c(){this.constructor=u}n(u,l),u.prototype=l===null?Object.create(l):(c.prototype=l.prototype,new c)});Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaySubject=void 0;var a=t(2483),o=t(9568),s=function(u){function l(c,f,d){c===void 0&&(c=1/0),f===void 0&&(f=1/0),d===void 0&&(d=o.dateTimestampProvider);var v=u.call(this)||this;return v._bufferSize=c,v._windowTime=f,v._timestampProvider=d,v._buffer=[],v._infiniteTimeWindow=!0,v._infiniteTimeWindow=f===1/0,v._bufferSize=Math.max(1,c),v._windowTime=Math.max(1,f),v}return i(l,u),l.prototype.next=function(c){var f=this,d=f.isStopped,v=f._buffer,p=f._infiniteTimeWindow,m=f._timestampProvider,w=f._windowTime;d||(v.push(c),!p&&v.push(m.now()+w)),this._trimBuffer(),u.prototype.next.call(this,c)},l.prototype._subscribe=function(c){this._throwIfClosed(),this._trimBuffer();for(var f=this._innerSubscribe(c),d=this._infiniteTimeWindow,v=this._buffer.slice(),p=0;p<v.length&&!c.closed;p+=d?1:2)c.next(v[p]);return this._checkFinalizedStatuses(c),f},l.prototype._trimBuffer=function(){var c=this,f=c._bufferSize,d=c._timestampProvider,v=c._buffer,p=c._infiniteTimeWindow,m=(p?1:2)*f;if(f<1/0&&m<v.length&&v.splice(0,v.length-m),!p){for(var w=d.now(),b=0,y=1;y<v.length&&v[y]<=w;y+=2)b=y;b&&v.splice(0,b+1)}},l}(a.Subject);e.ReplaySubject=s},8986:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Scheduler=void 0;var n=t(9568),i=function(){function a(o,s){s===void 0&&(s=a.now),this.schedulerActionCtor=o,this.now=s}return a.prototype.schedule=function(o,s,u){return s===void 0&&(s=0),new this.schedulerActionCtor(this,o).schedule(u,s)},a.now=n.dateTimestampProvider.now,a}();e.Scheduler=i},2483:function(r,e,t){var n,i=this&&this.__extends||(n=function(v,p){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,w){m.__proto__=w}||function(m,w){for(var b in w)Object.prototype.hasOwnProperty.call(w,b)&&(m[b]=w[b])},n(v,p)},function(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");function m(){this.constructor=v}n(v,p),v.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}),a=this&&this.__values||function(v){var p=typeof Symbol=="function"&&Symbol.iterator,m=p&&v[p],w=0;if(m)return m.call(v);if(v&&typeof v.length=="number")return{next:function(){return v&&w>=v.length&&(v=void 0),{value:v&&v[w++],done:!v}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.AnonymousSubject=e.Subject=void 0;var o=t(4662),s=t(8014),u=t(9686),l=t(7479),c=t(9223),f=function(v){function p(){var m=v.call(this)||this;return m.closed=!1,m.currentObservers=null,m.observers=[],m.isStopped=!1,m.hasError=!1,m.thrownError=null,m}return i(p,v),p.prototype.lift=function(m){var w=new d(this,this);return w.operator=m,w},p.prototype._throwIfClosed=function(){if(this.closed)throw new u.ObjectUnsubscribedError},p.prototype.next=function(m){var w=this;c.errorContext(function(){var b,y;if(w._throwIfClosed(),!w.isStopped){w.currentObservers||(w.currentObservers=Array.from(w.observers));try{for(var _=a(w.currentObservers),S=_.next();!S.done;S=_.next())S.value.next(m)}catch(A){b={error:A}}finally{try{S&&!S.done&&(y=_.return)&&y.call(_)}finally{if(b)throw b.error}}}})},p.prototype.error=function(m){var w=this;c.errorContext(function(){if(w._throwIfClosed(),!w.isStopped){w.hasError=w.isStopped=!0,w.thrownError=m;for(var b=w.observers;b.length;)b.shift().error(m)}})},p.prototype.complete=function(){var m=this;c.errorContext(function(){if(m._throwIfClosed(),!m.isStopped){m.isStopped=!0;for(var w=m.observers;w.length;)w.shift().complete()}})},p.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(p.prototype,"observed",{get:function(){var m;return((m=this.observers)===null||m===void 0?void 0:m.length)>0},enumerable:!1,configurable:!0}),p.prototype._trySubscribe=function(m){return this._throwIfClosed(),v.prototype._trySubscribe.call(this,m)},p.prototype._subscribe=function(m){return this._throwIfClosed(),this._checkFinalizedStatuses(m),this._innerSubscribe(m)},p.prototype._innerSubscribe=function(m){var w=this,b=this,y=b.hasError,_=b.isStopped,S=b.observers;return y||_?s.EMPTY_SUBSCRIPTION:(this.currentObservers=null,S.push(m),new s.Subscription(function(){w.currentObservers=null,l.arrRemove(S,m)}))},p.prototype._checkFinalizedStatuses=function(m){var w=this,b=w.hasError,y=w.thrownError,_=w.isStopped;b?m.error(y):_&&m.complete()},p.prototype.asObservable=function(){var m=new o.Observable;return m.source=this,m},p.create=function(m,w){return new d(m,w)},p}(o.Observable);e.Subject=f;var d=function(v){function p(m,w){var b=v.call(this)||this;return b.destination=m,b.source=w,b}return i(p,v),p.prototype.next=function(m){var w,b;(b=(w=this.destination)===null||w===void 0?void 0:w.next)===null||b===void 0||b.call(w,m)},p.prototype.error=function(m){var w,b;(b=(w=this.destination)===null||w===void 0?void 0:w.error)===null||b===void 0||b.call(w,m)},p.prototype.complete=function(){var m,w;(w=(m=this.destination)===null||m===void 0?void 0:m.complete)===null||w===void 0||w.call(m)},p.prototype._subscribe=function(m){var w,b;return(b=(w=this.source)===null||w===void 0?void 0:w.subscribe(m))!==null&&b!==void 0?b:s.EMPTY_SUBSCRIPTION},p}(f);e.AnonymousSubject=d},5:function(r,e,t){var n,i=this&&this.__extends||(n=function(S,A){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,R){D.__proto__=R}||function(D,R){for(var k in R)Object.prototype.hasOwnProperty.call(R,k)&&(D[k]=R[k])},n(S,A)},function(S,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function D(){this.constructor=S}n(S,A),S.prototype=A===null?Object.create(A):(D.prototype=A.prototype,new D)});Object.defineProperty(e,"__esModule",{value:!0}),e.EMPTY_OBSERVER=e.SafeSubscriber=e.Subscriber=void 0;var a=t(1018),o=t(8014),s=t(3413),u=t(7315),l=t(1342),c=t(9052),f=t(9155),d=t(9223),v=function(S){function A(D){var R=S.call(this)||this;return R.isStopped=!1,D?(R.destination=D,o.isSubscription(D)&&D.add(R)):R.destination=e.EMPTY_OBSERVER,R}return i(A,S),A.create=function(D,R,k){return new b(D,R,k)},A.prototype.next=function(D){this.isStopped?_(c.nextNotification(D),this):this._next(D)},A.prototype.error=function(D){this.isStopped?_(c.errorNotification(D),this):(this.isStopped=!0,this._error(D))},A.prototype.complete=function(){this.isStopped?_(c.COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},A.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,S.prototype.unsubscribe.call(this),this.destination=null)},A.prototype._next=function(D){this.destination.next(D)},A.prototype._error=function(D){try{this.destination.error(D)}finally{this.unsubscribe()}},A.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},A}(o.Subscription);e.Subscriber=v;var p=Function.prototype.bind;function m(S,A){return p.call(S,A)}var w=function(){function S(A){this.partialObserver=A}return S.prototype.next=function(A){var D=this.partialObserver;if(D.next)try{D.next(A)}catch(R){y(R)}},S.prototype.error=function(A){var D=this.partialObserver;if(D.error)try{D.error(A)}catch(R){y(R)}else y(A)},S.prototype.complete=function(){var A=this.partialObserver;if(A.complete)try{A.complete()}catch(D){y(D)}},S}(),b=function(S){function A(D,R,k){var j,F,z=S.call(this)||this;return a.isFunction(D)||!D?j={next:D??void 0,error:R??void 0,complete:k??void 0}:z&&s.config.useDeprecatedNextContext?((F=Object.create(D)).unsubscribe=function(){return z.unsubscribe()},j={next:D.next&&m(D.next,F),error:D.error&&m(D.error,F),complete:D.complete&&m(D.complete,F)}):j=D,z.destination=new w(j),z}return i(A,S),A}(v);function y(S){s.config.useDeprecatedSynchronousErrorHandling?d.captureError(S):u.reportUnhandledError(S)}function _(S,A){var D=s.config.onStoppedNotification;D&&f.timeoutProvider.setTimeout(function(){return D(S,A)})}e.SafeSubscriber=b,e.EMPTY_OBSERVER={closed:!0,next:l.noop,error:function(S){throw S},complete:l.noop}},8014:function(r,e,t){var n=this&&this.__values||function(f){var d=typeof Symbol=="function"&&Symbol.iterator,v=d&&f[d],p=0;if(v)return v.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&p>=f.length&&(f=void 0),{value:f&&f[p++],done:!f}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__read||function(f,d){var v=typeof Symbol=="function"&&f[Symbol.iterator];if(!v)return f;var p,m,w=v.call(f),b=[];try{for(;(d===void 0||d-- >0)&&!(p=w.next()).done;)b.push(p.value)}catch(y){m={error:y}}finally{try{p&&!p.done&&(v=w.return)&&v.call(w)}finally{if(m)throw m.error}}return b},a=this&&this.__spreadArray||function(f,d){for(var v=0,p=d.length,m=f.length;v<p;v++,m++)f[m]=d[v];return f};Object.defineProperty(e,"__esModule",{value:!0}),e.isSubscription=e.EMPTY_SUBSCRIPTION=e.Subscription=void 0;var o=t(1018),s=t(5788),u=t(7479),l=function(){function f(v){this.initialTeardown=v,this.closed=!1,this._parentage=null,this._finalizers=null}var d;return f.prototype.unsubscribe=function(){var v,p,m,w,b;if(!this.closed){this.closed=!0;var y=this._parentage;if(y)if(this._parentage=null,Array.isArray(y))try{for(var _=n(y),S=_.next();!S.done;S=_.next())S.value.remove(this)}catch(F){v={error:F}}finally{try{S&&!S.done&&(p=_.return)&&p.call(_)}finally{if(v)throw v.error}}else y.remove(this);var A=this.initialTeardown;if(o.isFunction(A))try{A()}catch(F){b=F instanceof s.UnsubscriptionError?F.errors:[F]}var D=this._finalizers;if(D){this._finalizers=null;try{for(var R=n(D),k=R.next();!k.done;k=R.next()){var j=k.value;try{c(j)}catch(F){b=b??[],F instanceof s.UnsubscriptionError?b=a(a([],i(b)),i(F.errors)):b.push(F)}}}catch(F){m={error:F}}finally{try{k&&!k.done&&(w=R.return)&&w.call(R)}finally{if(m)throw m.error}}}if(b)throw new s.UnsubscriptionError(b)}},f.prototype.add=function(v){var p;if(v&&v!==this)if(this.closed)c(v);else{if(v instanceof f){if(v.closed||v._hasParent(this))return;v._addParent(this)}(this._finalizers=(p=this._finalizers)!==null&&p!==void 0?p:[]).push(v)}},f.prototype._hasParent=function(v){var p=this._parentage;return p===v||Array.isArray(p)&&p.includes(v)},f.prototype._addParent=function(v){var p=this._parentage;this._parentage=Array.isArray(p)?(p.push(v),p):p?[p,v]:v},f.prototype._removeParent=function(v){var p=this._parentage;p===v?this._parentage=null:Array.isArray(p)&&u.arrRemove(p,v)},f.prototype.remove=function(v){var p=this._finalizers;p&&u.arrRemove(p,v),v instanceof f&&v._removeParent(this)},f.EMPTY=((d=new f).closed=!0,d),f}();function c(f){o.isFunction(f)?f():f.unsubscribe()}e.Subscription=l,e.EMPTY_SUBSCRIPTION=l.EMPTY,e.isSubscription=function(f){return f instanceof l||f&&"closed"in f&&o.isFunction(f.remove)&&o.isFunction(f.add)&&o.isFunction(f.unsubscribe)}},3413:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.config=void 0,e.config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9060:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.firstValueFrom=void 0;var n=t(2823),i=t(5);e.firstValueFrom=function(a,o){var s=typeof o=="object";return new Promise(function(u,l){var c=new i.SafeSubscriber({next:function(f){u(f),c.unsubscribe()},error:l,complete:function(){s?u(o.defaultValue):l(new n.EmptyError)}});a.subscribe(c)})}},6894:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.lastValueFrom=void 0;var n=t(2823);e.lastValueFrom=function(i,a){var o=typeof a=="object";return new Promise(function(s,u){var l,c=!1;i.subscribe({next:function(f){l=f,c=!0},error:u,complete:function(){c?s(l):o?s(a.defaultValue):u(new n.EmptyError)}})})}},8918:function(r,e,t){var n,i=this&&this.__extends||(n=function(f,d){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,p){v.__proto__=p}||function(v,p){for(var m in p)Object.prototype.hasOwnProperty.call(p,m)&&(v[m]=p[m])},n(f,d)},function(f,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function v(){this.constructor=f}n(f,d),f.prototype=d===null?Object.create(d):(v.prototype=d.prototype,new v)});Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectableObservable=void 0;var a=t(4662),o=t(8014),s=t(7561),u=t(3111),l=t(7843),c=function(f){function d(v,p){var m=f.call(this)||this;return m.source=v,m.subjectFactory=p,m._subject=null,m._refCount=0,m._connection=null,l.hasLift(v)&&(m.lift=v.lift),m}return i(d,f),d.prototype._subscribe=function(v){return this.getSubject().subscribe(v)},d.prototype.getSubject=function(){var v=this._subject;return v&&!v.isStopped||(this._subject=this.subjectFactory()),this._subject},d.prototype._teardown=function(){this._refCount=0;var v=this._connection;this._subject=this._connection=null,v==null||v.unsubscribe()},d.prototype.connect=function(){var v=this,p=this._connection;if(!p){p=this._connection=new o.Subscription;var m=this.getSubject();p.add(this.source.subscribe(u.createOperatorSubscriber(m,void 0,function(){v._teardown(),m.complete()},function(w){v._teardown(),m.error(w)},function(){return v._teardown()}))),p.closed&&(this._connection=null,p=o.Subscription.EMPTY)}return p},d.prototype.refCount=function(){return s.refCount()(this)},d}(a.Observable);e.ConnectableObservable=c},2713:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.bindCallback=void 0;var n=t(1439);e.bindCallback=function(i,a,o){return n.bindCallbackInternals(!1,i,a,o)}},1439:function(r,e,t){var n=this&&this.__read||function(f,d){var v=typeof Symbol=="function"&&f[Symbol.iterator];if(!v)return f;var p,m,w=v.call(f),b=[];try{for(;(d===void 0||d-- >0)&&!(p=w.next()).done;)b.push(p.value)}catch(y){m={error:y}}finally{try{p&&!p.done&&(v=w.return)&&v.call(w)}finally{if(m)throw m.error}}return b},i=this&&this.__spreadArray||function(f,d){for(var v=0,p=d.length,m=f.length;v<p;v++,m++)f[m]=d[v];return f};Object.defineProperty(e,"__esModule",{value:!0}),e.bindCallbackInternals=void 0;var a=t(8613),o=t(4662),s=t(8960),u=t(1251),l=t(5184),c=t(95);e.bindCallbackInternals=function f(d,v,p,m){if(p){if(!a.isScheduler(p))return function(){for(var w=[],b=0;b<arguments.length;b++)w[b]=arguments[b];return f(d,v,m).apply(this,w).pipe(u.mapOneOrManyArgs(p))};m=p}return m?function(){for(var w=[],b=0;b<arguments.length;b++)w[b]=arguments[b];return f(d,v).apply(this,w).pipe(s.subscribeOn(m),l.observeOn(m))}:function(){for(var w=this,b=[],y=0;y<arguments.length;y++)b[y]=arguments[y];var _=new c.AsyncSubject,S=!0;return new o.Observable(function(A){var D=_.subscribe(A);if(S){S=!1;var R=!1,k=!1;v.apply(w,i(i([],n(b)),[function(){for(var j=[],F=0;F<arguments.length;F++)j[F]=arguments[F];if(d){var z=j.shift();if(z!=null)return void _.error(z)}_.next(1<j.length?j:j[0]),k=!0,R&&_.complete()}])),k&&_.complete(),R=!0}return D})}}},8561:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.bindNodeCallback=void 0;var n=t(1439);e.bindNodeCallback=function(i,a,o){return n.bindCallbackInternals(!0,i,a,o)}},3247:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.combineLatestInit=e.combineLatest=void 0;var n=t(4662),i=t(7360),a=t(4917),o=t(6640),s=t(1251),u=t(1107),l=t(6013),c=t(3111),f=t(7110);function d(p,m,w){return w===void 0&&(w=o.identity),function(b){v(m,function(){for(var y=p.length,_=new Array(y),S=y,A=y,D=function(k){v(m,function(){var j=a.from(p[k],m),F=!1;j.subscribe(c.createOperatorSubscriber(b,function(z){_[k]=z,F||(F=!0,A--),A||b.next(w(_.slice()))},function(){--S||b.complete()}))},b)},R=0;R<y;R++)D(R)},b)}}function v(p,m,w){p?f.executeSchedule(w,p,m):m()}e.combineLatest=function(){for(var p=[],m=0;m<arguments.length;m++)p[m]=arguments[m];var w=u.popScheduler(p),b=u.popResultSelector(p),y=i.argsArgArrayOrObject(p),_=y.args,S=y.keys;if(_.length===0)return a.from([],w);var A=new n.Observable(d(_,w,S?function(D){return l.createObject(S,D)}:o.identity));return b?A.pipe(s.mapOneOrManyArgs(b)):A},e.combineLatestInit=d},3865:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.concat=void 0;var n=t(8158),i=t(1107),a=t(4917);e.concat=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return n.concatAll()(a.from(o,i.popScheduler(o)))}},7579:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.connectable=void 0;var n=t(2483),i=t(4662),a=t(9353),o={connector:function(){return new n.Subject},resetOnDisconnect:!0};e.connectable=function(s,u){u===void 0&&(u=o);var l=null,c=u.connector,f=u.resetOnDisconnect,d=f===void 0||f,v=c(),p=new i.Observable(function(m){return v.subscribe(m)});return p.connect=function(){return l&&!l.closed||(l=a.defer(function(){return s}).subscribe(v),d&&l.add(function(){return v=c()})),l},p}},9353:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.defer=void 0;var n=t(4662),i=t(9445);e.defer=function(a){return new n.Observable(function(o){i.innerFrom(a()).subscribe(o)})}},3110:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.animationFrames=void 0;var n=t(4662),i=t(4746),a=t(9507);function o(u){return new n.Observable(function(l){var c=u||i.performanceTimestampProvider,f=c.now(),d=0,v=function(){l.closed||(d=a.animationFrameProvider.requestAnimationFrame(function(p){d=0;var m=c.now();l.next({timestamp:u?m:p,elapsed:m-f}),v()}))};return v(),function(){d&&a.animationFrameProvider.cancelAnimationFrame(d)}})}e.animationFrames=function(u){return u?o(u):s};var s=o()},8616:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.empty=e.EMPTY=void 0;var n=t(4662);e.EMPTY=new n.Observable(function(i){return i.complete()}),e.empty=function(i){return i?function(a){return new n.Observable(function(o){return a.schedule(function(){return o.complete()})})}(i):e.EMPTY}},9105:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.forkJoin=void 0;var n=t(4662),i=t(7360),a=t(9445),o=t(1107),s=t(3111),u=t(1251),l=t(6013);e.forkJoin=function(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];var d=o.popResultSelector(c),v=i.argsArgArrayOrObject(c),p=v.args,m=v.keys,w=new n.Observable(function(b){var y=p.length;if(y)for(var _=new Array(y),S=y,A=y,D=function(k){var j=!1;a.innerFrom(p[k]).subscribe(s.createOperatorSubscriber(b,function(F){j||(j=!0,A--),_[k]=F},function(){return S--},void 0,function(){S&&j||(A||b.next(m?l.createObject(m,_):_),b.complete())}))},R=0;R<y;R++)D(R);else b.complete()});return d?w.pipe(u.mapOneOrManyArgs(d)):w}},4917:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.from=void 0;var n=t(1656),i=t(9445);e.from=function(a,o){return o?n.scheduled(a,o):i.innerFrom(a)}},5337:function(r,e,t){var n=this&&this.__read||function(p,m){var w=typeof Symbol=="function"&&p[Symbol.iterator];if(!w)return p;var b,y,_=w.call(p),S=[];try{for(;(m===void 0||m-- >0)&&!(b=_.next()).done;)S.push(b.value)}catch(A){y={error:A}}finally{try{b&&!b.done&&(w=_.return)&&w.call(_)}finally{if(y)throw y.error}}return S};Object.defineProperty(e,"__esModule",{value:!0}),e.fromEvent=void 0;var i=t(9445),a=t(4662),o=t(983),s=t(8046),u=t(1018),l=t(1251),c=["addListener","removeListener"],f=["addEventListener","removeEventListener"],d=["on","off"];function v(p,m){return function(w){return function(b){return p[w](m,b)}}}e.fromEvent=function p(m,w,b,y){if(u.isFunction(b)&&(y=b,b=void 0),y)return p(m,w,b).pipe(l.mapOneOrManyArgs(y));var _=n(function(D){return u.isFunction(D.addEventListener)&&u.isFunction(D.removeEventListener)}(m)?f.map(function(D){return function(R){return m[D](w,R,b)}}):function(D){return u.isFunction(D.addListener)&&u.isFunction(D.removeListener)}(m)?c.map(v(m,w)):function(D){return u.isFunction(D.on)&&u.isFunction(D.off)}(m)?d.map(v(m,w)):[],2),S=_[0],A=_[1];if(!S&&s.isArrayLike(m))return o.mergeMap(function(D){return p(D,w,b)})(i.innerFrom(m));if(!S)throw new TypeError("Invalid event target");return new a.Observable(function(D){var R=function(){for(var k=[],j=0;j<arguments.length;j++)k[j]=arguments[j];return D.next(1<k.length?k:k[0])};return S(R),function(){return A(R)}})}},347:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.fromEventPattern=void 0;var n=t(4662),i=t(1018),a=t(1251);e.fromEventPattern=function o(s,u,l){return l?o(s,u).pipe(a.mapOneOrManyArgs(l)):new n.Observable(function(c){var f=function(){for(var v=[],p=0;p<arguments.length;p++)v[p]=arguments[p];return c.next(v.length===1?v[0]:v)},d=s(f);return i.isFunction(u)?function(){return u(f,d)}:void 0})}},6824:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.fromSubscribable=void 0;var n=t(4662);e.fromSubscribable=function(i){return new n.Observable(function(a){return i.subscribe(a)})}},7610:function(r,e,t){var n=this&&this.__generator||function(u,l){var c,f,d,v,p={label:0,sent:function(){if(1&d[0])throw d[1];return d[1]},trys:[],ops:[]};return v={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function m(w){return function(b){return function(y){if(c)throw new TypeError("Generator is already executing.");for(;p;)try{if(c=1,f&&(d=2&y[0]?f.return:y[0]?f.throw||((d=f.return)&&d.call(f),0):f.next)&&!(d=d.call(f,y[1])).done)return d;switch(f=0,d&&(y=[2&y[0],d.value]),y[0]){case 0:case 1:d=y;break;case 4:return p.label++,{value:y[1],done:!1};case 5:p.label++,f=y[1],y=[0];continue;case 7:y=p.ops.pop(),p.trys.pop();continue;default:if(!((d=(d=p.trys).length>0&&d[d.length-1])||y[0]!==6&&y[0]!==2)){p=0;continue}if(y[0]===3&&(!d||y[1]>d[0]&&y[1]<d[3])){p.label=y[1];break}if(y[0]===6&&p.label<d[1]){p.label=d[1],d=y;break}if(d&&p.label<d[2]){p.label=d[2],p.ops.push(y);break}d[2]&&p.ops.pop(),p.trys.pop();continue}y=l.call(u,p)}catch(_){y=[6,_],f=0}finally{c=d=0}if(5&y[0])throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}([w,b])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.generate=void 0;var i=t(6640),a=t(8613),o=t(9353),s=t(8808);e.generate=function(u,l,c,f,d){var v,p,m,w;function b(){var y;return n(this,function(_){switch(_.label){case 0:y=w,_.label=1;case 1:return l&&!l(y)?[3,4]:[4,m(y)];case 2:_.sent(),_.label=3;case 3:return y=c(y),[3,1];case 4:return[2]}})}return arguments.length===1?(w=(v=u).initialState,l=v.condition,c=v.iterate,p=v.resultSelector,m=p===void 0?i.identity:p,d=v.scheduler):(w=u,!f||a.isScheduler(f)?(m=i.identity,d=f):m=f),o.defer(d?function(){return s.scheduleIterable(b(),d)}:b)}},4209:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.iif=void 0;var n=t(9353);e.iif=function(i,a,o){return n.defer(function(){return i()?a:o})}},9445:function(r,e,t){var n=this&&this.__awaiter||function(k,j,F,z){return new(F||(F=Promise))(function(q,$){function K(re){try{J(z.next(re))}catch(ae){$(ae)}}function oe(re){try{J(z.throw(re))}catch(ae){$(ae)}}function J(re){var ae;re.done?q(re.value):(ae=re.value,ae instanceof F?ae:new F(function(ve){ve(ae)})).then(K,oe)}J((z=z.apply(k,j||[])).next())})},i=this&&this.__generator||function(k,j){var F,z,q,$,K={label:0,sent:function(){if(1&q[0])throw q[1];return q[1]},trys:[],ops:[]};return $={next:oe(0),throw:oe(1),return:oe(2)},typeof Symbol=="function"&&($[Symbol.iterator]=function(){return this}),$;function oe(J){return function(re){return function(ae){if(F)throw new TypeError("Generator is already executing.");for(;K;)try{if(F=1,z&&(q=2&ae[0]?z.return:ae[0]?z.throw||((q=z.return)&&q.call(z),0):z.next)&&!(q=q.call(z,ae[1])).done)return q;switch(z=0,q&&(ae=[2&ae[0],q.value]),ae[0]){case 0:case 1:q=ae;break;case 4:return K.label++,{value:ae[1],done:!1};case 5:K.label++,z=ae[1],ae=[0];continue;case 7:ae=K.ops.pop(),K.trys.pop();continue;default:if(!((q=(q=K.trys).length>0&&q[q.length-1])||ae[0]!==6&&ae[0]!==2)){K=0;continue}if(ae[0]===3&&(!q||ae[1]>q[0]&&ae[1]<q[3])){K.label=ae[1];break}if(ae[0]===6&&K.label<q[1]){K.label=q[1],q=ae;break}if(q&&K.label<q[2]){K.label=q[2],K.ops.push(ae);break}q[2]&&K.ops.pop(),K.trys.pop();continue}ae=j.call(k,K)}catch(ve){ae=[6,ve],z=0}finally{F=q=0}if(5&ae[0])throw ae[1];return{value:ae[0]?ae[1]:void 0,done:!0}}([J,re])}}},a=this&&this.__asyncValues||function(k){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var j,F=k[Symbol.asyncIterator];return F?F.call(k):(k=typeof o=="function"?o(k):k[Symbol.iterator](),j={},z("next"),z("throw"),z("return"),j[Symbol.asyncIterator]=function(){return this},j);function z(q){j[q]=k[q]&&function($){return new Promise(function(K,oe){(function(J,re,ae,ve){Promise.resolve(ve).then(function(se){J({value:se,done:ae})},re)})(K,oe,($=k[q]($)).done,$.value)})}}},o=this&&this.__values||function(k){var j=typeof Symbol=="function"&&Symbol.iterator,F=j&&k[j],z=0;if(F)return F.call(k);if(k&&typeof k.length=="number")return{next:function(){return k&&z>=k.length&&(k=void 0),{value:k&&k[z++],done:!k}}};throw new TypeError(j?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.fromReadableStreamLike=e.fromAsyncIterable=e.fromIterable=e.fromPromise=e.fromArrayLike=e.fromInteropObservable=e.innerFrom=void 0;var s=t(8046),u=t(7629),l=t(4662),c=t(1116),f=t(1358),d=t(7614),v=t(6368),p=t(9137),m=t(1018),w=t(7315),b=t(3327);function y(k){return new l.Observable(function(j){var F=k[b.observable]();if(m.isFunction(F.subscribe))return F.subscribe(j);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function _(k){return new l.Observable(function(j){for(var F=0;F<k.length&&!j.closed;F++)j.next(k[F]);j.complete()})}function S(k){return new l.Observable(function(j){k.then(function(F){j.closed||(j.next(F),j.complete())},function(F){return j.error(F)}).then(null,w.reportUnhandledError)})}function A(k){return new l.Observable(function(j){var F,z;try{for(var q=o(k),$=q.next();!$.done;$=q.next()){var K=$.value;if(j.next(K),j.closed)return}}catch(oe){F={error:oe}}finally{try{$&&!$.done&&(z=q.return)&&z.call(q)}finally{if(F)throw F.error}}j.complete()})}function D(k){return new l.Observable(function(j){(function(F,z){var q,$,K,oe;return n(this,void 0,void 0,function(){var J,re;return i(this,function(ae){switch(ae.label){case 0:ae.trys.push([0,5,6,11]),q=a(F),ae.label=1;case 1:return[4,q.next()];case 2:if(($=ae.sent()).done)return[3,4];if(J=$.value,z.next(J),z.closed)return[2];ae.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return re=ae.sent(),K={error:re},[3,11];case 6:return ae.trys.push([6,,9,10]),$&&!$.done&&(oe=q.return)?[4,oe.call(q)]:[3,8];case 7:ae.sent(),ae.label=8;case 8:return[3,10];case 9:if(K)throw K.error;return[7];case 10:return[7];case 11:return z.complete(),[2]}})})})(k,j).catch(function(F){return j.error(F)})})}function R(k){return D(p.readableStreamLikeToAsyncGenerator(k))}e.innerFrom=function(k){if(k instanceof l.Observable)return k;if(k!=null){if(c.isInteropObservable(k))return y(k);if(s.isArrayLike(k))return _(k);if(u.isPromise(k))return S(k);if(f.isAsyncIterable(k))return D(k);if(v.isIterable(k))return A(k);if(p.isReadableStreamLike(k))return R(k)}throw d.createInvalidObservableTypeError(k)},e.fromInteropObservable=y,e.fromArrayLike=_,e.fromPromise=S,e.fromIterable=A,e.fromAsyncIterable=D,e.fromReadableStreamLike=R},6472:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.interval=void 0;var n=t(7961),i=t(4092);e.interval=function(a,o){return a===void 0&&(a=0),o===void 0&&(o=n.asyncScheduler),a<0&&(a=0),i.timer(a,a,o)}},2833:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.merge=void 0;var n=t(7302),i=t(9445),a=t(8616),o=t(1107),s=t(4917);e.merge=function(){for(var u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];var c=o.popScheduler(u),f=o.popNumber(u,1/0),d=u;return d.length?d.length===1?i.innerFrom(d[0]):n.mergeAll(f)(s.from(d,c)):a.EMPTY}},8655:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.never=e.NEVER=void 0;var n=t(4662),i=t(1342);e.NEVER=new n.Observable(i.noop),e.never=function(){return e.NEVER}},1004:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.of=void 0;var n=t(1107),i=t(4917);e.of=function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];var s=n.popScheduler(a);return i.from(a,s)}},6102:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.onErrorResumeNext=void 0;var n=t(4662),i=t(8535),a=t(3111),o=t(1342),s=t(9445);e.onErrorResumeNext=function(){for(var u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];var c=i.argsOrArgArray(u);return new n.Observable(function(f){var d=0,v=function(){if(d<c.length){var p=void 0;try{p=s.innerFrom(c[d++])}catch{return void v()}var m=new a.OperatorSubscriber(f,void 0,o.noop,o.noop);p.subscribe(m),m.add(v)}else f.complete()};v()})}},7740:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.pairs=void 0;var n=t(4917);e.pairs=function(i,a){return n.from(Object.entries(i),a)}},1699:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.partition=void 0;var n=t(245),i=t(783),a=t(9445);e.partition=function(o,s,u){return[i.filter(s,u)(a.innerFrom(o)),i.filter(n.not(s,u))(a.innerFrom(o))]}},5584:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.raceInit=e.race=void 0;var n=t(4662),i=t(9445),a=t(8535),o=t(3111);function s(u){return function(l){for(var c=[],f=function(v){c.push(i.innerFrom(u[v]).subscribe(o.createOperatorSubscriber(l,function(p){if(c){for(var m=0;m<c.length;m++)m!==v&&c[m].unsubscribe();c=null}l.next(p)})))},d=0;c&&!l.closed&&d<u.length;d++)f(d)}}e.race=function(){for(var u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];return(u=a.argsOrArgArray(u)).length===1?i.innerFrom(u[0]):new n.Observable(s(u))},e.raceInit=s},9376:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.range=void 0;var n=t(4662),i=t(8616);e.range=function(a,o,s){if(o==null&&(o=a,a=0),o<=0)return i.EMPTY;var u=o+a;return new n.Observable(s?function(l){var c=a;return s.schedule(function(){c<u?(l.next(c++),this.schedule()):l.complete()})}:function(l){for(var c=a;c<u&&!l.closed;)l.next(c++);l.complete()})}},1103:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.throwError=void 0;var n=t(4662),i=t(1018);e.throwError=function(a,o){var s=i.isFunction(a)?a:function(){return a},u=function(l){return l.error(s())};return new n.Observable(o?function(l){return o.schedule(u,0,l)}:u)}},4092:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.timer=void 0;var n=t(4662),i=t(7961),a=t(8613),o=t(1074);e.timer=function(s,u,l){s===void 0&&(s=0),l===void 0&&(l=i.async);var c=-1;return u!=null&&(a.isScheduler(u)?l=u:c=u),new n.Observable(function(f){var d=o.isValidDate(s)?+s-l.now():s;d<0&&(d=0);var v=0;return l.schedule(function(){f.closed||(f.next(v++),0<=c?this.schedule(void 0,c):f.complete())},d)})}},7853:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.using=void 0;var n=t(4662),i=t(9445),a=t(8616);e.using=function(o,s){return new n.Observable(function(u){var l=o(),c=s(l);return(c?i.innerFrom(c):a.EMPTY).subscribe(u),function(){l&&l.unsubscribe()}})}},7286:function(r,e,t){var n=this&&this.__read||function(f,d){var v=typeof Symbol=="function"&&f[Symbol.iterator];if(!v)return f;var p,m,w=v.call(f),b=[];try{for(;(d===void 0||d-- >0)&&!(p=w.next()).done;)b.push(p.value)}catch(y){m={error:y}}finally{try{p&&!p.done&&(v=w.return)&&v.call(w)}finally{if(m)throw m.error}}return b},i=this&&this.__spreadArray||function(f,d){for(var v=0,p=d.length,m=f.length;v<p;v++,m++)f[m]=d[v];return f};Object.defineProperty(e,"__esModule",{value:!0}),e.zip=void 0;var a=t(4662),o=t(9445),s=t(8535),u=t(8616),l=t(3111),c=t(1107);e.zip=function(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];var v=c.popResultSelector(f),p=s.argsOrArgArray(f);return p.length?new a.Observable(function(m){var w=p.map(function(){return[]}),b=p.map(function(){return!1});m.add(function(){w=b=null});for(var y=function(S){o.innerFrom(p[S]).subscribe(l.createOperatorSubscriber(m,function(A){if(w[S].push(A),w.every(function(R){return R.length})){var D=w.map(function(R){return R.shift()});m.next(v?v.apply(void 0,i([],n(D))):D),w.some(function(R,k){return!R.length&&b[k]})&&m.complete()}},function(){b[S]=!0,!w[S].length&&m.complete()}))},_=0;!m.closed&&_<p.length;_++)y(_);return function(){w=b=null}}):u.EMPTY}},3111:function(r,e,t){var n,i=this&&this.__extends||(n=function(s,u){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,c){l.__proto__=c}||function(l,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(l[f]=c[f])},n(s,u)},function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}n(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)});Object.defineProperty(e,"__esModule",{value:!0}),e.OperatorSubscriber=e.createOperatorSubscriber=void 0;var a=t(5);e.createOperatorSubscriber=function(s,u,l,c,f){return new o(s,u,l,c,f)};var o=function(s){function u(l,c,f,d,v,p){var m=s.call(this,l)||this;return m.onFinalize=v,m.shouldUnsubscribe=p,m._next=c?function(w){try{c(w)}catch(b){l.error(b)}}:s.prototype._next,m._error=d?function(w){try{d(w)}catch(b){l.error(b)}finally{this.unsubscribe()}}:s.prototype._error,m._complete=f?function(){try{f()}catch(w){l.error(w)}finally{this.unsubscribe()}}:s.prototype._complete,m}return i(u,s),u.prototype.unsubscribe=function(){var l;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var c=this.closed;s.prototype.unsubscribe.call(this),!c&&((l=this.onFinalize)===null||l===void 0||l.call(this))}},u}(a.Subscriber);e.OperatorSubscriber=o},3146:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.audit=void 0;var n=t(7843),i=t(9445),a=t(3111);e.audit=function(o){return n.operate(function(s,u){var l=!1,c=null,f=null,d=!1,v=function(){if(f==null||f.unsubscribe(),f=null,l){l=!1;var m=c;c=null,u.next(m)}d&&u.complete()},p=function(){f=null,d&&u.complete()};s.subscribe(a.createOperatorSubscriber(u,function(m){l=!0,c=m,f||i.innerFrom(o(m)).subscribe(f=a.createOperatorSubscriber(u,v,p))},function(){d=!0,(!l||!f||f.closed)&&u.complete()}))})}},3231:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.auditTime=void 0;var n=t(7961),i=t(3146),a=t(4092);e.auditTime=function(o,s){return s===void 0&&(s=n.asyncScheduler),i.audit(function(){return a.timer(o,s)})}},8015:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.buffer=void 0;var n=t(7843),i=t(1342),a=t(3111),o=t(9445);e.buffer=function(s){return n.operate(function(u,l){var c=[];return u.subscribe(a.createOperatorSubscriber(l,function(f){return c.push(f)},function(){l.next(c),l.complete()})),o.innerFrom(s).subscribe(a.createOperatorSubscriber(l,function(){var f=c;c=[],l.next(f)},i.noop)),function(){c=null}})}},5572:function(r,e,t){var n=this&&this.__values||function(s){var u=typeof Symbol=="function"&&Symbol.iterator,l=u&&s[u],c=0;if(l)return l.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&c>=s.length&&(s=void 0),{value:s&&s[c++],done:!s}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.bufferCount=void 0;var i=t(7843),a=t(3111),o=t(7479);e.bufferCount=function(s,u){return u===void 0&&(u=null),u=u??s,i.operate(function(l,c){var f=[],d=0;l.subscribe(a.createOperatorSubscriber(c,function(v){var p,m,w,b,y=null;d++%u==0&&f.push([]);try{for(var _=n(f),S=_.next();!S.done;S=_.next())(R=S.value).push(v),s<=R.length&&(y=y??[]).push(R)}catch(k){p={error:k}}finally{try{S&&!S.done&&(m=_.return)&&m.call(_)}finally{if(p)throw p.error}}if(y)try{for(var A=n(y),D=A.next();!D.done;D=A.next()){var R=D.value;o.arrRemove(f,R),c.next(R)}}catch(k){w={error:k}}finally{try{D&&!D.done&&(b=A.return)&&b.call(A)}finally{if(w)throw w.error}}},function(){var v,p;try{for(var m=n(f),w=m.next();!w.done;w=m.next()){var b=w.value;c.next(b)}}catch(y){v={error:y}}finally{try{w&&!w.done&&(p=m.return)&&p.call(m)}finally{if(v)throw v.error}}c.complete()},void 0,function(){f=null}))})}},7210:function(r,e,t){var n=this&&this.__values||function(f){var d=typeof Symbol=="function"&&Symbol.iterator,v=d&&f[d],p=0;if(v)return v.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&p>=f.length&&(f=void 0),{value:f&&f[p++],done:!f}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.bufferTime=void 0;var i=t(8014),a=t(7843),o=t(3111),s=t(7479),u=t(7961),l=t(1107),c=t(7110);e.bufferTime=function(f){for(var d,v,p=[],m=1;m<arguments.length;m++)p[m-1]=arguments[m];var w=(d=l.popScheduler(p))!==null&&d!==void 0?d:u.asyncScheduler,b=(v=p[0])!==null&&v!==void 0?v:null,y=p[1]||1/0;return a.operate(function(_,S){var A=[],D=!1,R=function(F){var z=F.buffer;F.subs.unsubscribe(),s.arrRemove(A,F),S.next(z),D&&k()},k=function(){if(A){var F=new i.Subscription;S.add(F);var z={buffer:[],subs:F};A.push(z),c.executeSchedule(F,w,function(){return R(z)},f)}};b!==null&&b>=0?c.executeSchedule(S,w,k,b,!0):D=!0,k();var j=o.createOperatorSubscriber(S,function(F){var z,q,$=A.slice();try{for(var K=n($),oe=K.next();!oe.done;oe=K.next()){var J=oe.value,re=J.buffer;re.push(F),y<=re.length&&R(J)}}catch(ae){z={error:ae}}finally{try{oe&&!oe.done&&(q=K.return)&&q.call(K)}finally{if(z)throw z.error}}},function(){for(;A!=null&&A.length;)S.next(A.shift().buffer);j==null||j.unsubscribe(),S.complete(),S.unsubscribe()},void 0,function(){return A=null});_.subscribe(j)})}},8995:function(r,e,t){var n=this&&this.__values||function(c){var f=typeof Symbol=="function"&&Symbol.iterator,d=f&&c[f],v=0;if(d)return d.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&v>=c.length&&(c=void 0),{value:c&&c[v++],done:!c}}};throw new TypeError(f?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.bufferToggle=void 0;var i=t(8014),a=t(7843),o=t(9445),s=t(3111),u=t(1342),l=t(7479);e.bufferToggle=function(c,f){return a.operate(function(d,v){var p=[];o.innerFrom(c).subscribe(s.createOperatorSubscriber(v,function(m){var w=[];p.push(w);var b=new i.Subscription;b.add(o.innerFrom(f(m)).subscribe(s.createOperatorSubscriber(v,function(){l.arrRemove(p,w),v.next(w),b.unsubscribe()},u.noop)))},u.noop)),d.subscribe(s.createOperatorSubscriber(v,function(m){var w,b;try{for(var y=n(p),_=y.next();!_.done;_=y.next())_.value.push(m)}catch(S){w={error:S}}finally{try{_&&!_.done&&(b=y.return)&&b.call(y)}finally{if(w)throw w.error}}},function(){for(;p.length>0;)v.next(p.shift());v.complete()}))})}},8831:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.bufferWhen=void 0;var n=t(7843),i=t(1342),a=t(3111),o=t(9445);e.bufferWhen=function(s){return n.operate(function(u,l){var c=null,f=null,d=function(){f==null||f.unsubscribe();var v=c;c=[],v&&l.next(v),o.innerFrom(s()).subscribe(f=a.createOperatorSubscriber(l,d,i.noop))};d(),u.subscribe(a.createOperatorSubscriber(l,function(v){return c==null?void 0:c.push(v)},function(){c&&l.next(c),l.complete()},void 0,function(){return c=f=null}))})}},8118:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.catchError=void 0;var n=t(9445),i=t(3111),a=t(7843);e.catchError=function o(s){return a.operate(function(u,l){var c,f=null,d=!1;f=u.subscribe(i.createOperatorSubscriber(l,void 0,void 0,function(v){c=n.innerFrom(s(v,o(s)(u))),f?(f.unsubscribe(),f=null,c.subscribe(l)):d=!0})),d&&(f.unsubscribe(),f=null,c.subscribe(l))})}},6625:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.combineAll=void 0;var n=t(6728);e.combineAll=n.combineLatestAll},2551:function(r,e,t){var n=this&&this.__read||function(f,d){var v=typeof Symbol=="function"&&f[Symbol.iterator];if(!v)return f;var p,m,w=v.call(f),b=[];try{for(;(d===void 0||d-- >0)&&!(p=w.next()).done;)b.push(p.value)}catch(y){m={error:y}}finally{try{p&&!p.done&&(v=w.return)&&v.call(w)}finally{if(m)throw m.error}}return b},i=this&&this.__spreadArray||function(f,d){for(var v=0,p=d.length,m=f.length;v<p;v++,m++)f[m]=d[v];return f};Object.defineProperty(e,"__esModule",{value:!0}),e.combineLatest=void 0;var a=t(3247),o=t(7843),s=t(8535),u=t(1251),l=t(2706),c=t(1107);e.combineLatest=function f(){for(var d=[],v=0;v<arguments.length;v++)d[v]=arguments[v];var p=c.popResultSelector(d);return p?l.pipe(f.apply(void 0,i([],n(d))),u.mapOneOrManyArgs(p)):o.operate(function(m,w){a.combineLatestInit(i([m],n(s.argsOrArgArray(d))))(w)})}},6728:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.combineLatestAll=void 0;var n=t(3247),i=t(3638);e.combineLatestAll=function(a){return i.joinAllInternals(n.combineLatest,a)}},8239:function(r,e,t){var n=this&&this.__read||function(o,s){var u=typeof Symbol=="function"&&o[Symbol.iterator];if(!u)return o;var l,c,f=u.call(o),d=[];try{for(;(s===void 0||s-- >0)&&!(l=f.next()).done;)d.push(l.value)}catch(v){c={error:v}}finally{try{l&&!l.done&&(u=f.return)&&u.call(f)}finally{if(c)throw c.error}}return d},i=this&&this.__spreadArray||function(o,s){for(var u=0,l=s.length,c=o.length;u<l;u++,c++)o[c]=s[u];return o};Object.defineProperty(e,"__esModule",{value:!0}),e.combineLatestWith=void 0;var a=t(2551);e.combineLatestWith=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return a.combineLatest.apply(void 0,i([],n(o)))}},7601:function(r,e,t){var n=this&&this.__read||function(l,c){var f=typeof Symbol=="function"&&l[Symbol.iterator];if(!f)return l;var d,v,p=f.call(l),m=[];try{for(;(c===void 0||c-- >0)&&!(d=p.next()).done;)m.push(d.value)}catch(w){v={error:w}}finally{try{d&&!d.done&&(f=p.return)&&f.call(p)}finally{if(v)throw v.error}}return m},i=this&&this.__spreadArray||function(l,c){for(var f=0,d=c.length,v=l.length;f<d;f++,v++)l[v]=c[f];return l};Object.defineProperty(e,"__esModule",{value:!0}),e.concat=void 0;var a=t(7843),o=t(8158),s=t(1107),u=t(4917);e.concat=function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];var f=s.popScheduler(l);return a.operate(function(d,v){o.concatAll()(u.from(i([d],n(l)),f)).subscribe(v)})}},8158:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.concatAll=void 0;var n=t(7302);e.concatAll=function(){return n.mergeAll(1)}},9135:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.concatMap=void 0;var n=t(983),i=t(1018);e.concatMap=function(a,o){return i.isFunction(o)?n.mergeMap(a,o,1):n.mergeMap(a,1)}},9938:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.concatMapTo=void 0;var n=t(9135),i=t(1018);e.concatMapTo=function(a,o){return i.isFunction(o)?n.concatMap(function(){return a},o):n.concatMap(function(){return a})}},9669:function(r,e,t){var n=this&&this.__read||function(o,s){var u=typeof Symbol=="function"&&o[Symbol.iterator];if(!u)return o;var l,c,f=u.call(o),d=[];try{for(;(s===void 0||s-- >0)&&!(l=f.next()).done;)d.push(l.value)}catch(v){c={error:v}}finally{try{l&&!l.done&&(u=f.return)&&u.call(f)}finally{if(c)throw c.error}}return d},i=this&&this.__spreadArray||function(o,s){for(var u=0,l=s.length,c=o.length;u<l;u++,c++)o[c]=s[u];return o};Object.defineProperty(e,"__esModule",{value:!0}),e.concatWith=void 0;var a=t(7601);e.concatWith=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return a.concat.apply(void 0,i([],n(o)))}},1483:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.connect=void 0;var n=t(2483),i=t(9445),a=t(7843),o=t(6824),s={connector:function(){return new n.Subject}};e.connect=function(u,l){l===void 0&&(l=s);var c=l.connector;return a.operate(function(f,d){var v=c();i.innerFrom(u(o.fromSubscribable(v))).subscribe(d),d.add(f.subscribe(v))})}},1038:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.count=void 0;var n=t(9139);e.count=function(i){return n.reduce(function(a,o,s){return!i||i(o,s)?a+1:a},0)}},4461:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.debounce=void 0;var n=t(7843),i=t(1342),a=t(3111),o=t(9445);e.debounce=function(s){return n.operate(function(u,l){var c=!1,f=null,d=null,v=function(){if(d==null||d.unsubscribe(),d=null,c){c=!1;var p=f;f=null,l.next(p)}};u.subscribe(a.createOperatorSubscriber(l,function(p){d==null||d.unsubscribe(),c=!0,f=p,d=a.createOperatorSubscriber(l,v,i.noop),o.innerFrom(s(p)).subscribe(d)},function(){v(),l.complete()},void 0,function(){f=d=null}))})}},8079:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.debounceTime=void 0;var n=t(7961),i=t(7843),a=t(3111);e.debounceTime=function(o,s){return s===void 0&&(s=n.asyncScheduler),i.operate(function(u,l){var c=null,f=null,d=null,v=function(){if(c){c.unsubscribe(),c=null;var m=f;f=null,l.next(m)}};function p(){var m=d+o,w=s.now();if(w<m)return c=this.schedule(void 0,m-w),void l.add(c);v()}u.subscribe(a.createOperatorSubscriber(l,function(m){f=m,d=s.now(),c||(c=s.schedule(p,o),l.add(c))},function(){v(),l.complete()},void 0,function(){f=c=null}))})}},378:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.defaultIfEmpty=void 0;var n=t(7843),i=t(3111);e.defaultIfEmpty=function(a){return n.operate(function(o,s){var u=!1;o.subscribe(i.createOperatorSubscriber(s,function(l){u=!0,s.next(l)},function(){u||s.next(a),s.complete()}))})}},914:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.delay=void 0;var n=t(7961),i=t(8766),a=t(4092);e.delay=function(o,s){s===void 0&&(s=n.asyncScheduler);var u=a.timer(o,s);return i.delayWhen(function(){return u})}},8766:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.delayWhen=void 0;var n=t(3865),i=t(846),a=t(490),o=t(3218),s=t(983),u=t(9445);e.delayWhen=function l(c,f){return f?function(d){return n.concat(f.pipe(i.take(1),a.ignoreElements()),d.pipe(l(c)))}:s.mergeMap(function(d,v){return u.innerFrom(c(d,v)).pipe(i.take(1),o.mapTo(d))})}},7441:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.dematerialize=void 0;var n=t(7800),i=t(7843),a=t(3111);e.dematerialize=function(){return i.operate(function(o,s){o.subscribe(a.createOperatorSubscriber(s,function(u){return n.observeNotification(u,s)}))})}},5365:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.distinct=void 0;var n=t(7843),i=t(3111),a=t(1342),o=t(9445);e.distinct=function(s,u){return n.operate(function(l,c){var f=new Set;l.subscribe(i.createOperatorSubscriber(c,function(d){var v=s?s(d):d;f.has(v)||(f.add(v),c.next(d))})),u&&o.innerFrom(u).subscribe(i.createOperatorSubscriber(c,function(){return f.clear()},a.noop))})}},8937:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.distinctUntilChanged=void 0;var n=t(6640),i=t(7843),a=t(3111);function o(s,u){return s===u}e.distinctUntilChanged=function(s,u){return u===void 0&&(u=n.identity),s=s??o,i.operate(function(l,c){var f,d=!0;l.subscribe(a.createOperatorSubscriber(c,function(v){var p=u(v);!d&&s(f,p)||(d=!1,f=p,c.next(v))}))})}},9612:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.distinctUntilKeyChanged=void 0;var n=t(8937);e.distinctUntilKeyChanged=function(i,a){return n.distinctUntilChanged(function(o,s){return a?a(o[i],s[i]):o[i]===s[i]})}},4520:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.elementAt=void 0;var n=t(7057),i=t(783),a=t(4869),o=t(378),s=t(846);e.elementAt=function(u,l){if(u<0)throw new n.ArgumentOutOfRangeError;var c=arguments.length>=2;return function(f){return f.pipe(i.filter(function(d,v){return v===u}),s.take(1),c?o.defaultIfEmpty(l):a.throwIfEmpty(function(){return new n.ArgumentOutOfRangeError}))}}},1776:function(r,e,t){var n=this&&this.__read||function(s,u){var l=typeof Symbol=="function"&&s[Symbol.iterator];if(!l)return s;var c,f,d=l.call(s),v=[];try{for(;(u===void 0||u-- >0)&&!(c=d.next()).done;)v.push(c.value)}catch(p){f={error:p}}finally{try{c&&!c.done&&(l=d.return)&&l.call(d)}finally{if(f)throw f.error}}return v},i=this&&this.__spreadArray||function(s,u){for(var l=0,c=u.length,f=s.length;l<c;l++,f++)s[f]=u[l];return s};Object.defineProperty(e,"__esModule",{value:!0}),e.endWith=void 0;var a=t(3865),o=t(1004);e.endWith=function(){for(var s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];return function(l){return a.concat(l,o.of.apply(void 0,i([],n(s))))}}},5510:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.every=void 0;var n=t(7843),i=t(3111);e.every=function(a,o){return n.operate(function(s,u){var l=0;s.subscribe(i.createOperatorSubscriber(u,function(c){a.call(o,c,l++,s)||(u.next(!1),u.complete())},function(){u.next(!0),u.complete()}))})}},1551:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.exhaust=void 0;var n=t(2752);e.exhaust=n.exhaustAll},2752:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.exhaustAll=void 0;var n=t(4753),i=t(6640);e.exhaustAll=function(){return n.exhaustMap(i.identity)}},4753:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.exhaustMap=void 0;var n=t(5471),i=t(9445),a=t(7843),o=t(3111);e.exhaustMap=function s(u,l){return l?function(c){return c.pipe(s(function(f,d){return i.innerFrom(u(f,d)).pipe(n.map(function(v,p){return l(f,v,d,p)}))}))}:a.operate(function(c,f){var d=0,v=null,p=!1;c.subscribe(o.createOperatorSubscriber(f,function(m){v||(v=o.createOperatorSubscriber(f,void 0,function(){v=null,p&&f.complete()}),i.innerFrom(u(m,d++)).subscribe(v))},function(){p=!0,!v&&f.complete()}))})}},7661:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.expand=void 0;var n=t(7843),i=t(1983);e.expand=function(a,o,s){return o===void 0&&(o=1/0),o=(o||0)<1?1/0:o,n.operate(function(u,l){return i.mergeInternals(u,l,a,o,void 0,!0,s)})}},783:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.filter=void 0;var n=t(7843),i=t(3111);e.filter=function(a,o){return n.operate(function(s,u){var l=0;s.subscribe(i.createOperatorSubscriber(u,function(c){return a.call(o,c,l++)&&u.next(c)}))})}},3555:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.finalize=void 0;var n=t(7843);e.finalize=function(i){return n.operate(function(a,o){try{a.subscribe(o)}finally{o.add(i)}})}},7714:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createFind=e.find=void 0;var n=t(7843),i=t(3111);function a(o,s,u){var l=u==="index";return function(c,f){var d=0;c.subscribe(i.createOperatorSubscriber(f,function(v){var p=d++;o.call(s,v,p,c)&&(f.next(l?p:v),f.complete())},function(){f.next(l?-1:void 0),f.complete()}))}}e.find=function(o,s){return n.operate(a(o,s,"value"))},e.createFind=a},9756:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.findIndex=void 0;var n=t(7843),i=t(7714);e.findIndex=function(a,o){return n.operate(i.createFind(a,o,"index"))}},8275:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.first=void 0;var n=t(2823),i=t(783),a=t(846),o=t(378),s=t(4869),u=t(6640);e.first=function(l,c){var f=arguments.length>=2;return function(d){return d.pipe(l?i.filter(function(v,p){return l(v,p,d)}):u.identity,a.take(1),f?o.defaultIfEmpty(c):s.throwIfEmpty(function(){return new n.EmptyError}))}}},6902:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.flatMap=void 0;var n=t(983);e.flatMap=n.mergeMap},7815:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.groupBy=void 0;var n=t(4662),i=t(9445),a=t(2483),o=t(7843),s=t(3111);e.groupBy=function(u,l,c,f){return o.operate(function(d,v){var p;l&&typeof l!="function"?(c=l.duration,p=l.element,f=l.connector):p=l;var m=new Map,w=function(A){m.forEach(A),A(v)},b=function(A){return w(function(D){return D.error(A)})},y=0,_=!1,S=new s.OperatorSubscriber(v,function(A){try{var D=u(A),R=m.get(D);if(!R){m.set(D,R=f?f():new a.Subject);var k=(F=D,z=R,(q=new n.Observable(function($){y++;var K=z.subscribe($);return function(){K.unsubscribe(),--y==0&&_&&S.unsubscribe()}})).key=F,q);if(v.next(k),c){var j=s.createOperatorSubscriber(R,function(){R.complete(),j==null||j.unsubscribe()},void 0,void 0,function(){return m.delete(D)});S.add(i.innerFrom(c(k)).subscribe(j))}}R.next(p?p(A):A)}catch($){b($)}var F,z,q},function(){return w(function(A){return A.complete()})},b,function(){return m.clear()},function(){return _=!0,y===0});d.subscribe(S)})}},490:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ignoreElements=void 0;var n=t(7843),i=t(3111),a=t(1342);e.ignoreElements=function(){return n.operate(function(o,s){o.subscribe(i.createOperatorSubscriber(s,a.noop))})}},9356:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isEmpty=void 0;var n=t(7843),i=t(3111);e.isEmpty=function(){return n.operate(function(a,o){a.subscribe(i.createOperatorSubscriber(o,function(){o.next(!1),o.complete()},function(){o.next(!0),o.complete()}))})}},3638:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.joinAllInternals=void 0;var n=t(6640),i=t(1251),a=t(2706),o=t(983),s=t(2343);e.joinAllInternals=function(u,l){return a.pipe(s.toArray(),o.mergeMap(function(c){return u(c)}),l?i.mapOneOrManyArgs(l):n.identity)}},8669:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.last=void 0;var n=t(2823),i=t(783),a=t(8330),o=t(4869),s=t(378),u=t(6640);e.last=function(l,c){var f=arguments.length>=2;return function(d){return d.pipe(l?i.filter(function(v,p){return l(v,p,d)}):u.identity,a.takeLast(1),f?s.defaultIfEmpty(c):o.throwIfEmpty(function(){return new n.EmptyError}))}}},5471:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.map=void 0;var n=t(7843),i=t(3111);e.map=function(a,o){return n.operate(function(s,u){var l=0;s.subscribe(i.createOperatorSubscriber(u,function(c){u.next(a.call(o,c,l++))}))})}},3218:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.mapTo=void 0;var n=t(5471);e.mapTo=function(i){return n.map(function(){return i})}},2360:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.materialize=void 0;var n=t(7800),i=t(7843),a=t(3111);e.materialize=function(){return i.operate(function(o,s){o.subscribe(a.createOperatorSubscriber(s,function(u){s.next(n.Notification.createNext(u))},function(){s.next(n.Notification.createComplete()),s.complete()},function(u){s.next(n.Notification.createError(u)),s.complete()}))})}},1415:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.max=void 0;var n=t(9139),i=t(1018);e.max=function(a){return n.reduce(i.isFunction(a)?function(o,s){return a(o,s)>0?o:s}:function(o,s){return o>s?o:s})}},361:function(r,e,t){var n=this&&this.__read||function(c,f){var d=typeof Symbol=="function"&&c[Symbol.iterator];if(!d)return c;var v,p,m=d.call(c),w=[];try{for(;(f===void 0||f-- >0)&&!(v=m.next()).done;)w.push(v.value)}catch(b){p={error:b}}finally{try{v&&!v.done&&(d=m.return)&&d.call(m)}finally{if(p)throw p.error}}return w},i=this&&this.__spreadArray||function(c,f){for(var d=0,v=f.length,p=c.length;d<v;d++,p++)c[p]=f[d];return c};Object.defineProperty(e,"__esModule",{value:!0}),e.merge=void 0;var a=t(7843),o=t(8535),s=t(7302),u=t(1107),l=t(4917);e.merge=function(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];var d=u.popScheduler(c),v=u.popNumber(c,1/0);return c=o.argsOrArgArray(c),a.operate(function(p,m){s.mergeAll(v)(l.from(i([p],n(c)),d)).subscribe(m)})}},7302:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.mergeAll=void 0;var n=t(983),i=t(6640);e.mergeAll=function(a){return a===void 0&&(a=1/0),n.mergeMap(i.identity,a)}},1983:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.mergeInternals=void 0;var n=t(9445),i=t(7110),a=t(3111);e.mergeInternals=function(o,s,u,l,c,f,d,v){var p=[],m=0,w=0,b=!1,y=function(){!b||p.length||m||s.complete()},_=function(A){return m<l?S(A):p.push(A)},S=function(A){f&&s.next(A),m++;var D=!1;n.innerFrom(u(A,w++)).subscribe(a.createOperatorSubscriber(s,function(R){c==null||c(R),f?_(R):s.next(R)},function(){D=!0},void 0,function(){if(D)try{m--;for(var R=function(){var k=p.shift();d?i.executeSchedule(s,d,function(){return S(k)}):S(k)};p.length&&m<l;)R();y()}catch(k){s.error(k)}}))};return o.subscribe(a.createOperatorSubscriber(s,_,function(){b=!0,y()})),function(){v==null||v()}}},983:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.mergeMap=void 0;var n=t(5471),i=t(9445),a=t(7843),o=t(1983),s=t(1018);e.mergeMap=function u(l,c,f){return f===void 0&&(f=1/0),s.isFunction(c)?u(function(d,v){return n.map(function(p,m){return c(d,p,v,m)})(i.innerFrom(l(d,v)))},f):(typeof c=="number"&&(f=c),a.operate(function(d,v){return o.mergeInternals(d,v,l,f)}))}},6586:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.mergeMapTo=void 0;var n=t(983),i=t(1018);e.mergeMapTo=function(a,o,s){return s===void 0&&(s=1/0),i.isFunction(o)?n.mergeMap(function(){return a},o,s):(typeof o=="number"&&(s=o),n.mergeMap(function(){return a},s))}},4408:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.mergeScan=void 0;var n=t(7843),i=t(1983);e.mergeScan=function(a,o,s){return s===void 0&&(s=1/0),n.operate(function(u,l){var c=o;return i.mergeInternals(u,l,function(f,d){return a(c,f,d)},s,function(f){c=f},!1,void 0,function(){return c=null})})}},8253:function(r,e,t){var n=this&&this.__read||function(o,s){var u=typeof Symbol=="function"&&o[Symbol.iterator];if(!u)return o;var l,c,f=u.call(o),d=[];try{for(;(s===void 0||s-- >0)&&!(l=f.next()).done;)d.push(l.value)}catch(v){c={error:v}}finally{try{l&&!l.done&&(u=f.return)&&u.call(f)}finally{if(c)throw c.error}}return d},i=this&&this.__spreadArray||function(o,s){for(var u=0,l=s.length,c=o.length;u<l;u++,c++)o[c]=s[u];return o};Object.defineProperty(e,"__esModule",{value:!0}),e.mergeWith=void 0;var a=t(361);e.mergeWith=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return a.merge.apply(void 0,i([],n(o)))}},2669:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.min=void 0;var n=t(9139),i=t(1018);e.min=function(a){return n.reduce(i.isFunction(a)?function(o,s){return a(o,s)<0?o:s}:function(o,s){return o<s?o:s})}},9247:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.multicast=void 0;var n=t(8918),i=t(1018),a=t(1483);e.multicast=function(o,s){var u=i.isFunction(o)?o:function(){return o};return i.isFunction(s)?a.connect(s,{connector:u}):function(l){return new n.ConnectableObservable(l,u)}}},5184:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.observeOn=void 0;var n=t(7110),i=t(7843),a=t(3111);e.observeOn=function(o,s){return s===void 0&&(s=0),i.operate(function(u,l){u.subscribe(a.createOperatorSubscriber(l,function(c){return n.executeSchedule(l,o,function(){return l.next(c)},s)},function(){return n.executeSchedule(l,o,function(){return l.complete()},s)},function(c){return n.executeSchedule(l,o,function(){return l.error(c)},s)}))})}},1226:function(r,e,t){var n=this&&this.__read||function(u,l){var c=typeof Symbol=="function"&&u[Symbol.iterator];if(!c)return u;var f,d,v=c.call(u),p=[];try{for(;(l===void 0||l-- >0)&&!(f=v.next()).done;)p.push(f.value)}catch(m){d={error:m}}finally{try{f&&!f.done&&(c=v.return)&&c.call(v)}finally{if(d)throw d.error}}return p},i=this&&this.__spreadArray||function(u,l){for(var c=0,f=l.length,d=u.length;c<f;c++,d++)u[d]=l[c];return u};Object.defineProperty(e,"__esModule",{value:!0}),e.onErrorResumeNext=e.onErrorResumeNextWith=void 0;var a=t(8535),o=t(6102);function s(){for(var u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];var c=a.argsOrArgArray(u);return function(f){return o.onErrorResumeNext.apply(void 0,i([f],n(c)))}}e.onErrorResumeNextWith=s,e.onErrorResumeNext=s},1518:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.pairwise=void 0;var n=t(7843),i=t(3111);e.pairwise=function(){return n.operate(function(a,o){var s,u=!1;a.subscribe(i.createOperatorSubscriber(o,function(l){var c=s;s=l,u&&o.next([c,l]),u=!0}))})}},2171:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.partition=void 0;var n=t(245),i=t(783);e.partition=function(a,o){return function(s){return[i.filter(a,o)(s),i.filter(n.not(a,o))(s)]}}},4912:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.pluck=void 0;var n=t(5471);e.pluck=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var o=i.length;if(o===0)throw new Error("list of properties cannot be empty.");return n.map(function(s){for(var u=s,l=0;l<o;l++){var c=u==null?void 0:u[i[l]];if(c===void 0)return;u=c}return u})}},766:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.publish=void 0;var n=t(2483),i=t(9247),a=t(1483);e.publish=function(o){return o?function(s){return a.connect(o)(s)}:function(s){return i.multicast(new n.Subject)(s)}}},7220:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.publishBehavior=void 0;var n=t(1637),i=t(8918);e.publishBehavior=function(a){return function(o){var s=new n.BehaviorSubject(a);return new i.ConnectableObservable(o,function(){return s})}}},6106:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.publishLast=void 0;var n=t(95),i=t(8918);e.publishLast=function(){return function(a){var o=new n.AsyncSubject;return new i.ConnectableObservable(a,function(){return o})}}},8157:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.publishReplay=void 0;var n=t(1242),i=t(9247),a=t(1018);e.publishReplay=function(o,s,u,l){u&&!a.isFunction(u)&&(l=u);var c=a.isFunction(u)?u:void 0;return function(f){return i.multicast(new n.ReplaySubject(o,s,l),c)(f)}}},4440:function(r,e,t){var n=this&&this.__read||function(s,u){var l=typeof Symbol=="function"&&s[Symbol.iterator];if(!l)return s;var c,f,d=l.call(s),v=[];try{for(;(u===void 0||u-- >0)&&!(c=d.next()).done;)v.push(c.value)}catch(p){f={error:p}}finally{try{c&&!c.done&&(l=d.return)&&l.call(d)}finally{if(f)throw f.error}}return v},i=this&&this.__spreadArray||function(s,u){for(var l=0,c=u.length,f=s.length;l<c;l++,f++)s[f]=u[l];return s};Object.defineProperty(e,"__esModule",{value:!0}),e.race=void 0;var a=t(8535),o=t(5600);e.race=function(){for(var s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];return o.raceWith.apply(void 0,i([],n(a.argsOrArgArray(s))))}},5600:function(r,e,t){var n=this&&this.__read||function(u,l){var c=typeof Symbol=="function"&&u[Symbol.iterator];if(!c)return u;var f,d,v=c.call(u),p=[];try{for(;(l===void 0||l-- >0)&&!(f=v.next()).done;)p.push(f.value)}catch(m){d={error:m}}finally{try{f&&!f.done&&(c=v.return)&&c.call(v)}finally{if(d)throw d.error}}return p},i=this&&this.__spreadArray||function(u,l){for(var c=0,f=l.length,d=u.length;c<f;c++,d++)u[d]=l[c];return u};Object.defineProperty(e,"__esModule",{value:!0}),e.raceWith=void 0;var a=t(5584),o=t(7843),s=t(6640);e.raceWith=function(){for(var u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];return u.length?o.operate(function(c,f){a.raceInit(i([c],n(u)))(f)}):s.identity}},9139:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.reduce=void 0;var n=t(6384),i=t(7843);e.reduce=function(a,o){return i.operate(n.scanInternals(a,o,arguments.length>=2,!1,!0))}},7561:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.refCount=void 0;var n=t(7843),i=t(3111);e.refCount=function(){return n.operate(function(a,o){var s=null;a._refCount++;var u=i.createOperatorSubscriber(o,void 0,void 0,void 0,function(){if(!a||a._refCount<=0||0<--a._refCount)s=null;else{var l=a._connection,c=s;s=null,!l||c&&l!==c||l.unsubscribe(),o.unsubscribe()}});a.subscribe(u),u.closed||(s=a.connect())})}},8522:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.repeat=void 0;var n=t(8616),i=t(7843),a=t(3111),o=t(9445),s=t(4092);e.repeat=function(u){var l,c,f=1/0;return u!=null&&(typeof u=="object"?(l=u.count,f=l===void 0?1/0:l,c=u.delay):f=u),f<=0?function(){return n.EMPTY}:i.operate(function(d,v){var p,m=0,w=function(){if(p==null||p.unsubscribe(),p=null,c!=null){var y=typeof c=="number"?s.timer(c):o.innerFrom(c(m)),_=a.createOperatorSubscriber(v,function(){_.unsubscribe(),b()});y.subscribe(_)}else b()},b=function(){var y=!1;p=d.subscribe(a.createOperatorSubscriber(v,void 0,function(){++m<f?p?w():y=!0:v.complete()})),y&&w()};b()})}},6566:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.repeatWhen=void 0;var n=t(9445),i=t(2483),a=t(7843),o=t(3111);e.repeatWhen=function(s){return a.operate(function(u,l){var c,f,d=!1,v=!1,p=!1,m=function(){return p&&v&&(l.complete(),!0)},w=function(){p=!1,c=u.subscribe(o.createOperatorSubscriber(l,void 0,function(){p=!0,!m()&&(f||(f=new i.Subject,n.innerFrom(s(f)).subscribe(o.createOperatorSubscriber(l,function(){c?w():d=!0},function(){v=!0,m()}))),f).next()})),d&&(c.unsubscribe(),c=null,d=!1,w())};w()})}},7835:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.retry=void 0;var n=t(7843),i=t(3111),a=t(6640),o=t(4092),s=t(9445);e.retry=function(u){var l;u===void 0&&(u=1/0);var c=(l=u&&typeof u=="object"?u:{count:u}).count,f=c===void 0?1/0:c,d=l.delay,v=l.resetOnSuccess,p=v!==void 0&&v;return f<=0?a.identity:n.operate(function(m,w){var b,y=0,_=function(){var S=!1;b=m.subscribe(i.createOperatorSubscriber(w,function(A){p&&(y=0),w.next(A)},void 0,function(A){if(y++<f){var D=function(){b?(b.unsubscribe(),b=null,_()):S=!0};if(d!=null){var R=typeof d=="number"?o.timer(d):s.innerFrom(d(A,y)),k=i.createOperatorSubscriber(w,function(){k.unsubscribe(),D()},function(){w.complete()});R.subscribe(k)}else D()}else w.error(A)})),S&&(b.unsubscribe(),b=null,_())};_()})}},9843:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.retryWhen=void 0;var n=t(9445),i=t(2483),a=t(7843),o=t(3111);e.retryWhen=function(s){return a.operate(function(u,l){var c,f,d=!1,v=function(){c=u.subscribe(o.createOperatorSubscriber(l,void 0,void 0,function(p){f||(f=new i.Subject,n.innerFrom(s(f)).subscribe(o.createOperatorSubscriber(l,function(){return c?v():d=!0}))),f&&f.next(p)})),d&&(c.unsubscribe(),c=null,d=!1,v())};v()})}},1731:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.sample=void 0;var n=t(9445),i=t(7843),a=t(1342),o=t(3111);e.sample=function(s){return i.operate(function(u,l){var c=!1,f=null;u.subscribe(o.createOperatorSubscriber(l,function(d){c=!0,f=d})),n.innerFrom(s).subscribe(o.createOperatorSubscriber(l,function(){if(c){c=!1;var d=f;f=null,l.next(d)}},a.noop))})}},6086:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.sampleTime=void 0;var n=t(7961),i=t(1731),a=t(6472);e.sampleTime=function(o,s){return s===void 0&&(s=n.asyncScheduler),i.sample(a.interval(o,s))}},8624:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.scan=void 0;var n=t(7843),i=t(6384);e.scan=function(a,o){return n.operate(i.scanInternals(a,o,arguments.length>=2,!0))}},6384:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.scanInternals=void 0;var n=t(3111);e.scanInternals=function(i,a,o,s,u){return function(l,c){var f=o,d=a,v=0;l.subscribe(n.createOperatorSubscriber(c,function(p){var m=v++;d=f?i(d,p,m):(f=!0,p),s&&c.next(d)},u&&function(){f&&c.next(d),c.complete()}))}}},582:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.sequenceEqual=void 0;var n=t(7843),i=t(3111),a=t(9445);e.sequenceEqual=function(o,s){return s===void 0&&(s=function(u,l){return u===l}),n.operate(function(u,l){var c={buffer:[],complete:!1},f={buffer:[],complete:!1},d=function(p){l.next(p),l.complete()},v=function(p,m){var w=i.createOperatorSubscriber(l,function(b){var y=m.buffer,_=m.complete;y.length===0?_?d(!1):p.buffer.push(b):!s(b,y.shift())&&d(!1)},function(){p.complete=!0;var b=m.complete,y=m.buffer;b&&d(y.length===0),w==null||w.unsubscribe()});return w};u.subscribe(v(c,f)),a.innerFrom(o).subscribe(v(f,c))})}},8977:function(r,e,t){var n=this&&this.__read||function(c,f){var d=typeof Symbol=="function"&&c[Symbol.iterator];if(!d)return c;var v,p,m=d.call(c),w=[];try{for(;(f===void 0||f-- >0)&&!(v=m.next()).done;)w.push(v.value)}catch(b){p={error:b}}finally{try{v&&!v.done&&(d=m.return)&&d.call(m)}finally{if(p)throw p.error}}return w},i=this&&this.__spreadArray||function(c,f){for(var d=0,v=f.length,p=c.length;d<v;d++,p++)c[p]=f[d];return c};Object.defineProperty(e,"__esModule",{value:!0}),e.share=void 0;var a=t(9445),o=t(2483),s=t(5),u=t(7843);function l(c,f){for(var d=[],v=2;v<arguments.length;v++)d[v-2]=arguments[v];if(f!==!0){if(f!==!1){var p=new s.SafeSubscriber({next:function(){p.unsubscribe(),c()}});return a.innerFrom(f.apply(void 0,i([],n(d)))).subscribe(p)}}else c()}e.share=function(c){c===void 0&&(c={});var f=c.connector,d=f===void 0?function(){return new o.Subject}:f,v=c.resetOnError,p=v===void 0||v,m=c.resetOnComplete,w=m===void 0||m,b=c.resetOnRefCountZero,y=b===void 0||b;return function(_){var S,A,D,R=0,k=!1,j=!1,F=function(){A==null||A.unsubscribe(),A=void 0},z=function(){F(),S=D=void 0,k=j=!1},q=function(){var $=S;z(),$==null||$.unsubscribe()};return u.operate(function($,K){R++,j||k||F();var oe=D=D??d();K.add(function(){--R!=0||j||k||(A=l(q,y))}),oe.subscribe(K),!S&&R>0&&(S=new s.SafeSubscriber({next:function(J){return oe.next(J)},error:function(J){j=!0,F(),A=l(z,p,J),oe.error(J)},complete:function(){k=!0,F(),A=l(z,w),oe.complete()}}),a.innerFrom($).subscribe(S))})(_)}}},3133:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.shareReplay=void 0;var n=t(1242),i=t(8977);e.shareReplay=function(a,o,s){var u,l,c,f,d=!1;return a&&typeof a=="object"?(u=a.bufferSize,f=u===void 0?1/0:u,l=a.windowTime,o=l===void 0?1/0:l,d=(c=a.refCount)!==void 0&&c,s=a.scheduler):f=a??1/0,i.share({connector:function(){return new n.ReplaySubject(f,o,s)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:d})}},3001:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.single=void 0;var n=t(2823),i=t(1505),a=t(1759),o=t(7843),s=t(3111);e.single=function(u){return o.operate(function(l,c){var f,d=!1,v=!1,p=0;l.subscribe(s.createOperatorSubscriber(c,function(m){v=!0,u&&!u(m,p++,l)||(d&&c.error(new i.SequenceError("Too many matching values")),d=!0,f=m)},function(){d?(c.next(f),c.complete()):c.error(v?new a.NotFoundError("No matching values"):new n.EmptyError)}))})}},3982:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.skip=void 0;var n=t(783);e.skip=function(i){return n.filter(function(a,o){return i<=o})}},9098:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.skipLast=void 0;var n=t(6640),i=t(7843),a=t(3111);e.skipLast=function(o){return o<=0?n.identity:i.operate(function(s,u){var l=new Array(o),c=0;return s.subscribe(a.createOperatorSubscriber(u,function(f){var d=c++;if(d<o)l[d]=f;else{var v=d%o,p=l[v];l[v]=f,u.next(p)}})),function(){l=null}})}},7372:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.skipUntil=void 0;var n=t(7843),i=t(3111),a=t(9445),o=t(1342);e.skipUntil=function(s){return n.operate(function(u,l){var c=!1,f=i.createOperatorSubscriber(l,function(){f==null||f.unsubscribe(),c=!0},o.noop);a.innerFrom(s).subscribe(f),u.subscribe(i.createOperatorSubscriber(l,function(d){return c&&l.next(d)}))})}},4721:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.skipWhile=void 0;var n=t(7843),i=t(3111);e.skipWhile=function(a){return n.operate(function(o,s){var u=!1,l=0;o.subscribe(i.createOperatorSubscriber(s,function(c){return(u||(u=!a(c,l++)))&&s.next(c)}))})}},269:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.startWith=void 0;var n=t(3865),i=t(1107),a=t(7843);e.startWith=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var u=i.popScheduler(o);return a.operate(function(l,c){(u?n.concat(o,l,u):n.concat(o,l)).subscribe(c)})}},8960:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.subscribeOn=void 0;var n=t(7843);e.subscribeOn=function(i,a){return a===void 0&&(a=0),n.operate(function(o,s){s.add(i.schedule(function(){return o.subscribe(s)},a))})}},8774:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.switchAll=void 0;var n=t(3879),i=t(6640);e.switchAll=function(){return n.switchMap(i.identity)}},3879:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.switchMap=void 0;var n=t(9445),i=t(7843),a=t(3111);e.switchMap=function(o,s){return i.operate(function(u,l){var c=null,f=0,d=!1,v=function(){return d&&!c&&l.complete()};u.subscribe(a.createOperatorSubscriber(l,function(p){c==null||c.unsubscribe();var m=0,w=f++;n.innerFrom(o(p,w)).subscribe(c=a.createOperatorSubscriber(l,function(b){return l.next(s?s(p,b,w,m++):b)},function(){c=null,v()}))},function(){d=!0,v()}))})}},3274:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.switchMapTo=void 0;var n=t(3879),i=t(1018);e.switchMapTo=function(a,o){return i.isFunction(o)?n.switchMap(function(){return a},o):n.switchMap(function(){return a})}},8712:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.switchScan=void 0;var n=t(3879),i=t(7843);e.switchScan=function(a,o){return i.operate(function(s,u){var l=o;return n.switchMap(function(c,f){return a(l,c,f)},function(c,f){return l=f,f})(s).subscribe(u),function(){l=null}})}},846:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.take=void 0;var n=t(8616),i=t(7843),a=t(3111);e.take=function(o){return o<=0?function(){return n.EMPTY}:i.operate(function(s,u){var l=0;s.subscribe(a.createOperatorSubscriber(u,function(c){++l<=o&&(u.next(c),o<=l&&u.complete())}))})}},8330:function(r,e,t){var n=this&&this.__values||function(s){var u=typeof Symbol=="function"&&Symbol.iterator,l=u&&s[u],c=0;if(l)return l.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&c>=s.length&&(s=void 0),{value:s&&s[c++],done:!s}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.takeLast=void 0;var i=t(8616),a=t(7843),o=t(3111);e.takeLast=function(s){return s<=0?function(){return i.EMPTY}:a.operate(function(u,l){var c=[];u.subscribe(o.createOperatorSubscriber(l,function(f){c.push(f),s<c.length&&c.shift()},function(){var f,d;try{for(var v=n(c),p=v.next();!p.done;p=v.next()){var m=p.value;l.next(m)}}catch(w){f={error:w}}finally{try{p&&!p.done&&(d=v.return)&&d.call(v)}finally{if(f)throw f.error}}l.complete()},void 0,function(){c=null}))})}},4780:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.takeUntil=void 0;var n=t(7843),i=t(3111),a=t(9445),o=t(1342);e.takeUntil=function(s){return n.operate(function(u,l){a.innerFrom(s).subscribe(i.createOperatorSubscriber(l,function(){return l.complete()},o.noop)),!l.closed&&u.subscribe(l)})}},2129:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.takeWhile=void 0;var n=t(7843),i=t(3111);e.takeWhile=function(a,o){return o===void 0&&(o=!1),n.operate(function(s,u){var l=0;s.subscribe(i.createOperatorSubscriber(u,function(c){var f=a(c,l++);(f||o)&&u.next(c),!f&&u.complete()}))})}},3964:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.tap=void 0;var n=t(1018),i=t(7843),a=t(3111),o=t(6640);e.tap=function(s,u,l){var c=n.isFunction(s)||u||l?{next:s,error:u,complete:l}:s;return c?i.operate(function(f,d){var v;(v=c.subscribe)===null||v===void 0||v.call(c);var p=!0;f.subscribe(a.createOperatorSubscriber(d,function(m){var w;(w=c.next)===null||w===void 0||w.call(c,m),d.next(m)},function(){var m;p=!1,(m=c.complete)===null||m===void 0||m.call(c),d.complete()},function(m){var w;p=!1,(w=c.error)===null||w===void 0||w.call(c,m),d.error(m)},function(){var m,w;p&&((m=c.unsubscribe)===null||m===void 0||m.call(c)),(w=c.finalize)===null||w===void 0||w.call(c)}))}):o.identity}},8941:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.throttle=void 0;var n=t(7843),i=t(3111),a=t(9445);e.throttle=function(o,s){return n.operate(function(u,l){var c=s??{},f=c.leading,d=f===void 0||f,v=c.trailing,p=v!==void 0&&v,m=!1,w=null,b=null,y=!1,_=function(){b==null||b.unsubscribe(),b=null,p&&(D(),y&&l.complete())},S=function(){b=null,y&&l.complete()},A=function(R){return b=a.innerFrom(o(R)).subscribe(i.createOperatorSubscriber(l,_,S))},D=function(){if(m){m=!1;var R=w;w=null,l.next(R),!y&&A(R)}};u.subscribe(i.createOperatorSubscriber(l,function(R){m=!0,w=R,(!b||b.closed)&&(d?D():A(R))},function(){y=!0,(!(p&&m&&b)||b.closed)&&l.complete()}))})}},7640:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.throttleTime=void 0;var n=t(7961),i=t(8941),a=t(4092);e.throttleTime=function(o,s,u){s===void 0&&(s=n.asyncScheduler);var l=a.timer(o,s);return i.throttle(function(){return l},u)}},4869:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.throwIfEmpty=void 0;var n=t(2823),i=t(7843),a=t(3111);function o(){return new n.EmptyError}e.throwIfEmpty=function(s){return s===void 0&&(s=o),i.operate(function(u,l){var c=!1;u.subscribe(a.createOperatorSubscriber(l,function(f){c=!0,l.next(f)},function(){return c?l.complete():l.error(s())}))})}},489:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TimeInterval=e.timeInterval=void 0;var n=t(7961),i=t(7843),a=t(3111);e.timeInterval=function(s){return s===void 0&&(s=n.asyncScheduler),i.operate(function(u,l){var c=s.now();u.subscribe(a.createOperatorSubscriber(l,function(f){var d=s.now(),v=d-c;c=d,l.next(new o(f,v))}))})};var o=function(s,u){this.value=s,this.interval=u};e.TimeInterval=o},1554:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.timeout=e.TimeoutError=void 0;var n=t(7961),i=t(1074),a=t(7843),o=t(9445),s=t(5568),u=t(3111),l=t(7110);function c(f){throw new e.TimeoutError(f)}e.TimeoutError=s.createErrorClass(function(f){return function(d){d===void 0&&(d=null),f(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=d}}),e.timeout=function(f,d){var v=i.isValidDate(f)?{first:f}:typeof f=="number"?{each:f}:f,p=v.first,m=v.each,w=v.with,b=w===void 0?c:w,y=v.scheduler,_=y===void 0?d??n.asyncScheduler:y,S=v.meta,A=S===void 0?null:S;if(p==null&&m==null)throw new TypeError("No timeout provided.");return a.operate(function(D,R){var k,j,F=null,z=0,q=function($){j=l.executeSchedule(R,_,function(){try{k.unsubscribe(),o.innerFrom(b({meta:A,lastValue:F,seen:z})).subscribe(R)}catch(K){R.error(K)}},$)};k=D.subscribe(u.createOperatorSubscriber(R,function($){j==null||j.unsubscribe(),z++,R.next(F=$),m>0&&q(m)},void 0,void 0,function(){j!=null&&j.closed||j==null||j.unsubscribe(),F=null})),!z&&q(p!=null?typeof p=="number"?p:+p-_.now():m)})}},4862:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.timeoutWith=void 0;var n=t(7961),i=t(1074),a=t(1554);e.timeoutWith=function(o,s,u){var l,c,f;if(u=u??n.async,i.isValidDate(o)?l=o:typeof o=="number"&&(c=o),!s)throw new TypeError("No observable provided to switch to");if(f=function(){return s},l==null&&c==null)throw new TypeError("No timeout provided.");return a.timeout({first:l,each:c,scheduler:u,with:f})}},6505:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.timestamp=void 0;var n=t(9568),i=t(5471);e.timestamp=function(a){return a===void 0&&(a=n.dateTimestampProvider),i.map(function(o){return{value:o,timestamp:a.now()}})}},2343:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.toArray=void 0;var n=t(9139),i=t(7843),a=function(o,s){return o.push(s),o};e.toArray=function(){return i.operate(function(o,s){n.reduce(a,[])(o).subscribe(s)})}},5477:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.window=void 0;var n=t(2483),i=t(7843),a=t(3111),o=t(1342),s=t(9445);e.window=function(u){return i.operate(function(l,c){var f=new n.Subject;c.next(f.asObservable());var d=function(v){f.error(v),c.error(v)};return l.subscribe(a.createOperatorSubscriber(c,function(v){return f==null?void 0:f.next(v)},function(){f.complete(),c.complete()},d)),s.innerFrom(u).subscribe(a.createOperatorSubscriber(c,function(){f.complete(),c.next(f=new n.Subject)},o.noop,d)),function(){f==null||f.unsubscribe(),f=null}})}},6746:function(r,e,t){var n=this&&this.__values||function(s){var u=typeof Symbol=="function"&&Symbol.iterator,l=u&&s[u],c=0;if(l)return l.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&c>=s.length&&(s=void 0),{value:s&&s[c++],done:!s}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.windowCount=void 0;var i=t(2483),a=t(7843),o=t(3111);e.windowCount=function(s,u){u===void 0&&(u=0);var l=u>0?u:s;return a.operate(function(c,f){var d=[new i.Subject],v=0;f.next(d[0].asObservable()),c.subscribe(o.createOperatorSubscriber(f,function(p){var m,w;try{for(var b=n(d),y=b.next();!y.done;y=b.next())y.value.next(p)}catch(A){m={error:A}}finally{try{y&&!y.done&&(w=b.return)&&w.call(b)}finally{if(m)throw m.error}}var _=v-s+1;if(_>=0&&_%l==0&&d.shift().complete(),++v%l==0){var S=new i.Subject;d.push(S),f.next(S.asObservable())}},function(){for(;d.length>0;)d.shift().complete();f.complete()},function(p){for(;d.length>0;)d.shift().error(p);f.error(p)},function(){d=null}))})}},8208:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.windowTime=void 0;var n=t(2483),i=t(7961),a=t(8014),o=t(7843),s=t(3111),u=t(7479),l=t(1107),c=t(7110);e.windowTime=function(f){for(var d,v,p=[],m=1;m<arguments.length;m++)p[m-1]=arguments[m];var w=(d=l.popScheduler(p))!==null&&d!==void 0?d:i.asyncScheduler,b=(v=p[0])!==null&&v!==void 0?v:null,y=p[1]||1/0;return o.operate(function(_,S){var A=[],D=!1,R=function(z){var q=z.window,$=z.subs;q.complete(),$.unsubscribe(),u.arrRemove(A,z),D&&k()},k=function(){if(A){var z=new a.Subscription;S.add(z);var q=new n.Subject,$={window:q,subs:z,seen:0};A.push($),S.next(q.asObservable()),c.executeSchedule(z,w,function(){return R($)},f)}};b!==null&&b>=0?c.executeSchedule(S,w,k,b,!0):D=!0,k();var j=function(z){return A.slice().forEach(z)},F=function(z){j(function(q){var $=q.window;return z($)}),z(S),S.unsubscribe()};return _.subscribe(s.createOperatorSubscriber(S,function(z){j(function(q){q.window.next(z),y<=++q.seen&&R(q)})},function(){return F(function(z){return z.complete()})},function(z){return F(function(q){return q.error(z)})})),function(){A=null}})}},6637:function(r,e,t){var n=this&&this.__values||function(f){var d=typeof Symbol=="function"&&Symbol.iterator,v=d&&f[d],p=0;if(v)return v.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&p>=f.length&&(f=void 0),{value:f&&f[p++],done:!f}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.windowToggle=void 0;var i=t(2483),a=t(8014),o=t(7843),s=t(9445),u=t(3111),l=t(1342),c=t(7479);e.windowToggle=function(f,d){return o.operate(function(v,p){var m=[],w=function(b){for(;0<m.length;)m.shift().error(b);p.error(b)};s.innerFrom(f).subscribe(u.createOperatorSubscriber(p,function(b){var y=new i.Subject;m.push(y);var _,S=new a.Subscription;try{_=s.innerFrom(d(b))}catch(A){return void w(A)}p.next(y.asObservable()),S.add(_.subscribe(u.createOperatorSubscriber(p,function(){c.arrRemove(m,y),y.complete(),S.unsubscribe()},l.noop,w)))},l.noop)),v.subscribe(u.createOperatorSubscriber(p,function(b){var y,_,S=m.slice();try{for(var A=n(S),D=A.next();!D.done;D=A.next())D.value.next(b)}catch(R){y={error:R}}finally{try{D&&!D.done&&(_=A.return)&&_.call(A)}finally{if(y)throw y.error}}},function(){for(;0<m.length;)m.shift().complete();p.complete()},w,function(){for(;0<m.length;)m.shift().unsubscribe()}))})}},1141:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.windowWhen=void 0;var n=t(2483),i=t(7843),a=t(3111),o=t(9445);e.windowWhen=function(s){return i.operate(function(u,l){var c,f,d=function(p){c.error(p),l.error(p)},v=function(){var p;f==null||f.unsubscribe(),c==null||c.complete(),c=new n.Subject,l.next(c.asObservable());try{p=o.innerFrom(s())}catch(m){return void d(m)}p.subscribe(f=a.createOperatorSubscriber(l,v,v,d))};v(),u.subscribe(a.createOperatorSubscriber(l,function(p){return c.next(p)},function(){c.complete(),l.complete()},d,function(){f==null||f.unsubscribe(),c=null}))})}},5442:function(r,e,t){var n=this&&this.__read||function(f,d){var v=typeof Symbol=="function"&&f[Symbol.iterator];if(!v)return f;var p,m,w=v.call(f),b=[];try{for(;(d===void 0||d-- >0)&&!(p=w.next()).done;)b.push(p.value)}catch(y){m={error:y}}finally{try{p&&!p.done&&(v=w.return)&&v.call(w)}finally{if(m)throw m.error}}return b},i=this&&this.__spreadArray||function(f,d){for(var v=0,p=d.length,m=f.length;v<p;v++,m++)f[m]=d[v];return f};Object.defineProperty(e,"__esModule",{value:!0}),e.withLatestFrom=void 0;var a=t(7843),o=t(3111),s=t(9445),u=t(6640),l=t(1342),c=t(1107);e.withLatestFrom=function(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];var v=c.popResultSelector(f);return a.operate(function(p,m){for(var w=f.length,b=new Array(w),y=f.map(function(){return!1}),_=!1,S=function(D){s.innerFrom(f[D]).subscribe(o.createOperatorSubscriber(m,function(R){b[D]=R,_||y[D]||(y[D]=!0,(_=y.every(u.identity))&&(y=null))},l.noop))},A=0;A<w;A++)S(A);p.subscribe(o.createOperatorSubscriber(m,function(D){if(_){var R=i([D],n(b));m.next(v?v.apply(void 0,i([],n(R))):R)}}))})}},5918:function(r,e,t){var n=this&&this.__read||function(s,u){var l=typeof Symbol=="function"&&s[Symbol.iterator];if(!l)return s;var c,f,d=l.call(s),v=[];try{for(;(u===void 0||u-- >0)&&!(c=d.next()).done;)v.push(c.value)}catch(p){f={error:p}}finally{try{c&&!c.done&&(l=d.return)&&l.call(d)}finally{if(f)throw f.error}}return v},i=this&&this.__spreadArray||function(s,u){for(var l=0,c=u.length,f=s.length;l<c;l++,f++)s[f]=u[l];return s};Object.defineProperty(e,"__esModule",{value:!0}),e.zip=void 0;var a=t(7286),o=t(7843);e.zip=function(){for(var s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];return o.operate(function(l,c){a.zip.apply(void 0,i([l],n(s))).subscribe(c)})}},187:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.zipAll=void 0;var n=t(7286),i=t(3638);e.zipAll=function(a){return i.joinAllInternals(n.zip,a)}},8538:function(r,e,t){var n=this&&this.__read||function(o,s){var u=typeof Symbol=="function"&&o[Symbol.iterator];if(!u)return o;var l,c,f=u.call(o),d=[];try{for(;(s===void 0||s-- >0)&&!(l=f.next()).done;)d.push(l.value)}catch(v){c={error:v}}finally{try{l&&!l.done&&(u=f.return)&&u.call(f)}finally{if(c)throw c.error}}return d},i=this&&this.__spreadArray||function(o,s){for(var u=0,l=s.length,c=o.length;u<l;u++,c++)o[c]=s[u];return o};Object.defineProperty(e,"__esModule",{value:!0}),e.zipWith=void 0;var a=t(5918);e.zipWith=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return a.zip.apply(void 0,i([],n(o)))}},6985:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.scheduleArray=void 0;var n=t(4662);e.scheduleArray=function(i,a){return new n.Observable(function(o){var s=0;return a.schedule(function(){s===i.length?o.complete():(o.next(i[s++]),o.closed||this.schedule())})})}},854:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.scheduleAsyncIterable=void 0;var n=t(4662),i=t(7110);e.scheduleAsyncIterable=function(a,o){if(!a)throw new Error("Iterable cannot be null");return new n.Observable(function(s){i.executeSchedule(s,o,function(){var u=a[Symbol.asyncIterator]();i.executeSchedule(s,o,function(){u.next().then(function(l){l.done?s.complete():s.next(l.value)})},0,!0)})})}},8808:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.scheduleIterable=void 0;var n=t(4662),i=t(1964),a=t(1018),o=t(7110);e.scheduleIterable=function(s,u){return new n.Observable(function(l){var c;return o.executeSchedule(l,u,function(){c=s[i.iterator](),o.executeSchedule(l,u,function(){var f,d,v;try{d=(f=c.next()).value,v=f.done}catch(p){return void l.error(p)}v?l.complete():l.next(d)},0,!0)}),function(){return a.isFunction(c==null?void 0:c.return)&&c.return()}})}},9567:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.scheduleObservable=void 0;var n=t(9445),i=t(5184),a=t(8960);e.scheduleObservable=function(o,s){return n.innerFrom(o).pipe(a.subscribeOn(s),i.observeOn(s))}},9589:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.schedulePromise=void 0;var n=t(9445),i=t(5184),a=t(8960);e.schedulePromise=function(o,s){return n.innerFrom(o).pipe(a.subscribeOn(s),i.observeOn(s))}},4953:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.scheduleReadableStreamLike=void 0;var n=t(854),i=t(9137);e.scheduleReadableStreamLike=function(a,o){return n.scheduleAsyncIterable(i.readableStreamLikeToAsyncGenerator(a),o)}},1656:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.scheduled=void 0;var n=t(9567),i=t(9589),a=t(6985),o=t(8808),s=t(854),u=t(1116),l=t(7629),c=t(8046),f=t(6368),d=t(1358),v=t(7614),p=t(9137),m=t(4953);e.scheduled=function(w,b){if(w!=null){if(u.isInteropObservable(w))return n.scheduleObservable(w,b);if(c.isArrayLike(w))return a.scheduleArray(w,b);if(l.isPromise(w))return i.schedulePromise(w,b);if(d.isAsyncIterable(w))return s.scheduleAsyncIterable(w,b);if(f.isIterable(w))return o.scheduleIterable(w,b);if(p.isReadableStreamLike(w))return m.scheduleReadableStreamLike(w,b)}throw v.createInvalidObservableTypeError(w)}},4671:function(r,e,t){var n,i=this&&this.__extends||(n=function(o,s){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,l){u.__proto__=l}||function(u,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(u[c]=l[c])},n(o,s)},function(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function u(){this.constructor=o}n(o,s),o.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)});Object.defineProperty(e,"__esModule",{value:!0}),e.Action=void 0;var a=function(o){function s(u,l){return o.call(this)||this}return i(s,o),s.prototype.schedule=function(u,l){return this},s}(t(8014).Subscription);e.Action=a},2628:function(r,e,t){var n,i=this&&this.__extends||(n=function(u,l){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(c[d]=f[d])},n(u,l)},function(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function c(){this.constructor=u}n(u,l),u.prototype=l===null?Object.create(l):(c.prototype=l.prototype,new c)});Object.defineProperty(e,"__esModule",{value:!0}),e.AnimationFrameAction=void 0;var a=t(5267),o=t(9507),s=function(u){function l(c,f){var d=u.call(this,c,f)||this;return d.scheduler=c,d.work=f,d}return i(l,u),l.prototype.requestAsyncId=function(c,f,d){return d===void 0&&(d=0),d!==null&&d>0?u.prototype.requestAsyncId.call(this,c,f,d):(c.actions.push(this),c._scheduled||(c._scheduled=o.animationFrameProvider.requestAnimationFrame(function(){return c.flush(void 0)})))},l.prototype.recycleAsyncId=function(c,f,d){var v;if(d===void 0&&(d=0),d!=null?d>0:this.delay>0)return u.prototype.recycleAsyncId.call(this,c,f,d);var p=c.actions;f!=null&&((v=p[p.length-1])===null||v===void 0?void 0:v.id)!==f&&(o.animationFrameProvider.cancelAnimationFrame(f),c._scheduled=void 0)},l}(a.AsyncAction);e.AnimationFrameAction=s},3229:function(r,e,t){var n,i=this&&this.__extends||(n=function(o,s){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,l){u.__proto__=l}||function(u,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(u[c]=l[c])},n(o,s)},function(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function u(){this.constructor=o}n(o,s),o.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)});Object.defineProperty(e,"__esModule",{value:!0}),e.AnimationFrameScheduler=void 0;var a=function(o){function s(){return o!==null&&o.apply(this,arguments)||this}return i(s,o),s.prototype.flush=function(u){this._active=!0;var l=this._scheduled;this._scheduled=void 0;var c,f=this.actions;u=u||f.shift();do if(c=u.execute(u.state,u.delay))break;while((u=f[0])&&u.id===l&&f.shift());if(this._active=!1,c){for(;(u=f[0])&&u.id===l&&f.shift();)u.unsubscribe();throw c}},s}(t(5648).AsyncScheduler);e.AnimationFrameScheduler=a},5006:function(r,e,t){var n,i=this&&this.__extends||(n=function(u,l){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(c[d]=f[d])},n(u,l)},function(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function c(){this.constructor=u}n(u,l),u.prototype=l===null?Object.create(l):(c.prototype=l.prototype,new c)});Object.defineProperty(e,"__esModule",{value:!0}),e.AsapAction=void 0;var a=t(5267),o=t(6293),s=function(u){function l(c,f){var d=u.call(this,c,f)||this;return d.scheduler=c,d.work=f,d}return i(l,u),l.prototype.requestAsyncId=function(c,f,d){return d===void 0&&(d=0),d!==null&&d>0?u.prototype.requestAsyncId.call(this,c,f,d):(c.actions.push(this),c._scheduled||(c._scheduled=o.immediateProvider.setImmediate(c.flush.bind(c,void 0))))},l.prototype.recycleAsyncId=function(c,f,d){var v;if(d===void 0&&(d=0),d!=null?d>0:this.delay>0)return u.prototype.recycleAsyncId.call(this,c,f,d);var p=c.actions;f!=null&&((v=p[p.length-1])===null||v===void 0?void 0:v.id)!==f&&(o.immediateProvider.clearImmediate(f),c._scheduled===f&&(c._scheduled=void 0))},l}(a.AsyncAction);e.AsapAction=s},827:function(r,e,t){var n,i=this&&this.__extends||(n=function(o,s){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,l){u.__proto__=l}||function(u,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(u[c]=l[c])},n(o,s)},function(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function u(){this.constructor=o}n(o,s),o.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)});Object.defineProperty(e,"__esModule",{value:!0}),e.AsapScheduler=void 0;var a=function(o){function s(){return o!==null&&o.apply(this,arguments)||this}return i(s,o),s.prototype.flush=function(u){this._active=!0;var l=this._scheduled;this._scheduled=void 0;var c,f=this.actions;u=u||f.shift();do if(c=u.execute(u.state,u.delay))break;while((u=f[0])&&u.id===l&&f.shift());if(this._active=!1,c){for(;(u=f[0])&&u.id===l&&f.shift();)u.unsubscribe();throw c}},s}(t(5648).AsyncScheduler);e.AsapScheduler=a},5267:function(r,e,t){var n,i=this&&this.__extends||(n=function(l,c){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var v in d)Object.prototype.hasOwnProperty.call(d,v)&&(f[v]=d[v])},n(l,c)},function(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function f(){this.constructor=l}n(l,c),l.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)});Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncAction=void 0;var a=t(4671),o=t(5649),s=t(7479),u=function(l){function c(f,d){var v=l.call(this,f,d)||this;return v.scheduler=f,v.work=d,v.pending=!1,v}return i(c,l),c.prototype.schedule=function(f,d){var v;if(d===void 0&&(d=0),this.closed)return this;this.state=f;var p=this.id,m=this.scheduler;return p!=null&&(this.id=this.recycleAsyncId(m,p,d)),this.pending=!0,this.delay=d,this.id=(v=this.id)!==null&&v!==void 0?v:this.requestAsyncId(m,this.id,d),this},c.prototype.requestAsyncId=function(f,d,v){return v===void 0&&(v=0),o.intervalProvider.setInterval(f.flush.bind(f,this),v)},c.prototype.recycleAsyncId=function(f,d,v){if(v===void 0&&(v=0),v!=null&&this.delay===v&&this.pending===!1)return d;d!=null&&o.intervalProvider.clearInterval(d)},c.prototype.execute=function(f,d){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var v=this._execute(f,d);if(v)return v;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},c.prototype._execute=function(f,d){var v,p=!1;try{this.work(f)}catch(m){p=!0,v=m||new Error("Scheduled action threw falsy error")}if(p)return this.unsubscribe(),v},c.prototype.unsubscribe=function(){if(!this.closed){var f=this.id,d=this.scheduler,v=d.actions;this.work=this.state=this.scheduler=null,this.pending=!1,s.arrRemove(v,this),f!=null&&(this.id=this.recycleAsyncId(d,f,null)),this.delay=null,l.prototype.unsubscribe.call(this)}},c}(a.Action);e.AsyncAction=u},5648:function(r,e,t){var n,i=this&&this.__extends||(n=function(s,u){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,c){l.__proto__=c}||function(l,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(l[f]=c[f])},n(s,u)},function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}n(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)});Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncScheduler=void 0;var a=t(8986),o=function(s){function u(l,c){c===void 0&&(c=a.Scheduler.now);var f=s.call(this,l,c)||this;return f.actions=[],f._active=!1,f}return i(u,s),u.prototype.flush=function(l){var c=this.actions;if(this._active)c.push(l);else{var f;this._active=!0;do if(f=l.execute(l.state,l.delay))break;while(l=c.shift());if(this._active=!1,f){for(;l=c.shift();)l.unsubscribe();throw f}}},u}(a.Scheduler);e.AsyncScheduler=o},4212:function(r,e,t){var n,i=this&&this.__extends||(n=function(o,s){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,l){u.__proto__=l}||function(u,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(u[c]=l[c])},n(o,s)},function(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function u(){this.constructor=o}n(o,s),o.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)});Object.defineProperty(e,"__esModule",{value:!0}),e.QueueAction=void 0;var a=function(o){function s(u,l){var c=o.call(this,u,l)||this;return c.scheduler=u,c.work=l,c}return i(s,o),s.prototype.schedule=function(u,l){return l===void 0&&(l=0),l>0?o.prototype.schedule.call(this,u,l):(this.delay=l,this.state=u,this.scheduler.flush(this),this)},s.prototype.execute=function(u,l){return l>0||this.closed?o.prototype.execute.call(this,u,l):this._execute(u,l)},s.prototype.requestAsyncId=function(u,l,c){return c===void 0&&(c=0),c!=null&&c>0||c==null&&this.delay>0?o.prototype.requestAsyncId.call(this,u,l,c):(u.flush(this),0)},s}(t(5267).AsyncAction);e.QueueAction=a},1293:function(r,e,t){var n,i=this&&this.__extends||(n=function(o,s){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,l){u.__proto__=l}||function(u,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(u[c]=l[c])},n(o,s)},function(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function u(){this.constructor=o}n(o,s),o.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)});Object.defineProperty(e,"__esModule",{value:!0}),e.QueueScheduler=void 0;var a=function(o){function s(){return o!==null&&o.apply(this,arguments)||this}return i(s,o),s}(t(5648).AsyncScheduler);e.QueueScheduler=a},182:function(r,e,t){var n,i=this&&this.__extends||(n=function(l,c){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var v in d)Object.prototype.hasOwnProperty.call(d,v)&&(f[v]=d[v])},n(l,c)},function(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function f(){this.constructor=l}n(l,c),l.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)});Object.defineProperty(e,"__esModule",{value:!0}),e.VirtualAction=e.VirtualTimeScheduler=void 0;var a=t(5267),o=t(8014),s=function(l){function c(f,d){f===void 0&&(f=u),d===void 0&&(d=1/0);var v=l.call(this,f,function(){return v.frame})||this;return v.maxFrames=d,v.frame=0,v.index=-1,v}return i(c,l),c.prototype.flush=function(){for(var f,d,v=this.actions,p=this.maxFrames;(d=v[0])&&d.delay<=p&&(v.shift(),this.frame=d.delay,!(f=d.execute(d.state,d.delay))););if(f){for(;d=v.shift();)d.unsubscribe();throw f}},c.frameTimeFactor=10,c}(t(5648).AsyncScheduler);e.VirtualTimeScheduler=s;var u=function(l){function c(f,d,v){v===void 0&&(v=f.index+=1);var p=l.call(this,f,d)||this;return p.scheduler=f,p.work=d,p.index=v,p.active=!0,p.index=f.index=v,p}return i(c,l),c.prototype.schedule=function(f,d){if(d===void 0&&(d=0),Number.isFinite(d)){if(!this.id)return l.prototype.schedule.call(this,f,d);this.active=!1;var v=new c(this.scheduler,this.work);return this.add(v),v.schedule(f,d)}return o.Subscription.EMPTY},c.prototype.requestAsyncId=function(f,d,v){v===void 0&&(v=0),this.delay=f.frame+v;var p=f.actions;return p.push(this),p.sort(c.sortActions),1},c.prototype.recycleAsyncId=function(f,d,v){},c.prototype._execute=function(f,d){if(this.active===!0)return l.prototype._execute.call(this,f,d)},c.sortActions=function(f,d){return f.delay===d.delay?f.index===d.index?0:f.index>d.index?1:-1:f.delay>d.delay?1:-1},c}(a.AsyncAction);e.VirtualAction=u},3862:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.animationFrame=e.animationFrameScheduler=void 0;var n=t(2628),i=t(3229);e.animationFrameScheduler=new i.AnimationFrameScheduler(n.AnimationFrameAction),e.animationFrame=e.animationFrameScheduler},9507:function(r,e,t){var n=this&&this.__read||function(o,s){var u=typeof Symbol=="function"&&o[Symbol.iterator];if(!u)return o;var l,c,f=u.call(o),d=[];try{for(;(s===void 0||s-- >0)&&!(l=f.next()).done;)d.push(l.value)}catch(v){c={error:v}}finally{try{l&&!l.done&&(u=f.return)&&u.call(f)}finally{if(c)throw c.error}}return d},i=this&&this.__spreadArray||function(o,s){for(var u=0,l=s.length,c=o.length;u<l;u++,c++)o[c]=s[u];return o};Object.defineProperty(e,"__esModule",{value:!0}),e.animationFrameProvider=void 0;var a=t(8014);e.animationFrameProvider={schedule:function(o){var s=requestAnimationFrame,u=cancelAnimationFrame,l=e.animationFrameProvider.delegate;l&&(s=l.requestAnimationFrame,u=l.cancelAnimationFrame);var c=s(function(f){u=void 0,o(f)});return new a.Subscription(function(){return u==null?void 0:u(c)})},requestAnimationFrame:function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var u=e.animationFrameProvider.delegate;return((u==null?void 0:u.requestAnimationFrame)||requestAnimationFrame).apply(void 0,i([],n(o)))},cancelAnimationFrame:function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var u=e.animationFrameProvider.delegate;return((u==null?void 0:u.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,i([],n(o)))},delegate:void 0}},3692:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.asap=e.asapScheduler=void 0;var n=t(5006),i=t(827);e.asapScheduler=new i.AsapScheduler(n.AsapAction),e.asap=e.asapScheduler},7961:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.async=e.asyncScheduler=void 0;var n=t(5267),i=t(5648);e.asyncScheduler=new i.AsyncScheduler(n.AsyncAction),e.async=e.asyncScheduler},9568:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.dateTimestampProvider=void 0,e.dateTimestampProvider={now:function(){return(e.dateTimestampProvider.delegate||Date).now()},delegate:void 0}},6293:function(r,e,t){var n=this&&this.__read||function(u,l){var c=typeof Symbol=="function"&&u[Symbol.iterator];if(!c)return u;var f,d,v=c.call(u),p=[];try{for(;(l===void 0||l-- >0)&&!(f=v.next()).done;)p.push(f.value)}catch(m){d={error:m}}finally{try{f&&!f.done&&(c=v.return)&&c.call(v)}finally{if(d)throw d.error}}return p},i=this&&this.__spreadArray||function(u,l){for(var c=0,f=l.length,d=u.length;c<f;c++,d++)u[d]=l[c];return u};Object.defineProperty(e,"__esModule",{value:!0}),e.immediateProvider=void 0;var a=t(7245),o=a.Immediate.setImmediate,s=a.Immediate.clearImmediate;e.immediateProvider={setImmediate:function(){for(var u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];var c=e.immediateProvider.delegate;return((c==null?void 0:c.setImmediate)||o).apply(void 0,i([],n(u)))},clearImmediate:function(u){var l=e.immediateProvider.delegate;return((l==null?void 0:l.clearImmediate)||s)(u)},delegate:void 0}},5649:function(r,e){var t=this&&this.__read||function(i,a){var o=typeof Symbol=="function"&&i[Symbol.iterator];if(!o)return i;var s,u,l=o.call(i),c=[];try{for(;(a===void 0||a-- >0)&&!(s=l.next()).done;)c.push(s.value)}catch(f){u={error:f}}finally{try{s&&!s.done&&(o=l.return)&&o.call(l)}finally{if(u)throw u.error}}return c},n=this&&this.__spreadArray||function(i,a){for(var o=0,s=a.length,u=i.length;o<s;o++,u++)i[u]=a[o];return i};Object.defineProperty(e,"__esModule",{value:!0}),e.intervalProvider=void 0,e.intervalProvider={setInterval:function(i,a){for(var o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];var u=e.intervalProvider.delegate;return u!=null&&u.setInterval?u.setInterval.apply(u,n([i,a],t(o))):setInterval.apply(void 0,n([i,a],t(o)))},clearInterval:function(i){var a=e.intervalProvider.delegate;return((a==null?void 0:a.clearInterval)||clearInterval)(i)},delegate:void 0}},4746:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.performanceTimestampProvider=void 0,e.performanceTimestampProvider={now:function(){return(e.performanceTimestampProvider.delegate||performance).now()},delegate:void 0}},2886:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.queue=e.queueScheduler=void 0;var n=t(4212),i=t(1293);e.queueScheduler=new i.QueueScheduler(n.QueueAction),e.queue=e.queueScheduler},9155:function(r,e){var t=this&&this.__read||function(i,a){var o=typeof Symbol=="function"&&i[Symbol.iterator];if(!o)return i;var s,u,l=o.call(i),c=[];try{for(;(a===void 0||a-- >0)&&!(s=l.next()).done;)c.push(s.value)}catch(f){u={error:f}}finally{try{s&&!s.done&&(o=l.return)&&o.call(l)}finally{if(u)throw u.error}}return c},n=this&&this.__spreadArray||function(i,a){for(var o=0,s=a.length,u=i.length;o<s;o++,u++)i[u]=a[o];return i};Object.defineProperty(e,"__esModule",{value:!0}),e.timeoutProvider=void 0,e.timeoutProvider={setTimeout:function(i,a){for(var o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];var u=e.timeoutProvider.delegate;return u!=null&&u.setTimeout?u.setTimeout.apply(u,n([i,a],t(o))):setTimeout.apply(void 0,n([i,a],t(o)))},clearTimeout:function(i){var a=e.timeoutProvider.delegate;return((a==null?void 0:a.clearTimeout)||clearTimeout)(i)},delegate:void 0}},1964:(r,e)=>{function t(){return typeof Symbol=="function"&&Symbol.iterator?Symbol.iterator:"@@iterator"}Object.defineProperty(e,"__esModule",{value:!0}),e.iterator=e.getSymbolIterator=void 0,e.getSymbolIterator=t,e.iterator=t()},3327:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.observable=void 0,e.observable=typeof Symbol=="function"&&Symbol.observable||"@@observable"},6038:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},7057:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ArgumentOutOfRangeError=void 0;var n=t(5568);e.ArgumentOutOfRangeError=n.createErrorClass(function(i){return function(){i(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}})},2823:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EmptyError=void 0;var n=t(5568);e.EmptyError=n.createErrorClass(function(i){return function(){i(this),this.name="EmptyError",this.message="no elements in sequence"}})},7245:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TestTools=e.Immediate=void 0;var t,n=1,i={};function a(o){return o in i&&(delete i[o],!0)}e.Immediate={setImmediate:function(o){var s=n++;return i[s]=!0,t||(t=Promise.resolve()),t.then(function(){return a(s)&&o()}),s},clearImmediate:function(o){a(o)}},e.TestTools={pending:function(){return Object.keys(i).length}}},1759:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NotFoundError=void 0;var n=t(5568);e.NotFoundError=n.createErrorClass(function(i){return function(a){i(this),this.name="NotFoundError",this.message=a}})},9686:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectUnsubscribedError=void 0;var n=t(5568);e.ObjectUnsubscribedError=n.createErrorClass(function(i){return function(){i(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})},1505:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SequenceError=void 0;var n=t(5568);e.SequenceError=n.createErrorClass(function(i){return function(a){i(this),this.name="SequenceError",this.message=a}})},5788:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.UnsubscriptionError=void 0;var n=t(5568);e.UnsubscriptionError=n.createErrorClass(function(i){return function(a){i(this),this.message=a?a.length+` errors occurred during unsubscription:
`+a.map(function(o,s){return s+1+") "+o.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=a}})},1107:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.popNumber=e.popScheduler=e.popResultSelector=void 0;var n=t(1018),i=t(8613);function a(o){return o[o.length-1]}e.popResultSelector=function(o){return n.isFunction(a(o))?o.pop():void 0},e.popScheduler=function(o){return i.isScheduler(a(o))?o.pop():void 0},e.popNumber=function(o,s){return typeof a(o)=="number"?o.pop():s}},7360:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.argsArgArrayOrObject=void 0;var t=Array.isArray,n=Object.getPrototypeOf,i=Object.prototype,a=Object.keys;e.argsArgArrayOrObject=function(o){if(o.length===1){var s=o[0];if(t(s))return{args:s,keys:null};if((l=s)&&typeof l=="object"&&n(l)===i){var u=a(s);return{args:u.map(function(c){return s[c]}),keys:u}}}var l;return{args:o,keys:null}}},8535:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.argsOrArgArray=void 0;var t=Array.isArray;e.argsOrArgArray=function(n){return n.length===1&&t(n[0])?n[0]:n}},7479:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.arrRemove=void 0,e.arrRemove=function(t,n){if(t){var i=t.indexOf(n);0<=i&&t.splice(i,1)}}},5568:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createErrorClass=void 0,e.createErrorClass=function(t){var n=t(function(i){Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}},6013:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createObject=void 0,e.createObject=function(t,n){return t.reduce(function(i,a,o){return i[a]=n[o],i},{})}},9223:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.captureError=e.errorContext=void 0;var n=t(3413),i=null;e.errorContext=function(a){if(n.config.useDeprecatedSynchronousErrorHandling){var o=!i;if(o&&(i={errorThrown:!1,error:null}),a(),o){var s=i,u=s.errorThrown,l=s.error;if(i=null,u)throw l}}else a()},e.captureError=function(a){n.config.useDeprecatedSynchronousErrorHandling&&i&&(i.errorThrown=!0,i.error=a)}},7110:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.executeSchedule=void 0,e.executeSchedule=function(t,n,i,a,o){a===void 0&&(a=0),o===void 0&&(o=!1);var s=n.schedule(function(){i(),o?t.add(this.schedule(null,a)):this.unsubscribe()},a);if(t.add(s),!o)return s}},6640:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.identity=void 0,e.identity=function(t){return t}},8046:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isArrayLike=void 0,e.isArrayLike=function(t){return t&&typeof t.length=="number"&&typeof t!="function"}},1358:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isAsyncIterable=void 0;var n=t(1018);e.isAsyncIterable=function(i){return Symbol.asyncIterator&&n.isFunction(i==null?void 0:i[Symbol.asyncIterator])}},1074:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isValidDate=void 0,e.isValidDate=function(t){return t instanceof Date&&!isNaN(t)}},1018:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isFunction=void 0,e.isFunction=function(t){return typeof t=="function"}},1116:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isInteropObservable=void 0;var n=t(3327),i=t(1018);e.isInteropObservable=function(a){return i.isFunction(a[n.observable])}},6368:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isIterable=void 0;var n=t(1964),i=t(1018);e.isIterable=function(a){return i.isFunction(a==null?void 0:a[n.iterator])}},1751:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isObservable=void 0;var n=t(4662),i=t(1018);e.isObservable=function(a){return!!a&&(a instanceof n.Observable||i.isFunction(a.lift)&&i.isFunction(a.subscribe))}},7629:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isPromise=void 0;var n=t(1018);e.isPromise=function(i){return n.isFunction(i==null?void 0:i.then)}},9137:function(r,e,t){var n=this&&this.__generator||function(s,u){var l,c,f,d,v={label:0,sent:function(){if(1&f[0])throw f[1];return f[1]},trys:[],ops:[]};return d={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function p(m){return function(w){return function(b){if(l)throw new TypeError("Generator is already executing.");for(;v;)try{if(l=1,c&&(f=2&b[0]?c.return:b[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,b[1])).done)return f;switch(c=0,f&&(b=[2&b[0],f.value]),b[0]){case 0:case 1:f=b;break;case 4:return v.label++,{value:b[1],done:!1};case 5:v.label++,c=b[1],b=[0];continue;case 7:b=v.ops.pop(),v.trys.pop();continue;default:if(!((f=(f=v.trys).length>0&&f[f.length-1])||b[0]!==6&&b[0]!==2)){v=0;continue}if(b[0]===3&&(!f||b[1]>f[0]&&b[1]<f[3])){v.label=b[1];break}if(b[0]===6&&v.label<f[1]){v.label=f[1],f=b;break}if(f&&v.label<f[2]){v.label=f[2],v.ops.push(b);break}f[2]&&v.ops.pop(),v.trys.pop();continue}b=u.call(s,v)}catch(y){b=[6,y],c=0}finally{l=f=0}if(5&b[0])throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}([m,w])}}},i=this&&this.__await||function(s){return this instanceof i?(this.v=s,this):new i(s)},a=this&&this.__asyncGenerator||function(s,u,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c,f=l.apply(s,u||[]),d=[];return c={},v("next"),v("throw"),v("return"),c[Symbol.asyncIterator]=function(){return this},c;function v(y){f[y]&&(c[y]=function(_){return new Promise(function(S,A){d.push([y,_,S,A])>1||p(y,_)})})}function p(y,_){try{(S=f[y](_)).value instanceof i?Promise.resolve(S.value.v).then(m,w):b(d[0][2],S)}catch(A){b(d[0][3],A)}var S}function m(y){p("next",y)}function w(y){p("throw",y)}function b(y,_){y(_),d.shift(),d.length&&p(d[0][0],d[0][1])}};Object.defineProperty(e,"__esModule",{value:!0}),e.isReadableStreamLike=e.readableStreamLikeToAsyncGenerator=void 0;var o=t(1018);e.readableStreamLikeToAsyncGenerator=function(s){return a(this,arguments,function(){var u,l,c;return n(this,function(f){switch(f.label){case 0:u=s.getReader(),f.label=1;case 1:f.trys.push([1,,9,10]),f.label=2;case 2:return[4,i(u.read())];case 3:return l=f.sent(),c=l.value,l.done?[4,i(void 0)]:[3,5];case 4:return[2,f.sent()];case 5:return[4,i(c)];case 6:return[4,f.sent()];case 7:return f.sent(),[3,2];case 8:return[3,10];case 9:return u.releaseLock(),[7];case 10:return[2]}})})},e.isReadableStreamLike=function(s){return o.isFunction(s==null?void 0:s.getReader)}},8613:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isScheduler=void 0;var n=t(1018);e.isScheduler=function(i){return i&&n.isFunction(i.schedule)}},7843:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.operate=e.hasLift=void 0;var n=t(1018);function i(a){return n.isFunction(a==null?void 0:a.lift)}e.hasLift=i,e.operate=function(a){return function(o){if(i(o))return o.lift(function(s){try{return a(s,this)}catch(u){this.error(u)}});throw new TypeError("Unable to lift unknown Observable type")}}},1251:function(r,e,t){var n=this&&this.__read||function(s,u){var l=typeof Symbol=="function"&&s[Symbol.iterator];if(!l)return s;var c,f,d=l.call(s),v=[];try{for(;(u===void 0||u-- >0)&&!(c=d.next()).done;)v.push(c.value)}catch(p){f={error:p}}finally{try{c&&!c.done&&(l=d.return)&&l.call(d)}finally{if(f)throw f.error}}return v},i=this&&this.__spreadArray||function(s,u){for(var l=0,c=u.length,f=s.length;l<c;l++,f++)s[f]=u[l];return s};Object.defineProperty(e,"__esModule",{value:!0}),e.mapOneOrManyArgs=void 0;var a=t(5471),o=Array.isArray;e.mapOneOrManyArgs=function(s){return a.map(function(u){return function(l,c){return o(c)?l.apply(void 0,i([],n(c))):l(c)}(s,u)})}},1342:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.noop=void 0,e.noop=function(){}},245:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.not=void 0,e.not=function(t,n){return function(i,a){return!t.call(n,i,a)}}},2706:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.pipeFromArray=e.pipe=void 0;var n=t(6640);function i(a){return a.length===0?n.identity:a.length===1?a[0]:function(o){return a.reduce(function(s,u){return u(s)},o)}}e.pipe=function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];return i(a)},e.pipeFromArray=i},7315:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.reportUnhandledError=void 0;var n=t(3413),i=t(9155);e.reportUnhandledError=function(a){i.timeoutProvider.setTimeout(function(){var o=n.config.onUnhandledError;if(!o)throw a;o(a)})}},7614:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createInvalidObservableTypeError=void 0,e.createInvalidObservableTypeError=function(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}},9419:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.mergeAll=e.merge=e.max=e.materialize=e.mapTo=e.map=e.last=e.isEmpty=e.ignoreElements=e.groupBy=e.first=e.findIndex=e.find=e.finalize=e.filter=e.expand=e.exhaustMap=e.exhaustAll=e.exhaust=e.every=e.endWith=e.elementAt=e.distinctUntilKeyChanged=e.distinctUntilChanged=e.distinct=e.dematerialize=e.delayWhen=e.delay=e.defaultIfEmpty=e.debounceTime=e.debounce=e.count=e.connect=e.concatWith=e.concatMapTo=e.concatMap=e.concatAll=e.concat=e.combineLatestWith=e.combineLatest=e.combineLatestAll=e.combineAll=e.catchError=e.bufferWhen=e.bufferToggle=e.bufferTime=e.bufferCount=e.buffer=e.auditTime=e.audit=void 0,e.timeInterval=e.throwIfEmpty=e.throttleTime=e.throttle=e.tap=e.takeWhile=e.takeUntil=e.takeLast=e.take=e.switchScan=e.switchMapTo=e.switchMap=e.switchAll=e.subscribeOn=e.startWith=e.skipWhile=e.skipUntil=e.skipLast=e.skip=e.single=e.shareReplay=e.share=e.sequenceEqual=e.scan=e.sampleTime=e.sample=e.refCount=e.retryWhen=e.retry=e.repeatWhen=e.repeat=e.reduce=e.raceWith=e.race=e.publishReplay=e.publishLast=e.publishBehavior=e.publish=e.pluck=e.partition=e.pairwise=e.onErrorResumeNext=e.observeOn=e.multicast=e.min=e.mergeWith=e.mergeScan=e.mergeMapTo=e.mergeMap=e.flatMap=void 0,e.zipWith=e.zipAll=e.zip=e.withLatestFrom=e.windowWhen=e.windowToggle=e.windowTime=e.windowCount=e.window=e.toArray=e.timestamp=e.timeoutWith=e.timeout=void 0;var n=t(3146);Object.defineProperty(e,"audit",{enumerable:!0,get:function(){return n.audit}});var i=t(3231);Object.defineProperty(e,"auditTime",{enumerable:!0,get:function(){return i.auditTime}});var a=t(8015);Object.defineProperty(e,"buffer",{enumerable:!0,get:function(){return a.buffer}});var o=t(5572);Object.defineProperty(e,"bufferCount",{enumerable:!0,get:function(){return o.bufferCount}});var s=t(7210);Object.defineProperty(e,"bufferTime",{enumerable:!0,get:function(){return s.bufferTime}});var u=t(8995);Object.defineProperty(e,"bufferToggle",{enumerable:!0,get:function(){return u.bufferToggle}});var l=t(8831);Object.defineProperty(e,"bufferWhen",{enumerable:!0,get:function(){return l.bufferWhen}});var c=t(8118);Object.defineProperty(e,"catchError",{enumerable:!0,get:function(){return c.catchError}});var f=t(6625);Object.defineProperty(e,"combineAll",{enumerable:!0,get:function(){return f.combineAll}});var d=t(6728);Object.defineProperty(e,"combineLatestAll",{enumerable:!0,get:function(){return d.combineLatestAll}});var v=t(2551);Object.defineProperty(e,"combineLatest",{enumerable:!0,get:function(){return v.combineLatest}});var p=t(8239);Object.defineProperty(e,"combineLatestWith",{enumerable:!0,get:function(){return p.combineLatestWith}});var m=t(7601);Object.defineProperty(e,"concat",{enumerable:!0,get:function(){return m.concat}});var w=t(8158);Object.defineProperty(e,"concatAll",{enumerable:!0,get:function(){return w.concatAll}});var b=t(9135);Object.defineProperty(e,"concatMap",{enumerable:!0,get:function(){return b.concatMap}});var y=t(9938);Object.defineProperty(e,"concatMapTo",{enumerable:!0,get:function(){return y.concatMapTo}});var _=t(9669);Object.defineProperty(e,"concatWith",{enumerable:!0,get:function(){return _.concatWith}});var S=t(1483);Object.defineProperty(e,"connect",{enumerable:!0,get:function(){return S.connect}});var A=t(1038);Object.defineProperty(e,"count",{enumerable:!0,get:function(){return A.count}});var D=t(4461);Object.defineProperty(e,"debounce",{enumerable:!0,get:function(){return D.debounce}});var R=t(8079);Object.defineProperty(e,"debounceTime",{enumerable:!0,get:function(){return R.debounceTime}});var k=t(378);Object.defineProperty(e,"defaultIfEmpty",{enumerable:!0,get:function(){return k.defaultIfEmpty}});var j=t(914);Object.defineProperty(e,"delay",{enumerable:!0,get:function(){return j.delay}});var F=t(8766);Object.defineProperty(e,"delayWhen",{enumerable:!0,get:function(){return F.delayWhen}});var z=t(7441);Object.defineProperty(e,"dematerialize",{enumerable:!0,get:function(){return z.dematerialize}});var q=t(5365);Object.defineProperty(e,"distinct",{enumerable:!0,get:function(){return q.distinct}});var $=t(8937);Object.defineProperty(e,"distinctUntilChanged",{enumerable:!0,get:function(){return $.distinctUntilChanged}});var K=t(9612);Object.defineProperty(e,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return K.distinctUntilKeyChanged}});var oe=t(4520);Object.defineProperty(e,"elementAt",{enumerable:!0,get:function(){return oe.elementAt}});var J=t(1776);Object.defineProperty(e,"endWith",{enumerable:!0,get:function(){return J.endWith}});var re=t(5510);Object.defineProperty(e,"every",{enumerable:!0,get:function(){return re.every}});var ae=t(1551);Object.defineProperty(e,"exhaust",{enumerable:!0,get:function(){return ae.exhaust}});var ve=t(2752);Object.defineProperty(e,"exhaustAll",{enumerable:!0,get:function(){return ve.exhaustAll}});var se=t(4753);Object.defineProperty(e,"exhaustMap",{enumerable:!0,get:function(){return se.exhaustMap}});var ce=t(7661);Object.defineProperty(e,"expand",{enumerable:!0,get:function(){return ce.expand}});var pe=t(783);Object.defineProperty(e,"filter",{enumerable:!0,get:function(){return pe.filter}});var Pe=t(3555);Object.defineProperty(e,"finalize",{enumerable:!0,get:function(){return Pe.finalize}});var de=t(7714);Object.defineProperty(e,"find",{enumerable:!0,get:function(){return de.find}});var ge=t(9756);Object.defineProperty(e,"findIndex",{enumerable:!0,get:function(){return ge.findIndex}});var Ce=t(8275);Object.defineProperty(e,"first",{enumerable:!0,get:function(){return Ce.first}});var Ne=t(7815);Object.defineProperty(e,"groupBy",{enumerable:!0,get:function(){return Ne.groupBy}});var De=t(490);Object.defineProperty(e,"ignoreElements",{enumerable:!0,get:function(){return De.ignoreElements}});var ke=t(9356);Object.defineProperty(e,"isEmpty",{enumerable:!0,get:function(){return ke.isEmpty}});var _e=t(8669);Object.defineProperty(e,"last",{enumerable:!0,get:function(){return _e.last}});var Ie=t(5471);Object.defineProperty(e,"map",{enumerable:!0,get:function(){return Ie.map}});var Ge=t(3218);Object.defineProperty(e,"mapTo",{enumerable:!0,get:function(){return Ge.mapTo}});var Qe=t(2360);Object.defineProperty(e,"materialize",{enumerable:!0,get:function(){return Qe.materialize}});var ot=t(1415);Object.defineProperty(e,"max",{enumerable:!0,get:function(){return ot.max}});var Tt=t(361);Object.defineProperty(e,"merge",{enumerable:!0,get:function(){return Tt.merge}});var zt=t(7302);Object.defineProperty(e,"mergeAll",{enumerable:!0,get:function(){return zt.mergeAll}});var pt=t(6902);Object.defineProperty(e,"flatMap",{enumerable:!0,get:function(){return pt.flatMap}});var Q=t(983);Object.defineProperty(e,"mergeMap",{enumerable:!0,get:function(){return Q.mergeMap}});var ne=t(6586);Object.defineProperty(e,"mergeMapTo",{enumerable:!0,get:function(){return ne.mergeMapTo}});var fe=t(4408);Object.defineProperty(e,"mergeScan",{enumerable:!0,get:function(){return fe.mergeScan}});var Ue=t(8253);Object.defineProperty(e,"mergeWith",{enumerable:!0,get:function(){return Ue.mergeWith}});var qe=t(2669);Object.defineProperty(e,"min",{enumerable:!0,get:function(){return qe.min}});var We=t(9247);Object.defineProperty(e,"multicast",{enumerable:!0,get:function(){return We.multicast}});var ft=t(5184);Object.defineProperty(e,"observeOn",{enumerable:!0,get:function(){return ft.observeOn}});var Ht=t(1226);Object.defineProperty(e,"onErrorResumeNext",{enumerable:!0,get:function(){return Ht.onErrorResumeNext}});var Et=t(1518);Object.defineProperty(e,"pairwise",{enumerable:!0,get:function(){return Et.pairwise}});var Se=t(2171);Object.defineProperty(e,"partition",{enumerable:!0,get:function(){return Se.partition}});var Ke=t(4912);Object.defineProperty(e,"pluck",{enumerable:!0,get:function(){return Ke.pluck}});var ht=t(766);Object.defineProperty(e,"publish",{enumerable:!0,get:function(){return ht.publish}});var ct=t(7220);Object.defineProperty(e,"publishBehavior",{enumerable:!0,get:function(){return ct.publishBehavior}});var xt=t(6106);Object.defineProperty(e,"publishLast",{enumerable:!0,get:function(){return xt.publishLast}});var er=t(8157);Object.defineProperty(e,"publishReplay",{enumerable:!0,get:function(){return er.publishReplay}});var Rt=t(4440);Object.defineProperty(e,"race",{enumerable:!0,get:function(){return Rt.race}});var Jt=t(5600);Object.defineProperty(e,"raceWith",{enumerable:!0,get:function(){return Jt.raceWith}});var mr=t(9139);Object.defineProperty(e,"reduce",{enumerable:!0,get:function(){return mr.reduce}});var Mr=t(8522);Object.defineProperty(e,"repeat",{enumerable:!0,get:function(){return Mr.repeat}});var cr=t(6566);Object.defineProperty(e,"repeatWhen",{enumerable:!0,get:function(){return cr.repeatWhen}});var Fr=t(7835);Object.defineProperty(e,"retry",{enumerable:!0,get:function(){return Fr.retry}});var Dr=t(9843);Object.defineProperty(e,"retryWhen",{enumerable:!0,get:function(){return Dr.retryWhen}});var Cr=t(7561);Object.defineProperty(e,"refCount",{enumerable:!0,get:function(){return Cr.refCount}});var On=t(1731);Object.defineProperty(e,"sample",{enumerable:!0,get:function(){return On.sample}});var Rn=t(6086);Object.defineProperty(e,"sampleTime",{enumerable:!0,get:function(){return Rn.sampleTime}});var Ha=t(8624);Object.defineProperty(e,"scan",{enumerable:!0,get:function(){return Ha.scan}});var ni=t(582);Object.defineProperty(e,"sequenceEqual",{enumerable:!0,get:function(){return ni.sequenceEqual}});var Vn=t(8977);Object.defineProperty(e,"share",{enumerable:!0,get:function(){return Vn.share}});var ii=t(3133);Object.defineProperty(e,"shareReplay",{enumerable:!0,get:function(){return ii.shareReplay}});var ui=t(3001);Object.defineProperty(e,"single",{enumerable:!0,get:function(){return ui.single}});var ji=t(3982);Object.defineProperty(e,"skip",{enumerable:!0,get:function(){return ji.skip}});var la=t(9098);Object.defineProperty(e,"skipLast",{enumerable:!0,get:function(){return la.skipLast}});var ca=t(7372);Object.defineProperty(e,"skipUntil",{enumerable:!0,get:function(){return ca.skipUntil}});var Pn=t(4721);Object.defineProperty(e,"skipWhile",{enumerable:!0,get:function(){return Pn.skipWhile}});var ai=t(269);Object.defineProperty(e,"startWith",{enumerable:!0,get:function(){return ai.startWith}});var fa=t(8960);Object.defineProperty(e,"subscribeOn",{enumerable:!0,get:function(){return fa.subscribeOn}});var po=t(8774);Object.defineProperty(e,"switchAll",{enumerable:!0,get:function(){return po.switchAll}});var Qi=t(3879);Object.defineProperty(e,"switchMap",{enumerable:!0,get:function(){return Qi.switchMap}});var Wr=t(3274);Object.defineProperty(e,"switchMapTo",{enumerable:!0,get:function(){return Wr.switchMapTo}});var zn=t(8712);Object.defineProperty(e,"switchScan",{enumerable:!0,get:function(){return zn.switchScan}});var Na=t(846);Object.defineProperty(e,"take",{enumerable:!0,get:function(){return Na.take}});var wa=t(8330);Object.defineProperty(e,"takeLast",{enumerable:!0,get:function(){return wa.takeLast}});var Va=t(4780);Object.defineProperty(e,"takeUntil",{enumerable:!0,get:function(){return Va.takeUntil}});var Fs=t(2129);Object.defineProperty(e,"takeWhile",{enumerable:!0,get:function(){return Fs.takeWhile}});var $a=t(3964);Object.defineProperty(e,"tap",{enumerable:!0,get:function(){return $a.tap}});var ko=t(8941);Object.defineProperty(e,"throttle",{enumerable:!0,get:function(){return ko.throttle}});var Bi=t(7640);Object.defineProperty(e,"throttleTime",{enumerable:!0,get:function(){return Bi.throttleTime}});var Us=t(4869);Object.defineProperty(e,"throwIfEmpty",{enumerable:!0,get:function(){return Us.throwIfEmpty}});var lf=t(489);Object.defineProperty(e,"timeInterval",{enumerable:!0,get:function(){return lf.timeInterval}});var go=t(1554);Object.defineProperty(e,"timeout",{enumerable:!0,get:function(){return go.timeout}});var Oi=t(4862);Object.defineProperty(e,"timeoutWith",{enumerable:!0,get:function(){return Oi.timeoutWith}});var iu=t(6505);Object.defineProperty(e,"timestamp",{enumerable:!0,get:function(){return iu.timestamp}});var Mo=t(2343);Object.defineProperty(e,"toArray",{enumerable:!0,get:function(){return Mo.toArray}});var wi=t(5477);Object.defineProperty(e,"window",{enumerable:!0,get:function(){return wi.window}});var ha=t(6746);Object.defineProperty(e,"windowCount",{enumerable:!0,get:function(){return ha.windowCount}});var Nr=t(8208);Object.defineProperty(e,"windowTime",{enumerable:!0,get:function(){return Nr.windowTime}});var La=t(6637);Object.defineProperty(e,"windowToggle",{enumerable:!0,get:function(){return La.windowToggle}});var da=t(1141);Object.defineProperty(e,"windowWhen",{enumerable:!0,get:function(){return da.windowWhen}});var Tn=t(5442);Object.defineProperty(e,"withLatestFrom",{enumerable:!0,get:function(){return Tn.withLatestFrom}});var gn=t(5918);Object.defineProperty(e,"zip",{enumerable:!0,get:function(){return gn.zip}});var Ji=t(187);Object.defineProperty(e,"zipAll",{enumerable:!0,get:function(){return Ji.zipAll}});var fl=t(8538);Object.defineProperty(e,"zipWith",{enumerable:!0,get:function(){return fl.zipWith}})},5636:(r,e,t)=>{var n=t(1048),i=n.Buffer;function a(s,u){for(var l in s)u[l]=s[l]}function o(s,u,l){return i(s,u,l)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?r.exports=n:(a(n,e),e.Buffer=o),o.prototype=Object.create(i.prototype),a(i,o),o.from=function(s,u,l){if(typeof s=="number")throw new TypeError("Argument must not be a number");return i(s,u,l)},o.alloc=function(s,u,l){if(typeof s!="number")throw new TypeError("Argument must be a number");var c=i(s);return u!==void 0?typeof l=="string"?c.fill(u,l):c.fill(u):c.fill(0),c},o.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return i(s)},o.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(s)}},9975:(r,e,t)=>{var n=t(7101),i=Array.prototype.concat,a=Array.prototype.slice,o=r.exports=function(s){for(var u=[],l=0,c=s.length;l<c;l++){var f=s[l];n(f)?u=i.call(u,a.call(f)):u.push(f)}return u};o.wrap=function(s){return function(){return s(o(arguments))}}},7101:r=>{r.exports=function(e){return!(!e||typeof e=="string")&&(e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&e.constructor.name!=="String"))}},8888:(r,e,t)=>{var n=t(5636).Buffer,i=n.isEncoding||function(p){switch((p=""+p)&&p.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(p){var m;switch(this.encoding=function(w){var b=function(y){if(!y)return"utf8";for(var _;;)switch(y){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return y;default:if(_)return;y=(""+y).toLowerCase(),_=!0}}(w);if(typeof b!="string"&&(n.isEncoding===i||!i(w)))throw new Error("Unknown encoding: "+w);return b||w}(p),this.encoding){case"utf16le":this.text=u,this.end=l,m=4;break;case"utf8":this.fillLast=s,m=4;break;case"base64":this.text=c,this.end=f,m=3;break;default:return this.write=d,void(this.end=v)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(m)}function o(p){return p<=127?0:p>>5==6?2:p>>4==14?3:p>>3==30?4:p>>6==2?-1:-2}function s(p){var m=this.lastTotal-this.lastNeed,w=function(b,y,_){if((192&y[0])!=128)return b.lastNeed=0,"";if(b.lastNeed>1&&y.length>1){if((192&y[1])!=128)return b.lastNeed=1,"";if(b.lastNeed>2&&y.length>2&&(192&y[2])!=128)return b.lastNeed=2,""}}(this,p);return w!==void 0?w:this.lastNeed<=p.length?(p.copy(this.lastChar,m,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(p.copy(this.lastChar,m,0,p.length),void(this.lastNeed-=p.length))}function u(p,m){if((p.length-m)%2==0){var w=p.toString("utf16le",m);if(w){var b=w.charCodeAt(w.length-1);if(b>=55296&&b<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1],w.slice(0,-1)}return w}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=p[p.length-1],p.toString("utf16le",m,p.length-1)}function l(p){var m=p&&p.length?this.write(p):"";if(this.lastNeed){var w=this.lastTotal-this.lastNeed;return m+this.lastChar.toString("utf16le",0,w)}return m}function c(p,m){var w=(p.length-m)%3;return w===0?p.toString("base64",m):(this.lastNeed=3-w,this.lastTotal=3,w===1?this.lastChar[0]=p[p.length-1]:(this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1]),p.toString("base64",m,p.length-w))}function f(p){var m=p&&p.length?this.write(p):"";return this.lastNeed?m+this.lastChar.toString("base64",0,3-this.lastNeed):m}function d(p){return p.toString(this.encoding)}function v(p){return p&&p.length?this.write(p):""}e.StringDecoder=a,a.prototype.write=function(p){if(p.length===0)return"";var m,w;if(this.lastNeed){if((m=this.fillLast(p))===void 0)return"";w=this.lastNeed,this.lastNeed=0}else w=0;return w<p.length?m?m+this.text(p,w):this.text(p,w):m||""},a.prototype.end=function(p){var m=p&&p.length?this.write(p):"";return this.lastNeed?m+"":m},a.prototype.text=function(p,m){var w=function(y,_,S){var A=_.length-1;if(A<S)return 0;var D=o(_[A]);return D>=0?(D>0&&(y.lastNeed=D-1),D):--A<S||D===-2?0:(D=o(_[A]))>=0?(D>0&&(y.lastNeed=D-2),D):--A<S||D===-2?0:(D=o(_[A]))>=0?(D>0&&(D===2?D=0:y.lastNeed=D-3),D):0}(this,p,m);if(!this.lastNeed)return p.toString("utf8",m);this.lastTotal=w;var b=p.length-(w-this.lastNeed);return p.copy(this.lastChar,0,b),p.toString("utf8",m,b)},a.prototype.fillLast=function(p){if(this.lastNeed<=p.length)return p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,p.length),this.lastNeed-=p.length}}},mL={};function Po(r){var e=mL[r];if(e!==void 0)return e.exports;var t=mL[r]={id:r,loaded:!1,exports:{}};return dW[r].call(t.exports,t,t.exports,Po),t.loaded=!0,t.exports}Po.n=r=>{var e=r&&r.__esModule?()=>r.default:()=>r;return Po.d(e,{a:e}),e},Po.d=(r,e)=>{for(var t in e)Po.o(e,t)&&!Po.o(r,t)&&Object.defineProperty(r,t,{enumerable:!0,get:e[t]})},Po.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),Po.o=(r,e)=>Object.prototype.hasOwnProperty.call(r,e),Po.nmd=r=>(r.paths=[],r.children||(r.children=[]),r);var Sh={};(()=>{Po.d(Sh,{RL:()=>Yl,wK:()=>Bh,x_:()=>cn,lv:()=>Ku,YQ:()=>Bc,BP:()=>vg,GZ:()=>dm,Vw:()=>En,Ay:()=>vm,_G:()=>Uo,Wy:()=>hr,h4:()=>sm});var r=Po(5250);function e(E){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},e(E)}function t(E,x){for(var C=0;C<x.length;C++){var O=x[C];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(E,n(O.key),O)}}function n(E){var x=function(C,O){if(e(C)!="object"||!C)return C;var B=C[Symbol.toPrimitive];if(B!==void 0){var N=B.call(C,"string");if(e(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(C)}(E);return e(x)=="symbol"?x:String(x)}var i=["onLayoutDone","onLayoutStep","onError","onLayoutComputing","onWebGLContextLost","onZoomTransitionDone","restart"],a=function(){function E(){var O,B,N,G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(function(X,W){if(!(X instanceof W))throw new TypeError("Cannot call a class as a function")})(this,E),O=this,N=void 0,(B=n(B="callbacks"))in O?Object.defineProperty(O,B,{value:N,enumerable:!0,configurable:!0,writable:!0}):O[B]=N,this.callbacks=G}var x,C;return x=E,C=[{key:"onZoomTransitionDone",value:function(){this.isValidFunction(this.callbacks.onZoomTransitionDone)&&this.callbacks.onZoomTransitionDone()}},{key:"onLayoutDone",value:function(){this.isValidFunction(this.callbacks.onLayoutDone)&&this.callbacks.onLayoutDone()}},{key:"onLayoutStep",value:function(O){this.isValidFunction(this.callbacks.onLayoutStep)&&this.callbacks.onLayoutStep(O)}},{key:"onLayoutComputing",value:function(O){this.isValidFunction(this.callbacks.onLayoutComputing)&&this.callbacks.onLayoutComputing(O)}},{key:"onError",value:function(O){this.isValidFunction(this.callbacks.onError)&&this.callbacks.onError(O)}},{key:"onWebGLContextLost",value:function(O){this.isValidFunction(this.callbacks.onWebGLContextLost)&&this.callbacks.onWebGLContextLost(O)}},{key:"isValidFunction",value:function(O){return O!==void 0&&typeof O=="function"}}],C&&t(x.prototype,C),Object.defineProperty(x,"prototype",{writable:!1}),E}(),o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,x){E.__proto__=x}||function(E,x){for(var C in x)x.hasOwnProperty(C)&&(E[C]=x[C])};function s(E,x){function C(){this.constructor=E}o(E,x),E.prototype=x===null?Object.create(x):(C.prototype=x.prototype,new C)}var u=function(){function E(x){x===void 0&&(x="Atom@"+wi()),this.name=x,this.isPendingUnobservation=!0,this.observers=[],this.observersIndexes={},this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=hn.NOT_TRACKING}return E.prototype.onBecomeUnobserved=function(){},E.prototype.reportObserved=function(){Ec(this)},E.prototype.reportChanged=function(){zs(),function(x){if(x.lowestObserverState!==hn.STALE){x.lowestObserverState=hn.STALE;for(var C=x.observers,O=C.length;O--;){var B=C[O];B.dependenciesState===hn.UP_TO_DATE&&(B.isTracing!==ro.NONE&&zl(B,x),B.onBecomeStale()),B.dependenciesState=hn.STALE}}}(this),no()},E.prototype.toString=function(){return this.name},E}(),l=function(E){function x(C,O,B){C===void 0&&(C="Atom@"+wi()),O===void 0&&(O=gn),B===void 0&&(B=gn);var N=E.call(this,C)||this;return N.name=C,N.onBecomeObservedHandler=O,N.onBecomeUnobservedHandler=B,N.isPendingUnobservation=!1,N.isBeingTracked=!1,N}return s(x,E),x.prototype.reportObserved=function(){return zs(),E.prototype.reportObserved.call(this),this.isBeingTracked||(this.isBeingTracked=!0,this.onBecomeObservedHandler()),no(),!!fr.trackingDerivation},x.prototype.onBecomeUnobserved=function(){this.isBeingTracked=!1,this.onBecomeUnobservedHandler()},x}(u),c=dl("Atom",u);function f(E){return E.interceptors&&E.interceptors.length>0}function d(E,x){var C=E.interceptors||(E.interceptors=[]);return C.push(x),Tn(function(){var O=C.indexOf(x);O!==-1&&C.splice(O,1)})}function v(E,x){var C=su();try{var O=E.interceptors;if(O)for(var B=0,N=O.length;B<N&&(Nr(!(x=O[B](x))||x.type,"Intercept handlers should return nothing or a change object"),x);B++);return x}finally{gs(C)}}function p(E){return E.changeListeners&&E.changeListeners.length>0}function m(E,x){var C=E.changeListeners||(E.changeListeners=[]);return C.push(x),Tn(function(){var O=C.indexOf(x);O!==-1&&C.splice(O,1)})}function w(E,x){var C=su(),O=E.changeListeners;if(O){for(var B=0,N=(O=O.slice()).length;B<N;B++)O[B](x);gs(C)}}function b(){return!!fr.spyListeners.length}function y(E){if(fr.spyListeners.length)for(var x=fr.spyListeners,C=0,O=x.length;C<O;C++)x[C](E)}function _(E){y(Th({},E,{spyReportStart:!0}))}var S={spyReportEnd:!0};function A(E){y(E?Th({},E,S):S)}function D(E){return fr.spyListeners.push(E),Tn(function(){var x=fr.spyListeners.indexOf(E);x!==-1&&fr.spyListeners.splice(x,1)})}var R="__$$iterating";function k(E){Nr(E[R]!==!0,"Illegal state: cannot recycle array as iterator"),hl(E,R,!0);var x=-1;return hl(E,"next",function(){return{done:++x>=this.length,value:x<this.length?this[x]:void 0}}),E}function j(E,x){hl(E,typeof Symbol=="function"&&Symbol.iterator||"@@iterator",x)}var F,z,q=function(){var E=!1,x={};return Object.defineProperty(x,"0",{set:function(){E=!0}}),Object.create(x)[0]=1,E===!1}(),$=0,K=function(){};F=K,z=Array.prototype,Object.setPrototypeOf!==void 0?Object.setPrototypeOf(F.prototype,z):F.prototype.__proto__!==void 0?F.prototype.__proto__=z:F.prototype=z,Object.isFrozen(Array)&&["constructor","push","shift","concat","pop","unshift","replace","find","findIndex","splice","reverse","sort"].forEach(function(E){Object.defineProperty(K.prototype,E,{configurable:!0,writable:!0,value:Array.prototype[E]})});var oe=function(){function E(x,C,O,B){this.array=O,this.owned=B,this.values=[],this.lastKnownLength=0,this.interceptors=null,this.changeListeners=null,this.atom=new u(x||"ObservableArray@"+wi()),this.enhancer=function(N,G){return C(N,G,x+"[..]")}}return E.prototype.dehanceValue=function(x){return this.dehancer!==void 0?this.dehancer(x):x},E.prototype.dehanceValues=function(x){return this.dehancer!==void 0?x.map(this.dehancer):x},E.prototype.intercept=function(x){return d(this,x)},E.prototype.observe=function(x,C){return C===void 0&&(C=!1),C&&x({object:this.array,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),m(this,x)},E.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},E.prototype.setArrayLength=function(x){if(typeof x!="number"||x<0)throw new Error("[mobx.array] Out of range: "+x);var C=this.values.length;if(x!==C)if(x>C){for(var O=new Array(x-C),B=0;B<x-C;B++)O[B]=void 0;this.spliceWithArray(C,0,O)}else this.spliceWithArray(x,C-x)},E.prototype.updateArrayLength=function(x,C){if(x!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed. Did you use peek() to change it?");this.lastKnownLength+=C,C>0&&x+C+1>$&&se(x+C+1)},E.prototype.spliceWithArray=function(x,C,O){var B=this;tn(this.atom);var N=this.values.length;if(x===void 0?x=0:x>N?x=N:x<0&&(x=Math.max(0,N+x)),C=arguments.length===1?N-x:C==null?0:Math.max(0,Math.min(C,N-x)),O===void 0&&(O=[]),f(this)){var G=v(this,{object:this.array,type:"splice",index:x,removedCount:C,added:O});if(!G)return iu;C=G.removedCount,O=G.added}var X=(O=O.map(function(ee){return B.enhancer(ee,void 0)})).length-C;this.updateArrayLength(N,X);var W=this.spliceItemsIntoValues(x,C,O);return C===0&&O.length===0||this.notifyArraySplice(x,O,W),this.dehanceValues(W)},E.prototype.spliceItemsIntoValues=function(x,C,O){if(O.length<1e4)return(B=this.values).splice.apply(B,[x,C].concat(O));var B,N=this.values.slice(x,x+C);return this.values=this.values.slice(0,x).concat(O,this.values.slice(x+C)),N},E.prototype.notifyArrayChildUpdate=function(x,C,O){var B=!this.owned&&b(),N=p(this),G=N||B?{object:this.array,type:"update",index:x,newValue:C,oldValue:O}:null;B&&_(G),this.atom.reportChanged(),N&&w(this,G),B&&A()},E.prototype.notifyArraySplice=function(x,C,O){var B=!this.owned&&b(),N=p(this),G=N||B?{object:this.array,type:"splice",index:x,removed:O,added:C,removedCount:O.length,addedCount:C.length}:null;B&&_(G),this.atom.reportChanged(),N&&w(this,G),B&&A()},E}(),J=function(E){function x(C,O,B,N){B===void 0&&(B="ObservableArray@"+wi()),N===void 0&&(N=!1);var G=E.call(this)||this,X=new oe(B,O,G,N);return hl(G,"$mobx",X),C&&C.length&&G.spliceWithArray(0,0,C),q&&Object.defineProperty(X.array,"0",re),G}return s(x,E),x.prototype.intercept=function(C){return this.$mobx.intercept(C)},x.prototype.observe=function(C,O){return O===void 0&&(O=!1),this.$mobx.observe(C,O)},x.prototype.clear=function(){return this.splice(0)},x.prototype.concat=function(){for(var C=[],O=0;O<arguments.length;O++)C[O]=arguments[O];return this.$mobx.atom.reportObserved(),Array.prototype.concat.apply(this.peek(),C.map(function(B){return pe(B)?B.peek():B}))},x.prototype.replace=function(C){return this.$mobx.spliceWithArray(0,this.$mobx.values.length,C)},x.prototype.toJS=function(){return this.slice()},x.prototype.toJSON=function(){return this.toJS()},x.prototype.peek=function(){return this.$mobx.atom.reportObserved(),this.$mobx.dehanceValues(this.$mobx.values)},x.prototype.find=function(C,O,B){B===void 0&&(B=0);var N=this.findIndex.apply(this,arguments);return N===-1?void 0:this.get(N)},x.prototype.findIndex=function(C,O,B){B===void 0&&(B=0);for(var N=this.peek(),G=N.length,X=B;X<G;X++)if(C.call(O,N[X],X,this))return X;return-1},x.prototype.splice=function(C,O){for(var B=[],N=2;N<arguments.length;N++)B[N-2]=arguments[N];switch(arguments.length){case 0:return[];case 1:return this.$mobx.spliceWithArray(C);case 2:return this.$mobx.spliceWithArray(C,O)}return this.$mobx.spliceWithArray(C,O,B)},x.prototype.spliceWithArray=function(C,O,B){return this.$mobx.spliceWithArray(C,O,B)},x.prototype.push=function(){for(var C=[],O=0;O<arguments.length;O++)C[O]=arguments[O];var B=this.$mobx;return B.spliceWithArray(B.values.length,0,C),B.values.length},x.prototype.pop=function(){return this.splice(Math.max(this.$mobx.values.length-1,0),1)[0]},x.prototype.shift=function(){return this.splice(0,1)[0]},x.prototype.unshift=function(){for(var C=[],O=0;O<arguments.length;O++)C[O]=arguments[O];var B=this.$mobx;return B.spliceWithArray(0,0,C),B.values.length},x.prototype.reverse=function(){var C=this.slice();return C.reverse.apply(C,arguments)},x.prototype.sort=function(C){var O=this.slice();return O.sort.apply(O,arguments)},x.prototype.remove=function(C){var O=this.$mobx.dehanceValues(this.$mobx.values).indexOf(C);return O>-1&&(this.splice(O,1),!0)},x.prototype.move=function(C,O){function B(X){if(X<0)throw new Error("[mobx.array] Index out of bounds: "+X+" is negative");var W=this.$mobx.values.length;if(X>=W)throw new Error("[mobx.array] Index out of bounds: "+X+" is not smaller than "+W)}if(B.call(this,C),B.call(this,O),C!==O){var N,G=this.$mobx.values;N=C<O?G.slice(0,C).concat(G.slice(C+1,O+1),[G[C]],G.slice(O+1)):G.slice(0,O).concat([G[C]],G.slice(O,C),G.slice(C+1)),this.replace(N)}},x.prototype.get=function(C){var O=this.$mobx;if(O){if(C<O.values.length)return O.atom.reportObserved(),O.dehanceValue(O.values[C]);console.warn("[mobx.array] Attempt to read an array index ("+C+") that is out of bounds ("+O.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},x.prototype.set=function(C,O){var B=this.$mobx,N=B.values;if(C<N.length){tn(B.atom);var G=N[C];if(f(B)){var X=v(B,{type:"update",object:this,index:C,newValue:O});if(!X)return;O=X.newValue}(O=B.enhancer(O,G))!==G&&(N[C]=O,B.notifyArrayChildUpdate(C,O,G))}else{if(C!==N.length)throw new Error("[mobx.array] Index out of bounds, "+C+" is larger than "+N.length);B.spliceWithArray(C,0,[O])}},x}(K);j(J.prototype,function(){return k(this.slice())}),Object.defineProperty(J.prototype,"length",{enumerable:!1,configurable:!0,get:function(){return this.$mobx.getArrayLength()},set:function(E){this.$mobx.setArrayLength(E)}}),["every","filter","forEach","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some","toString","toLocaleString"].forEach(function(E){var x=Array.prototype[E];Nr(typeof x=="function","Base function not defined on Array prototype: '"+E+"'"),Wo(J.prototype,E,function(){return x.apply(this.peek(),arguments)})}),function(E,x){for(var C=0;C<x.length;C++)Wo(E,x[C],E[x[C]])}(J.prototype,["constructor","intercept","observe","clear","concat","get","replace","toJS","toJSON","peek","find","findIndex","splice","spliceWithArray","push","pop","set","shift","unshift","reverse","sort","remove","move","toString","toLocaleString"]);var re=ae(0);function ae(E){return{enumerable:!1,configurable:!1,get:function(){return this.get(E)},set:function(x){this.set(E,x)}}}function ve(E){Object.defineProperty(J.prototype,""+E,ae(E))}function se(E){for(var x=$;x<E;x++)ve(x);$=E}se(1e3);var ce=dl("ObservableArrayAdministration",oe);function pe(E){return Gf(E)&&ce(E.$mobx)}var Pe={},de=function(E){function x(C,O,B,N){B===void 0&&(B="ObservableValue@"+wi()),N===void 0&&(N=!0);var G=E.call(this,B)||this;return G.enhancer=O,G.hasUnreportedChange=!1,G.dehancer=void 0,G.value=O(C,void 0,B),N&&b()&&y({type:"create",object:G,newValue:G.value}),G}return s(x,E),x.prototype.dehanceValue=function(C){return this.dehancer!==void 0?this.dehancer(C):C},x.prototype.set=function(C){var O=this.value;if((C=this.prepareNewValue(C))!==Pe){var B=b();B&&_({type:"update",object:this,newValue:C,oldValue:O}),this.setNewValue(C),B&&A()}},x.prototype.prepareNewValue=function(C){if(tn(this),f(this)){var O=v(this,{object:this,type:"update",newValue:C});if(!O)return Pe;C=O.newValue}return C=this.enhancer(C,this.value,this.name),this.value!==C?C:Pe},x.prototype.setNewValue=function(C){var O=this.value;this.value=C,this.reportChanged(),p(this)&&w(this,{type:"update",object:this,newValue:C,oldValue:O})},x.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},x.prototype.intercept=function(C){return d(this,C)},x.prototype.observe=function(C,O){return O&&C({object:this,type:"update",newValue:this.value,oldValue:void 0}),m(this,C)},x.prototype.toJSON=function(){return this.get()},x.prototype.toString=function(){return this.name+"["+this.value+"]"},x.prototype.valueOf=function(){return Hf(this.get())},x}(u);de.prototype[ff()]=de.prototype.valueOf;var ge=dl("ObservableValue",de),Ce={m001:"It is not allowed to assign new values to @action fields",m002:"`runInAction` expects a function",m003:"`runInAction` expects a function without arguments",m004:"autorun expects a function",m005:"Warning: attempted to pass an action to autorun. Actions are untracked and will not trigger on state changes. Use `reaction` or wrap only your state modification code in an action.",m006:"Warning: attempted to pass an action to autorunAsync. Actions are untracked and will not trigger on state changes. Use `reaction` or wrap only your state modification code in an action.",m007:"reaction only accepts 2 or 3 arguments. If migrating from MobX 2, please provide an options object",m008:"wrapping reaction expression in `asReference` is no longer supported, use options object instead",m009:"@computed can only be used on getter functions, like: '@computed get myProps() { return ...; }'. It looks like it was used on a property.",m010:"@computed can only be used on getter functions, like: '@computed get myProps() { return ...; }'",m011:"First argument to `computed` should be an expression. If using computed as decorator, don't pass it arguments",m012:"computed takes one or two arguments if used as function",m013:"[mobx.expr] 'expr' should only be used inside other reactive functions.",m014:"extendObservable expected 2 or more arguments",m015:"extendObservable expects an object as first argument",m016:"extendObservable should not be used on maps, use map.merge instead",m017:"all arguments of extendObservable should be objects",m018:"extending an object with another observable (object) is not supported. Please construct an explicit propertymap, using `toJS` if need. See issue #540",m019:"[mobx.isObservable] isObservable(object, propertyName) is not supported for arrays and maps. Use map.has or array.length instead.",m020:"modifiers can only be used for individual object properties",m021:"observable expects zero or one arguments",m022:"@observable can not be used on getters, use @computed instead",m024:"whyRun() can only be used if a derivation is active, or by passing an computed value / reaction explicitly. If you invoked whyRun from inside a computation; the computation is currently suspended but re-evaluating because somebody requested its value.",m025:"whyRun can only be used on reactions and computed values",m026:"`action` can only be invoked on functions",m028:"It is not allowed to set `useStrict` when a derivation is running",m029:"INTERNAL ERROR only onBecomeUnobserved shouldn't be called twice in a row",m030a:"Since strict-mode is enabled, changing observed observable values outside actions is not allowed. Please wrap the code in an `action` if this change is intended. Tried to modify: ",m030b:"Side effects like changing state are not allowed at this point. Are you trying to modify state from, for example, the render function of a React component? Tried to modify: ",m031:"Computed values are not allowed to cause side effects by changing observables that are already being observed. Tried to modify: ",m032:`* This computation is suspended (not in use by any reaction) and won't run automatically.
	Didn't expect this computation to be suspended at this point?
	  1. Make sure this computation is used by a reaction (reaction, autorun, observer).
	  2. Check whether you are using this computation synchronously (in the same stack as they reaction that needs it).`,m033:"`observe` doesn't support the fire immediately property for observable maps.",m034:"`mobx.map` is deprecated, use `new ObservableMap` or `mobx.observable.map` instead",m035:"Cannot make the designated object observable; it is not extensible",m036:"It is not possible to get index atoms from arrays",m037:`Hi there! I'm sorry you have just run into an exception.
If your debugger ends up here, know that some reaction (like the render() of an observer component, autorun or reaction)
threw an exception and that mobx caught it, to avoid that it brings the rest of your application down.
The original cause of the exception (the code that caused this reaction to run (again)), is still in the stack.

However, more interesting is the actual stack trace of the error itself.
Hopefully the error is an instanceof Error, because in that case you can inspect the original stack of the error from where it was thrown.
See \`error.stack\` property, or press the very subtle "(...)" link you see near the console.error message that probably brought you here.
That stack is more interesting than the stack of this console.error itself.

If the exception you see is an exception you created yourself, make sure to use \`throw new Error("Oops")\` instead of \`throw "Oops"\`,
because the javascript environment will only preserve the original stack trace in the first form.

You can also make sure the debugger pauses the next time this very same exception is thrown by enabling "Pause on caught exception".
(Note that it might pause on many other, unrelated exception as well).

If that all doesn't help you out, feel free to open an issue https://github.com/mobxjs/mobx/issues!
`,m038:`Missing items in this list?
    1. Check whether all used values are properly marked as observable (use isObservable to verify)
    2. Make sure you didn't dereference values too early. MobX observes props, not primitives. E.g: use 'person.name' instead of 'name' in your computation.
`};function Ne(E){return Ce[E]}function De(E,x){Nr(typeof x=="function",Ne("m026")),Nr(typeof E=="string"&&E.length>0,"actions should have valid names, got: '"+E+"'");var C=function(){return ke(E,x,this,arguments)};return C.originalFn=x,C.isMobxAction=!0,C}function ke(E,x,C,O){var B=function(N,G,X,W){var ee=b()&&!!N,te=0;if(ee){te=Date.now();var ue=W&&W.length||0,ye=new Array(ue);if(ue>0)for(var Ee=0;Ee<ue;Ee++)ye[Ee]=W[Ee];_({type:"action",name:N,fn:G,object:X,arguments:ye})}var Oe=su();return zs(),{prevDerivation:Oe,prevAllowStateChanges:Ie(!0),notifySpy:ee,startTime:te}}(E,x,C,O);try{return x.apply(C,O)}finally{(function(N){Ge(N.prevAllowStateChanges),no(),gs(N.prevDerivation),N.notifySpy&&A({time:Date.now()-N.startTime})})(B)}}function _e(E){Nr(fr.trackingDerivation===null,Ne("m028")),fr.strictMode=E,fr.allowStateChanges=!E}function Ie(E){var x=fr.allowStateChanges;return fr.allowStateChanges=E,x}function Ge(E){fr.allowStateChanges=E}function Qe(E,x,C,O,B){function N(G,X,W,ee,te){if(te===void 0&&(te=0),Nr(B||zt(arguments),"This function is a decorator, but it wasn't invoked like a decorator"),W){yc(G,"__mobxLazyInitializers")||Wo(G,"__mobxLazyInitializers",G.__mobxLazyInitializers&&G.__mobxLazyInitializers.slice()||[]);var ue=W.value,ye=W.initializer;return G.__mobxLazyInitializers.push(function(Oe){E(Oe,X,ye?ye.call(Oe):ue,ee,W)}),{enumerable:O,configurable:!0,get:function(){return this.__mobxDidRunLazyInitializers!==!0&&Tt(this),x.call(this,X)},set:function(Oe){this.__mobxDidRunLazyInitializers!==!0&&Tt(this),C.call(this,X,Oe)}}}var Ee={enumerable:O,configurable:!0,get:function(){return this.__mobxInitializedProps&&this.__mobxInitializedProps[X]===!0||ot(this,X,void 0,E,ee,W),x.call(this,X)},set:function(Oe){this.__mobxInitializedProps&&this.__mobxInitializedProps[X]===!0?C.call(this,X,Oe):ot(this,X,Oe,E,ee,W)}};return(arguments.length<3||arguments.length===5&&te<3)&&Object.defineProperty(G,X,Ee),Ee}return B?function(){if(zt(arguments))return N.apply(null,arguments);var G=arguments,X=arguments.length;return function(W,ee,te){return N(W,ee,te,G,X)}}:N}function ot(E,x,C,O,B,N){yc(E,"__mobxInitializedProps")||Wo(E,"__mobxInitializedProps",{}),E.__mobxInitializedProps[x]=!0,O(E,x,C,B,N)}function Tt(E){E.__mobxDidRunLazyInitializers!==!0&&E.__mobxLazyInitializers&&(Wo(E,"__mobxDidRunLazyInitializers",!0),E.__mobxDidRunLazyInitializers&&E.__mobxLazyInitializers.forEach(function(x){return x(E)}))}function zt(E){return(E.length===2||E.length===3)&&typeof E[1]=="string"}var pt=Qe(function(E,x,C,O,B){var N=O&&O.length===1?O[0]:C.name||x||"<unnamed action>";Wo(E,x,ne(N,C))},function(E){return this[E]},function(){Nr(!1,Ne("m001"))},!1,!0),Q=Qe(function(E,x,C){qe(E,x,C)},function(E){return this[E]},function(){Nr(!1,Ne("m001"))},!1,!1),ne=function(E,x,C,O){return arguments.length===1&&typeof E=="function"?De(E.name||"<unnamed action>",E):arguments.length===2&&typeof x=="function"?De(E,x):arguments.length===1&&typeof E=="string"?fe(E):fe(x).apply(null,arguments)};function fe(E){return function(x,C,O){if(O&&typeof O.value=="function")return O.value=De(E,O.value),O.enumerable=!1,O.configurable=!0,O;if(O!==void 0&&O.get!==void 0)throw new Error("[mobx] action is not expected to be used with getters");return pt(E).apply(this,arguments)}}function Ue(E){return typeof E=="function"&&E.isMobxAction===!0}function qe(E,x,C){var O=function(){return ke(x,C,E,arguments)};O.isMobxAction=!0,Wo(E,x,O)}ne.bound=function(E,x,C){if(typeof E=="function"){var O=De("<not yet bound action>",E);return O.autoBind=!0,O}return Q.apply(null,arguments)};var We=Object.prototype.toString;function ft(E,x){return Ht(E,x)}function Ht(E,x,C,O){if(E===x)return E!==0||1/E==1/x;if(E==null||x==null)return!1;if(E!=E)return x!=x;var B=typeof E;return(B==="function"||B==="object"||typeof x=="object")&&function(N,G,X,W){N=Et(N),G=Et(G);var ee=We.call(N);if(ee!==We.call(G))return!1;switch(ee){case"[object RegExp]":case"[object String]":return""+N==""+G;case"[object Number]":return+N!=+N?+G!=+G:+N==0?1/+N==1/G:+N==+G;case"[object Date]":case"[object Boolean]":return+N==+G;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(N)===Symbol.valueOf.call(G)}var te=ee==="[object Array]";if(!te){if(typeof N!="object"||typeof G!="object")return!1;var ue=N.constructor,ye=G.constructor;if(ue!==ye&&!(typeof ue=="function"&&ue instanceof ue&&typeof ye=="function"&&ye instanceof ye)&&"constructor"in N&&"constructor"in G)return!1}W=W||[];for(var Ee=(X=X||[]).length;Ee--;)if(X[Ee]===N)return W[Ee]===G;if(X.push(N),W.push(G),te){if((Ee=N.length)!==G.length)return!1;for(;Ee--;)if(!Ht(N[Ee],G[Ee],X,W))return!1}else{var Oe,we=Object.keys(N);if(Ee=we.length,Object.keys(G).length!==Ee)return!1;for(;Ee--;)if(!Se(G,Oe=we[Ee])||!Ht(N[Oe],G[Oe],X,W))return!1}return X.pop(),W.pop(),!0}(E,x,C,O)}function Et(E){return pe(E)?E.peek():Oi(E)?E.entries():Wa(E)?function(x){for(var C=[];;){var O=x.next();if(O.done)break;C.push(O.value)}return C}(E.entries()):E}function Se(E,x){return Object.prototype.hasOwnProperty.call(E,x)}function Ke(E,x){return E===x}var ht={identity:Ke,structural:function(E,x){return ft(E,x)},default:function(E,x){return function(C,O){return typeof C=="number"&&typeof O=="number"&&isNaN(C)&&isNaN(O)}(E,x)||Ke(E,x)}};function ct(E,x,C){var O,B,N;typeof E=="string"?(O=E,B=x,N=C):(O=E.name||"Autorun@"+wi(),B=E,N=x),Nr(typeof B=="function",Ne("m004")),Nr(Ue(B)===!1,Ne("m005")),N&&(B=B.bind(N));var G=new li(O,function(){this.track(X)});function X(){B(G)}return G.schedule(),G.getDisposer()}function xt(E,x,C){var O;arguments.length>3&&ha(Ne("m007")),Na(E)&&ha(Ne("m008")),(O=typeof C=="object"?C:{}).name=O.name||E.name||x.name||"Reaction@"+wi(),O.fireImmediately=C===!0||O.fireImmediately===!0,O.delay=O.delay||0,O.compareStructural=O.compareStructural||O.struct||!1,x=ne(O.name,O.context?x.bind(O.context):x),O.context&&(E=E.bind(O.context));var B,N=!0,G=!1,X=O.equals?O.equals:O.compareStructural||O.struct?ht.structural:ht.default,W=new li(O.name,function(){N||O.delay<1?ee():G||(G=!0,setTimeout(function(){G=!1,ee()},O.delay))});function ee(){if(!W.isDisposed){var te=!1;W.track(function(){var ue=E(W);te=N||!X(B,ue),B=ue}),N&&O.fireImmediately&&x(B,W),N||te!==!0||x(B,W),N&&(N=!1)}}return W.schedule(),W.getDisposer()}var er=function(){function E(x,C,O,B,N){this.derivation=x,this.scope=C,this.equals=O,this.dependenciesState=hn.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isPendingUnobservation=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=hn.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+wi(),this.value=new xc(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=ro.NONE,this.name=B||"ComputedValue@"+wi(),N&&(this.setter=De(B+"-setter",N))}return E.prototype.onBecomeStale=function(){(function(x){if(x.lowestObserverState===hn.UP_TO_DATE){x.lowestObserverState=hn.POSSIBLY_STALE;for(var C=x.observers,O=C.length;O--;){var B=C[O];B.dependenciesState===hn.UP_TO_DATE&&(B.dependenciesState=hn.POSSIBLY_STALE,B.isTracing!==ro.NONE&&zl(B,x),B.onBecomeStale())}}})(this)},E.prototype.onBecomeUnobserved=function(){Ca(this),this.value=void 0},E.prototype.get=function(){Nr(!this.isComputing,"Cycle detected in computation "+this.name,this.derivation),fr.inBatch===0?(zs(),hf(this)&&(this.isTracing!==ro.NONE&&console.log("[mobx.trace] '"+this.name+"' is being read outside a reactive context and doing a full recompute"),this.value=this.computeValue(!1)),no()):(Ec(this),hf(this)&&this.trackAndCompute()&&function(C){if(C.lowestObserverState!==hn.STALE){C.lowestObserverState=hn.STALE;for(var O=C.observers,B=O.length;B--;){var N=O[B];N.dependenciesState===hn.POSSIBLY_STALE?N.dependenciesState=hn.STALE:N.dependenciesState===hn.UP_TO_DATE&&(C.lowestObserverState=hn.UP_TO_DATE)}}}(this));var x=this.value;if(ku(x))throw x.cause;return x},E.prototype.peek=function(){var x=this.computeValue(!1);if(ku(x))throw x.cause;return x},E.prototype.set=function(x){if(this.setter){Nr(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,x)}finally{this.isRunningSetter=!1}}else Nr(!1,"[ComputedValue '"+this.name+"'] It is not possible to assign a new value to a computed value.")},E.prototype.trackAndCompute=function(){b()&&y({object:this.scope,type:"compute",fn:this.derivation});var x=this.value,C=this.dependenciesState===hn.NOT_TRACKING,O=this.value=this.computeValue(!0);return C||ku(x)||ku(O)||!this.equals(x,O)},E.prototype.computeValue=function(x){var C;if(this.isComputing=!0,fr.computationDepth++,x)C=Wf(this,this.derivation,this.scope);else try{C=this.derivation.call(this.scope)}catch(O){C=new xc(O)}return fr.computationDepth--,this.isComputing=!1,C},E.prototype.observe=function(x,C){var O=this,B=!0,N=void 0;return ct(function(){var G=O.get();if(!B||C){var X=su();x({type:"update",object:O,newValue:G,oldValue:N}),gs(X)}B=!1,N=G})},E.prototype.toJSON=function(){return this.get()},E.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},E.prototype.valueOf=function(){return Hf(this.get())},E.prototype.whyRun=function(){var x=!!fr.trackingDerivation,C=Ji(this.isComputing?this.newObserving:this.observing).map(function(B){return B.name}),O=Ji(_c(this).map(function(B){return B.name}));return`
WhyRun? computation '`+this.name+`':
 * Running because: `+(x?"[active] the value of this computation is needed by a reaction":this.isComputing?"[get] The value of this computed was requested outside a reaction":"[idle] not running at the moment")+`
`+(this.dependenciesState===hn.NOT_TRACKING?Ne("m032"):` * This computation will re-run if any of the following observables changes:
    `+fl(C)+`
    `+(this.isComputing&&x?" (... or any observable accessed during the remainder of the current run)":"")+`
    `+Ne("m038")+`

  * If the outcome of this computation changes, the following observers will be re-run:
    `+fl(O)+`
`)},E}();er.prototype[ff()]=er.prototype.valueOf;var Rt=dl("ComputedValue",er),Jt=function(){function E(x,C){this.target=x,this.name=C,this.values={},this.changeListeners=null,this.interceptors=null}return E.prototype.observe=function(x,C){return Nr(C!==!0,"`observe` doesn't support the fire immediately property for observable objects."),m(this,x)},E.prototype.intercept=function(x){return d(this,x)},E}();function mr(E,x){if(ni(E)&&E.hasOwnProperty("$mobx"))return E.$mobx;Nr(Object.isExtensible(E),Ne("m035")),gc(E)||(x=(E.constructor.name||"ObservableObject")+"@"+wi()),x||(x="ObservableObject@"+wi());var C=new Jt(E,x);return hl(E,"$mobx",C),C}function Mr(E,x,C,O){if(E.values[x]&&!Rt(E.values[x]))return Nr("value"in C,"The property "+x+" in "+E.name+" is already observable, cannot redefine it as computed property"),void(E.target[x]=C.value);if("value"in C)if(Na(C.value)){var B=C.value;cr(E,x,B.initialValue,B.enhancer)}else Ue(C.value)&&C.value.autoBind===!0?qe(E.target,x,C.value.originalFn):Rt(C.value)?function(N,G,X){var W=N.name+"."+G;X.name=W,X.scope||(X.scope=N.target),N.values[G]=X,Object.defineProperty(N.target,G,On(G))}(E,x,C.value):cr(E,x,C.value,O);else Fr(E,x,C.get,C.set,ht.default,!0)}function cr(E,x,C,O){if(Ta(E.target,x),f(E)){var B=v(E,{object:E.target,name:x,type:"add",newValue:C});if(!B)return;C=B.newValue}C=(E.values[x]=new de(C,O,E.name+"."+x,!1)).value,Object.defineProperty(E.target,x,function(N){return Dr[N]||(Dr[N]={configurable:!0,enumerable:!0,get:function(){return this.$mobx.values[N].get()},set:function(G){Rn(this,N,G)}})}(x)),function(N,G,X,W){var ee=p(N),te=b(),ue=ee||te?{type:"add",object:G,name:X,newValue:W}:null;te&&_(ue),ee&&w(N,ue),te&&A()}(E,E.target,x,C)}function Fr(E,x,C,O,B,N){N&&Ta(E.target,x),E.values[x]=new er(C,E.target,B,E.name+"."+x,O),N&&Object.defineProperty(E.target,x,On(x))}var Dr={},Cr={};function On(E){return Cr[E]||(Cr[E]={configurable:!0,enumerable:!1,get:function(){return this.$mobx.values[E].get()},set:function(x){return this.$mobx.values[E].set(x)}})}function Rn(E,x,C){var O=E.$mobx,B=O.values[x];if(f(O)){if(!(X=v(O,{type:"update",object:E,name:x,newValue:C})))return;C=X.newValue}if((C=B.prepareNewValue(C))!==Pe){var N=p(O),G=b(),X=N||G?{type:"update",object:E,oldValue:B.value,name:x,newValue:C}:null;G&&_(X),B.setNewValue(C),N&&w(O,X),G&&A()}}var Ha=dl("ObservableObjectAdministration",Jt);function ni(E){return!!Gf(E)&&(Tt(E),Ha(E.$mobx))}function Vn(E,x){if(E==null)return!1;if(x!==void 0){if(pe(E)||Oi(E))throw new Error(Ne("m019"));if(ni(E)){var C=E.$mobx;return C.values&&!!C.values[x]}return!1}return ni(E)||!!E.$mobx||c(E)||Fi(E)||Rt(E)}function ii(E){return Nr(!!E,":("),Qe(function(x,C,O,B,N){Ta(x,C),Nr(!N||!N.get,Ne("m022")),cr(mr(x,void 0),C,O,E)},function(x){var C=this.$mobx.values[x];if(C!==void 0)return C.get()},function(x,C){Rn(this,x,C)},!0,!1)}function ui(E){for(var x=[],C=1;C<arguments.length;C++)x[C-1]=arguments[C];return la(E,Va,x)}function ji(E){for(var x=[],C=1;C<arguments.length;C++)x[C-1]=arguments[C];return la(E,$a,x)}function la(E,x,C){Nr(arguments.length>=2,Ne("m014")),Nr(typeof E=="object",Ne("m015")),Nr(!Oi(E),Ne("m016")),C.forEach(function(W){Nr(typeof W=="object",Ne("m017")),Nr(!Vn(W),Ne("m018"))});for(var O=mr(E),B={},N=C.length-1;N>=0;N--){var G=C[N];for(var X in G)if(B[X]!==!0&&yc(G,X)){if(B[X]=!0,E===G&&!cf(E,X))continue;Mr(O,X,Object.getOwnPropertyDescriptor(G,X),x)}}return E}var ca=ii(Va),Pn=ii(Fs),ai=ii($a),fa=ii(ko),po=ii(Bi),Qi={box:function(E,x){return arguments.length>2&&zn("box"),new de(E,Va,x)},shallowBox:function(E,x){return arguments.length>2&&zn("shallowBox"),new de(E,$a,x)},array:function(E,x){return arguments.length>2&&zn("array"),new J(E,Va,x)},shallowArray:function(E,x){return arguments.length>2&&zn("shallowArray"),new J(E,$a,x)},map:function(E,x){return arguments.length>2&&zn("map"),new go(E,Va,x)},shallowMap:function(E,x){return arguments.length>2&&zn("shallowMap"),new go(E,$a,x)},object:function(E,x){arguments.length>2&&zn("object");var C={};return mr(C,x),ui(C,E),C},shallowObject:function(E,x){arguments.length>2&&zn("shallowObject");var C={};return mr(C,x),ji(C,E),C},ref:function(){return arguments.length<2?wa($a,arguments[0]):ai.apply(null,arguments)},shallow:function(){return arguments.length<2?wa(Fs,arguments[0]):Pn.apply(null,arguments)},deep:function(){return arguments.length<2?wa(Va,arguments[0]):ca.apply(null,arguments)},struct:function(){return arguments.length<2?wa(ko,arguments[0]):fa.apply(null,arguments)}},Wr=function(E){if(E===void 0&&(E=void 0),typeof arguments[1]=="string")return ca.apply(null,arguments);if(Nr(arguments.length<=1,Ne("m021")),Nr(!Na(E),Ne("m020")),Vn(E))return E;var x=Va(E,0,void 0);return x!==E?x:Wr.box(E)};function zn(E){ha("Expected one or two arguments to observable."+E+". Did you accidentally try to use observable."+E+" as decorator?")}function Na(E){return typeof E=="object"&&E!==null&&E.isMobxModifierDescriptor===!0}function wa(E,x){return Nr(!Na(x),"Modifiers cannot be nested"),{isMobxModifierDescriptor:!0,initialValue:x,enhancer:E}}function Va(E,x,C){return Na(E)&&ha("You tried to assign a modifier wrapped value to a collection, please define modifiers when creating the collection, not when modifying it"),Vn(E)?E:Array.isArray(E)?Wr.array(E,C):gc(E)?Wr.object(E,C):Wa(E)?Wr.map(E,C):E}function Fs(E,x,C){return Na(E)&&ha("You tried to assign a modifier wrapped value to a collection, please define modifiers when creating the collection, not when modifying it"),E==null||ni(E)||pe(E)||Oi(E)?E:Array.isArray(E)?Wr.shallowArray(E,C):gc(E)?Wr.shallowObject(E,C):Wa(E)?Wr.shallowMap(E,C):ha("The shallow modifier / decorator can only used in combination with arrays, objects and maps")}function $a(E){return E}function ko(E,x,C){if(ft(E,x))return x;if(Vn(E))return E;if(Array.isArray(E))return new J(E,ko,C);if(Wa(E))return new go(E,ko,C);if(gc(E)){var O={};return mr(O,C),la(O,ko,[E]),O}return E}function Bi(E,x,C){return ft(E,x)?x:E}function Us(E,x){x===void 0&&(x=void 0),zs();try{return E.apply(x)}finally{no()}}Object.keys(Qi).forEach(function(E){return Wr[E]=Qi[E]}),Wr.deep.struct=Wr.struct,Wr.ref.struct=function(){return arguments.length<2?wa(Bi,arguments[0]):po.apply(null,arguments)};var lf={},go=function(){function E(x,C,O){C===void 0&&(C=Va),O===void 0&&(O="ObservableMap@"+wi()),this.enhancer=C,this.name=O,this.$mobx=lf,this._data=Object.create(null),this._hasMap=Object.create(null),this._keys=new J(void 0,$a,this.name+".keys()",!0),this.interceptors=null,this.changeListeners=null,this.dehancer=void 0,this.merge(x)}return E.prototype._has=function(x){return this._data[x]!==void 0},E.prototype.has=function(x){return!!this.isValidKey(x)&&(x=""+x,this._hasMap[x]?this._hasMap[x].get():this._updateHasMapEntry(x,!1).get())},E.prototype.set=function(x,C){this.assertValidKey(x),x=""+x;var O=this._has(x);if(f(this)){var B=v(this,{type:O?"update":"add",object:this,newValue:C,name:x});if(!B)return this;C=B.newValue}return O?this._updateValue(x,C):this._addValue(x,C),this},E.prototype.delete=function(x){var C=this;if(this.assertValidKey(x),x=""+x,f(this)&&!(N=v(this,{type:"delete",object:this,name:x})))return!1;if(this._has(x)){var O=b(),B=p(this),N=B||O?{type:"delete",object:this,oldValue:this._data[x].value,name:x}:null;return O&&_(N),Us(function(){C._keys.remove(x),C._updateHasMapEntry(x,!1),C._data[x].setNewValue(void 0),C._data[x]=void 0}),B&&w(this,N),O&&A(),!0}return!1},E.prototype._updateHasMapEntry=function(x,C){var O=this._hasMap[x];return O?O.setNewValue(C):O=this._hasMap[x]=new de(C,$a,this.name+"."+x+"?",!1),O},E.prototype._updateValue=function(x,C){var O=this._data[x];if((C=O.prepareNewValue(C))!==Pe){var B=b(),N=p(this),G=N||B?{type:"update",object:this,oldValue:O.value,name:x,newValue:C}:null;B&&_(G),O.setNewValue(C),N&&w(this,G),B&&A()}},E.prototype._addValue=function(x,C){var O=this;Us(function(){var X=O._data[x]=new de(C,O.enhancer,O.name+"."+x,!1);C=X.value,O._updateHasMapEntry(x,!0),O._keys.push(x)});var B=b(),N=p(this),G=N||B?{type:"add",object:this,name:x,newValue:C}:null;B&&_(G),N&&w(this,G),B&&A()},E.prototype.get=function(x){return x=""+x,this.has(x)?this.dehanceValue(this._data[x].get()):this.dehanceValue(void 0)},E.prototype.dehanceValue=function(x){return this.dehancer!==void 0?this.dehancer(x):x},E.prototype.keys=function(){return k(this._keys.slice())},E.prototype.values=function(){return k(this._keys.map(this.get,this))},E.prototype.entries=function(){var x=this;return k(this._keys.map(function(C){return[C,x.get(C)]}))},E.prototype.forEach=function(x,C){var O=this;this.keys().forEach(function(B){return x.call(C,O.get(B),B,O)})},E.prototype.merge=function(x){var C=this;return Oi(x)&&(x=x.toJS()),Us(function(){gc(x)?Object.keys(x).forEach(function(O){return C.set(O,x[O])}):Array.isArray(x)?x.forEach(function(O){var B=O[0],N=O[1];return C.set(B,N)}):Wa(x)?x.forEach(function(O,B){return C.set(B,O)}):x!=null&&ha("Cannot initialize map from "+x)}),this},E.prototype.clear=function(){var x=this;Us(function(){pl(function(){x.keys().forEach(x.delete,x)})})},E.prototype.replace=function(x){var C=this;return Us(function(){var O,B=gc(O=x)?Object.keys(O):Array.isArray(O)?O.map(function(N){return N[0]}):Wa(O)?Array.from(O.keys()):Oi(O)?O.keys():ha("Cannot get keys from "+O);C.keys().filter(function(N){return B.indexOf(N)===-1}).forEach(function(N){return C.delete(N)}),C.merge(x)}),this},Object.defineProperty(E.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),E.prototype.toJS=function(){var x=this,C={};return this.keys().forEach(function(O){return C[O]=x.get(O)}),C},E.prototype.toJSON=function(){return this.toJS()},E.prototype.isValidKey=function(x){return x!=null&&(typeof x=="string"||typeof x=="number"||typeof x=="boolean")},E.prototype.assertValidKey=function(x){if(!this.isValidKey(x))throw new Error("[mobx.map] Invalid key: '"+x+"', only strings, numbers and booleans are accepted as key in observable maps.")},E.prototype.toString=function(){var x=this;return this.name+"[{ "+this.keys().map(function(C){return C+": "+x.get(C)}).join(", ")+" }]"},E.prototype.observe=function(x,C){return Nr(C!==!0,Ne("m033")),m(this,x)},E.prototype.intercept=function(x){return d(this,x)},E}();j(go.prototype,function(){return this.entries()});var Oi=dl("ObservableMap",go),iu=[];function Mo(){return typeof window<"u"?window:Po.g}function wi(){return++fr.mobxGuid}function ha(E,x){throw Nr(!1,E,x),"X"}function Nr(E,x,C){if(!E)throw new Error("[mobx] Invariant failed: "+x+(C?" in '"+C+"'":""))}Object.freeze(iu);var La=[];function da(E){return La.indexOf(E)===-1&&(La.push(E),console.error("[mobx] Deprecated: "+E),!0)}function Tn(E){var x=!1;return function(){if(!x)return x=!0,E.apply(this,arguments)}}var gn=function(){};function Ji(E){var x=[];return E.forEach(function(C){x.indexOf(C)===-1&&x.push(C)}),x}function fl(E,x,C){return x===void 0&&(x=100),C===void 0&&(C=" - "),E?E.slice(0,x).join(C)+(E.length>x?" (... and "+(E.length-x)+"more)":""):""}function Gf(E){return E!==null&&typeof E=="object"}function gc(E){if(E===null||typeof E!="object")return!1;var x=Object.getPrototypeOf(E);return x===Object.prototype||x===null}function Th(){for(var E=arguments[0],x=1,C=arguments.length;x<C;x++){var O=arguments[x];for(var B in O)yc(O,B)&&(E[B]=O[B])}return E}var Xn=Object.prototype.hasOwnProperty;function yc(E,x){return Xn.call(E,x)}function Wo(E,x,C){Object.defineProperty(E,x,{enumerable:!1,writable:!0,configurable:!0,value:C})}function hl(E,x,C){Object.defineProperty(E,x,{enumerable:!1,writable:!1,configurable:!0,value:C})}function cf(E,x){var C=Object.getOwnPropertyDescriptor(E,x);return!C||C.configurable!==!1&&C.writable!==!1}function Ta(E,x){Nr(cf(E,x),"Cannot make property '"+x+"' observable, it is not configurable and writable in the target object")}function dl(E,x){var C="isMobX"+E;return x.prototype[C]=!0,function(O){return Gf(O)&&O[C]===!0}}function Wa(E){return Mo().Map!==void 0&&E instanceof Mo().Map}function ff(){return typeof Symbol=="function"&&Symbol.toPrimitive||"@@toPrimitive"}function Hf(E){return E===null?null:typeof E=="object"?""+E:E}var hn,ro,No=["mobxGuid","resetId","spyListeners","strictMode","runId"],Vf=function(){this.version=5,this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.strictMode=!1,this.resetId=0,this.spyListeners=[],this.globalReactionErrorHandlers=[]},fr=new Vf,mc=!1,$f=!1,au=!1,Fl=Mo();function ps(E,x){if(typeof E=="object"&&E!==null){if(pe(E))return Nr(x===void 0,Ne("m036")),E.$mobx.atom;if(Oi(E)){var C=E;return x===void 0?ps(C._keys):(Nr(!!(O=C._data[x]||C._hasMap[x]),"the entry '"+x+"' does not exist in the observable map '"+Yo(E)+"'"),O)}var O;if(Tt(E),x&&!E.$mobx&&E[x],ni(E))return x?(Nr(!!(O=E.$mobx.values[x]),"no observable property '"+x+"' found on the observable object '"+Yo(E)+"'"),O):ha("please specify a property");if(c(E)||Rt(E)||Fi(E))return E}else if(typeof E=="function"&&Fi(E.$mobx))return E.$mobx;return ha("Cannot obtain atom from "+E)}function kn(E,x){return Nr(E,"Expecting some object"),x!==void 0?kn(ps(E,x)):c(E)||Rt(E)||Fi(E)||Oi(E)?E:(Tt(E),E.$mobx?E.$mobx:void Nr(!1,"Cannot obtain administration from "+E))}function Yo(E,x){return(x!==void 0?ps(E,x):ni(E)||Oi(E)?kn(E):ps(E)).name}function bc(E,x){return Ch(ps(E,x))}function Ch(E){var x={name:E.name};return E.observing&&E.observing.length>0&&(x.dependencies=Ji(E.observing).map(Ch)),x}function vl(E){var x={name:E.name};return function(C){return C.observers&&C.observers.length>0}(E)&&(x.observers=_c(E).map(vl)),x}function _c(E){return E.observers}function Ah(E,x){var C=E.observers.length;C&&(E.observersIndexes[x.__mapid]=C),E.observers[C]=x,E.lowestObserverState>x.dependenciesState&&(E.lowestObserverState=x.dependenciesState)}function wc(E,x){if(E.observers.length===1)E.observers.length=0,Ul(E);else{var C=E.observers,O=E.observersIndexes,B=C.pop();if(B!==x){var N=O[x.__mapid]||0;N?O[B.__mapid]=N:delete O[B.__mapid],C[N]=B}delete O[x.__mapid]}}function Ul(E){E.isPendingUnobservation||(E.isPendingUnobservation=!0,fr.pendingUnobservations.push(E))}function zs(){fr.inBatch++}function no(){if(--fr.inBatch==0){Rh();for(var E=fr.pendingUnobservations,x=0;x<E.length;x++){var C=E[x];C.isPendingUnobservation=!1,C.observers.length===0&&C.onBecomeUnobserved()}fr.pendingUnobservations=[]}}function Ec(E){var x=fr.trackingDerivation;x!==null?x.runId!==E.lastAccessedBy&&(E.lastAccessedBy=x.runId,x.newObserving[x.unboundDepsCount++]=E):E.observers.length===0&&Ul(E)}function zl(E,x){if(console.log("[mobx.trace] '"+E.name+"' is invalidated due to a change in: '"+x.name+"'"),E.isTracing===ro.BREAK){var C=[];ou(bc(E),C,1),new Function(`debugger;
/*
Tracing '`+E.name+`'

You are entering this break point because derivation '`+E.name+"' is being traced and '"+x.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(E instanceof er?E.derivation.toString():"")+`

The dependencies for this derivation are:

`+C.join(`
`)+`
*/
    `)()}}function ou(E,x,C){x.length>=1e3?x.push("(and many more)"):(x.push(""+new Array(C).join("	")+E.name),E.dependencies&&E.dependencies.forEach(function(O){return ou(O,x,C+1)}))}Fl.__mobxInstanceCount?(Fl.__mobxInstanceCount++,setTimeout(function(){mc||$f||au||(au=!0,console.warn("[mobx] Warning: there are multiple mobx instances active. This might lead to unexpected results. See https://github.com/mobxjs/mobx/issues/1082 for details."))},1)):Fl.__mobxInstanceCount=1,function(E){E[E.NOT_TRACKING=-1]="NOT_TRACKING",E[E.UP_TO_DATE=0]="UP_TO_DATE",E[E.POSSIBLY_STALE=1]="POSSIBLY_STALE",E[E.STALE=2]="STALE"}(hn||(hn={})),function(E){E[E.NONE=0]="NONE",E[E.LOG=1]="LOG",E[E.BREAK=2]="BREAK"}(ro||(ro={}));var xc=function(E){this.cause=E};function ku(E){return E instanceof xc}function hf(E){switch(E.dependenciesState){case hn.UP_TO_DATE:return!1;case hn.NOT_TRACKING:case hn.STALE:return!0;case hn.POSSIBLY_STALE:for(var x=su(),C=E.observing,O=C.length,B=0;B<O;B++){var N=C[B];if(Rt(N)){try{N.get()}catch{return gs(x),!0}if(E.dependenciesState===hn.STALE)return gs(x),!0}}return bv(E),gs(x),!1}}function $n(){return fr.trackingDerivation!==null}function tn(E){var x=E.observers.length>0;fr.computationDepth>0&&x&&ha(Ne("m031")+E.name),!fr.allowStateChanges&&x&&ha(Ne(fr.strictMode?"m030a":"m030b")+E.name)}function Wf(E,x,C){bv(E),E.newObserving=new Array(E.observing.length+100),E.unboundDepsCount=0,E.runId=++fr.runId;var O,B=fr.trackingDerivation;fr.trackingDerivation=E;try{O=x.call(C)}catch(N){O=new xc(N)}return fr.trackingDerivation=B,function(N){for(var G=N.observing,X=N.observing=N.newObserving,W=hn.UP_TO_DATE,ee=0,te=N.unboundDepsCount,ue=0;ue<te;ue++)(ye=X[ue]).diffValue===0&&(ye.diffValue=1,ee!==ue&&(X[ee]=ye),ee++),ye.dependenciesState>W&&(W=ye.dependenciesState);for(X.length=ee,N.newObserving=null,te=G.length;te--;)(ye=G[te]).diffValue===0&&wc(ye,N),ye.diffValue=0;for(;ee--;){var ye;(ye=X[ee]).diffValue===1&&(ye.diffValue=0,Ah(ye,N))}W!==hn.UP_TO_DATE&&(N.dependenciesState=W,N.onBecomeStale())}(E),O}function Ca(E){var x=E.observing;E.observing=[];for(var C=x.length;C--;)wc(x[C],E);E.dependenciesState=hn.NOT_TRACKING}function pl(E){var x=su(),C=E();return gs(x),C}function su(){var E=fr.trackingDerivation;return fr.trackingDerivation=null,E}function gs(E){fr.trackingDerivation=E}function bv(E){if(E.dependenciesState!==hn.UP_TO_DATE){E.dependenciesState=hn.UP_TO_DATE;for(var x=E.observing,C=x.length;C--;)x[C].lowestObserverState=hn.UP_TO_DATE}}function Yf(E){return console.log(E),E}function gl(E){switch(E.length){case 0:return fr.trackingDerivation;case 1:return ps(E[0]);case 2:return ps(E[0],E[1])}}var li=function(){function E(x,C){x===void 0&&(x="Reaction@"+wi()),this.name=x,this.onInvalidate=C,this.observing=[],this.newObserving=[],this.dependenciesState=hn.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+wi(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=ro.NONE}return E.prototype.onBecomeStale=function(){this.schedule()},E.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,fr.pendingReactions.push(this),Rh())},E.prototype.isScheduled=function(){return this._isScheduled},E.prototype.runReaction=function(){this.isDisposed||(zs(),this._isScheduled=!1,hf(this)&&(this._isTrackPending=!0,this.onInvalidate(),this._isTrackPending&&b()&&y({object:this,type:"scheduled-reaction"})),no())},E.prototype.track=function(x){zs();var C,O=b();O&&(C=Date.now(),_({object:this,type:"reaction",fn:x})),this._isRunning=!0;var B=Wf(this,x,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&Ca(this),ku(B)&&this.reportExceptionInDerivation(B.cause),O&&A({time:Date.now()-C}),no()},E.prototype.reportExceptionInDerivation=function(x){var C=this;if(this.errorHandler)this.errorHandler(x,this);else{var O="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this,B=Ne("m037");console.error(O||B,x),b()&&y({type:"error",message:O,error:x,object:this}),fr.globalReactionErrorHandlers.forEach(function(N){return N(x,C)})}},E.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(zs(),Ca(this),no()))},E.prototype.getDisposer=function(){var x=this.dispose.bind(this);return x.$mobx=this,x.onError=Sc,x},E.prototype.toString=function(){return"Reaction["+this.name+"]"},E.prototype.whyRun=function(){var x=Ji(this._isRunning?this.newObserving:this.observing).map(function(C){return C.name});return`
WhyRun? reaction '`+this.name+`':
 * Status: [`+(this.isDisposed?"stopped":this._isRunning?"running":this.isScheduled()?"scheduled":"idle")+`]
 * This reaction will re-run if any of the following observables changes:
    `+fl(x)+`
    `+(this._isRunning?" (... or any observable accessed during the remainder of the current run)":"")+`
	`+Ne("m038")+`
`},E.prototype.trace=function(x){x===void 0&&(x=!1),function(){for(var C=[],O=0;O<arguments.length;O++)C[O]=arguments[O];var B=!1;typeof C[C.length-1]=="boolean"&&(B=C.pop());var N=gl(C);if(!N)return ha("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");N.isTracing===ro.NONE&&console.log("[mobx.trace] '"+N.name+"' tracing enabled"),N.isTracing=B?ro.BREAK:ro.LOG}(this,x)},E}();function Sc(E){Nr(this&&this.$mobx&&Fi(this.$mobx),"Invalid `this`"),Nr(!this.$mobx.errorHandler,"Only one onErrorHandler can be registered"),this.$mobx.errorHandler=E}var yo=100,Oc=function(E){return E()};function Rh(){fr.inBatch>0||fr.isRunningReactions||Oc(io)}function io(){fr.isRunningReactions=!0;for(var E=fr.pendingReactions,x=0;E.length>0;){++x===yo&&(console.error("Reaction doesn't converge to a stable state after "+yo+" iterations. Probably there is a cycle in the reactive function: "+E[0]),E.splice(0));for(var C=E.splice(0),O=0,B=C.length;O<B;O++)C[O].runReaction()}fr.isRunningReactions=!1}var Fi=dl("Reaction",li);function Mu(E){return Qe(function(x,C,O,B,N){Nr(N!==void 0,Ne("m009")),Nr(typeof N.get=="function",Ne("m010")),Fr(mr(x,""),C,N.get,N.set,E,!1)},function(x){var C=this.$mobx.values[x];if(C!==void 0)return C.get()},function(x,C){this.$mobx.values[x].set(C)},!1,!1)}var Nu=Mu(ht.default),uu=Mu(ht.structural),Ct=function(E,x,C){if(typeof x=="string")return Nu.apply(null,arguments);Nr(typeof E=="function",Ne("m011")),Nr(arguments.length<3,Ne("m012"));var O=typeof x=="object"?x:{};O.setter=typeof x=="function"?x:O.setter;var B=O.equals?O.equals:O.compareStructural||O.struct?ht.structural:ht.default;return new er(E,O.context,B,O.name||E.name||"",O.setter)};function Lt(E,x,C){function O(te){return x&&C.push([E,te]),te}if(x===void 0&&(x=!0),C===void 0&&(C=[]),Vn(E)){if(x&&C===null&&(C=[]),x&&E!==null&&typeof E=="object"){for(var B=0,N=C.length;B<N;B++)if(C[B][0]===E)return C[B][1]}if(pe(E)){var G=O([]),X=E.map(function(te){return Lt(te,x,C)});for(G.length=X.length,B=0,N=X.length;B<N;B++)G[B]=X[B];return G}if(ni(E)){for(var W in G=O({}),E)G[W]=Lt(E[W],x,C);return G}if(Oi(E)){var ee=O({});return E.forEach(function(te,ue){return ee[ue]=Lt(te,x,C)}),ee}if(ge(E))return Lt(E.get(),x,C)}return E}Ct.struct=uu,Ct.equals=Mu;var Nt={allowStateChanges:function(E,x){var C,O=Ie(E);try{C=x()}finally{Ge(O)}return C},deepEqual:ft,getAtom:ps,getDebugName:Yo,getDependencyTree:bc,getAdministration:kn,getGlobalState:function(){return fr},getObserverTree:function(E,x){return vl(ps(E,x))},interceptReads:function(E,x,C){var O;if(Oi(E)||pe(E)||ge(E))O=kn(E);else{if(!ni(E))return ha("Expected observable map, object or array as first array");if(typeof x!="string")return ha("InterceptReads can only be used with a specific property, not with an object in general");O=kn(E,x)}return O.dehancer!==void 0?ha("An intercept reader was already established"):(O.dehancer=typeof x=="function"?x:C,function(){O.dehancer=void 0})},isComputingDerivation:$n,isSpyEnabled:b,onReactionError:function(E){return fr.globalReactionErrorHandlers.push(E),function(){var x=fr.globalReactionErrorHandlers.indexOf(E);x>=0&&fr.globalReactionErrorHandlers.splice(x,1)}},reserveArrayBuffer:se,resetGlobalState:function(){fr.resetId++;var E=new Vf;for(var x in E)No.indexOf(x)===-1&&(fr[x]=E[x]);fr.allowStateChanges=!fr.strictMode},isolateGlobalState:function(){$f=!0,Mo().__mobxInstanceCount--},shareGlobalState:function(){da("Using `shareGlobalState` is not recommended, use peer dependencies instead. See https://github.com/mobxjs/mobx/issues/1082 for details."),mc=!0;var E=Mo(),x=fr;if(E.__mobservableTrackingStack||E.__mobservableViewStack)throw new Error("[mobx] An incompatible version of mobservable is already loaded.");if(E.__mobxGlobal&&E.__mobxGlobal.version!==x.version)throw new Error("[mobx] An incompatible version of mobx is already loaded.");E.__mobxGlobal?fr=E.__mobxGlobal:E.__mobxGlobal=x},spyReport:y,spyReportEnd:A,spyReportStart:_,setReactionScheduler:function(E){var x=Oc;Oc=function(C){return E(function(){return x(C)})}}},vr={Reaction:li,untracked:pl,Atom:l,BaseAtom:u,useStrict:_e,isStrictModeEnabled:function(){return fr.strictMode},spy:D,comparer:ht,asReference:function(E){return da("asReference is deprecated, use observable.ref instead"),Wr.ref(E)},asFlat:function(E){return da("asFlat is deprecated, use observable.shallow instead"),Wr.shallow(E)},asStructure:function(E){return da("asStructure is deprecated. Use observable.struct, computed.struct or reaction options instead."),Wr.struct(E)},asMap:function(E){return da("asMap is deprecated, use observable.map or observable.shallowMap instead"),Wr.map(E||{})},isModifierDescriptor:Na,isObservableObject:ni,isBoxedObservable:ge,isObservableArray:pe,ObservableMap:go,isObservableMap:Oi,map:function(E){return da("`mobx.map` is deprecated, use `new ObservableMap` or `mobx.observable.map` instead"),Wr.map(E)},transaction:Us,observable:Wr,computed:Ct,isObservable:Vn,isComputed:function(E,x){if(E==null)return!1;if(x!==void 0){if(ni(E)===!1||!E.$mobx.values[x])return!1;var C=ps(E,x);return Rt(C)}return Rt(E)},extendObservable:ui,extendShallowObservable:ji,observe:function(E,x,C,O){return typeof C=="function"?function(B,N,G,X){return kn(B,N).observe(G,X)}(E,x,C,O):function(B,N,G){return kn(B).observe(N,G)}(E,x,C)},intercept:function(E,x,C){return typeof C=="function"?function(O,B,N){return kn(O,B).intercept(N)}(E,x,C):function(O,B){return kn(O).intercept(B)}(E,x)},autorun:ct,autorunAsync:function(E,x,C,O){var B,N,G,X;typeof E=="string"?(B=E,N=x,G=C,X=O):(B=E.name||"AutorunAsync@"+wi(),N=E,G=x,X=C),Nr(Ue(N)===!1,Ne("m006")),G===void 0&&(G=1),X&&(N=N.bind(X));var W=!1,ee=new li(B,function(){W||(W=!0,setTimeout(function(){W=!1,ee.isDisposed||ee.track(te)},G))});function te(){N(ee)}return ee.schedule(),ee.getDisposer()},when:function(E,x,C,O){var B,N,G,X;return typeof E=="string"?(B=E,N=x,G=C,X=O):(B="When@"+wi(),N=E,G=x,X=C),ct(B,function(W){if(N.call(X)){W.dispose();var ee=su();G.call(X),gs(ee)}})},reaction:xt,action:ne,isAction:Ue,runInAction:function(E,x,C){var O=typeof E=="string"?E:E.name||"<unnamed action>",B=typeof E=="function"?E:x,N=typeof E=="function"?x:C;return Nr(typeof B=="function",Ne("m002")),Nr(B.length===0,Ne("m003")),Nr(typeof O=="string"&&O.length>0,"actions should have valid names, got: '"+O+"'"),ke(O,B,N,void 0)},expr:function(E,x){return $n()||console.warn(Ne("m013")),Ct(E,{context:x}).get()},toJS:Lt,createTransformer:function(E,x){Nr(typeof E=="function"&&E.length<2,"createTransformer expects a function that accepts one argument");var C={},O=fr.resetId,B=function(N){function G(X,W){var ee=N.call(this,function(){return E(W)},void 0,ht.default,"Transformer-"+E.name+"-"+X,void 0)||this;return ee.sourceIdentifier=X,ee.sourceObject=W,ee}return s(G,N),G.prototype.onBecomeUnobserved=function(){var X=this.value;N.prototype.onBecomeUnobserved.call(this),delete C[this.sourceIdentifier],x&&x(X,this.sourceObject)},G}(er);return function(N){O!==fr.resetId&&(C={},O=fr.resetId);var G=function(W){if(typeof W=="string"||typeof W=="number")return W;if(W===null||typeof W!="object")throw new Error("[mobx] transform expected some kind of object or primitive value, got: "+W);var ee=W.$transformId;return ee===void 0&&Wo(W,"$transformId",ee=wi()),ee}(N),X=C[G];return X?X.get():(X=C[G]=new B(G,N)).get()}},whyRun:function(E,x){return da("`whyRun` is deprecated in favor of `trace`"),(E=gl(arguments))?Rt(E)||Fi(E)?Yf(E.whyRun()):ha(Ne("m025")):Yf(Ne("m024"))},isArrayLike:function(E){return Array.isArray(E)||pe(E)},extras:Nt},Pr=!1,Ln=function(E){var x=vr[E];Object.defineProperty(vr,E,{get:function(){return Pr||(Pr=!0,console.warn("Using default export (`import mobx from 'mobx'`) is deprecated and wont work in mobx@4.0.0\nUse `import * as mobx from 'mobx'` instead")),x}})};for(var Ya in vr)Ln(Ya);typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:D,extras:Nt});var ao=Po(1803),ci=Po.n(ao),Sd={value:()=>{}};function ea(){for(var E,x=0,C=arguments.length,O={};x<C;++x){if(!(E=arguments[x]+"")||E in O||/[\s.]/.test(E))throw new Error("illegal type: "+E);O[E]=[]}return new Ea(O)}function Ea(E){this._=E}function Ph(E,x){for(var C,O=0,B=E.length;O<B;++O)if((C=E[O]).name===x)return C.value}function Zp(E,x,C){for(var O=0,B=E.length;O<B;++O)if(E[O].name===x){E[O]=Sd,E=E.slice(0,O).concat(E.slice(O+1));break}return C!=null&&E.push({name:x,value:C}),E}Ea.prototype=ea.prototype={constructor:Ea,on:function(E,x){var C,O,B=this._,N=(O=B,(E+"").trim().split(/^|\s+/).map(function(W){var ee="",te=W.indexOf(".");if(te>=0&&(ee=W.slice(te+1),W=W.slice(0,te)),W&&!O.hasOwnProperty(W))throw new Error("unknown type: "+W);return{type:W,name:ee}})),G=-1,X=N.length;if(!(arguments.length<2)){if(x!=null&&typeof x!="function")throw new Error("invalid callback: "+x);for(;++G<X;)if(C=(E=N[G]).type)B[C]=Zp(B[C],E.name,x);else if(x==null)for(C in B)B[C]=Zp(B[C],E.name,null);return this}for(;++G<X;)if((C=(E=N[G]).type)&&(C=Ph(B[C],E.name)))return C},copy:function(){var E={},x=this._;for(var C in x)E[C]=x[C].slice();return new Ea(E)},call:function(E,x){if((C=arguments.length-2)>0)for(var C,O,B=new Array(C),N=0;N<C;++N)B[N]=arguments[N+2];if(!this._.hasOwnProperty(E))throw new Error("unknown type: "+E);for(N=0,C=(O=this._[E]).length;N<C;++N)O[N].value.apply(x,B)},apply:function(E,x,C){if(!this._.hasOwnProperty(E))throw new Error("unknown type: "+E);for(var O=this._[E],B=0,N=O.length;B<N;++B)O[B].value.apply(x,C)}};const df=ea;var Xf,vf,jn=0,Dh=0,Tc=0,ql=1e3,Ih=0,Lu=0,Od=0,yl=typeof performance=="object"&&performance.now?performance:Date,ju=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(E){setTimeout(E,17)};function Kf(){return Lu||(ju(cp),Lu=yl.now()+Od)}function cp(){Lu=0}function Cc(){this._call=this._time=this._next=null}function Gl(E,x,C){var O=new Cc;return O.restart(E,x,C),O}function fp(){Lu=(Ih=yl.now())+Od,jn=Dh=0;try{(function(){Kf(),++jn;for(var E,x=Xf;x;)(E=Lu-x._time)>=0&&x._call.call(void 0,E),x=x._next;--jn})()}finally{jn=0,function(){for(var E,x,C=Xf,O=1/0;C;)C._call?(O>C._time&&(O=C._time),E=C,C=C._next):(x=C._next,C._next=null,C=E?E._next=x:Xf=x);vf=E,Xo(O)}(),Lu=0}}function Td(){var E=yl.now(),x=E-Ih;x>ql&&(Od-=x,Ih=E)}function Xo(E){jn||(Dh&&(Dh=clearTimeout(Dh)),E-Lu>24?(E<1/0&&(Dh=setTimeout(fp,E-yl.now()-Od)),Tc&&(Tc=clearInterval(Tc))):(Tc||(Ih=yl.now(),Tc=setInterval(Td,ql)),jn=1,ju(fp)))}Cc.prototype=Gl.prototype={constructor:Cc,restart:function(E,x,C){if(typeof E!="function")throw new TypeError("callback is not a function");C=(C==null?Kf():+C)+(x==null?0:+x),this._next||vf===this||(vf?vf._next=this:Xf=this,vf=this),this._call=E,this._time=C,Xo()},stop:function(){this._call&&(this._call=null,this._time=1/0,Xo())}};const Ac=4294967296;function Bu(E){return E.x}function Rc(E){return E.y}var kh=Math.PI*(3-Math.sqrt(5));function Qp(E,x,C,O){if(isNaN(x)||isNaN(C))return E;var B,N,G,X,W,ee,te,ue,ye,Ee=E._root,Oe={data:O},we=E._x0,Te=E._y0,ze=E._x1,He=E._y1;if(!Ee)return E._root=Oe,E;for(;Ee.length;)if((ee=x>=(N=(we+ze)/2))?we=N:ze=N,(te=C>=(G=(Te+He)/2))?Te=G:He=G,B=Ee,!(Ee=Ee[ue=te<<1|ee]))return B[ue]=Oe,E;if(X=+E._x.call(null,Ee.data),W=+E._y.call(null,Ee.data),x===X&&C===W)return Oe.next=Ee,B?B[ue]=Oe:E._root=Oe,E;do B=B?B[ue]=new Array(4):E._root=new Array(4),(ee=x>=(N=(we+ze)/2))?we=N:ze=N,(te=C>=(G=(Te+He)/2))?Te=G:He=G;while((ue=te<<1|ee)==(ye=(W>=G)<<1|X>=N));return B[ye]=Ee,B[ue]=Oe,E}function mo(E,x,C,O,B){this.node=E,this.x0=x,this.y0=C,this.x1=O,this.y1=B}function Cd(E){return E[0]}function Ad(E){return E[1]}function Zf(E,x,C){var O=new Hl(x??Cd,C??Ad,NaN,NaN,NaN,NaN);return E==null?O:O.addAll(E)}function Hl(E,x,C,O,B,N){this._x=E,this._y=x,this._x0=C,this._y0=O,this._x1=B,this._y1=N,this._root=void 0}function _v(E){for(var x={data:E.data},C=x;E=E.next;)C=C.next={data:E.data};return x}var Ko=Zf.prototype=Hl.prototype;function bo(E){return function(){return E}}function Ti(E){return 1e-6*(E()-.5)}function ta(){var E,x,C,O,B,N=bo(-30),G=1,X=1/0,W=.81;function ee(Ee){var Oe,we=E.length,Te=Zf(E,Bu,Rc).visitAfter(ue);for(O=Ee,Oe=0;Oe<we;++Oe)x=E[Oe],Te.visit(ye)}function te(){if(E){var Ee,Oe,we=E.length;for(B=new Array(we),Ee=0;Ee<we;++Ee)Oe=E[Ee],B[Oe.index]=+N(Oe,Ee,E)}}function ue(Ee){var Oe,we,Te,ze,He,Ye=0,Ve=0;if(Ee.length){for(Te=ze=He=0;He<4;++He)(Oe=Ee[He])&&(we=Math.abs(Oe.value))&&(Ye+=Oe.value,Ve+=we,Te+=we*Oe.x,ze+=we*Oe.y);Ee.x=Te/Ve,Ee.y=ze/Ve}else{(Oe=Ee).x=Oe.data.x,Oe.y=Oe.data.y;do Ye+=B[Oe.data.index];while(Oe=Oe.next)}Ee.value=Ye}function ye(Ee,Oe,we,Te){if(!Ee.value)return!0;var ze=Ee.x-x.x,He=Ee.y-x.y,Ye=Te-Oe,Ve=ze*ze+He*He;if(Ye*Ye/W<Ve)return Ve<X&&(ze===0&&(Ve+=(ze=Ti(C))*ze),He===0&&(Ve+=(He=Ti(C))*He),Ve<G&&(Ve=Math.sqrt(G*Ve)),x.vx+=ze*Ee.value*O/Ve,x.vy+=He*Ee.value*O/Ve),!0;if(!(Ee.length||Ve>=X)){(Ee.data!==x||Ee.next)&&(ze===0&&(Ve+=(ze=Ti(C))*ze),He===0&&(Ve+=(He=Ti(C))*He),Ve<G&&(Ve=Math.sqrt(G*Ve)));do Ee.data!==x&&(Ye=B[Ee.data.index]*O/Ve,x.vx+=ze*Ye,x.vy+=He*Ye);while(Ee=Ee.next)}}return ee.initialize=function(Ee,Oe){E=Ee,C=Oe,te()},ee.strength=function(Ee){return arguments.length?(N=typeof Ee=="function"?Ee:bo(+Ee),te(),ee):N},ee.distanceMin=function(Ee){return arguments.length?(G=Ee*Ee,ee):Math.sqrt(G)},ee.distanceMax=function(Ee){return arguments.length?(X=Ee*Ee,ee):Math.sqrt(X)},ee.theta=function(Ee){return arguments.length?(W=Ee*Ee,ee):Math.sqrt(W)},ee}function wv(E){return E.x+E.vx}function Wg(E){return E.y+E.vy}function Jp(E){return E.index}function qs(E,x){var C=E.get(x);if(!C)throw new Error("node not found: "+x);return C}Ko.copy=function(){var E,x,C=new Hl(this._x,this._y,this._x0,this._y0,this._x1,this._y1),O=this._root;if(!O)return C;if(!O.length)return C._root=_v(O),C;for(E=[{source:O,target:C._root=new Array(4)}];O=E.pop();)for(var B=0;B<4;++B)(x=O.source[B])&&(x.length?E.push({source:x,target:O.target[B]=new Array(4)}):O.target[B]=_v(x));return C},Ko.add=function(E){const x=+this._x.call(null,E),C=+this._y.call(null,E);return Qp(this.cover(x,C),x,C,E)},Ko.addAll=function(E){var x,C,O,B,N=E.length,G=new Array(N),X=new Array(N),W=1/0,ee=1/0,te=-1/0,ue=-1/0;for(C=0;C<N;++C)isNaN(O=+this._x.call(null,x=E[C]))||isNaN(B=+this._y.call(null,x))||(G[C]=O,X[C]=B,O<W&&(W=O),O>te&&(te=O),B<ee&&(ee=B),B>ue&&(ue=B));if(W>te||ee>ue)return this;for(this.cover(W,ee).cover(te,ue),C=0;C<N;++C)Qp(this,G[C],X[C],E[C]);return this},Ko.cover=function(E,x){if(isNaN(E=+E)||isNaN(x=+x))return this;var C=this._x0,O=this._y0,B=this._x1,N=this._y1;if(isNaN(C))B=(C=Math.floor(E))+1,N=(O=Math.floor(x))+1;else{for(var G,X,W=B-C||1,ee=this._root;C>E||E>=B||O>x||x>=N;)switch(X=(x<O)<<1|E<C,(G=new Array(4))[X]=ee,ee=G,W*=2,X){case 0:B=C+W,N=O+W;break;case 1:C=B-W,N=O+W;break;case 2:B=C+W,O=N-W;break;case 3:C=B-W,O=N-W}this._root&&this._root.length&&(this._root=ee)}return this._x0=C,this._y0=O,this._x1=B,this._y1=N,this},Ko.data=function(){var E=[];return this.visit(function(x){if(!x.length)do E.push(x.data);while(x=x.next)}),E},Ko.extent=function(E){return arguments.length?this.cover(+E[0][0],+E[0][1]).cover(+E[1][0],+E[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Ko.find=function(E,x,C){var O,B,N,G,X,W,ee,te=this._x0,ue=this._y0,ye=this._x1,Ee=this._y1,Oe=[],we=this._root;for(we&&Oe.push(new mo(we,te,ue,ye,Ee)),C==null?C=1/0:(te=E-C,ue=x-C,ye=E+C,Ee=x+C,C*=C);W=Oe.pop();)if(!(!(we=W.node)||(B=W.x0)>ye||(N=W.y0)>Ee||(G=W.x1)<te||(X=W.y1)<ue))if(we.length){var Te=(B+G)/2,ze=(N+X)/2;Oe.push(new mo(we[3],Te,ze,G,X),new mo(we[2],B,ze,Te,X),new mo(we[1],Te,N,G,ze),new mo(we[0],B,N,Te,ze)),(ee=(x>=ze)<<1|E>=Te)&&(W=Oe[Oe.length-1],Oe[Oe.length-1]=Oe[Oe.length-1-ee],Oe[Oe.length-1-ee]=W)}else{var He=E-+this._x.call(null,we.data),Ye=x-+this._y.call(null,we.data),Ve=He*He+Ye*Ye;if(Ve<C){var tt=Math.sqrt(C=Ve);te=E-tt,ue=x-tt,ye=E+tt,Ee=x+tt,O=we.data}}return O},Ko.remove=function(E){if(isNaN(N=+this._x.call(null,E))||isNaN(G=+this._y.call(null,E)))return this;var x,C,O,B,N,G,X,W,ee,te,ue,ye,Ee=this._root,Oe=this._x0,we=this._y0,Te=this._x1,ze=this._y1;if(!Ee)return this;if(Ee.length)for(;;){if((ee=N>=(X=(Oe+Te)/2))?Oe=X:Te=X,(te=G>=(W=(we+ze)/2))?we=W:ze=W,x=Ee,!(Ee=Ee[ue=te<<1|ee]))return this;if(!Ee.length)break;(x[ue+1&3]||x[ue+2&3]||x[ue+3&3])&&(C=x,ye=ue)}for(;Ee.data!==E;)if(O=Ee,!(Ee=Ee.next))return this;return(B=Ee.next)&&delete Ee.next,O?(B?O.next=B:delete O.next,this):x?(B?x[ue]=B:delete x[ue],(Ee=x[0]||x[1]||x[2]||x[3])&&Ee===(x[3]||x[2]||x[1]||x[0])&&!Ee.length&&(C?C[ye]=Ee:this._root=Ee),this):(this._root=B,this)},Ko.removeAll=function(E){for(var x=0,C=E.length;x<C;++x)this.remove(E[x]);return this},Ko.root=function(){return this._root},Ko.size=function(){var E=0;return this.visit(function(x){if(!x.length)do++E;while(x=x.next)}),E},Ko.visit=function(E){var x,C,O,B,N,G,X=[],W=this._root;for(W&&X.push(new mo(W,this._x0,this._y0,this._x1,this._y1));x=X.pop();)if(!E(W=x.node,O=x.x0,B=x.y0,N=x.x1,G=x.y1)&&W.length){var ee=(O+N)/2,te=(B+G)/2;(C=W[3])&&X.push(new mo(C,ee,te,N,G)),(C=W[2])&&X.push(new mo(C,O,te,ee,G)),(C=W[1])&&X.push(new mo(C,ee,B,N,te)),(C=W[0])&&X.push(new mo(C,O,B,ee,te))}return this},Ko.visitAfter=function(E){var x,C=[],O=[];for(this._root&&C.push(new mo(this._root,this._x0,this._y0,this._x1,this._y1));x=C.pop();){var B=x.node;if(B.length){var N,G=x.x0,X=x.y0,W=x.x1,ee=x.y1,te=(G+W)/2,ue=(X+ee)/2;(N=B[0])&&C.push(new mo(N,G,X,te,ue)),(N=B[1])&&C.push(new mo(N,te,X,W,ue)),(N=B[2])&&C.push(new mo(N,G,ue,te,ee)),(N=B[3])&&C.push(new mo(N,te,ue,W,ee))}O.push(x)}for(;x=O.pop();)E(x.node,x.x0,x.y0,x.x1,x.y1);return this},Ko.x=function(E){return arguments.length?(this._x=E,this):this._x},Ko.y=function(E){return arguments.length?(this._y=E,this):this._y};var Er=256,_o=4096,ra=25,pf="#FFDF81",Qf="#818790",gf="#EDEDED",Rd="#CFD1D4",Fu="#F5F6F6",Pc="#8FE3E8",ut="#1A1B1D",It={position:"absolute",top:0,bottom:0,left:0,right:0},mt=function(){return window.devicePixelRatio||1},yr=["NVL_basic-wrapper","NVL_interactive-wrapper"];function Ir(E,x){var C=typeof Symbol<"u"&&E[Symbol.iterator]||E["@@iterator"];if(!C){if(Array.isArray(E)||(C=function(W,ee){if(W){if(typeof W=="string")return _n(W,ee);var te=Object.prototype.toString.call(W).slice(8,-1);return te==="Object"&&W.constructor&&(te=W.constructor.name),te==="Map"||te==="Set"?Array.from(W):te==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(te)?_n(W,ee):void 0}}(E))||x){C&&(E=C);var O=0,B=function(){};return{s:B,n:function(){return O>=E.length?{done:!0}:{done:!1,value:E[O++]}},e:function(W){throw W},f:B}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var N,G=!0,X=!1;return{s:function(){C=C.call(E)},n:function(){var W=C.next();return G=W.done,W},e:function(W){X=!0,N=W},f:function(){try{G||C.return==null||C.return()}finally{if(X)throw N}}}}function _n(E,x){(x==null||x>E.length)&&(x=E.length);for(var C=0,O=new Array(x);C<x;C++)O[C]=E[C];return O}var xa=function(E){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gf,C=new Map;return E.forEach(function(O){var B=O.id,N=O.from,G=O.to,X=O.color,W=O.width,ee=O.disabled,te=[N,G].sort(),ue="".concat(te[0],".").concat(te[1]),ye=C.get(ue);ye?ye.bundledRels.push({id:B,color:X??void 0,disabled:ee!=null&&ee,width:W??1}):C.set(ue,{bundledRels:[{id:B,color:X??void 0,disabled:ee!=null&&ee,width:W??1}],key:ue,from:N,to:G,color:X??void 0,disabled:ee!=null&&ee,width:0})}),C.forEach(function(O){var B=(0,r.uniqBy)(O.bundledRels,"disabled"),N=B.length===1&&B[0].disabled===!0,G=B.length===1&&B[0].disabled!==!0;if(N)O.color=x,O.width=1;else{var X=O.bundledRels.filter(function(ee){return ee.disabled!==!0}),W=(0,r.uniqBy)(X,"color");G?(O.color=W.length>1?void 0:O.bundledRels[0].color,O.bundledRels.forEach(function(ee){O.width+=ee.width})):(O.color=W.length===1?W[0].color:void 0,O.disabled=!1,O.bundledRels.forEach(function(ee){O.width+=ee.disabled!==!0?ee.width:0}))}}),Array.from(C.values())},xe=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).find(function(E){return"size"in E})!==void 0};function ml(E){return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},ml(E)}var Pd=function(E){var x,C;return typeof E.source=="number"||typeof E.target=="number"||typeof E.source=="string"||typeof E.target=="string"?45*devicePixelRatio:((x=E.source.size)!==null&&x!==void 0?x:ra)+((C=E.target.size)!==null&&C!==void 0?C:ra)+90*devicePixelRatio};function na(E){return ml(E)==="object"}var yn=function(E){var x;return((x=E.size)!==null&&x!==void 0?x:ra)+25*devicePixelRatio},Dc=function(){return-400*Math.pow(devicePixelRatio,2)},Gs=function(){return 2*Dc()};function oo(E){return oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},oo(E)}function Uu(E,x){(x==null||x>E.length)&&(x=E.length);for(var C=0,O=new Array(x);C<x;C++)O[C]=E[C];return O}function on(E,x){var C=Object.keys(E);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(E);x&&(O=O.filter(function(B){return Object.getOwnPropertyDescriptor(E,B).enumerable})),C.push.apply(C,O)}return C}function zu(E,x){for(var C=0;C<x.length;C++){var O=x[C];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(E,Dd(O.key),O)}}function Dd(E){var x=function(C,O){if(oo(C)!="object"||!C)return C;var B=C[Symbol.toPrimitive];if(B!==void 0){var N=B.call(C,"string");if(oo(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(C)}(E);return oo(x)=="symbol"?x:String(x)}var va="d3ForceLayout",Hs=function(E){return E&&Lt(E)},yf=function(){function E(O){var B=this;(function(ee,te){if(!(ee instanceof te))throw new TypeError("Cannot call a class as a function")})(this,E);var N=O.state;this.state=N,this.d3Nodes={},this.d3RelList={},this.computing=!0,this.center={x:0,y:0},this.nodeRelCount=[];var G=this.state,X=G.nodes,W=G.rels;X.addChannel(va),W.addChannel(va),this.simulation=function(ee){var te,ue=1,ye=.001,Ee=1-Math.pow(ye,1/300),Oe=0,we=.6,Te=new Map,ze=Gl(Ve),He=df("tick","end"),Ye=function(){let at=1;return()=>(at=(1664525*at+1013904223)%Ac)/Ac}();function Ve(){tt(),He.call("tick",te),ue<ye&&(ze.stop(),He.call("end",te))}function tt(at){var et,gt,jt=ee.length;at===void 0&&(at=1);for(var Kt=0;Kt<at;++Kt)for(ue+=(Oe-ue)*Ee,Te.forEach(function(Ft){Ft(ue)}),et=0;et<jt;++et)(gt=ee[et]).fx==null?gt.x+=gt.vx*=we:(gt.x=gt.fx,gt.vx=0),gt.fy==null?gt.y+=gt.vy*=we:(gt.y=gt.fy,gt.vy=0);return te}function Je(){for(var at,et=0,gt=ee.length;et<gt;++et){if((at=ee[et]).index=et,at.fx!=null&&(at.x=at.fx),at.fy!=null&&(at.y=at.fy),isNaN(at.x)||isNaN(at.y)){var jt=10*Math.sqrt(.5+et),Kt=et*kh;at.x=jt*Math.cos(Kt),at.y=jt*Math.sin(Kt)}(isNaN(at.vx)||isNaN(at.vy))&&(at.vx=at.vy=0)}}function lt(at){return at.initialize&&at.initialize(ee,Ye),at}return ee==null&&(ee=[]),Je(),te={tick:tt,restart:function(){return ze.restart(Ve),te},stop:function(){return ze.stop(),te},nodes:function(at){return arguments.length?(ee=at,Je(),Te.forEach(lt),te):ee},alpha:function(at){return arguments.length?(ue=+at,te):ue},alphaMin:function(at){return arguments.length?(ye=+at,te):ye},alphaDecay:function(at){return arguments.length?(Ee=+at,te):+Ee},alphaTarget:function(at){return arguments.length?(Oe=+at,te):Oe},velocityDecay:function(at){return arguments.length?(we=1-at,te):1-we},randomSource:function(at){return arguments.length?(Ye=at,Te.forEach(lt),te):Ye},force:function(at,et){return arguments.length>1?(et==null?Te.delete(at):Te.set(at,lt(et)),te):Te.get(at)},find:function(at,et,gt){var jt,Kt,Ft,sr,$t,Be=0,je=ee.length;for(gt==null?gt=1/0:gt*=gt,Be=0;Be<je;++Be)(Ft=(jt=at-(sr=ee[Be]).x)*jt+(Kt=et-sr.y)*Kt)<gt&&($t=sr,gt=Ft);return $t},on:function(at,et){return arguments.length>1?(He.on(at,et),te):He.on(at)}}}().velocityDecay(.4).force("charge",ta().strength(Dc)).force("centerX",function(ee){var te,ue,ye,Ee=bo(.1);function Oe(Te){for(var ze,He=0,Ye=te.length;He<Ye;++He)(ze=te[He]).vx+=(ye[He]-ze.x)*ue[He]*Te}function we(){if(te){var Te,ze=te.length;for(ue=new Array(ze),ye=new Array(ze),Te=0;Te<ze;++Te)ue[Te]=isNaN(ye[Te]=+ee(te[Te],Te,te))?0:+Ee(te[Te],Te,te)}}return typeof ee!="function"&&(ee=bo(ee==null?0:+ee)),Oe.initialize=function(Te){te=Te,we()},Oe.strength=function(Te){return arguments.length?(Ee=typeof Te=="function"?Te:bo(+Te),we(),Oe):Ee},Oe.x=function(Te){return arguments.length?(ee=typeof Te=="function"?Te:bo(+Te),we(),Oe):ee},Oe}(0).strength(.03)).force("centerY",function(ee){var te,ue,ye,Ee=bo(.1);function Oe(Te){for(var ze,He=0,Ye=te.length;He<Ye;++He)(ze=te[He]).vy+=(ye[He]-ze.y)*ue[He]*Te}function we(){if(te){var Te,ze=te.length;for(ue=new Array(ze),ye=new Array(ze),Te=0;Te<ze;++Te)ue[Te]=isNaN(ye[Te]=+ee(te[Te],Te,te))?0:+Ee(te[Te],Te,te)}}return typeof ee!="function"&&(ee=bo(ee==null?0:+ee)),Oe.initialize=function(Te){te=Te,we()},Oe.strength=function(Te){return arguments.length?(Ee=typeof Te=="function"?Te:bo(+Te),we(),Oe):Ee},Oe.y=function(Te){return arguments.length?(ee=typeof Te=="function"?Te:bo(+Te),we(),Oe):ee},Oe}(0).strength(.03)).alpha(1).alphaMin(.05).on("end",function(){B.simulationStopped=!0,B.shouldUpdate=!1,B.shouldReheatNodes=!1,B.shouldCountNodeRels=!1}).stop(),this.simulationStopped=!0,this.shouldUpdate=!0,this.shouldReheatNodes=!1,this.shouldCountNodeRels=!0,this.stateDisposers=[],this.stateDisposers.push(this.state.reaction(function(){return B.state.graphUpdates},function(){var ee=X.channels[va];if(X.version!==void 0&&ee){var te=Object.values(ee.adds).length>0,ue=Object.values(ee.removes).length>0,ye=Object.values(ee.updates),Ee=xe(ye);te||ue||Ee?(B.shouldUpdate=!0,B.shouldReheatNodes=!0,B.shouldCountNodeRels=!0):B.shouldReheatNodes=!1}var Oe=W.channels[va];if(W.version!==void 0&&Oe){var we=Object.values(Oe.adds).length>0,Te=Object.values(Oe.removes).length>0;(we||Te)&&(B.shouldUpdate=!0,B.shouldReheatNodes=!0,B.shouldCountNodeRels=!0)}}))}var x,C;return x=E,C=[{key:"setOptions",value:function(O){}},{key:"updateNodes",value:function(O){var B=this;O.forEach(function(N){B.d3Nodes[N.id]===void 0&&(B.d3Nodes[N.id]={id:N.id}),N!=null&&N.pinned?(B.d3Nodes[N.id].fx=N.x,B.d3Nodes[N.id].fy=N.y):(B.d3Nodes[N.id].x=N.x,B.d3Nodes[N.id].y=N.y),B.d3Nodes[N.id].vy=0,B.d3Nodes[N.id].vx=0}),this.shouldUpdate=!0,this.simulation.tick().alpha(.2)}},{key:"update",value:function(){var O,B=this,N=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.shouldUpdate||N){var G=this.state,X=G.nodes,W=G.rels,ee=X.channels[va],te=W.channels[va],ue=Object.values(ee.adds).length>0,ye=Object.values(te.adds).length>0,Ee=Object.values(ee.removes).length>0,Oe=Object.values(te.removes).length>0,we=Object.values(ee.updates).length>0;if(ue||ye||Ee||Oe||we){var Te=ue&&Object.keys(this.d3Nodes).length===0,ze=Hs(ee.removes);Object.keys(ze).forEach(function(Ve){delete B.d3Nodes[Ve]});var He=Hs(ee.adds);if(Object.keys(He).forEach(function(Ve){B.d3Nodes[Ve]=function(tt){for(var Je=1;Je<arguments.length;Je++){var lt=arguments[Je]!=null?arguments[Je]:{};Je%2?on(Object(lt),!0).forEach(function(at){var et,gt,jt;et=tt,gt=at,jt=lt[at],(gt=Dd(gt))in et?Object.defineProperty(et,gt,{value:jt,enumerable:!0,configurable:!0,writable:!0}):et[gt]=jt}):Object.getOwnPropertyDescriptors?Object.defineProperties(tt,Object.getOwnPropertyDescriptors(lt)):on(Object(lt)).forEach(function(at){Object.defineProperty(tt,at,Object.getOwnPropertyDescriptor(lt,at))})}return tt}({},He[Ve])}),we&&Object.values(ee.updates).forEach(function(Ve){Ve.pinned===!0?(B.d3Nodes[Ve.id].fx=B.d3Nodes[Ve.id].x,B.d3Nodes[Ve.id].fy=B.d3Nodes[Ve.id].y):Ve.pinned===!1&&(B.d3Nodes[Ve.id].fx=null,B.d3Nodes[Ve.id].fy=null),Ve.size!==void 0&&(B.d3Nodes[Ve.id].size=Ve.size)}),(ye||Oe)&&(this.d3RelList=xa(Hs(W.items)).filter(function(Ve){return Ve.from!==Ve.to}).map(function(Ve,tt){return{source:Ve.from,target:Ve.to,index:tt}})),Te){var Ye=Object.values(this.d3Nodes);(function(Ve,tt,Je){var lt=Ve.filter(function(at){return at.x===void 0&&at.y===void 0});lt.forEach(function(at,et){at.x=tt.x+Je*Math.sin(2*Math.PI*et/lt.length),at.y=tt.y+Je*Math.cos(2*Math.PI*et/lt.length)})})(Ye,this.center,(O=Ye.length,45*O/(2*Math.PI)))}this.layout(X.items,W.items,Te)}X.clearChannel(va),W.clearChannel(va),this.shouldUpdate=!1,this.simulation.alpha()>this.simulation.alphaMin()&&(this.shouldUpdate=!0,this.simulationStopped&&(this.simulation.restart(),this.simulationStopped=!1))}}},{key:"layout",value:function(O,B,N){var G=this;if(!(0,r.isEmpty)(this.d3Nodes)){if(this.simulation.stop(),this.simulation.nodes(Object.values(this.d3Nodes)).force("collide",function(te){var ue,ye,Ee,Oe=1,we=1;function Te(){for(var Ye,Ve,tt,Je,lt,at,et,gt=ue.length,jt=0;jt<we;++jt)for(Ve=Zf(ue,wv,Wg).visitAfter(ze),Ye=0;Ye<gt;++Ye)tt=ue[Ye],at=ye[tt.index],et=at*at,Je=tt.x+tt.vx,lt=tt.y+tt.vy,Ve.visit(Kt);function Kt(Ft,sr,$t,Be,je){var Fe=Ft.data,St=Ft.r,st=at+St;if(!Fe)return sr>Je+st||Be<Je-st||$t>lt+st||je<lt-st;if(Fe.index>tt.index){var Dt=Je-Fe.x-Fe.vx,rr=lt-Fe.y-Fe.vy,dr=Dt*Dt+rr*rr;dr<st*st&&(Dt===0&&(dr+=(Dt=Ti(Ee))*Dt),rr===0&&(dr+=(rr=Ti(Ee))*rr),dr=(st-(dr=Math.sqrt(dr)))/dr*Oe,tt.vx+=(Dt*=dr)*(st=(St*=St)/(et+St)),tt.vy+=(rr*=dr)*st,Fe.vx-=Dt*(st=1-st),Fe.vy-=rr*st)}}}function ze(Ye){if(Ye.data)return Ye.r=ye[Ye.data.index];for(var Ve=Ye.r=0;Ve<4;++Ve)Ye[Ve]&&Ye[Ve].r>Ye.r&&(Ye.r=Ye[Ve].r)}function He(){if(ue){var Ye,Ve,tt=ue.length;for(ye=new Array(tt),Ye=0;Ye<tt;++Ye)Ve=ue[Ye],ye[Ve.index]=+te(Ve,Ye,ue)}}return typeof te!="function"&&(te=bo(te==null?1:+te)),Te.initialize=function(Ye,Ve){ue=Ye,Ee=Ve,He()},Te.iterations=function(Ye){return arguments.length?(we=+Ye,Te):we},Te.strength=function(Ye){return arguments.length?(Oe=+Ye,Te):Oe},Te.radius=function(Ye){return arguments.length?(te=typeof Ye=="function"?Ye:bo(+Ye),He(),Te):te},Te}().radius(yn)),this.shouldCountNodeRels&&(this.nodeRelCount=this.countNodeRels()),this.simulation.force("link",function(te){var ue,ye,Ee,Oe,we,Te,ze=Jp,He=function(et){return 1/Math.min(Oe[et.source.index],Oe[et.target.index])},Ye=bo(30),Ve=1;function tt(et){for(var gt=0,jt=te.length;gt<Ve;++gt)for(var Kt,Ft,sr,$t,Be,je,Fe,St=0;St<jt;++St)Ft=(Kt=te[St]).source,$t=(sr=Kt.target).x+sr.vx-Ft.x-Ft.vx||Ti(Te),Be=sr.y+sr.vy-Ft.y-Ft.vy||Ti(Te),$t*=je=((je=Math.sqrt($t*$t+Be*Be))-ye[St])/je*et*ue[St],Be*=je,sr.vx-=$t*(Fe=we[St]),sr.vy-=Be*Fe,Ft.vx+=$t*(Fe=1-Fe),Ft.vy+=Be*Fe}function Je(){if(Ee){var et,gt,jt=Ee.length,Kt=te.length,Ft=new Map(Ee.map((sr,$t)=>[ze(sr,$t,Ee),sr]));for(et=0,Oe=new Array(jt);et<Kt;++et)(gt=te[et]).index=et,typeof gt.source!="object"&&(gt.source=qs(Ft,gt.source)),typeof gt.target!="object"&&(gt.target=qs(Ft,gt.target)),Oe[gt.source.index]=(Oe[gt.source.index]||0)+1,Oe[gt.target.index]=(Oe[gt.target.index]||0)+1;for(et=0,we=new Array(Kt);et<Kt;++et)gt=te[et],we[et]=Oe[gt.source.index]/(Oe[gt.source.index]+Oe[gt.target.index]);ue=new Array(Kt),lt(),ye=new Array(Kt),at()}}function lt(){if(Ee)for(var et=0,gt=te.length;et<gt;++et)ue[et]=+He(te[et],et,te)}function at(){if(Ee)for(var et=0,gt=te.length;et<gt;++et)ye[et]=+Ye(te[et],et,te)}return te==null&&(te=[]),tt.initialize=function(et,gt){Ee=et,Te=gt,Je()},tt.links=function(et){return arguments.length?(te=et,Je(),tt):te},tt.id=function(et){return arguments.length?(ze=et,tt):ze},tt.iterations=function(et){return arguments.length?(Ve=+et,tt):Ve},tt.strength=function(et){return arguments.length?(He=typeof et=="function"?et:bo(+et),lt(),tt):He},tt.distance=function(et){return arguments.length?(Ye=typeof et=="function"?et:bo(+et),at(),tt):Ye},tt}(this.d3RelList).id(function(te){return te.id}).distance(Pd).strength(function(te){return function(ue,ye){if(!na(ue.source)||!na(ue.target))return 1;var Ee=1.2/(Math.min(ye[ue.source.index],ye[ue.target.index])+(Math.max(ye[ue.source.index],ye[ue.target.index])-1)/100);return Math.max(Math.min(Ee,1),.06)}(te,G.nodeRelCount)})),N){var X=0;this.simulation.force("charge",ta().strength(Gs));for(var W=performance.now();performance.now()-W<300&&X<200;)this.simulation.alpha(1),this.simulation.tick(1),X+=1;this.simulation.force("charge",ta().strength(Dc));for(var ee=performance.now();performance.now()-ee<100&&this.simulation.alpha()>=this.simulation.alphaMin();)this.simulation.tick(1);return this.computing=!1,void this.simulation.restart()}this.shouldReheatNodes?this.simulation.alpha(1).restart():this.simulation.restart()}}},{key:"getNodePositions",value:function(O){var B,N=[],G=function(te,ue){var ye=typeof Symbol<"u"&&te[Symbol.iterator]||te["@@iterator"];if(!ye){if(Array.isArray(te)||(ye=function(He,Ye){if(He){if(typeof He=="string")return Uu(He,Ye);var Ve=Object.prototype.toString.call(He).slice(8,-1);return Ve==="Object"&&He.constructor&&(Ve=He.constructor.name),Ve==="Map"||Ve==="Set"?Array.from(He):Ve==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ve)?Uu(He,Ye):void 0}}(te))||ue){ye&&(te=ye);var Ee=0,Oe=function(){};return{s:Oe,n:function(){return Ee>=te.length?{done:!0}:{done:!1,value:te[Ee++]}},e:function(He){throw He},f:Oe}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var we,Te=!0,ze=!1;return{s:function(){ye=ye.call(te)},n:function(){var He=ye.next();return Te=He.done,He},e:function(He){ze=!0,we=He},f:function(){try{Te||ye.return==null||ye.return()}finally{if(ze)throw we}}}}(O);try{for(G.s();!(B=G.n()).done;){var X=B.value,W=this.d3Nodes[X.id];if(W!==void 0){var ee={id:W.id,x:W.x,y:W.y};N.push(ee)}}}catch(te){G.e(te)}finally{G.f()}return N}},{key:"getShouldUpdate",value:function(){return this.shouldUpdate}},{key:"getComputing",value:function(){return this.computing}},{key:"terminateUpdate",value:function(){this.simulation.alpha(this.simulation.alphaMin()).stop(),this.simulationStopped=!0}},{key:"destroy",value:function(){this.stateDisposers.forEach(function(O){O()}),this.state.nodes.removeChannel(va),this.state.rels.removeChannel(va),this.simulation.stop()}},{key:"setAlpha",value:function(O){this.simulation.alpha(O),this.simulation.restart(),this.simulation.shouldUpdate=!0}},{key:"countNodeRels",value:function(){for(var O=new Map(Object.entries(this.d3Nodes)),B=Object.values(this.d3RelList),N=new Array(O.length),G=0;G<B.length;++G){var X=B[G];X.index=G,oo(X.source)!=="object"&&(X.source=O.get(X.source)),oo(X.target)!=="object"&&(X.target=O.get(X.target)),N[X.source.index]=(N[X.source.index]||0)+1,N[X.target.index]=(N[X.target.index]||0)+1}return N}}],C&&zu(x.prototype,C),Object.defineProperty(x,"prototype",{writable:!1}),E}(),Jf=Po(5880),bl=Po.n(Jf),ln=bl().getLogger("NVL");const Ic=YH;var ys={CoseBilkentLayout:{standard:"createCoseBilkentLayoutWorker",fallback:"coseBilkentLayoutFallbackWorker"},HierarchicalLayout:{standard:"createHierarchicalLayoutWorker",fallback:"hierarchicalLayoutFallbackWorker"}},mf=function(E){var x,C=arguments.length>1&&arguments[1]!==void 0&&arguments[1],O=ys[E],B=O.standard,N=O.fallback;if(C)x=Ic[N];else try{x=Ic[B]()}catch(G){console.warn("Failed to initialise ".concat(E,' worker: "').concat(JSON.stringify(G),'". Falling back to syncronous code.')),x=Ic[N]}if(x===void 0)throw"".concat(E," code could not be initialized.");return x.port.start(),x};function ms(E){return ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},ms(E)}function so(E,x){var C=Object.keys(E);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(E);x&&(O=O.filter(function(B){return Object.getOwnPropertyDescriptor(E,B).enumerable})),C.push.apply(C,O)}return C}function eh(E){for(var x=1;x<arguments.length;x++){var C=arguments[x]!=null?arguments[x]:{};x%2?so(Object(C),!0).forEach(function(O){Zo(E,O,C[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(C)):so(Object(C)).forEach(function(O){Object.defineProperty(E,O,Object.getOwnPropertyDescriptor(C,O))})}return E}function Lo(E,x){var C=typeof Symbol<"u"&&E[Symbol.iterator]||E["@@iterator"];if(!C){if(Array.isArray(E)||(C=function(W,ee){if(W){if(typeof W=="string")return qu(W,ee);var te=Object.prototype.toString.call(W).slice(8,-1);return te==="Object"&&W.constructor&&(te=W.constructor.name),te==="Map"||te==="Set"?Array.from(W):te==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(te)?qu(W,ee):void 0}}(E))||x){C&&(E=C);var O=0,B=function(){};return{s:B,n:function(){return O>=E.length?{done:!0}:{done:!1,value:E[O++]}},e:function(W){throw W},f:B}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var N,G=!0,X=!1;return{s:function(){C=C.call(E)},n:function(){var W=C.next();return G=W.done,W},e:function(W){X=!0,N=W},f:function(){try{G||C.return==null||C.return()}finally{if(X)throw N}}}}function qu(E,x){(x==null||x>E.length)&&(x=E.length);for(var C=0,O=new Array(x);C<x;C++)O[C]=E[C];return O}function Aa(E,x){for(var C=0;C<x.length;C++){var O=x[C];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(E,Id(O.key),O)}}function Zo(E,x,C){return(x=Id(x))in E?Object.defineProperty(E,x,{value:C,enumerable:!0,configurable:!0,writable:!0}):E[x]=C,E}function Id(E){var x=function(C,O){if(ms(C)!="object"||!C)return C;var B=C[Symbol.toPrimitive];if(B!==void 0){var N=B.call(C,"string");if(ms(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(C)}(E);return ms(x)=="symbol"?x:String(x)}var _l=function(E,x,C){return E+(x-E)*function(O){return O*O*(3-2*O)}(C)},kd=function(){function E(O){(function(N,G){if(!(N instanceof G))throw new TypeError("Cannot call a class as a function")})(this,E),Zo(this,"positions",void 0),Zo(this,"oldPositions",void 0),Zo(this,"startTime",void 0),Zo(this,"t",void 0),Zo(this,"currentT",void 0),Zo(this,"state",void 0),Zo(this,"shouldUpdateAnimator",void 0),Zo(this,"parents",void 0),Zo(this,"animationCompleteCallback",void 0),Zo(this,"shouldUpdate",void 0);var B=O.state;this.positions={},this.oldPositions={},this.startTime=0,this.t=1,this.currentT=1,this.state=B,this.shouldUpdateAnimator=!1,this.parents={},this.animationCompleteCallback=O.animationCompleteCallback}var x,C;return x=E,C=[{key:"getPositionMapFromState",value:function(){var O,B=this.state.nodes,N=B.idToPosition,G={},X=Lo(B.items);try{for(X.s();!(O=X.n()).done;){var W=O.value,ee=N[W.id];ee!==void 0&&(G[W.id]={id:W.id,x:ee.x,y:ee.y})}}catch(te){X.e(te)}finally{X.f()}return G}},{key:"updatePositionsFromState",value:function(){this.positions=eh({},this.getPositionMapFromState())}},{key:"updateOldPositionFromState",value:function(){this.oldPositions=eh({},this.getPositionMapFromState())}},{key:"startAnimation",value:function(){this.updateOldPositionFromState(),this.startTime=Date.now(),this.t=0,this.currentT=0,this.shouldUpdateAnimator=!0}},{key:"update",value:function(){var O=this.shouldUpdateAnimator,B=(Date.now()-this.startTime)/400;this.t=Math.min(B,1),this.currentT<1?this.shouldUpdateAnimator=!0:(this.shouldUpdateAnimator=!1,O&&!this.shouldUpdateAnimator&&this.animationCompleteCallback!==void 0&&this.animationCompleteCallback(),this.shouldUpdateAnimator||this.updatePositionsFromState())}},{key:"updateNodes",value:function(O){var B,N=Lo(O);try{for(N.s();!(B=N.n()).done;){var G=B.value;G.x!==void 0&&G.y!==void 0&&(this.positions[G.id]={id:G.id,x:G.x,y:G.y}),this.shouldUpdate=!0}}catch(X){N.e(X)}finally{N.f()}}},{key:"getNodePositions",value:function(O){var B,N=this.parents,G=this.state.nodes.idToPosition,X=function(Ve,tt){for(var Je={x:0,y:0},lt=Ve.length,at=0,et=0;et<lt;et++){var gt=tt[Ve[et].id];gt===void 0||isNaN(gt.x)||isNaN(gt.y)||gt.x===0||gt.y===0||(Je.x+=gt.x,Je.y+=gt.y,at+=1)}return at>0?[Je.x/at,Je.y/at]:[0,0]}(O,G),W={x:X[0],y:X[1]},ee=[],te=Lo(O);try{for(te.s();!(B=te.n()).done;){var ue=B.value,ye=this.positions[ue.id],Ee=G[ue.id],Oe={id:ue.id};if(ye!==void 0){for(var we,Te,ze,He=ue.id,Ye=(we=this.oldPositions[ue.id])!==null&&we!==void 0?we:eh({},W);Ye===void 0&&N[He]!==void 0;)He=N[He],Ye=this.oldPositions[He];Ye.x=(Te=Ye.x)!==null&&Te!==void 0?Te:W.x,Ye.y=(ze=Ye.y)!==null&&ze!==void 0?ze:W.y,Oe.x=_l(Ye.x,ye.x,this.t),Oe.y=_l(Ye.y,ye.y,this.t)}else Ee!==void 0&&(Oe.x=Ee.x||W.x,Oe.y=Ee.y||W.y);ee.push(Oe)}}catch(Ve){te.e(Ve)}finally{te.f()}return this.currentT=this.t,ee}}],C&&Aa(x.prototype,C),Object.defineProperty(x,"prototype",{writable:!1}),E}();function Ci(E){return Ci=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},Ci(E)}function Gu(E,x){var C=Object.keys(E);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(E);x&&(O=O.filter(function(B){return Object.getOwnPropertyDescriptor(E,B).enumerable})),C.push.apply(C,O)}return C}function kc(E){for(var x=1;x<arguments.length;x++){var C=arguments[x]!=null?arguments[x]:{};x%2?Gu(Object(C),!0).forEach(function(O){zi(E,O,C[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(C)):Gu(Object(C)).forEach(function(O){Object.defineProperty(E,O,Object.getOwnPropertyDescriptor(C,O))})}return E}function lu(E,x){return function(C){if(Array.isArray(C))return C}(E)||function(C,O){var B=C==null?null:typeof Symbol<"u"&&C[Symbol.iterator]||C["@@iterator"];if(B!=null){var N,G,X,W,ee=[],te=!0,ue=!1;try{if(X=(B=B.call(C)).next,O!==0)for(;!(te=(N=X.call(B)).done)&&(ee.push(N.value),ee.length!==O);te=!0);}catch(ye){ue=!0,G=ye}finally{try{if(!te&&B.return!=null&&(W=B.return(),Object(W)!==W))return}finally{if(ue)throw G}}return ee}}(E,x)||Qo(E,x)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function bf(E){return function(x){if(Array.isArray(x))return Xa(x)}(E)||function(x){if(typeof Symbol<"u"&&x[Symbol.iterator]!=null||x["@@iterator"]!=null)return Array.from(x)}(E)||Qo(E)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Qo(E,x){if(E){if(typeof E=="string")return Xa(E,x);var C=Object.prototype.toString.call(E).slice(8,-1);return C==="Object"&&E.constructor&&(C=E.constructor.name),C==="Map"||C==="Set"?Array.from(E):C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C)?Xa(E,x):void 0}}function Xa(E,x){(x==null||x>E.length)&&(x=E.length);for(var C=0,O=new Array(x);C<x;C++)O[C]=E[C];return O}function Ui(E,x){for(var C=0;C<x.length;C++){var O=x[C];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(E,fi(O.key),O)}}function wn(E,x,C){return x=Vl(x),function(O,B){if(B&&(Ci(B)==="object"||typeof B=="function"))return B;if(B!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cu(O)}(E,Hu()?Reflect.construct(x,C||[],Vl(E).constructor):x.apply(E,C))}function Hu(){try{var E=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hu=function(){return!!E})()}function cu(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}function Md(){return Md=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(E,x,C){var O=function(N,G){for(;!Object.prototype.hasOwnProperty.call(N,G)&&(N=Vl(N))!==null;);return N}(E,x);if(O){var B=Object.getOwnPropertyDescriptor(O,x);return B.get?B.get.call(arguments.length<3?E:C):B.value}},Md.apply(this,arguments)}function Vl(E){return Vl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(x){return x.__proto__||Object.getPrototypeOf(x)},Vl(E)}function wl(E,x){return wl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(C,O){return C.__proto__=O,C},wl(E,x)}function zi(E,x,C){return(x=fi(x))in E?Object.defineProperty(E,x,{value:C,enumerable:!0,configurable:!0,writable:!0}):E[x]=C,E}function fi(E){var x=function(C,O){if(Ci(C)!="object"||!C)return C;var B=C[Symbol.toPrimitive];if(B!==void 0){var N=B.call(C,"string");if(Ci(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(C)}(E);return Ci(x)=="symbol"?x:String(x)}var mn=function(E){return E!==void 0?Lt(E):E},Vu=function(E){function x(B){var N;return function(G,X){if(!(G instanceof X))throw new TypeError("Cannot call a class as a function")}(this,x),zi(cu(N=wn(this,x,[B])),"stateDisposers",void 0),zi(cu(N),"cytoCompleteCallback",void 0),zi(cu(N),"computing",void 0),zi(cu(N),"pendingLayoutData",void 0),zi(cu(N),"worker",void 0),zi(cu(N),"workersDisabled",void 0),N.stateDisposers=[],N.stateDisposers.push(N.state.reaction(function(){return N.state.graphUpdates},function(){N.state.nodes.version!==void 0&&(N.shouldUpdate=!0),N.state.rels.version!==void 0&&(N.shouldUpdate=!0)})),N.cytoCompleteCallback=B.cytoCompleteCallback,N.shouldUpdate=!0,N.computing=!1,N.workersDisabled=B.state.disableWebWorkers,N.setOptions(),N.worker=mf("CoseBilkentLayout",N.workersDisabled),N.pendingLayoutData=null,N}var C,O;return function(B,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");B.prototype=Object.create(N&&N.prototype,{constructor:{value:B,writable:!0,configurable:!0}}),Object.defineProperty(B,"prototype",{writable:!1}),N&&wl(B,N)}(x,E),C=x,O=[{key:"setOptions",value:function(){this.shouldUpdate=!0}},{key:"update",value:function(){var B=arguments.length>0&&arguments[0]!==void 0&&arguments[0],N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(this.shouldUpdate||B){var X=mn(N),W=mn(G);(X.length>0||W.length>0)&&(this.updatePositionsFromState(),this.layout(X,W))}Md(Vl(x.prototype),"update",this).call(this),this.shouldUpdate=!1}},{key:"getShouldUpdate",value:function(){return this.shouldUpdate||this.shouldUpdateAnimator}},{key:"getComputing",value:function(){return this.computing}},{key:"layout",value:function(B,N){var G=this;if(this.worker){if(B.length){var X=B.map(function(te){return{group:"nodes",data:{id:te.id}}}),W=N.map(function(te){return{group:"edges",data:{id:"rel".concat(te.id),source:te.from,target:te.to}}}),ee={elements:[].concat(bf(X),bf(W)),spacingFactor:B.reduce(function(te,ue){var ye;return te+((ye=ue.size)!==null&&ye!==void 0?ye:ra)},0)/B.length*4.5/50*mt()};this.computing?this.pendingLayoutData=ee:(this.computing=!0,this.worker.port.onmessage=function(te){var ue=te.data.positions;if(G.computing){for(var ye=0,Ee=Object.entries(ue);ye<Ee.length;ye++){var Oe=lu(Ee[ye],2),we=Oe[0],Te=Oe[1];G.positions[we]=kc({id:we},Te)}G.cytoCompleteCallback(),G.startAnimation()}G.computing=!1,G.shouldUpdate=!0},setTimeout(function(){G.computing&&G.worker.port.postMessage(ee)},0))}}else ln.info("Cose-Bilkent layout code not yet initialised.")}},{key:"terminateUpdate",value:function(){this.computing=!1}},{key:"destroy",value:function(){var B;this.stateDisposers.forEach(function(N){N()}),(B=this.worker)===null||B===void 0||B.port.close()}}],O&&Ui(C.prototype,O),Object.defineProperty(C,"prototype",{writable:!1}),x}(kd),Jo=typeof Float32Array<"u"?Float32Array:Array;function El(){var E=new Jo(16);return Jo!=Float32Array&&(E[1]=0,E[2]=0,E[3]=0,E[4]=0,E[6]=0,E[7]=0,E[8]=0,E[9]=0,E[11]=0,E[12]=0,E[13]=0,E[14]=0),E[0]=1,E[5]=1,E[10]=1,E[15]=1,E}Math.hypot||(Math.hypot=function(){for(var E=0,x=arguments.length;x--;)E+=arguments[x]*arguments[x];return Math.sqrt(E)});var es=function(E,x,C,O,B,N,G){var X=1/(x-C),W=1/(O-B),ee=1/(N-G);return E[0]=-2*X,E[1]=0,E[2]=0,E[3]=0,E[4]=0,E[5]=-2*W,E[6]=0,E[7]=0,E[8]=0,E[9]=0,E[10]=2*ee,E[11]=0,E[12]=(x+C)*X,E[13]=(B+O)*W,E[14]=(G+N)*ee,E[15]=1,E},hp=Po(9792),Ev=Po.n(hp);function $l(E){return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},$l(E)}function _f(E,x){for(var C=0;C<x.length;C++){var O=x[C];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(E,Wl(O.key),O)}}function th(E,x,C){return(x=Wl(x))in E?Object.defineProperty(E,x,{value:C,enumerable:!0,configurable:!0,writable:!0}):E[x]=C,E}function Wl(E){var x=function(C,O){if($l(C)!="object"||!C)return C;var B=C[Symbol.toPrimitive];if(B!==void 0){var N=B.call(C,"string");if($l(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(C)}(E);return $l(x)=="symbol"?x:String(x)}var bs=function(){function E(O,B,N){var G=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};(function(ue,ye){if(!(ue instanceof ye))throw new TypeError("Cannot call a class as a function")})(this,E),th(this,"shaderProgram",void 0),th(this,"gl",void 0),th(this,"curTexture",void 0),th(this,"attributeInfo",void 0),th(this,"uniformInfo",void 0);var X=O.createShader(O.FRAGMENT_SHADER);if(!O.isShader(X))throw new Error("Could not create shader object");var W=Ev()(N,G);O.shaderSource(X,W),O.compileShader(X),(0,r.isNil)(O.getShaderParameter(X,O.COMPILE_STATUS))&&ln.info(O.getShaderInfoLog(X));var ee=O.createShader(O.VERTEX_SHADER);if(!O.isShader(ee))throw new Error("Could not create shader object");var te=Ev()(B,G);if(O.shaderSource(ee,te),O.compileShader(ee),(0,r.isNil)(O.getShaderParameter(ee,O.COMPILE_STATUS))&&ln.info(O.getShaderInfoLog(ee)),this.shaderProgram=O.createProgram(),O.attachShader(this.shaderProgram,X),O.attachShader(this.shaderProgram,ee),O.linkProgram(this.shaderProgram),(0,r.isNil)(O.getProgramParameter(this.shaderProgram,O.LINK_STATUS)))throw new Error("Could not initialise shader");this.gl=O,this.curTexture=0,this.scanUniforms(),this.scanAttributes()}var x,C;return x=E,C=[{key:"setUniform",value:function(O,B){var N=this.gl,G=this.uniformInfo[O];if(G===void 0)throw new Error("Shader.setUniform - Uniform ".concat(O," not found in shader"));switch(G.type){case N.INT:N.uniform1i(G.location,B);break;case N.INT_VEC2:N.uniform2iv(G.location,B);break;case N.INT_VEC3:N.uniform3iv(G.location,B);break;case N.INT_VEC4:N.uniform4iv(G.location,B);break;case N.SAMPLER_2D:N.activeTexture(N.TEXTURE0+G.texture),N.bindTexture(N.TEXTURE_2D,B),N.uniform1i(G.location,G.texture);break;case N.SAMPLER_CUBE:case N.FLOAT:N.uniform1f(G.location,B);break;case N.FLOAT_VEC2:N.uniform2fv(G.location,B);break;case N.FLOAT_VEC3:N.uniform3fv(G.location,B);break;case N.FLOAT_VEC4:N.uniform4fv(G.location,B);break;case N.FLOAT_MAT2:N.uniformMatrix2fv(G.location,!1,B);break;case N.FLOAT_MAT3:N.uniformMatrix3fv(G.location,!1,B);break;case N.FLOAT_MAT4:N.uniformMatrix4fv(G.location,!1,B)}}},{key:"setAttributePointer",value:function(O,B,N,G){var X=this.gl,W=this.attributeInfo[O],ee=N*Float32Array.BYTES_PER_ELEMENT,te=G*Float32Array.BYTES_PER_ELEMENT;X.enableVertexAttribArray(W.position),X.vertexAttribPointer(W.position,B,X.FLOAT,!1,te,ee)}},{key:"setAttributePointerFloat",value:function(O,B,N,G){var X=this.gl,W=this.attributeInfo[O];X.enableVertexAttribArray(W.position),X.vertexAttribPointer(W.position,B,X.FLOAT,!1,G,N)}},{key:"setAttributePointerUShort",value:function(O,B,N,G){var X=this.gl,W=this.attributeInfo[O];X.enableVertexAttribArray(W.position),X.vertexAttribPointer(W.position,B,X.UNSIGNED_SHORT,!1,G,N)}},{key:"setAttributePointerByteNorm",value:function(O,B,N,G){var X=this.gl,W=this.attributeInfo[O];X.enableVertexAttribArray(W.position),X.vertexAttribPointer(W.position,B,X.UNSIGNED_BYTE,!0,G,N)}},{key:"setAttributePointerByte",value:function(O,B,N,G){var X=this.gl,W=this.attributeInfo[O];X.enableVertexAttribArray(W.position),X.vertexAttribPointer(W.position,B,X.UNSIGNED_BYTE,!1,G,N)}},{key:"use",value:function(){this.gl.useProgram(this.shaderProgram)}},{key:"remove",value:function(){this.gl.deleteProgram(this.shaderProgram)}},{key:"scanAttributes",value:function(){var O=this.gl;this.attributeInfo={};for(var B,N,G=O.getProgramParameter(this.shaderProgram,O.ACTIVE_ATTRIBUTES),X=0;X<G;X++)B=O.getActiveAttrib(this.shaderProgram,X),N=O.getAttribLocation(this.shaderProgram,B.name),this.attributeInfo[B.name]={type:B.type,position:N}}},{key:"scanUniforms",value:function(){var O=this.gl;this.uniformInfo={};for(var B,N=O.getProgramParameter(this.shaderProgram,O.ACTIVE_UNIFORMS),G=0;G<N;G++){B=O.getActiveUniform(this.shaderProgram,G);var X=O.getUniformLocation(this.shaderProgram,B.name),W={type:B.type,location:X};B.type===O.SAMPLER_2D&&(W.texture=this.curTexture,this.curTexture+=1),this.uniformInfo[B.name]=W}}}],C&&_f(x.prototype,C),Object.defineProperty(x,"prototype",{writable:!1}),E}();function _s(E){return _s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},_s(E)}function Re(E,x){for(var C=0;C<x.length;C++){var O=x[C];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(E,ws(O.key),O)}}function ws(E){var x=function(C,O){if(_s(C)!="object"||!C)return C;var B=C[Symbol.toPrimitive];if(B!==void 0){var N=B.call(C,"string");if(_s(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(C)}(E);return _s(x)=="symbol"?x:String(x)}function ts(E){var x=typeof Map=="function"?new Map:void 0;return ts=function(C){if(C===null||!function(B){try{return Function.toString.call(B).indexOf("[native code]")!==-1}catch{return typeof B=="function"}}(C))return C;if(typeof C!="function")throw new TypeError("Super expression must either be null or a function");if(x!==void 0){if(x.has(C))return x.get(C);x.set(C,O)}function O(){return function(B,N,G){if(Lr())return Reflect.construct.apply(null,arguments);var X=[null];X.push.apply(X,N);var W=new(B.bind.apply(B,X));return G&&sn(W,G.prototype),W}(C,arguments,Mc(this).constructor)}return O.prototype=Object.create(C.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),sn(O,C)},ts(E)}function Lr(){try{var E=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lr=function(){return!!E})()}function sn(E,x){return sn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(C,O){return C.__proto__=O,C},sn(E,x)}function Mc(E){return Mc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(x){return x.__proto__||Object.getPrototypeOf(x)},Mc(E)}var Yl=function(E){function x(){return function(X,W){if(!(X instanceof W))throw new TypeError("Cannot call a class as a function")}(this,x),B=this,G=arguments,N=Mc(N=x),function(X,W){if(W&&(_s(W)==="object"||typeof W=="function"))return W;if(W!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(ee){if(ee===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee}(X)}(B,Lr()?Reflect.construct(N,G||[],Mc(B).constructor):N.apply(B,G));var B,N,G}var C,O;return function(B,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");B.prototype=Object.create(N&&N.prototype,{constructor:{value:B,writable:!0,configurable:!0}}),Object.defineProperty(B,"prototype",{writable:!1}),N&&sn(B,N)}(x,E),C=x,(O=[{key:"toString",value:function(){return this.message}}])&&Re(C.prototype,O),Object.defineProperty(C,"prototype",{writable:!1}),x}(ts(Error));const xl=`uniform mat4 u_projection;

attribute vec2 a_position;
//attribute float a_index;

//varying highp float index;

void main() {
//  index = a_index;
  gl_Position = u_projection * vec4(a_position, 0.0, 1.0);
}`;function qi(E){return qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},qi(E)}function xv(E,x){for(var C=0;C<x.length;C++){var O=x[C];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(E,fu(O.key),O)}}function fu(E){var x=function(C,O){if(qi(C)!="object"||!C)return C;var B=C[Symbol.toPrimitive];if(B!==void 0){var N=B.call(C,"string");if(qi(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(C)}(E);return qi(x)=="symbol"?x:String(x)}var eg=function(){function E(O,B){(function(N,G){if(!(N instanceof G))throw new TypeError("Cannot call a class as a function")})(this,E),this.graph=this.constructGraphObjects(O,B),this.subGraphs=[],this.sunMap={}}var x,C;return x=E,C=[{key:"constructGraphObjects",value:function(O,B){var N=new Array(O.nodes.length),G=new Array(O.rels.length),X={},W=[];return O.nodes.forEach(function(ee,te){N[te]=[],G[te]=[],W.push(ee)}),O.rels.forEach(function(ee){var te=B[ee.from],ue=B[ee.to];te!==void 0&&ue!==void 0&&(N[te].push(ue),N[ue].push(te),G[te].push(ee.id),G[ue].push(ee.id),X[ee.id]=ee)}),this.relIdMap=G,{nodes:W,relationships:N,idToRel:X}}},{key:"coarsenTo",value:function(O){for(var B=this.graph,N=B.nodes.length,G=0;B.nodes.length>O&&B.relationships.some(function(W){return W.length>0});){var X=this.coarsen(B,G===0);if(G===0&&(this.nodeSortMap=X.nodeSortMap),this.subGraphs.push(X.sortedInput),(B=X.output).relationships.length===0||B.relationships.every(function(W){return W.length===0})||N===B.nodes.length)break;N=B.nodes.length,G+=1}return this.subGraphs.push(B),B}},{key:"coarsenBy",value:function(O){for(var B=O,N=this.graph,G=N.nodes.length,X=B;B>0;){var W=this.coarsen(N,B===X);if(this.subGraphs.push(W.sortedInput),(N=W.output).relationships.length===0||N.relationships.every(function(ee){return ee.length===0})||G===N.nodes.length)break;G=N.nodes.length,B-=1}return this.subGraphs.push(N),N}},{key:"coarsen",value:function(O,B){var N=this,G=O.nodes,X=O.relationships,W=G.map(function(Je,lt){return lt}),ee={},te={};G.forEach(function(Je,lt){ee[lt]=Je,te[Je.id]=lt});for(var ue=X.map(function(Je){return Je.slice()}),ye={suns:{},planets:{},moons:{}},Ee=[],Oe=[],we=function(){var Je=W[0];W.splice(W.indexOf(Je),1),X[Je].forEach(function(et){var gt=W.indexOf(et);gt>=0&&W.splice(gt,1);var jt=-1,Kt=ue[et];Kt.forEach(function(Ft,sr){var $t=W.indexOf(Ft);$t>=0?W.splice($t,1):Ft===Je&&(jt=sr)}),Kt.splice(jt,1)});var lt={id:Je};if(B)lt.originalId=ee[Je].id;else{var at=ee[Je];lt.finestIndex=at.finestIndex,lt.originalId=at.originalId}Ee.push(lt),ye.suns[Je]=lt};W.length>0;)we();Ee.forEach(function(Je,lt){Oe[lt]=[]}),Ee.forEach(function(Je,lt){var at={},et=[];X[Je.id].forEach(function(gt){if(gt!==Je.id&&!at[gt]){var jt={id:gt,parent:Je,sunId:lt,moons:[]},Kt=ee[gt];jt.size=function(){return jt.moons.length+1},jt.weight=Kt.weight||1,jt.children=function(){return jt.moons},B?jt.originalId=Kt.id:(jt.finestIndex=Kt.finestIndex,jt.originalId=Kt.originalId),et.push(jt),at[gt]=!0}}),et.forEach(function(gt){ye.planets[gt.id]=gt}),Je.planets=et,Je.children=function(){return Je.planets},Je.weight=Je.planets.reduce(function(gt,jt){return gt+(jt.weight||1)},0)+(ee[Je.id].weight||1),Je.size=function(){return Je.planets.reduce(function(gt,jt){return gt+jt.size()},0)+1}});var Te=G.filter(function(Je,lt){return!Ee.find(function(at){return at.id===lt})&&!ye.planets[lt]});Te.forEach(function(Je){for(var lt=te[Je.id],at=ue[lt],et=null,gt=-1,jt=0;jt<at.length;jt++){var Kt=at[jt];if(Kt!==lt&&(et=ye.planets[Kt])){gt=jt;break}}if(at.splice(gt,1),et){var Ft={id:lt,size:function(){return 0}};Ft.weight=ee[lt].weight||1,Ft.parent=et,Ft.sunId=et.sunId,B?Ft.originalId=Je.id:(Ft.finestIndex=Je.finestIndex,Ft.originalId=Je.originalId),ye.moons[lt]=Ft,et.moons.push(Ft),et.weight+=Ft.weight,et.parent.weight+=Ft.weight;var sr=ue[et.id];sr.splice(sr.indexOf(lt),1)}}),ue.forEach(function(Je,lt){if(!ye.suns[lt]){var at=ye.planets[lt]||ye.moons[lt];ue[lt].forEach(function(et){var gt=ye.planets[et];if(gt||(gt=ye.moons[et]),at.sunId!==gt.sunId){var jt=Oe[at.sunId];jt.includes(gt.sunId)||jt.push(gt.sunId)}})}});var ze=[],He=0,Ye={};Ee.forEach(function(Je,lt){var at=G[Je.id];Ye[Je.id]=He,Je.previousIndex=lt,Je.id=He,He+=1,B&&(at.finestIndex=Je.id,Je.finestIndex=Je.id),ze.push(at),Je.planets.forEach(function(et){var gt=G[et.id];Ye[et.id]=He,et.id=He,He+=1,et.sunId=Je.id,B&&(gt.finestIndex=et.id),N.sunMap[et.originalId]=Je.originalId,ze.push(gt),et.moons.forEach(function(jt){var Kt=G[jt.id];Ye[jt.id]=He,jt.id=He,He+=1,jt.sunId=Je.id,B&&(Kt.finestIndex=jt.id),N.sunMap[jt.originalId]=Je.originalId,ze.push(Kt)})})});var Ve=[],tt=[];return X.forEach(function(Je,lt){var at=Ye[lt];Ve[at]=Je.map(function(et){return Ye[et]}),B&&(tt[at]=Je.map(function(et,gt){return N.relIdMap[lt][gt]}))}),tt&&tt.length>0&&(this.relIdMap=tt),{output:{nodes:Ee,relationships:Oe},sortedInput:{nodes:ze,relationships:Ve},nodeSortMap:Ye}}}],C&&xv(x.prototype,C),Object.defineProperty(x,"prototype",{writable:!1}),E}(),Nd=function(E,x,C){for(var O=2*Math.PI/C,B=[],N=0;N<C;N++){var G=O*N;B.push({x:E.x+x*Math.cos(G),y:E.y+x*Math.sin(G)})}return B};function rh(E){return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},rh(E)}function oi(E,x){var C=typeof Symbol<"u"&&E[Symbol.iterator]||E["@@iterator"];if(!C){if(Array.isArray(E)||(C=function(W,ee){if(W){if(typeof W=="string")return Ld(W,ee);var te=Object.prototype.toString.call(W).slice(8,-1);return te==="Object"&&W.constructor&&(te=W.constructor.name),te==="Map"||te==="Set"?Array.from(W):te==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(te)?Ld(W,ee):void 0}}(E))||x){C&&(E=C);var O=0,B=function(){};return{s:B,n:function(){return O>=E.length?{done:!0}:{done:!1,value:E[O++]}},e:function(W){throw W},f:B}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var N,G=!0,X=!1;return{s:function(){C=C.call(E)},n:function(){var W=C.next();return G=W.done,W},e:function(W){X=!0,N=W},f:function(){try{G||C.return==null||C.return()}finally{if(X)throw N}}}}function Ld(E,x){(x==null||x>E.length)&&(x=E.length);for(var C=0,O=new Array(x);C<x;C++)O[C]=E[C];return O}function jo(E,x){for(var C=0;C<x.length;C++){var O=x[C];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(E,Mh(O.key),O)}}function xr(E,x,C){return(x=Mh(x))in E?Object.defineProperty(E,x,{value:C,enumerable:!0,configurable:!0,writable:!0}):E[x]=C,E}function Mh(E){var x=function(C,O){if(rh(C)!="object"||!C)return C;var B=C[Symbol.toPrimitive];if(B!==void 0){var N=B.call(C,"string");if(rh(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(C)}(E);return rh(x)=="symbol"?x:String(x)}var ja="PhysLayout",Ba=new Float32Array(4),hu=256,Nh=function(E){for(var x={},C={},O=0;O<E.length;O++)x[E[O].id]=O,C[O]=E[O].id;return{nodeIdToIndex:x,nodeIndexToId:C}},tg=function(){function E(O){var B=this;(function(ye,Ee){if(!(ye instanceof Ee))throw new TypeError("Cannot call a class as a function")})(this,E),xr(this,"physVbo",void 0),xr(this,"physSmallVbo",void 0),xr(this,"physProjection",void 0),xr(this,"physSmallProjection",void 0),xr(this,"gl",void 0),xr(this,"useReadpixelWorkaround",void 0),xr(this,"averageNodeSize",void 0),xr(this,"shouldUpdate",void 0),xr(this,"iterationCount",void 0),xr(this,"lastSpeedValues",void 0),xr(this,"rollingAvgGraphSpeed",void 0),xr(this,"nodeVariation",void 0),xr(this,"nodeCenterPoint",void 0),xr(this,"peakIterationMultiplier",void 0),xr(this,"stateDisposers",void 0),xr(this,"state",void 0),xr(this,"dpr",void 0),xr(this,"intelWorkaround",void 0),xr(this,"simulationStopVelocitySquared",void 0),xr(this,"gravity",void 0),xr(this,"force",void 0),xr(this,"nodeIdToIndex",void 0),xr(this,"nodeIndexToId",void 0),xr(this,"numNodes",void 0),xr(this,"solarMerger",void 0),xr(this,"subGraphs",void 0),xr(this,"nodeSortMap",void 0),xr(this,"firstUpdate",void 0),xr(this,"curPhysData",void 0),xr(this,"apprxRepForceShader",void 0),xr(this,"levelsClusterTexture",void 0),xr(this,"levelsFinestIndexTexture",void 0),xr(this,"initalLevelTexture",void 0),xr(this,"levelsData",void 0),xr(this,"collisionDetectionMultiplier",void 0),xr(this,"physShader",void 0),xr(this,"physData",void 0),xr(this,"workaroundData",void 0),xr(this,"pinData",void 0),xr(this,"updateData",void 0),xr(this,"updateShader",void 0),xr(this,"workaroundShader",void 0),xr(this,"physPositions",void 0),xr(this,"springTexture",void 0),xr(this,"sizeTexture",void 0),xr(this,"offsetTexture",void 0),xr(this,"pinTexture",void 0),xr(this,"addedNodes",void 0),xr(this,"updateTexture",void 0),xr(this,"enableVerlet",void 0);var N=O.state,G=O.webGLContext;if(ln.info("layout - webGLContext",!!G),O.webGLContext===void 0)throw new Error("PhysLayout missing options: webGLContext - webgl context");if(O.state===void 0)throw new Error("PhysLayout missing options: state - state object");var X=G;this.checkCompatibility(X),this.printGlStats(X),this.physVbo=X.createBuffer(),X.bindBuffer(X.ARRAY_BUFFER,this.physVbo);var W=new Float32Array([0,0,Er,0,0,Er,Er,Er]);X.bufferData(X.ARRAY_BUFFER,W,X.STATIC_DRAW),this.physSmallVbo=X.createBuffer(),X.bindBuffer(X.ARRAY_BUFFER,this.physSmallVbo);var ee=new Float32Array([0,0,hu,0,0,hu,hu,hu]);X.bufferData(X.ARRAY_BUFFER,ee,X.STATIC_DRAW),this.physProjection=El(),es(this.physProjection,0,Er,Er,0,0,1e6),this.physSmallProjection=El(),es(this.physSmallProjection,0,hu,hu,0,0,1e6),X.disable(X.DEPTH_TEST),this.gl=X,this.useReadpixelWorkaround&&this.setupReadpixelWorkaround(),this.setupUpdates(),this.averageNodeSize=ra,this.shouldUpdate=!0,this.iterationCount=0,this.lastSpeedValues=[],this.rollingAvgGraphSpeed=0,this.nodeVariation=0,this.nodeCenterPoint=[0,0],this.peakIterationMultiplier=160,this.setOptions(O,!0),this.definePhysicsArrays();var te=N.nodes,ue=N.rels;te.addChannel(ja),ue.addChannel(ja),this.stateDisposers=[],this.stateDisposers.push(N.reaction(function(){return N.graphUpdates},function(){var ye=te.channels[ja];if(te.version!==void 0&&ye){var Ee=Object.values(ye.adds).length>0,Oe=Object.values(ye.removes).length>0,we=Object.values(ye.updates),Te=xe(we);(Ee||Oe||Te)&&(B.shouldUpdate=!0,B.checkForUpdates())}var ze=ue.channels[ja];if(ue.version!==void 0&&ze){var He=Object.values(ze.adds).length>0,Ye=Object.values(ze.removes).length>0;(He||Ye)&&(B.shouldUpdate=!0,B.checkForUpdates())}})),this.setData({nodes:te.items,rels:ue.items}),this.state=N,this.dpr=window.devicePixelRatio||1}var x,C;return x=E,C=[{key:"setOptions",value:function(O){var B=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(O){var N=O.intelWorkaround,G=O.simulationStopVelocity,X=O.gravity,W=O.enableVerlet,ee=W!==void 0&&W;B&&(this.intelWorkaround=N,this.enableVerlet=ee);var te=this.enableVerlet?.25:G??100;this.simulationStopVelocitySquared=te*te,this.gravity=X??100,this.force=0}}},{key:"setData",value:function(O){var B=Nh(O.nodes),N=B.nodeIdToIndex,G=B.nodeIndexToId;return this.nodeIdToIndex=N,this.nodeIndexToId=G,this.numNodes=O.nodes.length,this.solarMerger=new eg(O,N),this.solarMerger.coarsenTo(1),this.subGraphs=this.solarMerger.subGraphs,this.nodeSortMap=this.solarMerger.nodeSortMap,this.setupSprings(this.subGraphs[0]),this.setupSize(this.subGraphs[0]),this.setupPhysics(),this.firstUpdate=!0,this.curPhysData=0,this.shouldUpdate=!0,this.iterationCount=0,this.subGraphs[0]}},{key:"update",value:function(){var O=arguments.length>0&&arguments[0]!==void 0&&arguments[0],B=this.gl;if(this.checkForUpdates(O),!this.shouldUpdate)return B.bindFramebuffer(B.FRAMEBUFFER,this.getPhysData(0).frameBuffer),B.readPixels(0,0,Er,Er,B.RGBA,B.FLOAT,this.physPositions),!1;B.disable(B.BLEND);for(var N=this.nodeVariation/(this.numNodes||1)>.3,G=this.getScaleNumber(this.iterationCount),X=this.subGraphs?this.subGraphs.length:0,W=this.getPhysData(0).texture,ee=X-1;ee>0;ee--){var te=this.subGraphs[ee].nodes.length,ue=ee===X-1;this.apprxRepForceShader.use(),this.apprxRepForceShader.setUniform("u_physData",W),this.apprxRepForceShader.setUniform("u_clusterData",this.levelsClusterTexture[ee]),this.apprxRepForceShader.setUniform("u_finestIndexes",this.levelsFinestIndexTexture[ee]),this.apprxRepForceShader.setUniform("u_prevForce",ue?this.initalLevelTexture:this.levelsData[ee+1].texture),this.apprxRepForceShader.setUniform("u_numNodes",te),this.apprxRepForceShader.setUniform("u_iterationMultiplier",G),this.apprxRepForceShader.setUniform("u_baseLength",this.getBaseLength(te)),this.apprxRepForceShader.setUniform("u_isTopLevel",ue?1:0),B.bindBuffer(B.ARRAY_BUFFER,this.physSmallVbo),this.apprxRepForceShader.setAttributePointer("a_position",2,0,2),B.bindFramebuffer(B.FRAMEBUFFER,this.levelsData[ee].frameBuffer),B.viewport(0,0,hu,hu),B.drawArrays(B.TRIANGLE_STRIP,0,4)}if(this.collisionDetectionMultiplier=0,this.collisionDetectionMultiplier=N?Math.min(this.iterationCount/Math.min(this.numNodes,300),1):1,this.force=X<=1?this.initalLevelTexture:this.levelsData[1].texture,this.physShader.use(),this.physShader.setUniform("u_prevForce",X<=1?this.initalLevelTexture:this.levelsData[1].texture),this.physShader.setUniform("u_connections",this.springTexture),this.physShader.setUniform("u_sizeTexture",this.sizeTexture),this.physShader.setUniform("u_connectionOffsets",this.offsetTexture),this.physShader.setUniform("u_physData",W),this.physShader.setUniform("u_pinnedNodes",this.pinTexture),this.physShader.setUniform("u_iterationMultiplier",G),this.physShader.setUniform("u_curIteration",this.iterationCount),this.physShader.setUniform("u_numNodes",this.numNodes),this.physShader.setUniform("u_clusterData",this.levelsClusterTexture[0]),this.physShader.setUniform("u_collisionMultiplier",this.collisionDetectionMultiplier),this.physShader.setUniform("u_baseLength",this.getBaseLength()),this.firstUpdate=!1,B.bindBuffer(B.ARRAY_BUFFER,this.physVbo),this.physShader.setAttributePointer("a_position",2,0,2),B.bindFramebuffer(B.FRAMEBUFFER,this.getPhysData(1).frameBuffer),B.viewport(0,0,Er,Er),B.drawArrays(B.TRIANGLE_STRIP,0,4),this.useReadpixelWorkaround?this.doReadpixelWorkaround():(B.bindFramebuffer(B.FRAMEBUFFER,this.getPhysData(0).frameBuffer),B.readPixels(0,0,Er,Er,B.RGBA,B.FLOAT,this.physPositions)),this.curPhysData=(this.curPhysData+1)%this.physData.length,this.iterationCount+=1,this.numNodes<2)this.shouldUpdate=!1,this.iterationCount=0;else if(this.iterationCount%5==0){var ye=this.iterationCount<300,Ee=ye?this.getMaxSpeedSquared():this.getMedianSpeedSquared(this.addedNodes);this.lastSpeedValues.push(Ee),this.rollingAvgGraphSpeed=this.lastSpeedValues.reduce(function(Te,ze){return Te+ze},0)/this.lastSpeedValues.length;var Oe=ye&&Ee>=this.rollingAvgGraphSpeed,we=this.simulationStopVelocitySquared&&this.rollingAvgGraphSpeed<this.simulationStopVelocitySquared;this.lastSpeedValues.length>20&&this.lastSpeedValues.shift(),!Oe&&we===!0&&this.iterationCount>2&&this.terminateUpdate()}return this.shouldUpdate}},{key:"terminateUpdate",value:function(){ln.info("Cooling down after ".concat(this.iterationCount," iterations at graph speed of ").concat(Math.sqrt(this.rollingAvgGraphSpeed))),this.shouldUpdate=!1,this.iterationCount=0,this.rollingAvgGraphSpeed=0,this.lastSpeedValues=[],this.addedNodes=null,this.nodeVariation=0}},{key:"getShouldUpdate",value:function(){return this.shouldUpdate}},{key:"getComputing",value:function(){return!1}},{key:"getNodePositions",value:function(O){var B=[];if(this.useReadpixelWorkaround){var N,G=oi(O);try{for(G.s();!(N=G.n()).done;){var X=N.value,W=this.nodeIdToIndex[X.id],ee=X.id,te=void 0,ue=void 0;W!==void 0&&(te=this.workaroundData[0].dataFloat[W],ue=this.workaroundData[1].dataFloat[W]),B.push({id:ee,x:te,y:ue})}}catch(Ye){G.e(Ye)}finally{G.f()}}else{var ye,Ee=oi(O);try{for(Ee.s();!(ye=Ee.n()).done;){var Oe=ye.value,we=this.nodeIdToIndex[Oe.id],Te=Oe.id,ze=void 0,He=void 0;we!==void 0&&(ze=this.physPositions[4*we+0],He=this.physPositions[4*we+1]),B.push({id:Te,x:ze,y:He})}}catch(Ye){Ee.e(Ye)}finally{Ee.f()}}return B}},{key:"reheat",value:function(O){this.setupSize(this.subGraphs[0]),this.shouldUpdate=!0,this.iterationCount=0,this.nodeVariation=O.nodes.length}},{key:"updateNodes",value:function(O){var B=this.gl,N=new Set;B.bindTexture(B.TEXTURE_2D,this.getPhysData().texture);var G,X=oi(O);try{for(X.s();!(G=X.n()).done;){var W=G.value,ee=this.nodeIdToIndex[W.id];if(W.x!==void 0&&W.y!==void 0){Ba[0]=W.x,Ba[1]=W.y,Ba[2]=0,Ba[3]=0;var te=ee%Er,ue=(ee-te)/Er;B.texSubImage2D(B.TEXTURE_2D,0,te,ue,1,1,B.RGBA,B.FLOAT,Ba),this.useReadpixelWorkaround?(this.workaroundData[0].dataFloat[ee]=W.x,this.workaroundData[1].dataFloat[ee]=W.y):(this.physPositions[4*ee+0]=W.x,this.physPositions[4*ee+1]=W.y)}W.pinned!==void 0&&(this.pinData[ee]=W.pinned?255:0),Object.keys(W).forEach(function(ye){return N.add(ye)})}}catch(ye){X.e(ye)}finally{X.f()}N.has("pinned")&&(B.bindTexture(B.TEXTURE_2D,this.pinTexture),B.texImage2D(B.TEXTURE_2D,0,B.ALPHA,Er,Er,0,B.ALPHA,B.UNSIGNED_BYTE,this.pinData)),(N.has("x")||N.has("y")||N.has("size"))&&(this.shouldUpdate=!0,this.iterationCount=0)}},{key:"addRemoveData",value:function(O,B){var N=this.gl;this.numNodes=O.nodes.length,this.physShader.use(),this.physShader.setUniform("u_numNodes",this.numNodes),this.physShader.setUniform("u_baseLength",this.getBaseLength());var G=Nh(O.nodes).nodeIdToIndex,X=new eg(O,G);X.coarsenTo(1);var W=X.subGraphs[0],ee=this.subGraphs[0],te=function($t){return ee.nodes.findIndex(function(Be){return Be.id===$t})},ue=Object.values(B.adds),ye=Object.values(B.removes);this.addedNodes=ue.length>0?{}:null,this.nodeVariation=ue.length+ye.length;for(var Ee,Oe=3*Math.sqrt(O.nodes.length),we={x:0,y:0},Te=W.nodes.length,ze=new Uint8Array(65536),He=0;He<Te;He++){var Ye=0,Ve=0,tt=W.nodes[He];if(Ee=tt.id,!!B.adds[Ee]){if(this.addedNodes[He]=tt.id,Ye=tt.position?tt.position.x:void 0,Ve=tt.position?tt.position.y:void 0,Ye===void 0||Ve===void 0){var Je=X.sunMap,lt=void 0;for(lt=Je[tt.id];lt!==void 0;lt=Je[lt]){var at=te(lt);if(at!==-1){var et=this.getNodePosition(at);Ye=et.x+10*(Math.random()-.5),Ve=et.y+10*(Math.random()-.5);break}}lt===void 0&&(Ye=this.nodeCenterPoint[0]+Oe*(Math.random()-.5),Ve=this.nodeCenterPoint[1]+Oe*(Math.random()-.5))}this.updateData[2*He]=Ye,this.updateData[2*He+1]=Ve,ze[He]=tt.pinned?255:0}else{var gt=te(tt.id),jt=this.getNodePosition(gt);Ye=jt.x,Ve=jt.y,this.updateData[2*He]=gt,this.updateData[2*He+1]=999999,ze[He]=this.pinData[gt]}we.x+=Ye||0,we.y+=Ve||0}this.nodeCenterPoint=Te?[we.x/Te,we.y/Te]:[0,0],this.pinData=ze,this.subGraphs=X.subGraphs,this.nodeSortMap=X.nodeSortMap,this.setupSprings(this.subGraphs[0]),this.setupSize(this.subGraphs[0]);var Kt=Nh(this.subGraphs[0].nodes),Ft=Kt.nodeIdToIndex,sr=Kt.nodeIndexToId;return this.nodeIdToIndex=Ft,this.nodeIndexToId=sr,N.bindTexture(N.TEXTURE_2D,this.updateTexture),N.texImage2D(N.TEXTURE_2D,0,N.ALPHA,Er,Er,0,N.ALPHA,N.FLOAT,this.updateData),ln.info("Setting gravity center to ",this.nodeCenterPoint),this.physShader.setUniform("u_gravityCenter",this.nodeCenterPoint),this.updateShader.use(),this.updateShader.setUniform("u_numNodesNew",W.nodes.length),this.updateShader.setUniform("u_physData",this.getPhysData(0).texture),this.updateShader.setUniform("u_updateData",this.updateTexture),N.disable(N.BLEND),N.bindBuffer(N.ARRAY_BUFFER,this.physVbo),this.updateShader.setAttributePointer("a_position",2,0,2),N.bindFramebuffer(N.FRAMEBUFFER,this.getPhysData(1).frameBuffer),N.viewport(0,0,Er,Er),N.drawArrays(N.TRIANGLE_STRIP,0,4),this.curPhysData=(this.curPhysData+1)%this.physData.length,this.useReadpixelWorkaround?this.doReadpixelWorkaround():(N.bindFramebuffer(N.FRAMEBUFFER,this.getPhysData().frameBuffer),N.readPixels(0,0,Er,Er,N.RGBA,N.FLOAT,this.physPositions)),(ue.length>0||ye.length>0)&&(N.bindTexture(N.TEXTURE_2D,this.pinTexture),N.texImage2D(N.TEXTURE_2D,0,N.ALPHA,Er,Er,0,N.ALPHA,N.UNSIGNED_BYTE,this.pinData)),this.shouldUpdate=!0,this.iterationCount=0,this.setupPhysicsForCoarse(),this.subGraphs[0]}},{key:"destroy",value:function(){var O=this;this.gl.deleteBuffer(this.physVbo),this.gl.deleteBuffer(this.physSmallVbo),this.physData.forEach(function(B){O.gl.deleteFramebuffer(B.frameBuffer),O.gl.deleteTexture(B.texture)}),this.levelsData.forEach(function(B){O.gl.deleteFramebuffer(B.frameBuffer),O.gl.deleteTexture(B.texture)}),this.levelsClusterTexture.forEach(function(B){O.gl.deleteTexture(B)}),this.levelsFinestIndexTexture.forEach(function(B){O.gl.deleteTexture(B)}),this.gl.deleteTexture(this.initalLevelTexture),this.gl.deleteTexture(this.sizeTexture),this.gl.deleteTexture(this.offsetTexture),this.gl.deleteTexture(this.springTexture),this.gl.deleteTexture(this.pinTexture),this.gl.deleteTexture(this.updateTexture),this.apprxRepForceShader!==void 0&&this.apprxRepForceShader.remove(),this.updateShader!==void 0&&this.updateShader.remove(),this.physShader!==void 0&&this.physShader.remove(),this.physPositions=null,this.gl=null,this.stateDisposers.forEach(function(B){B()}),this.state.nodes.removeChannel(ja),this.state.rels.removeChannel(ja)}},{key:"dumpTexture",value:function(O,B,N){var G=this.gl;ln.info("--- Dumping texture ",N),G.bindFramebuffer(G.FRAMEBUFFER,O),G.readPixels(0,0,Er,Er,G.RGBA,G.FLOAT,this.physPositions);for(var X=0;X<B;X++)ln.info(X,": ",this.physPositions[4*X+0],this.physPositions[4*X+1],this.physPositions[4*X+2],this.physPositions[4*X+3])}},{key:"getScaleNumber",value:function(O){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(N,G,X){return X+Math.pow(10,6)*Math.pow(N-120,-1.7)};return O===0?0:O<300?200+-1/Math.pow(10,5)*3*Math.pow(Math.abs(O-200+12),3):B(O,200,10)}},{key:"getBaseLength",value:function(O){if(O===void 0||O===this.numNodes)return 100*this.dpr;var B=Math.pow(this.averageNodeSize/2,2)*Math.PI,N=this.numNodes/O*B;return(100+Math.sqrt(N/Math.PI)/2/O)*this.dpr}},{key:"checkForUpdates",value:function(){var O=arguments.length>0&&arguments[0]!==void 0&&arguments[0],B=this.state,N=B.nodes,G=B.rels,X={nodes:N.items,rels:G.items},W=Object.values(N.channels[ja].adds).length>0,ee=Object.values(G.channels[ja].adds).length>0,te=Object.values(N.channels[ja].removes).length>0,ue=Object.values(G.channels[ja].removes).length>0,ye=Object.values(N.channels[ja].updates);(W||ee||te||ue)&&this.addRemoveData(X,{adds:N.channels[ja].adds,removes:N.channels[ja].removes}),O?(this.updateNodes(X.nodes),this.reheat(X)):ye.length>0&&(this.updateNodes(ye),xe(ye)&&this.reheat(X)),N.clearChannel(ja),G.clearChannel(ja)}},{key:"getNodePosition",value:function(O){return this.useReadpixelWorkaround?{x:this.workaroundData[0].dataFloat[O],y:this.workaroundData[1].dataFloat[O]}:{x:this.physPositions[4*O+0],y:this.physPositions[4*O+1]}}},{key:"getMaxSpeedSquared",value:function(){var O=0;if(this.useReadpixelWorkaround)for(var B=0;B<this.numNodes;B++){var N=this.workaroundData[2].dataFloat[B],G=this.workaroundData[3].dataFloat[B],X=N*N+G*G;X>O&&(O=X)}else for(var W=0;W<this.numNodes;W++){var ee=this.physPositions[4*W+2],te=this.physPositions[4*W+3],ue=ee*ee+te*te;ue>O&&(O=ue)}return O}},{key:"getMedianSpeedSquared",value:function(O){var B=[];if(this.useReadpixelWorkaround)for(var N=0;N<this.numNodes;N++){var G=this.workaroundData[2].dataFloat[N],X=this.workaroundData[3].dataFloat[N],W=G*G+X*X;B[N]=W}else for(var ee=0;ee<this.numNodes;ee++)if(!O||O[ee]){var te=this.physPositions[4*ee+2],ue=this.physPositions[4*ee+3],ye=te*te+ue*ue;B.push(ye)}return B.sort(function(Ee,Oe){return Ee-Oe}),B[Math.floor(B.length/2)]}},{key:"getPhysData",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.physData[(this.curPhysData+O)%this.physData.length]}},{key:"newTexture",value:function(O,B,N){var G=arguments.length>3&&arguments[3]!==void 0?arguments[3]:O.FLOAT,X=arguments.length>4&&arguments[4]!==void 0?arguments[4]:O.RGBA,W=O.createTexture();return O.bindTexture(O.TEXTURE_2D,W),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MIN_FILTER,O.NEAREST),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MAG_FILTER,O.NEAREST),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_WRAP_S,O.CLAMP_TO_EDGE),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_WRAP_T,O.CLAMP_TO_EDGE),O.texImage2D(O.TEXTURE_2D,0,X,N,N,0,X,G,B),W}},{key:"newFramebuffer",value:function(O,B){var N=O.createFramebuffer();return O.bindFramebuffer(O.FRAMEBUFFER,N),O.framebufferTexture2D(O.FRAMEBUFFER,O.COLOR_ATTACHMENT0,O.TEXTURE_2D,B,0),N}},{key:"checkCompatibility",value:function(O){function B(te){throw new Yl(te)}O||B("Could not initialize WebGL"),O.getParameter(O.MAX_VERTEX_TEXTURE_IMAGE_UNITS)===0&&B("Vertex shader texture access not available"),O.getExtension("OES_texture_float")||B("OES_texture_float extension not available"),O.getExtension("WEBGL_color_buffer_float")||(ln.info("gl.readPixels doesnt work for float texture, activating workaround"),this.useReadpixelWorkaround=!0);var N=O.getParameter(O.MAX_TEXTURE_SIZE),G=Math.max(Er,_o);if(N<G&&B("Need larger WebGL texture support. Avaliable: ".concat(N," needed: ").concat(G)),!this.useReadpixelWorkaround){var X=new Float32Array(4),W=this.newTexture(O,X,1),ee=this.newFramebuffer(O,W);O.bindFramebuffer(O.FRAMEBUFFER,ee),O.readPixels(0,0,1,1,O.RGBA,O.FLOAT,X),O.getError()!==O.NO_ERROR&&(ln.info("gl.readPixels doesnt work for float texture, activating workaround"),this.useReadpixelWorkaround=!0),O.bindFramebuffer(O.FRAMEBUFFER,null),O.deleteFramebuffer(ee),O.deleteTexture(W)}}},{key:"printGlStats",value:function(O){var B="?",N="?";if(O.getParameter(O.RENDERER))N=O.getParameter(O.RENDERER),B=O.getParameter(O.VENDOR);else{var G=O.getExtension("WEBGL_debug_renderer_info");G&&(B=O.getParameter(G.UNMASKED_VENDOR_WEBGL),N=O.getParameter(G.UNMASKED_RENDERER_WEBGL))}ln.trace("Vendor: ".concat(B)),ln.trace("Renderer: ".concat(N));var X=O.getParameter(O.ALIASED_LINE_WIDTH_RANGE);ln.trace("Line width range: ".concat(X));var W=O.getSupportedExtensions();ln.trace("Extentions:"),W.length>0&&W.forEach(function(ee){return ln.trace(ee)})}},{key:"adjustToGlSize",value:function(O){return O*this.dpr*2.5}},{key:"setupSize",value:function(){for(var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{nodes:[]},B=new Float32Array(65536),N=O.nodes,G=N.length,X=0,W=0;W<G;W++){var ee,te=parseInt((ee=N[W].size)!==null&&ee!==void 0?ee:ra,10);B[W]=this.adjustToGlSize(te),X+=te}this.averageNodeSize=G?X/G:ra;var ue=this.gl;this.sizeTexture===void 0&&(this.sizeTexture=ue.createTexture()),ue.bindTexture(ue.TEXTURE_2D,this.sizeTexture),ue.texImage2D(ue.TEXTURE_2D,0,ue.ALPHA,Er,Er,0,ue.ALPHA,ue.FLOAT,B),ue.texParameteri(ue.TEXTURE_2D,ue.TEXTURE_MAG_FILTER,ue.NEAREST),ue.texParameteri(ue.TEXTURE_2D,ue.TEXTURE_MIN_FILTER,ue.NEAREST),ue.texParameteri(ue.TEXTURE_2D,ue.TEXTURE_WRAP_S,ue.CLAMP_TO_EDGE),ue.texParameteri(ue.TEXTURE_2D,ue.TEXTURE_WRAP_T,ue.CLAMP_TO_EDGE)}},{key:"setupSprings",value:function(O){var B,N,G=this.gl,X=O.relationships,W=new Float32Array(16777216),ee=new Float32Array(65536),te=0;for(B=0;B<O.nodes.length;B++)for(ee[B]=te,W[te]=X[B].length,te+=1,N=0;N<X[B].length;N++)W[te]=X[B][N],te+=1;for(N=te;N<W.length;N++)W[N]=1;for(N=B;N<ee.length;N++)ee[N]=0;this.offsetTexture===void 0&&(this.offsetTexture=G.createTexture()),G.bindTexture(G.TEXTURE_2D,this.offsetTexture),G.texImage2D(G.TEXTURE_2D,0,G.ALPHA,Er,Er,0,G.ALPHA,G.FLOAT,ee),G.texParameteri(G.TEXTURE_2D,G.TEXTURE_MAG_FILTER,G.NEAREST),G.texParameteri(G.TEXTURE_2D,G.TEXTURE_MIN_FILTER,G.NEAREST),G.texParameteri(G.TEXTURE_2D,G.TEXTURE_WRAP_S,G.CLAMP_TO_EDGE),G.texParameteri(G.TEXTURE_2D,G.TEXTURE_WRAP_T,G.CLAMP_TO_EDGE),this.springTexture===void 0&&(this.springTexture=G.createTexture()),G.bindTexture(G.TEXTURE_2D,this.springTexture),G.texImage2D(G.TEXTURE_2D,0,G.ALPHA,_o,_o,0,G.ALPHA,G.FLOAT,W),G.texParameteri(G.TEXTURE_2D,G.TEXTURE_MAG_FILTER,G.NEAREST),G.texParameteri(G.TEXTURE_2D,G.TEXTURE_MIN_FILTER,G.NEAREST),G.texParameteri(G.TEXTURE_2D,G.TEXTURE_WRAP_S,G.CLAMP_TO_EDGE),G.texParameteri(G.TEXTURE_2D,G.TEXTURE_WRAP_T,G.CLAMP_TO_EDGE)}},{key:"setupPhysics",value:function(){this.setupPhysicsForCoarse(),this.setupPhysicsForNodes(),this.physPositions=new Float32Array(262144),this.setupPinData()}},{key:"setupPhysicsForNodes",value:function(){var O=this.gl,B=this.subGraphs.length,N=this.subGraphs[0].nodes,G=3*Math.sqrt(N.length),X=new Float32Array(262144),W=new Float32Array(262144);this.numNodes=N.length;for(var ee=0;ee<262144;ee++)X[ee]=0,W[ee]=0;for(var te=function(ze,He,Ye,Ve){Ve[4*ze+0]=He,Ve[4*ze+1]=Ye,Ve[4*ze+2]=0,Ve[4*ze+3]=0},ue=B-1;ue>=0;ue--){var ye=ue===B-1?[]:this.subGraphs[ue+1].nodes;ye.length===0?this.subGraphs[ue].nodes.forEach(function(ze,He){var Ye=ze.placement?ze.placement.x:G*(Math.random()-.5),Ve=ze.placement?ze.placement.y:G*(Math.random()-.5);te(ze.finestIndex===void 0?He:ze.finestIndex,Ye,Ve,X)}):ye.forEach(function(ze){var He=ze.finestIndex,Ye=X[4*ze.finestIndex],Ve=X[4*ze.finestIndex+1],tt=Nd({x:Ye,y:Ve},10,ze.planets.length+1);He+=1,ze.planets.forEach(function(Je,lt){var at=tt[lt];te(He+=1,at.x,at.y,X);var et=Nd({x:at.x,y:at.y},10,Je.moons.length+1);Je.moons.forEach(function(gt,jt){var Kt=et[jt];te(He+=1,Kt.x,Kt.y,X)})})})}this.physData=[];for(var Ee=0;Ee<2;Ee++){var Oe=this.newTexture(O,Ee===0?X:W,Er),we=this.newFramebuffer(O,Oe);this.physData.push({texture:Oe,frameBuffer:we})}var Te=this.enableVerlet?`precision mediump float;

uniform sampler2D u_physData;
uniform sampler2D u_connections;
uniform sampler2D u_connectionOffsets;
uniform sampler2D u_pinnedNodes;
uniform sampler2D u_sizeTexture;
uniform float u_baseLength;
uniform float u_curIteration;
uniform float u_iterationMultiplier;
uniform vec2 u_gravityCenter;
uniform float u_numNodes;
uniform float u_gravity;

uniform sampler2D u_clusterData;
uniform sampler2D u_prevForce;
uniform float u_collisionMultiplier;


float DAMP = 0.6;
float COOL = 0.99998;
float TEMP = max(0.02, pow(COOL, u_curIteration));
float TIMESTEP = 1.0 / 30.0;
float VELOCITYDECAY = 0.6;
float accLimitLow = 500000.0;
float accLimitHigh = 750000.0;
float accLimitPosHigh = 10000000.0;

const float denseNodeThreshold = 1000.0;
const float MIN_DISTANCE = 0.00000001;
const float MAX_DISTANCE = 1000000000.0;
const float MAX_ACCELERATION = 50000.0;

vec4 getTextureData(sampler2D texture, float index, float base) {
  float x = mod(index, base);
  float y = (index - x) / base;
  return texture2D(texture, vec2(x + 0.5, y + 0.5) / base);
}

bool isNan(float val) {
  return (val < 0.0 || 0.0 < val || val == 0.0) ? false : true;
}

const float BIG_NUMBER = 999999999999999999.0;
bool isInf(float val) {
  return val > BIG_NUMBER || val < -BIG_NUMBER;
}

vec2 getDelta(vec2 v1, vec2 v2) {
  vec2 delta = v1 - v2;
  float dist = length(delta);
  if (dist < MIN_DISTANCE || isNan(dist)) {
    return vec2(MIN_DISTANCE, MIN_DISTANCE);
  }
  if (dist > MAX_DISTANCE) {
    vec2 normDelta = delta / dist;
    return normDelta * MAX_DISTANCE;
  }
  return delta;
}

vec4 getOtherNodePosition(float i) {
  return getTextureData(u_physData, i, 256.0);
}

float getCombinedNodeSize(float i, float nodeSize) {
  float otherNodeSize = getTextureData(u_sizeTexture, i, 256.0).a;
  return nodeSize + otherNodeSize;
}

vec2 getSpringForce(float curConnection, float numConnections, float springFScale, vec4 myPosition, float i) {
  float curSpring = getTextureData(u_connections, curConnection + i, 4096.0).a;

  vec4 otherPosition = getTextureData(u_physData, curSpring, 256.0);
  float otherDataPosition = getTextureData(u_connectionOffsets, curSpring, 256.0).a;
  float avgDegree;
#if INTEL_WORKAROUND
    avgDegree = max(numConnections, 4.0);
#else
    float otherNumConnections = getTextureData(u_connections, otherDataPosition, 4096.0).a;
    avgDegree = max((otherNumConnections + numConnections * 3.0) / 4.0, 4.0);
#endif

  vec2 delta = getDelta(myPosition.xy, otherPosition.xy);
  float dist = length(delta);

  float F = (dist * dist * springFScale) / (u_baseLength * avgDegree);
  if (u_collisionMultiplier > 0.0) {
    F *= u_collisionMultiplier;
  }
  return (-delta / dist) * F;
}

vec2 getCollisionForce(float combinedNodeSize, float dist, float fScale, vec2 delta) {
  float collisionForce = (combinedNodeSize - dist) / (dist);
  if (u_collisionMultiplier > 0.0) {
    collisionForce *= u_collisionMultiplier;
  }
  return (delta * collisionForce * fScale * combinedNodeSize) / (combinedNodeSize + 1.0);
}

vec2 getRepulsionForce(float dist, float fScale, vec2 delta) {
  float F = (u_baseLength * u_baseLength * fScale) / (dist);
  return (delta / dist) * F * 0.05;
}

void main(void) {
  float textureSide = 256.0; //#TEXTURE_SIDE#;
  float index = (gl_FragCoord.x - 0.5) + (gl_FragCoord.y - 0.5) * textureSide;

  if (index >= u_numNodes) {
    discard;
  }

  vec4 clusterData = getTextureData(u_clusterData, index, 256.0);

  float clusterIndex = clusterData.x;
  float clusterStartIndex = clusterData.y;
  float clusterSize = clusterData.z;
  float clusterWeight = clusterData.w;

  vec4 myPosition = getTextureData(u_physData, index, 256.0);
  vec4 previousForce = getTextureData(u_prevForce, clusterIndex, 256.0);

  vec2 acceleration = previousForce.xy;

  float isPinned = getTextureData(u_pinnedNodes, index, 256.0).a;
  float nodeSize = getTextureData(u_sizeTexture, index, 256.0).a;

  if (isPinned > 0.5) {
    gl_FragColor = vec4(myPosition.xy, 0.0, 0.0);
    return;
  }

  float curConnection = getTextureData(u_connectionOffsets, index, 256.0).a;
  float numConnections = getTextureData(u_connections, curConnection, 4096.0).a;

  float fScale = 1.0 + sqrt(u_iterationMultiplier);
  float springFScale = fScale;

  if (numConnections > denseNodeThreshold) {
    springFScale = sqrt(fScale);
  }

  float numOfRels = 0.0;

  // Springs
  for (float i = 1.0; i <= 256.0 * 256.0; i++) {
    if (numOfRels >= numConnections) {
      break;
    }
    acceleration += getSpringForce(curConnection, numConnections, springFScale, myPosition, i);
    numOfRels += 1.0;
  }

  // Repulsion && collision detection
  if (u_collisionMultiplier > 0.0) {
    float number_of_collisions = 0.0;
    for (float i = 0.0; i < 256.0 * 256.0; i++) {
      if (i >= u_numNodes) {
        break;
      }

      if (i == index) {
        continue;
      }

      vec4 otherPosition = getOtherNodePosition(i);
      vec2 delta = getDelta(myPosition.xy, otherPosition.xy);
      float dist = length(delta);
      float combinedNodeSize = getCombinedNodeSize(i, nodeSize) * 2.0;

      if (dist < combinedNodeSize && number_of_collisions < 40.0) {
        number_of_collisions++;
        acceleration += getCollisionForce(combinedNodeSize, dist, fScale, delta);
      }

      if (i >= clusterStartIndex && i < clusterStartIndex + clusterSize) {
        acceleration += getRepulsionForce(dist, fScale, delta);
      }
    }
  } else {
    for (float i = 0.0; i < 256.0 * 256.0; i++) {
      if (i >= clusterStartIndex + clusterSize || i >= u_numNodes) {
        break;
      }

      if (i < clusterStartIndex || i == index) {
        continue;
      }

      vec4 otherPosition = getOtherNodePosition(i);
      vec2 delta = getDelta(myPosition.xy, otherPosition.xy);
      float dist = length(delta);
      float combinedNodeSize = getCombinedNodeSize(i, nodeSize);

      if (dist < combinedNodeSize) {
        acceleration += getCollisionForce(combinedNodeSize, dist, fScale, delta);
      }

      acceleration += getRepulsionForce(dist, fScale, delta);
    }
  }

  // Gravity
  vec2 delta = getDelta(u_gravityCenter, myPosition.xy);
  float dist = length(delta);

  vec2 grav = (delta / dist) * u_gravity * fScale;
  acceleration += grav * smoothstep(0.0, 500.0, dist);

  float accMagnitude = length(acceleration);
  acceleration *= min(MAX_ACCELERATION, accMagnitude) / accMagnitude;

  float iterationFrictionThreshold = 1000.0;

  if (u_curIteration > iterationFrictionThreshold) {
    float friction = 1.0 + pow((u_curIteration - iterationFrictionThreshold), 2.0) / 100.0;
    acceleration *= 1.0 / friction;
  }

  if (u_curIteration == 0.0) {
    gl_FragColor = vec4(myPosition.xy, myPosition.zw);
  } else {
    vec2 prevVelocity = myPosition.zw;
    vec2 currentPos = myPosition.xy;
    vec2 prevPos = currentPos - prevVelocity;

    vec2 newPos = currentPos + TEMP * ( DAMP * (prevVelocity) + acceleration * TIMESTEP * TIMESTEP);
    vec2 newVelocity = newPos - currentPos;
    gl_FragColor = vec4(newPos, newVelocity);
  }
}`:`precision mediump float;

uniform sampler2D u_physData;
uniform sampler2D u_connections;
uniform sampler2D u_connectionOffsets;
uniform sampler2D u_pinnedNodes;
uniform sampler2D u_sizeTexture;
uniform float u_baseLength;
uniform float u_curIteration;
uniform float u_iterationMultiplier;
uniform vec2 u_gravityCenter;
uniform float u_numNodes;
uniform float u_gravity;

uniform sampler2D u_clusterData;
uniform sampler2D u_prevForce;
uniform float u_collisionMultiplier;

float TIMESTEP = 1.0 / 30.0;
float VELOCITYDECAY = 0.6;
float accLimitLow = 500000.0;
float accLimitHigh = 750000.0;
float accLimitPosHigh = 10000000.0;

const float denseNodeThreshold = 1000.0;
const float MIN_DISTANCE = 0.00000001;
const float MAX_DISTANCE = 1000000000.0;
const float MAX_ACCELERATION = 500000.0;

vec4 getTextureData(sampler2D texture, float index, float base) {
  float x = mod(index, base);
  float y = (index - x) / base;
  return texture2D(texture, vec2(x + 0.5, y + 0.5) / base);
}

bool isNan(float val) {
  return (val < 0.0 || 0.0 < val || val == 0.0) ? false : true;
}

const float BIG_NUMBER = 999999999999999999.0;
bool isInf(float val) {
  return val > BIG_NUMBER || val < -BIG_NUMBER;
}

vec2 getDelta(vec2 v1, vec2 v2) {
  vec2 delta = v1 - v2;
  float dist = length(delta);
  if (dist < MIN_DISTANCE || isNan(dist)) {
    return vec2(MIN_DISTANCE, MIN_DISTANCE);
  }
  if (dist > MAX_DISTANCE) {
    vec2 normDelta = delta / dist;
    return normDelta * MAX_DISTANCE;
  }
  return delta;
}

vec4 getOtherNodePosition(float i) {
  return getTextureData(u_physData, i, 256.0);
}

float getCombinedNodeSize(float i, float nodeSize) {
  float otherNodeSize = getTextureData(u_sizeTexture, i, 256.0).a;
  return nodeSize + otherNodeSize;
}

vec2 getSpringForce(float curConnection,  float numConnections, float springFScale, vec4 myPosition, float i) {
  float curSpring = getTextureData(u_connections, curConnection + i, 4096.0).a;

  vec4 otherPosition = getTextureData(u_physData, curSpring, 256.0);
  float otherDataPosition = getTextureData(u_connectionOffsets, curSpring, 256.0).a;
  float avgDegree;
#if INTEL_WORKAROUND
    avgDegree = max(numConnections, 4.0);
#else
    float otherNumConnections = getTextureData(u_connections, otherDataPosition, 4096.0).a;
    avgDegree = max((otherNumConnections + numConnections * 3.0) / 4.0, 4.0);
#endif

  vec2 delta = getDelta(myPosition.xy, otherPosition.xy);
  float dist = length(delta);

  float F = (dist * dist * springFScale) / (u_baseLength * avgDegree);
  if (u_collisionMultiplier > 0.0) {
    F *= u_collisionMultiplier;
  }
  return (-delta / dist) * F;
}

vec2 getCollisionForce(float combinedNodeSize, float dist, float fScale, vec2 delta) {
  float collisionForce = ((combinedNodeSize - dist) / dist);
  if (u_collisionMultiplier > 0.0) {
    collisionForce *= u_collisionMultiplier;
  }
  return (delta * collisionForce * fScale * combinedNodeSize) / (combinedNodeSize + 1.0);
}

vec2 getRepulsionForce(float dist, float fScale, vec2 delta) {
  float F = (u_baseLength * u_baseLength * (fScale / 1.5)) / dist;
  return (delta / dist) * F * 0.05;
}

void main(void) {
  float textureSide = 256.0; //#TEXTURE_SIDE#;
  float index = (gl_FragCoord.x - 0.5) + (gl_FragCoord.y - 0.5) * textureSide;

  if (index >= u_numNodes) {
    discard;
  }

  vec4 clusterData = getTextureData(u_clusterData, index, 256.0);

  float clusterIndex = clusterData.x;
  float clusterStartIndex = clusterData.y;
  float clusterSize = clusterData.z;
  float clusterWeight = clusterData.w;

  vec4 myPosition = getTextureData(u_physData, index, 256.0);
  vec4 previousForce = getTextureData(u_prevForce, clusterIndex, 256.0);

  vec2 acceleration = previousForce.xy;

  float isPinned = getTextureData(u_pinnedNodes, index, 256.0).a;
  float nodeSize = getTextureData(u_sizeTexture, index, 256.0).a;

  if (isPinned > 0.5) {
    gl_FragColor = vec4(myPosition.xy, 0.0, 0.0);
    return;
  }

  float curConnection = getTextureData(u_connectionOffsets, index, 256.0).a;
  float numConnections = getTextureData(u_connections, curConnection, 4096.0).a;

  float fScale = 1.0 + sqrt(u_iterationMultiplier);
  float springFScale = fScale;

  if (numConnections > denseNodeThreshold) {
    springFScale = sqrt(fScale);
  }

  float numOfRels = 0.0;

  // Springs
  for (float i = 1.0; i <= 256.0 * 256.0; i++) {
    if (numOfRels >= numConnections) {
      break;
    }
    acceleration += getSpringForce(curConnection, numConnections, springFScale, myPosition, i);
    numOfRels += 1.0;
  }

  // Repulsion && collision detection
  if (u_collisionMultiplier > 0.0) {
    float number_of_collisions = 0.0;
    for (float i = 0.0; i < 256.0 * 256.0; i++) {
      if (i >= u_numNodes) {
        break;
      }

      if (i == index) {
        continue;
      }

      vec4 otherPosition = getOtherNodePosition(i);
      vec2 delta = getDelta(myPosition.xy, otherPosition.xy);
      float dist = length(delta);
      float combinedNodeSize = getCombinedNodeSize(i, nodeSize) * 2.0;

      if (dist < combinedNodeSize && number_of_collisions < 40.0) {
        number_of_collisions++;
        acceleration += getCollisionForce(combinedNodeSize, dist, fScale, delta);
      }

      if (i >= clusterStartIndex && i < clusterStartIndex + clusterSize) {
        acceleration += getRepulsionForce(dist, fScale, delta);
      }
    }
  } else {
    for (float i = 0.0; i < 256.0 * 256.0; i++) {
      if (i >= clusterStartIndex + clusterSize || i >= u_numNodes) {
        break;
      }

      if (i < clusterStartIndex || i == index) {
        continue;
      }

      vec4 otherPosition = getOtherNodePosition(i);
      vec2 delta = getDelta(myPosition.xy, otherPosition.xy);
      float dist = length(delta);
      float combinedNodeSize = getCombinedNodeSize(i, nodeSize);

      if (dist < combinedNodeSize) {
        acceleration += getCollisionForce(combinedNodeSize, dist, fScale, delta);
      }

      acceleration += getRepulsionForce(dist, fScale, delta);
    }
  }

  // Gravity
  vec2 delta = getDelta(u_gravityCenter, myPosition.xy);
  float dist = length(delta);

  vec2 grav = (delta / dist) * u_gravity * fScale;
  acceleration += grav * smoothstep(0.0, 500.0, dist);

  float accMagnitude = length(acceleration);
  acceleration *= min(MAX_ACCELERATION, accMagnitude) / accMagnitude;

  float iterationFrictionThreshold = 1000.0;

  if (u_curIteration > iterationFrictionThreshold) {
    float friction = 1.0 + pow((u_curIteration - iterationFrictionThreshold), 2.0) / 100.0;
    acceleration *= 1.0 / friction;
  }

  if (u_curIteration == 0.0) {
    gl_FragColor = vec4(myPosition.xy, acceleration * TIMESTEP * 0.5);
  } else {
    myPosition.zw = myPosition.zw * VELOCITYDECAY;
    gl_FragColor = vec4(myPosition.xy + myPosition.zw * TIMESTEP, myPosition.zw + acceleration * TIMESTEP);
  }
}`;this.physShader=new bs(O,xl,Te,{INTEL_WORKAROUND:this.intelWorkaround?1:0}),this.physShader.use(),this.physShader.setUniform("u_projection",this.physProjection),this.physShader.setUniform("u_baseLength",this.getBaseLength()),this.physShader.setUniform("u_connections",this.springTexture),this.physShader.setUniform("u_sizeTexture",this.sizeTexture),this.physShader.setUniform("u_connectionOffsets",this.offsetTexture),this.physShader.setUniform("u_pinnedNodes",this.pinTexture),this.physShader.setUniform("u_gravityCenter",this.nodeCenterPoint),this.physShader.setUniform("u_numNodes",this.numNodes),this.physShader.setUniform("u_gravity",this.gravity)}},{key:"setupPhysicsForCoarse",value:function(){var O=this,B=this.gl;this.levelsData=[],this.levelsClusterTexture=[],this.levelsFinestIndexTexture=[];var N,G,X=this.subGraphs.length,W=function(we,Te,ze,He,Ye){N[4*we+0]=Te,N[4*we+1]=ze,N[4*we+2]=Ye.size(),N[4*we+3]=He||1};if(X===1){N=new Float32Array(262144);var ee=this.subGraphs[0].nodes;ee.forEach(function(we,Te){W(Te,0,0,we.weight,{size:function(){return ee.length}})}),this.levelsClusterTexture[0]=this.newTexture(B,N,hu)}else for(var te=function(){var we=O.subGraphs[ue].nodes,Te=ue===O.subGraphs.length-1?[]:O.subGraphs[ue+1].nodes;N=new Float32Array(262144),G=new Float32Array(65536);var ze=0;if(Te.length>0){var He=Te.slice();He.sort(function(tt,Je){return tt.previousIndex-Je.previousIndex}),He.forEach(function(tt,Je){var lt=ze,at=Te.indexOf(tt);W(ze,at,lt,we[tt.id].weight,tt),G[ze]=we[ze].finestIndex,ze+=1,tt.planets.forEach(function(et){W(ze,at,lt,et.weight,tt),G[ze]=we[ze].finestIndex,ze+=1,et.moons.forEach(function(gt){W(ze,at,lt,gt.weight,tt),G[ze]=we[ze].finestIndex,ze+=1})})})}else we.forEach(function(tt,Je){W(Je,0,0,tt.weight,{size:function(){return we.length}}),G[Je]=we[Je].finestIndex});var Ye=O.newTexture(B,null,hu),Ve=O.newFramebuffer(B,Ye);O.levelsData[ue]={texture:Ye,frameBuffer:Ve},O.levelsClusterTexture[ue]=O.newTexture(B,N,hu),O.levelsFinestIndexTexture[ue]=O.newTexture(B,G,Er,B.FLOAT,B.ALPHA)},ue=this.subGraphs.length-1;ue>=0;ue--)te();for(var ye=new Float32Array(262144),Ee=0;Ee<ye.length;Ee++)ye[Ee]=0;this.initalLevelTexture=this.newTexture(B,ye,hu);var Oe=this.enableVerlet?`precision mediump float;
uniform sampler2D u_physData;
uniform sampler2D u_clusterData;
uniform sampler2D u_finestIndexes;
uniform sampler2D u_prevForce;

uniform float u_baseLength;
uniform float u_numNodes;
uniform float u_iterationMultiplier;
uniform float u_isTopLevel;

float PI = 3.1415926535897932384626433832795;
float TIMESTEP = 1.0 / 30.0;
float VELOCITYDECAY = 1.0;

vec4 getTextureData(sampler2D texture, float index, float base) {
  float x = mod(index, base);
  float y = (index - x) / base;
  return texture2D(texture, vec2(x + 0.5, y + 0.5) / base);
}

float getSquaredLogClusterWeight(float value) {
  return pow(log(value), 2.0);
}

void main(void) {
  float index = (gl_FragCoord.x - 0.5) + (gl_FragCoord.y - 0.5) * 256.0;

  if (index >= u_numNodes) {
    discard;
  }

  vec4 clusterData = getTextureData(u_clusterData, index, 256.0);

  float clusterIndex = clusterData.x;
  float clusterStartIndex = clusterData.y;
  float clusterSize = clusterData.z;
  float clusterArea = pow(clusterSize + u_baseLength * 2.0, 2.0);

  float finestIndex = getTextureData(u_finestIndexes, index, 256.0).a;
  vec4 myPosition = getTextureData(u_physData, finestIndex, 256.0);
  vec4 previousForce = getTextureData(u_prevForce, clusterIndex, 256.0);
  float fScale = 1.0 + sqrt(u_iterationMultiplier);

  vec2 acceleration = previousForce.xy;

  // Repulsion & Collision Detection
  for (float i = 0.0; i < 256.0 * 256.0; i++) {
    if (i >= clusterStartIndex + clusterSize || i >= u_numNodes) {
      break;
    }
    if (i < clusterStartIndex || i == index) {
      continue;
    }

    vec4 otherClusterData = getTextureData(u_clusterData, i, 256.0);
    float otherClusterWeight = getSquaredLogClusterWeight(otherClusterData.w);

    float otherFinestIndex = getTextureData(u_finestIndexes, i, 256.0).a;
    vec4 otherPosition = getTextureData(u_physData, otherFinestIndex, 256.0);

    vec2 delta = myPosition.xy - otherPosition.xy;
    float dist = max(length(delta), 0.0000001);
    float maxDist = 25.0;
    float repulsionForceScale = 0.1;

    float F = (clusterArea * fScale) / (dist * dist);

    if (u_isTopLevel == 1.0) {
      repulsionForceScale = 0.2;
    }

    acceleration += ((delta / sqrt(dist)) * F) * repulsionForceScale * otherClusterWeight;

    if (dist < maxDist) {
      float collide = (maxDist - dist) / (dist * dist);
      acceleration += delta * collide * fScale * maxDist / (maxDist + 1.0);
    }
  }

  gl_FragColor = vec4(acceleration, vec2(finestIndex, 0));
}`:`precision mediump float;
uniform sampler2D u_physData;
uniform sampler2D u_clusterData;
uniform sampler2D u_finestIndexes;
uniform sampler2D u_prevForce;

uniform float u_baseLength;
uniform float u_numNodes;
uniform float u_iterationMultiplier;
uniform float u_isTopLevel;

float TIMESTEP = 1.0 / 30.0;
float VELOCITYDECAY = 0.6;

vec4 getTextureData(sampler2D texture, float index, float base) {
  float x = mod(index, base);
  float y = (index - x) / base;
  return texture2D(texture, vec2(x + 0.5, y + 0.5) / base);
}

float getLogClusterWeight(float value) {
  return value / max(log(value), 1.0);
}

void main(void) {
  float index = (gl_FragCoord.x - 0.5) + (gl_FragCoord.y - 0.5) * 256.0;

  if (index >= u_numNodes) {
    discard;
  }

  vec4 clusterData = getTextureData(u_clusterData, index, 256.0);

  float clusterIndex = clusterData.x;
  float clusterStartIndex = clusterData.y;
  float clusterSize = clusterData.z;

  float finestIndex = getTextureData(u_finestIndexes, index, 256.0).a;
  vec4 myPosition = getTextureData(u_physData, finestIndex, 256.0);
  vec4 previousForce = getTextureData(u_prevForce, clusterIndex, 256.0);
  float fScale = 1.0 + sqrt(u_iterationMultiplier);

  vec2 acceleration = previousForce.xy;

  // Repulsion & Collision Detection
  for (float i = 0.0; i < 256.0 * 256.0; i++) {
    if (i >= clusterStartIndex + clusterSize || i >= u_numNodes) {
      break;
    }
    if (i < clusterStartIndex || i == index) {
      continue;
    }

    vec4 otherClusterData = getTextureData(u_clusterData, i, 256.0);
    float otherClusterWeight = getLogClusterWeight(otherClusterData.w);

    float otherFinestIndex = getTextureData(u_finestIndexes, i, 256.0).a;
    vec4 otherPosition = getTextureData(u_physData, otherFinestIndex, 256.0);

    vec2 delta = myPosition.xy - otherPosition.xy;
    float dist = max(length(delta), 0.0000001);
    float maxDist = 25.0;
    float repulsionForceScale = 0.1;

    float F = ((u_baseLength * u_baseLength) * (fScale / 1.5)) / dist;

    if (u_isTopLevel == 1.0) {
      repulsionForceScale = 0.3;
    }

    acceleration += ((delta / dist) * F) * repulsionForceScale * otherClusterWeight;

    if (dist < maxDist) {
      float collide = (maxDist - dist) / dist;
      acceleration += delta * collide * fScale * maxDist / (maxDist + 1.0);
    }
  }

  gl_FragColor = vec4(acceleration, vec2(finestIndex, 0));
}`;this.apprxRepForceShader=new bs(B,xl,Oe),this.apprxRepForceShader.use(),this.apprxRepForceShader.setUniform("u_projection",this.physSmallProjection)}},{key:"setupPinData",value:function(){var O=this.gl;this.pinTexture=O.createTexture(),this.pinData=new Uint8Array(65536);for(var B=0;B<65536;B++)this.pinData[B]=0;O.bindTexture(O.TEXTURE_2D,this.pinTexture),O.texImage2D(O.TEXTURE_2D,0,O.ALPHA,Er,Er,0,O.ALPHA,O.UNSIGNED_BYTE,this.pinData),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MAG_FILTER,O.NEAREST),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MIN_FILTER,O.NEAREST),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_WRAP_S,O.CLAMP_TO_EDGE),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_WRAP_T,O.CLAMP_TO_EDGE)}},{key:"setupUpdates",value:function(){var O=this.gl;this.updateData=new Float32Array(65536),this.updateTexture=O.createTexture(),O.bindTexture(O.TEXTURE_2D,this.updateTexture),O.texImage2D(O.TEXTURE_2D,0,O.ALPHA,Er,Er,0,O.ALPHA,O.FLOAT,this.updateData),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MAG_FILTER,O.NEAREST),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MIN_FILTER,O.NEAREST),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_WRAP_S,O.CLAMP_TO_EDGE),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_WRAP_T,O.CLAMP_TO_EDGE),this.updateShader=new bs(O,xl,`precision mediump float;

uniform sampler2D u_physData;
uniform sampler2D u_updateData;
uniform float u_numNodesNew;

const float INDEX_FLAG = 999999.0;

vec4 getTextureData(sampler2D texture, float index, float base) {
  float x = mod(index, base);
  float y = (index - x) / base;
  return texture2D(texture, vec2(x + 0.5, y + 0.5) / base);
}

void main(void) {
  float textureSide = 256.0; //#TEXTURE_SIDE#;
  float index = (gl_FragCoord.x - 0.5) + (gl_FragCoord.y - 0.5)*textureSide;

  if (index >= u_numNodesNew) {
    discard;
  }

  float firstValue = getTextureData(u_updateData, index * 2.0, 256.0).a;
  float secondValue = getTextureData(u_updateData, index * 2.0 + 1.0, 256.0).a;

  if (secondValue == INDEX_FLAG) {
    vec4 myPosition = getTextureData(u_physData, firstValue, 256.0);
    gl_FragColor = myPosition;
  } else {
    gl_FragColor = vec4(firstValue, secondValue, 0.0, 0.0);
  }
}
`),this.updateShader.use(),this.updateShader.setUniform("u_projection",this.physProjection)}},{key:"setupReadpixelWorkaround",value:function(){var O=this.gl;this.workaroundShader=new bs(O,xl,`precision lowp float;

uniform sampler2D u_physData;
uniform float u_index;

float shift_right (float v, float amt) { 
    v = floor(v) + 0.5; 
    return floor(v / exp2(amt)); 
}

float shift_left (float v, float amt) { 
    return floor(v * exp2(amt) + 0.5); 
}

float mask_last (float v, float bits) { 
    return mod(v, shift_left(1.0, bits)); 
}

float extract_bits (float num, float from, float to) { 
    from = floor(from + 0.5); to = floor(to + 0.5); 
    return mask_last(shift_right(num, from), to - from); 
}

// From https://stackoverflow.com/questions/17981163/webgl-read-pixels-from-floating-point-render-target
vec4 encode_float (float val) { 
    if (val == 0.0) return vec4(0, 0, 0, 0); 
    float sign = val > 0.0 ? 0.0 : 1.0; 
    val = abs(val); 
    float exponent = floor(log2(val)); 
    float biased_exponent = exponent + 127.0; 
    float fraction = ((val / exp2(exponent)) - 1.0) * 8388608.0; 
    float t = biased_exponent / 2.0; 
    float last_bit_of_biased_exponent = fract(t) * 2.0; 
    float remaining_bits_of_biased_exponent = floor(t); 
    float byte4 = extract_bits(fraction, 0.0, 8.0) / 255.0; 
    float byte3 = extract_bits(fraction, 8.0, 16.0) / 255.0; 
    float byte2 = (last_bit_of_biased_exponent * 128.0 + extract_bits(fraction, 16.0, 23.0)) / 255.0; 
    float byte1 = (sign * 128.0 + remaining_bits_of_biased_exponent) / 255.0; 
    return vec4(byte4, byte3, byte2, byte1); 
}

void main(void) {
  vec4 texData = texture2D(u_physData, gl_FragCoord.xy / 255.0);
  float data;
  if (u_index == 0.0) {
    data = texData.x;
  } else if (u_index == 1.0) {
    data = texData.y;
  } else if (u_index == 2.0) {
    data = texData.z;
  } else if (u_index == 3.0) {
    data = texData.w;
  }

  gl_FragColor = encode_float(data);
}
`),this.workaroundShader.use(),this.workaroundShader.setUniform("u_projection",this.physProjection),this.workaroundData=[];for(var B=0;B<4;B++){var N=new Uint8Array(262144),G=this.newTexture(O,null,Er,O.UNSIGNED_BYTE),X=this.newFramebuffer(O,G);this.workaroundData.push({dataByte:N,dataFloat:new Float32Array(N.buffer),texture:G,frameBuffer:X})}}},{key:"doReadpixelWorkaround",value:function(){for(var O=this.gl,B=0;B<4;B++){var N=this.workaroundData[B];O.bindFramebuffer(O.FRAMEBUFFER,N.frameBuffer),O.viewport(0,0,Er,Er),this.workaroundShader.use(),this.workaroundShader.setUniform("u_index",B),this.workaroundShader.setUniform("u_physData",this.getPhysData(0).texture),O.bindBuffer(O.ARRAY_BUFFER,this.physVbo),this.workaroundShader.setAttributePointer("a_position",2,0,2),O.drawArrays(O.TRIANGLE_STRIP,0,4),O.readPixels(0,0,Er,Er,O.RGBA,O.UNSIGNED_BYTE,N.dataByte)}}},{key:"definePhysicsArrays",value:function(){this.physData=[],this.levelsData=[],this.levelsClusterTexture=[],this.levelsFinestIndexTexture=[]}}],C&&jo(x.prototype,C),Object.defineProperty(x,"prototype",{writable:!1}),E}();function wf(E){return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},wf(E)}function $u(E){return function(x){if(Array.isArray(x))return wo(x)}(E)||function(x){if(typeof Symbol<"u"&&x[Symbol.iterator]!=null||x["@@iterator"]!=null)return Array.from(x)}(E)||function(x,C){if(x){if(typeof x=="string")return wo(x,C);var O=Object.prototype.toString.call(x).slice(8,-1);return O==="Object"&&x.constructor&&(O=x.constructor.name),O==="Map"||O==="Set"?Array.from(x):O==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O)?wo(x,C):void 0}}(E)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function wo(E,x){(x==null||x>E.length)&&(x=E.length);for(var C=0,O=new Array(x);C<x;C++)O[C]=E[C];return O}function Sv(E,x){for(var C=0;C<x.length;C++){var O=x[C];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(E,Bo(O.key),O)}}function Vs(E,x,C){return(x=Bo(x))in E?Object.defineProperty(E,x,{value:C,enumerable:!0,configurable:!0,writable:!0}):E[x]=C,E}function Bo(E){var x=function(C,O){if(wf(C)!="object"||!C)return C;var B=C[Symbol.toPrimitive];if(B!==void 0){var N=B.call(C,"string");if(wf(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(C)}(E);return wf(x)=="symbol"?x:String(x)}var Ef="ForceCytoLayout",Nc="forceDirected",nh="coseBilkent",dp=function(){function E(O){var B=this;(function(ee,te){if(!(ee instanceof te))throw new TypeError("Cannot call a class as a function")})(this,E),Vs(this,"physLayout",void 0),Vs(this,"coseBilkentLayout",void 0),Vs(this,"state",void 0),Vs(this,"currentLayoutType",void 0),Vs(this,"enableCytoscape",void 0),Vs(this,"currentLayout",void 0);var N=O.state,G=O.enableCytoscape;this.enableCytoscape=G==null||G,this.physLayout=new tg(O),this.coseBilkentLayout=new Vu({state:N,cytoCompleteCallback:function(){for(B.physLayout.update(!0),B.copyLayoutPositions(B.state.nodes.items,B.coseBilkentLayout,B.physLayout);B.physLayout.update(!1););B.copyLayoutPositions(B.state.nodes.items,B.physLayout,B.coseBilkentLayout)},animationCompleteCallback:function(){B.currentLayoutType===nh&&setTimeout(function(){return B.setLayout(Nc)},50)}}),this.currentLayout=this.physLayout,this.currentLayoutType=Nc;var X=N.nodes,W=N.rels;X.addChannel(Ef),W.addChannel(Ef),this.state=N}var x,C;return x=E,C=[{key:"setOptions",value:function(O){O!==void 0&&(this.currentLayout.setOptions(O),this.enableCytoscape=O.enableCytoscape)}},{key:"getLayout",value:function(O){return O===nh?this.coseBilkentLayout:this.physLayout}},{key:"setLayout",value:function(O){if(O!==this.currentLayoutType){ln.info("Switching to layout: ".concat(O," in ForceCyto"));var B=this.getLayout(O);this.currentLayout=B,this.currentLayoutType=O}}},{key:"copyLayoutPositions",value:function(O,B,N){var G=B.getNodePositions(O);N.updateNodes(G)}},{key:"update",value:function(){var O=arguments.length>0&&arguments[0]!==void 0&&arguments[0],B=this.state,N=B.nodes,G=B.rels,X=N.channels[Ef],W=G.channels[Ef],ee=Object.values(X.adds).length,te=Object.values(W.adds).length,ue=Object.values(X.adds).map(function(gt){return gt.id}),ye=Object.values(W.adds).map(function(gt){return gt.id}),Ee=new Set(Object.keys(X.adds)),Oe=new Set(Object.keys(W.adds));if(N.clearChannel(Ef),G.clearChannel(Ef),this.currentLayoutType===Nc&&this.enableCytoscape&&N.items.length<=100&&ee<100&&ee>0&&te>0){var we=N.items.map(function(gt){return gt.id}),Te=new Set([].concat($u(we),$u(ue))),ze=G.items.map(function(gt){return gt.id}),He=new Set([].concat($u(ze),$u(ye)));if(Te.size<=100&&He.size<=300){var Ye=function(gt,jt,Kt,Ft){var sr,$t=new Set(gt),Be=Ir(new Set(jt));try{for(Be.s();!(sr=Be.n()).done;){var je=sr.value,Fe=Ft.idToItem[je];if(Fe){var St=Fe.from,st=Fe.to;$t.add(St),$t.add(st)}}}catch(Mi){Be.e(Mi)}finally{Be.f()}var Dt,rr=function(Mi){var ei,Dn={},vn={},Wn=Ir(Mi);try{for(Wn.s();!(ei=Wn.n()).done;){for(var pi=ei.value,Yi=pi.from,Mn=pi.to,si="".concat(Yi,"-").concat(Mn),Xi="".concat(Mn,"-").concat(Yi),oa=0,sa=[si,Xi];oa<sa.length;oa++){var pn=sa[oa];vn[pn]!==void 0?vn[pn].push(pi):vn[pn]=[pi]}Dn[Yi]||(Dn[Yi]=new Set),Dn[Mn]||(Dn[Mn]=new Set),Dn[Yi].add(Mn),Dn[Mn].add(Yi)}}catch(gi){Wn.e(gi)}finally{Wn.f()}return{adjNodesMap:Dn,relMap:vn}}(Ft.items),dr=rr.adjNodesMap,lr=rr.relMap,Kr={},Qr={},Sn=function(Mi){var ei=[];for(Kr[Mi]||ei.push(Mi);ei.length>0;){var Dn=ei.shift();if(Kr[Dn]=Kt.idToItem[Dn],dr[Dn]!==void 0){var vn,Wn=Ir(dr[Dn]);try{for(Wn.s();!(vn=Wn.n()).done;){var pi=vn.value;if(!Kr[pi]){ei.push(pi);var Yi=lr["".concat(Dn,"-").concat(pi)];if(Yi){var Mn,si=Ir(Yi);try{for(si.s();!(Mn=si.n()).done;){var Xi=Mn.value;Qr[Xi.id]||(Qr[Xi.id]=Xi)}}catch(oa){si.e(oa)}finally{si.f()}}}}}catch(oa){Wn.e(oa)}finally{Wn.f()}}}},vi=Ir($t);try{for(vi.s();!(Dt=vi.n()).done;)Sn(Dt.value)}catch(Mi){vi.e(Mi)}finally{vi.f()}return{connectedNodes:Kr,connectedRels:Qr}}(Ee,Oe,N,G),Ve=Ye.connectedNodes,tt=Ye.connectedRels,Je=Object.values(Ve),lt=Object.values(tt),at=Je.length,et=lt.length;at===Ee.size&&et===Oe.size&&(Oe.size>0||Ee.size>0)?(this.setLayout(nh),this.coseBilkentLayout.update(!0,N.items,G.items)):et>0&&Oe.size/et>.25&&(this.setLayout(nh),this.coseBilkentLayout.update(!0,Je,lt))}}this.physLayout.update(O),this.coseBilkentLayout.update(O)}},{key:"getShouldUpdate",value:function(){return this.currentLayout.getShouldUpdate()}},{key:"getComputing",value:function(){return this.currentLayout.getComputing()}},{key:"updateNodes",value:function(O){this.setLayout(Nc),this.physLayout.updateNodes(O)}},{key:"getNodePositions",value:function(O){return this.currentLayout.getNodePositions(O)}},{key:"terminateUpdate",value:function(){this.physLayout.terminateUpdate(),this.coseBilkentLayout.terminateUpdate()}},{key:"destroy",value:function(){this.physLayout.destroy(),this.coseBilkentLayout.destroy()}}],C&&Sv(x.prototype,C),Object.defineProperty(x,"prototype",{writable:!1}),E}();function Lc(E){return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},Lc(E)}function jd(E,x){var C=Object.keys(E);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(E);x&&(O=O.filter(function(B){return Object.getOwnPropertyDescriptor(E,B).enumerable})),C.push.apply(C,O)}return C}function uo(E){for(var x=1;x<arguments.length;x++){var C=arguments[x]!=null?arguments[x]:{};x%2?jd(Object(C),!0).forEach(function(O){Yu(E,O,C[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(C)):jd(Object(C)).forEach(function(O){Object.defineProperty(E,O,Object.getOwnPropertyDescriptor(C,O))})}return E}function Wu(E,x){var C=typeof Symbol<"u"&&E[Symbol.iterator]||E["@@iterator"];if(!C){if(Array.isArray(E)||(C=function(W,ee){if(W){if(typeof W=="string")return Lh(W,ee);var te=Object.prototype.toString.call(W).slice(8,-1);return te==="Object"&&W.constructor&&(te=W.constructor.name),te==="Map"||te==="Set"?Array.from(W):te==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(te)?Lh(W,ee):void 0}}(E))||x){C&&(E=C);var O=0,B=function(){};return{s:B,n:function(){return O>=E.length?{done:!0}:{done:!1,value:E[O++]}},e:function(W){throw W},f:B}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var N,G=!0,X=!1;return{s:function(){C=C.call(E)},n:function(){var W=C.next();return G=W.done,W},e:function(W){X=!0,N=W},f:function(){try{G||C.return==null||C.return()}finally{if(X)throw N}}}}function Lh(E,x){(x==null||x>E.length)&&(x=E.length);for(var C=0,O=new Array(x);C<x;C++)O[C]=E[C];return O}function Es(E,x){for(var C=0;C<x.length;C++){var O=x[C];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(E,xf(O.key),O)}}function Yu(E,x,C){return(x=xf(x))in E?Object.defineProperty(E,x,{value:C,enumerable:!0,configurable:!0,writable:!0}):E[x]=C,E}function xf(E){var x=function(C,O){if(Lc(C)!="object"||!C)return C;var B=C[Symbol.toPrimitive];if(B!==void 0){var N=B.call(C,"string");if(Lc(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(C)}(E);return Lc(x)=="symbol"?x:String(x)}var Eo="FreeLayout",$s=function(){function E(O){var B=this;(function(ee,te){if(!(ee instanceof te))throw new TypeError("Cannot call a class as a function")})(this,E),Yu(this,"state",void 0),Yu(this,"positions",void 0),Yu(this,"shouldUpdate",void 0),Yu(this,"stateDisposers",void 0);var N=O.state;this.state=N,this.positions={},this.stateDisposers=[],this.stateDisposers.push(this.state.reaction(function(){return B.state.graphUpdates},function(){B.state.nodes.version!==void 0&&(B.shouldUpdate=!0),B.state.rels.version!==void 0&&(B.shouldUpdate=!0)}));var G=this.state,X=G.nodes,W=G.rels;X.addChannel(Eo),W.addChannel(Eo),this.shouldUpdate=!0,this.setOptions(),this.layout(X.items,X.idToItem,X.idToPosition)}var x,C;return x=E,C=[{key:"setOptions",value:function(){}},{key:"updateNodes",value:function(O){var B,N=Wu(O);try{for(N.s();!(B=N.n()).done;){var G=B.value;G.x!==void 0&&G.y!==void 0&&(this.positions[G.id]={x:G.x,y:G.y}),this.shouldUpdate=!0}}catch(X){N.e(X)}finally{N.f()}}},{key:"update",value:function(){var O=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.shouldUpdate||O){var B=this.state,N=B.nodes,G=B.rels,X=Object.values(N.channels[Eo].adds).length>0,W=Object.values(G.channels[Eo].adds).length>0,ee=Object.values(N.channels[Eo].removes).length>0,te=Object.values(G.channels[Eo].removes).length>0;(X||W||ee||te)&&this.layout(N.items,N.idToItem,N.idToPosition),N.clearChannel(Eo),G.clearChannel(Eo)}this.shouldUpdate=!1}},{key:"layout",value:function(O,B,N){var G,X=(G=O)!==void 0?Lt(G):G;if(!(0,r.isEmpty)(X)){for(var W={},ee=0;ee<X.length;++ee){var te,ue=X[ee].id,ye=(te=N[ue])!==null&&te!==void 0?te:{},Ee=ye.x,Oe=Ee===void 0?0:Ee,we=ye.y,Te=we===void 0?0:we;W[ue]={id:ue,x:Oe,y:Te}}this.positions=W,this.shouldUpdate=!1}}},{key:"setNodePositions",value:function(O){this.positions=O}},{key:"getNodePositions",value:function(O){var B,N=[],G=Wu(O);try{for(G.s();!(B=G.n()).done;){var X=B.value,W=this.positions[X.id],ee=uo({id:X.id},W);N.push(ee)}}catch(te){G.e(te)}finally{G.f()}return N}},{key:"getShouldUpdate",value:function(){return this.shouldUpdate}},{key:"getComputing",value:function(){return!1}},{key:"terminateUpdate",value:function(){}},{key:"destroy",value:function(){this.state.nodes.removeChannel(Eo),this.state.rels.removeChannel(Eo)}}],C&&Es(x.prototype,C),Object.defineProperty(x,"prototype",{writable:!1}),E}();function du(E){return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},du(E)}function vu(E,x){var C=Object.keys(E);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(E);x&&(O=O.filter(function(B){return Object.getOwnPropertyDescriptor(E,B).enumerable})),C.push.apply(C,O)}return C}function ih(E){for(var x=1;x<arguments.length;x++){var C=arguments[x]!=null?arguments[x]:{};x%2?vu(Object(C),!0).forEach(function(O){var B,N,G;B=E,N=O,G=C[O],(N=jh(N))in B?Object.defineProperty(B,N,{value:G,enumerable:!0,configurable:!0,writable:!0}):B[N]=G}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(C)):vu(Object(C)).forEach(function(O){Object.defineProperty(E,O,Object.getOwnPropertyDescriptor(C,O))})}return E}function xs(E,x){var C=typeof Symbol<"u"&&E[Symbol.iterator]||E["@@iterator"];if(!C){if(Array.isArray(E)||(C=function(W,ee){if(W){if(typeof W=="string")return xo(W,ee);var te=Object.prototype.toString.call(W).slice(8,-1);return te==="Object"&&W.constructor&&(te=W.constructor.name),te==="Map"||te==="Set"?Array.from(W):te==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(te)?xo(W,ee):void 0}}(E))||x){C&&(E=C);var O=0,B=function(){};return{s:B,n:function(){return O>=E.length?{done:!0}:{done:!1,value:E[O++]}},e:function(W){throw W},f:B}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var N,G=!0,X=!1;return{s:function(){C=C.call(E)},n:function(){var W=C.next();return G=W.done,W},e:function(W){X=!0,N=W},f:function(){try{G||C.return==null||C.return()}finally{if(X)throw N}}}}function xo(E,x){(x==null||x>E.length)&&(x=E.length);for(var C=0,O=new Array(x);C<x;C++)O[C]=E[C];return O}function Bd(E,x){for(var C=0;C<x.length;C++){var O=x[C];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(E,jh(O.key),O)}}function jh(E){var x=function(C,O){if(du(C)!="object"||!C)return C;var B=C[Symbol.toPrimitive];if(B!==void 0){var N=B.call(C,"string");if(du(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(C)}(E);return du(x)=="symbol"?x:String(x)}var lo="GridLayout",jc=function(){function E(O){var B=this;(function(ee,te){if(!(ee instanceof te))throw new TypeError("Cannot call a class as a function")})(this,E);var N=O.state;this.state=N,this.positions={},this.stateDisposers=[],this.stateDisposers.push(this.state.reaction(function(){return B.state.graphUpdates},function(){B.state.nodes.version!==void 0&&(B.shouldUpdate=!0),B.state.rels.version!==void 0&&(B.shouldUpdate=!0)}));var G=this.state,X=G.nodes,W=G.rels;X.addChannel(lo),W.addChannel(lo),this.shouldUpdate=!0,this.setOptions(O),this.layout(X.items,X.idToItem,X.idToPosition,W.items)}var x,C;return x=E,C=[{key:"setOptions",value:function(O){}},{key:"updateNodes",value:function(O){var B,N=xs(O);try{for(N.s();!(B=N.n()).done;){var G=B.value;G.x!==void 0&&G.y!==void 0&&(this.positions[G.id]={x:G.x,y:G.y}),this.shouldUpdate=!0}}catch(X){N.e(X)}finally{N.f()}}},{key:"update",value:function(){var O=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.shouldUpdate||O){var B=this.state,N=B.nodes,G=B.rels,X=Object.values(N.channels[lo].adds).length>0,W=Object.values(G.channels[lo].adds).length>0,ee=Object.values(N.channels[lo].removes).length>0,te=Object.values(G.channels[lo].removes).length>0;(X||W||ee||te)&&(this.layout(N.items,N.idToItem,N.idToPosition,G.items),N.idToPosition=this.positions),N.clearChannel(lo),G.clearChannel(lo)}this.shouldUpdate=!1}},{key:"layout",value:function(O,B,N,G){var X,W=(X=O)?Lt(X):X;if(!(0,r.isEmpty)(W)){for(var ee=W.length,te=Math.ceil(Math.sqrt(ee)),ue=new Array(ee),ye=0,Ee=0;Ee<te;++Ee){for(var Oe=0;Oe<te&&(ue[ye]={y:0+150*Ee,x:0+150*Oe},(ye+=1)!==ee);++Oe);if(ye===ee)break}for(var we=W.sort(),Te={},ze=0;ze<ee;++ze){var He=we[ze],Ye=ue[ze];He.x===Ye.x&&He.y===Ye.y||(Te[He.id]=ih({id:He.id},Ye))}this.positions=Te,this.shouldUpdate=!1}}},{key:"getNodePositions",value:function(O){var B,N=[],G=xs(O);try{for(G.s();!(B=G.n()).done;){var X=B.value,W=this.positions[X.id],ee=ih({id:X.id},W);N.push(ee)}}catch(te){G.e(te)}finally{G.f()}return N}},{key:"getShouldUpdate",value:function(){return this.shouldUpdate}},{key:"getComputing",value:function(){return!1}},{key:"terminateUpdate",value:function(){this.shouldUpdate=!1}},{key:"destroy",value:function(){this.state.nodes.removeChannel(lo),this.state.rels.removeChannel(lo)}}],C&&Bd(x.prototype,C),Object.defineProperty(x,"prototype",{writable:!1}),E}(),Xu=new Set(["direction","packing"]),Bh="forceDirected",Bc="hierarchical",Ku="grid",cn="free",En="d3Force",bn="webgl",Fc="canvas";function Sl(E){return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},Sl(E)}function Ka(E,x,C){return x=function(O){var B=function(N,G){if(Sl(N)!="object"||!N)return N;var X=N[Symbol.toPrimitive];if(X!==void 0){var W=X.call(N,"string");if(Sl(W)!="object")return W;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(N)}(O);return Sl(B)=="symbol"?B:String(B)}(x),x in E?Object.defineProperty(E,x,{value:C,enumerable:!0,configurable:!0,writable:!0}):E[x]=C,E}var rs="down",Xl=Ka(Ka(Ka(Ka({},"up","BT"),rs,"TB"),"left","RL"),"right","LR"),ns="bin",Ov=[ns,"stack"],xn=["html"],Kl=["html"],Ur=["captionHtml"];function Zl(E){return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},Zl(E)}function Fh(E,x){if(E==null)return{};var C,O,B=function(G,X){if(G==null)return{};var W,ee,te={},ue=Object.keys(G);for(ee=0;ee<ue.length;ee++)W=ue[ee],X.indexOf(W)>=0||(te[W]=G[W]);return te}(E,x);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(E);for(O=0;O<N.length;O++)C=N[O],x.indexOf(C)>=0||Object.prototype.propertyIsEnumerable.call(E,C)&&(B[C]=E[C])}return B}function Uc(E,x){for(var C=0;C<x.length;C++){var O=x[C];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(E,co(O.key),O)}}function Fd(E,x,C){return x=Gi(x),function(O,B){if(B&&(Zl(B)==="object"||typeof B=="function"))return B;if(B!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hi(O)}(E,zc()?Reflect.construct(x,C||[],Gi(E).constructor):x.apply(E,C))}function zc(){try{var E=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zc=function(){return!!E})()}function hi(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}function Fo(){return Fo=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(E,x,C){var O=function(N,G){for(;!Object.prototype.hasOwnProperty.call(N,G)&&(N=Gi(N))!==null;);return N}(E,x);if(O){var B=Object.getOwnPropertyDescriptor(O,x);return B.get?B.get.call(arguments.length<3?E:C):B.value}},Fo.apply(this,arguments)}function Gi(E){return Gi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(x){return x.__proto__||Object.getPrototypeOf(x)},Gi(E)}function qc(E,x){return qc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(C,O){return C.__proto__=O,C},qc(E,x)}function Ra(E,x,C){return(x=co(x))in E?Object.defineProperty(E,x,{value:C,enumerable:!0,configurable:!0,writable:!0}):E[x]=C,E}function co(E){var x=function(C,O){if(Zl(C)!="object"||!C)return C;var B=C[Symbol.toPrimitive];if(B!==void 0){var N=B.call(C,"string");if(Zl(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(C)}(E);return Zl(x)=="symbol"?x:String(x)}var Fa="HierarchicalLayout",Ss=function(E){return E!==void 0?Lt(E):E},Tv=function(E){function x(B){var N;(function(ee,te){if(!(ee instanceof te))throw new TypeError("Cannot call a class as a function")})(this,x),Ra(hi(N=Fd(this,x,[B])),"direction",void 0),Ra(hi(N),"packing",void 0),Ra(hi(N),"stateDisposers",void 0),Ra(hi(N),"oldComputing",void 0),Ra(hi(N),"computing",void 0),Ra(hi(N),"pendingLayoutData",void 0),Ra(hi(N),"worker",void 0),Ra(hi(N),"directionChanged",void 0),Ra(hi(N),"packingChanged",void 0),Ra(hi(N),"workersDisabled",void 0),N.direction=rs,N.packing=ns;var G=N.state,X=G.nodes,W=G.rels;return X.addChannel(Fa),W.addChannel(Fa),N.stateDisposers=[N.state.reaction(function(){return N.state.graphUpdates},function(){if(X.version!==void 0){var ee=X.channels[Fa],te=Object.values(ee.adds).length>0,ue=Object.values(ee.removes).length>0,ye=Object.values(ee.updates),Ee=xe(ye);N.shouldUpdate=N.shouldUpdate||te||ue||Ee}if(W.version!==void 0){var Oe=W.channels[Fa],we=Object.values(Oe.adds).length>0,Te=Object.values(Oe.removes).length>0;N.shouldUpdate=N.shouldUpdate||we||Te}})],N.shouldUpdate=!0,N.oldComputing=!1,N.computing=!1,N.workersDisabled=B.state.disableWebWorkers,N.setOptions(B),N.worker=mf("HierarchicalLayout",N.workersDisabled),N.pendingLayoutData=null,N.layout(X.items,X.idToItem,X.idToPosition,W.items),N}var C,O;return function(B,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");B.prototype=Object.create(N&&N.prototype,{constructor:{value:B,writable:!0,configurable:!0}}),Object.defineProperty(B,"prototype",{writable:!1}),N&&qc(B,N)}(x,E),C=x,O=[{key:"setOptions",value:function(B){if(B!==void 0&&function(ee){return Object.keys(ee).every(function(te){return Xu.has(te)})}(B)){var N=B.direction,G=N===void 0?rs:N,X=B.packing,W=X===void 0?ns:X;Object.keys(Xl).includes(G)&&(this.directionChanged=this.direction&&this.direction!==G,this.direction=G),Ov.includes(W)&&(this.packingChanged=this.packing&&this.packing!==W,this.packing=W),this.shouldUpdate=this.shouldUpdate||this.directionChanged||this.packingChanged}}},{key:"update",value:function(){var B=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.shouldUpdate||B){var N=this.state,G=N.nodes,X=N.rels,W=this.directionChanged,ee=this.packingChanged,te=Object.values(G.channels[Fa].adds).length>0,ue=Object.values(X.channels[Fa].adds).length>0,ye=Object.values(G.channels[Fa].removes).length>0,Ee=Object.values(X.channels[Fa].removes).length>0,Oe=Object.values(G.channels[Fa].updates),we=xe(Oe);(B||te||ue||ye||Ee||W||ee||we)&&this.layout(G.items,G.idToItem,G.idToPosition,X.items),G.clearChannel(Fa),X.clearChannel(Fa),this.directionChanged=!1,this.packingChanged=!1}Fo(Gi(x.prototype),"update",this).call(this),this.shouldUpdate=!1,this.oldComputing=this.computing}},{key:"getShouldUpdate",value:function(){return this.shouldUpdate||this.shouldUpdateAnimator}},{key:"getComputing",value:function(){return this.computing}},{key:"layout",value:function(B,N,G,X){var W=this;if(this.worker){var ee=Ss(B).map(function(He){return He.html,Fh(He,xn)}),te=Ss(N),ue={};Object.keys(te).forEach(function(He){var Ye=te[He],Ve=(Ye.html,Fh(Ye,Kl));ue[He]=Ve});var ye=Ss(X).map(function(He){return He.captionHtml,Fh(He,Ur)}),Ee=Ss(G),Oe=this.direction,we=this.packing,Te=window.devicePixelRatio,ze={nodes:ee,nodeIds:ue,idToPosition:Ee,rels:ye,direction:Oe,packing:we,pixelRatio:Te,forcedDelay:0};this.computing?this.pendingLayoutData=ze:(this.worker.port.onmessage=function(He){var Ye=He.data,Ve=Ye.positions,tt=Ye.parents,Je=Ye.waypoints;W.computing&&(W.positions=Ve),W.parents=tt,W.state.setWaypoints(Je),W.pendingLayoutData!==null?(W.worker.port.postMessage(W.pendingLayoutData),W.pendingLayoutData=null):W.computing=!1,W.shouldUpdate=!0,W.startAnimation()},this.computing=!0,this.worker.port.postMessage(ze))}else ln.info("Hierarchical layout code not yet initialised.")}},{key:"terminateUpdate",value:function(){var B,N;this.computing=!1,this.shouldUpdate=!1,(B=this.state.nodes)===null||B===void 0||B.clearChannel(Fa),(N=this.state.rels)===null||N===void 0||N.clearChannel(Fa)}},{key:"destroy",value:function(){var B;this.stateDisposers.forEach(function(N){N()}),this.state.nodes.removeChannel(Fa),this.state.rels.removeChannel(Fa),(B=this.worker)===null||B===void 0||B.port.close()}}],O&&Uc(C.prototype,O),Object.defineProperty(C,"prototype",{writable:!1}),x}(kd);function Ol(E){return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},Ol(E)}function Cv(E,x){for(var C=0;C<x.length;C++){var O=x[C];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(E,Uh(O.key),O)}}function pu(E,x,C){return(x=Uh(x))in E?Object.defineProperty(E,x,{value:C,enumerable:!0,configurable:!0,writable:!0}):E[x]=C,E}function Uh(E){var x=function(C,O){if(Ol(C)!="object"||!C)return C;var B=C[Symbol.toPrimitive];if(B!==void 0){var N=B.call(C,"string");if(Ol(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(C)}(E);return Ol(x)=="symbol"?x:String(x)}var vp=function(){function E(O,B){(function(N,G){if(!(N instanceof G))throw new TypeError("Cannot call a class as a function")})(this,E),pu(this,"elementId",void 0),pu(this,"currentValue",void 0),pu(this,"startValue",void 0),pu(this,"currentTime",void 0),pu(this,"duration",void 0),pu(this,"status",void 0),pu(this,"endValue",void 0),pu(this,"startTime",void 0),pu(this,"endTime",void 0),pu(this,"hasNextAnimation",void 0),this.elementId=O,this.startValue=B,this.status=0,this.currentValue=B,this.duration=0}var x,C;return x=E,(C=[{key:"setDuration",value:function(O){this.duration=O,this.setEndTime(this.startTime+this.duration)}},{key:"getStatus",value:function(){return this.status}},{key:"advance",value:function(){if(this.status!==1)return!1;this.currentTime=new Date().getTime();var O,B=this.endTime-this.startTime;return(O=B>0?(this.currentTime-this.startTime)/B:1)>=1?(this.currentValue=this.endValue,this.status=2):(this.currentValue=this.startValue+O*(this.endValue-this.startValue),this.hasNextAnimation=!0),this.hasNextAnimation}},{key:"setEndValue",value:function(O){this.endValue!==O&&(O-this.currentValue!=0?(this.currentTime=new Date().getTime(),this.status=1,this.startValue=this.currentValue,this.endValue=O,this.startTime=this.currentTime,this.setEndTime(this.startTime+this.duration)):this.endValue=O)}},{key:"setEndTime",value:function(O){this.endTime=Math.max(O,this.startTime)}}])&&Cv(x.prototype,C),Object.defineProperty(x,"prototype",{writable:!1}),E}();function Ql(E){return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},Ql(E)}function Ud(E,x){var C=Object.keys(E);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(E);x&&(O=O.filter(function(B){return Object.getOwnPropertyDescriptor(E,B).enumerable})),C.push.apply(C,O)}return C}function Sf(E){for(var x=1;x<arguments.length;x++){var C=arguments[x]!=null?arguments[x]:{};x%2?Ud(Object(C),!0).forEach(function(O){Zu(E,O,C[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(C)):Ud(Object(C)).forEach(function(O){Object.defineProperty(E,O,Object.getOwnPropertyDescriptor(C,O))})}return E}function zh(E,x){for(var C=0;C<x.length;C++){var O=x[C];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(E,pp(O.key),O)}}function Zu(E,x,C){return(x=pp(x))in E?Object.defineProperty(E,x,{value:C,enumerable:!0,configurable:!0,writable:!0}):E[x]=C,E}function pp(E){var x=function(C,O){if(Ql(C)!="object"||!C)return C;var B=C[Symbol.toPrimitive];if(B!==void 0){var N=B.call(C,"string");if(Ql(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(C)}(E);return Ql(x)=="symbol"?x:String(x)}var qh=function(){function E(){(function(O,B){if(!(O instanceof B))throw new TypeError("Cannot call a class as a function")})(this,E),Zu(this,"animations",void 0),Zu(this,"durations",void 0),Zu(this,"defaultDuration",void 0),Zu(this,"hasNextAnimation",void 0),Zu(this,"ignoreAnimationsFlag",void 0),this.animations=new Map,this.durations=[],this.durations[0]=0,this.durations[1]=0,this.defaultDuration=150,this.hasNextAnimation=!1,this.ignoreAnimationsFlag=!1}var x,C;return x=E,C=[{key:"advance",value:function(){var O=this;return this.hasNextAnimation=!1,this.animations.forEach(function(B){Object.values(B).forEach(function(N){N.advance()&&(O.hasNextAnimation=!0)})}),this.hasNextAnimation}},{key:"ignoreAnimations",value:function(O){this.ignoreAnimationsFlag=O}},{key:"setOptions",value:function(O){O.fadeDuration!==void 0&&(this.durations[0]=O.fadeDuration),O.sizeDuration!==void 0&&(this.durations[1]=O.sizeDuration)}},{key:"needsToRun",value:function(){return this.hasNextAnimation}},{key:"getValueForAnimationName",value:function(O,B,N){var G,X,W=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;if(this.ignoreAnimationsFlag)return N;var ee=(G=this.getById(O))!==null&&G!==void 0?G:{};if(ee[B]===void 0){var te=W===1?this.createSizeAnimation(0,O,B):this.createFadeAnimation(0,O,B);te.setEndValue(N),X=te.currentValue}else{var ue=ee[B];if(ue.currentValue===N)return N;ue.setEndValue(N),X=ue.currentValue}return this.hasNextAnimation=!0,X}},{key:"createAnimation",value:function(O,B,N){var G,X=new vp(B,O),W=(G=this.animations.get(B))!==null&&G!==void 0?G:{};return this.animations.set(B,Sf(Sf({},W),{},Zu({},N,X))),X}},{key:"getById",value:function(O){return this.animations.get(O)}},{key:"createFadeAnimation",value:function(O,B,N){var G,X=this.createAnimation(O,B,N);return X.setDuration((G=this.durations[0])!==null&&G!==void 0?G:this.defaultDuration),X}},{key:"createSizeAnimation",value:function(O,B,N){var G,X=this.createAnimation(O,B,N);return X.setDuration((G=this.durations[1])!==null&&G!==void 0?G:this.defaultDuration),X}}],C&&zh(x.prototype,C),Object.defineProperty(x,"prototype",{writable:!1}),E}();function Gc(E){return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},Gc(E)}function Av(E,x){for(var C=0;C<x.length;C++){var O=x[C];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(E,Gh(O.key),O)}}function Gh(E){var x=function(C,O){if(Gc(C)!="object"||!C)return C;var B=C[Symbol.toPrimitive];if(B!==void 0){var N=B.call(C,"string");if(Gc(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(C)}(E);return Gc(x)=="symbol"?x:String(x)}var Pa=64,Jl=function(){function E(){var O,B,N;(function(G,X){if(!(G instanceof X))throw new TypeError("Cannot call a class as a function")})(this,E),O=this,N=void 0,(B=Gh(B="cache"))in O?Object.defineProperty(O,B,{value:N,enumerable:!0,configurable:!0,writable:!0}):O[B]=N,this.cache={}}var x,C;return x=E,C=[{key:"getImage",value:function(O){var B=arguments.length>1&&arguments[1]!==void 0&&arguments[1],N=this.getOrCreateEntry(O),G=B?"inverted":"image",X=N[G];return X===void 0&&(X=this.loadImage(O),N[G]=X),this.drawIfNeeded(X,B),X.canvas}},{key:"getOrCreateEntry",value:function(O){return this.cache[O]===void 0&&(this.cache[O]={}),this.cache[O]}},{key:"invertCanvas",value:function(O){for(var B=O.getImageData(0,0,Pa,Pa),N=B.data,G=0;G<4096;G++){var X=4*G;N[X]^=255,N[X+1]^=255,N[X+2]^=255}O.putImageData(B,0,0)}},{key:"loadImage",value:function(O){var B=document.createElement("canvas");B.width=Pa,B.height=Pa;var N=new Image;return N.src=O,N.crossOrigin="anonymous",{canvas:B,image:N,drawn:!1}}},{key:"drawIfNeeded",value:function(O,B){var N=O.image,G=O.canvas;if(!O.drawn&&N.complete){var X=G.getContext("2d");try{X.drawImage(N,0,0,Pa,Pa)}catch(W){ln.error("Failed to draw image",N.src,W),X.beginPath(),X.strokeStyle="black",X.rect(0,0,Pa,Pa),X.moveTo(0,0),X.lineTo(Pa,Pa),X.moveTo(0,Pa),X.lineTo(Pa,0),X.stroke(),X.closePath()}B&&this.invertCanvas(X),O.drawn=!0}}}],C&&Av(x.prototype,C),Object.defineProperty(x,"prototype",{writable:!1}),E}();const Rv=Jl;function Of(E){return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},Of(E)}function Pv(E,x){(x==null||x>E.length)&&(x=E.length);for(var C=0,O=new Array(x);C<x;C++)O[C]=E[C];return O}function gp(E,x){for(var C=0;C<x.length;C++){var O=x[C];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(E,Tf(O.key),O)}}function Yr(E,x,C){return(x=Tf(x))in E?Object.defineProperty(E,x,{value:C,enumerable:!0,configurable:!0,writable:!0}):E[x]=C,E}function Tf(E){var x=function(C,O){if(Of(C)!="object"||!C)return C;var B=C[Symbol.toPrimitive];if(B!==void 0){var N=B.call(C,"string");if(Of(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(C)}(E);return Of(x)=="symbol"?x:String(x)}var zd=function(){function E(O,B,N){(function(G,X){if(!(G instanceof X))throw new TypeError("Cannot call a class as a function")})(this,E),Yr(this,"key",void 0),Yr(this,"rels",void 0),Yr(this,"waypointPath",void 0),Yr(this,"selfReferring",void 0),Yr(this,"fromId",void 0),Yr(this,"toId",void 0),Yr(this,"angles",void 0),Yr(this,"labelInfo",void 0),this.key=O,this.rels=[],this.selfReferring=B===N,this.fromId=B,this.toId=N,this.labelInfo={},this.angles=[]}var x,C;return x=E,C=[{key:"insert",value:function(O){this.rels.push({rel:O})}},{key:"setLabelInfo",value:function(O,B){this.labelInfo[O]=B}},{key:"remove",value:function(O){var B=O.id,N=this.rels,G=N.findIndex(function(te){return te.rel.id===B});if(G!==-1&&(N.splice(G,1),G===0&&N.length>0)){var X=N[0].rel,W=X.from,ee=X.to;this.fromId=W,this.toId=ee}}},{key:"size",value:function(){return this.rels.length}},{key:"maxFontSize",value:function(){return Math.max.apply(Math,function(B){if(Array.isArray(B))return Pv(B)}(O=this.rels.map(function(B){var N=B.rel;return(0,r.isNumber)(N.captionSize)?N.captionSize:1}))||function(B){if(typeof Symbol<"u"&&B[Symbol.iterator]!=null||B["@@iterator"]!=null)return Array.from(B)}(O)||function(B,N){if(B){if(typeof B=="string")return Pv(B,N);var G=Object.prototype.toString.call(B).slice(8,-1);return G==="Object"&&B.constructor&&(G=B.constructor.name),G==="Map"||G==="Set"?Array.from(B):G==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(G)?Pv(B,N):void 0}}(O)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}());var O}},{key:"relIsOppositeDirection",value:function(O){var B=O.from,N=O.to,G=this.fromId,X=this.toId;return B!==G&&N!==X||B===X&&N===G}},{key:"indexOf",value:function(O){var B=O.id;return this.rels.findIndex(function(N){return N.rel.id===B})}},{key:"getRel",value:function(O){var B=this.rels;return O<0||O>=B.length?null:B[O].rel}},{key:"setWaypoints",value:function(O){this.waypointPath=O}},{key:"setAngles",value:function(O){this.angles=O}}],C&&gp(x.prototype,C),Object.defineProperty(x,"prototype",{writable:!1}),E}(),Cf=Qf,Hh=2*Math.PI/50,Vh=.1*Math.PI;function $h(E){return $h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},$h(E)}function pa(E,x){var C=typeof Symbol<"u"&&E[Symbol.iterator]||E["@@iterator"];if(!C){if(Array.isArray(E)||(C=function(W,ee){if(W){if(typeof W=="string")return yp(W,ee);var te=Object.prototype.toString.call(W).slice(8,-1);return te==="Object"&&W.constructor&&(te=W.constructor.name),te==="Map"||te==="Set"?Array.from(W):te==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(te)?yp(W,ee):void 0}}(E))||x){C&&(E=C);var O=0,B=function(){};return{s:B,n:function(){return O>=E.length?{done:!0}:{done:!1,value:E[O++]}},e:function(W){throw W},f:B}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var N,G=!0,X=!1;return{s:function(){C=C.call(E)},n:function(){var W=C.next();return G=W.done,W},e:function(W){X=!0,N=W},f:function(){try{G||C.return==null||C.return()}finally{if(X)throw N}}}}function yp(E,x){(x==null||x>E.length)&&(x=E.length);for(var C=0,O=new Array(x);C<x;C++)O[C]=E[C];return O}function Wh(E,x){for(var C=0;C<x.length;C++){var O=x[C];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(E,Yh(O.key),O)}}function qd(E,x,C){return(x=Yh(x))in E?Object.defineProperty(E,x,{value:C,enumerable:!0,configurable:!0,writable:!0}):E[x]=C,E}function Yh(E){var x=function(C,O){if($h(C)!="object"||!C)return C;var B=C[Symbol.toPrimitive];if(B!==void 0){var N=B.call(C,"string");if($h(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(C)}(E);return $h(x)=="symbol"?x:String(x)}var Dv=function(E){var x=[];if(E.length===0)x.push({size:2*Math.PI,start:0});else{for(var C=E.length-1;C>=0;C--){var O=void 0,B=void 0;C===0?(B=E[E.length-1],O=E[C]-E[E.length-1]+2*Math.PI):(B=E[C-1],O=E[C]-E[C-1]),x.push({size:O,start:B})}x.sort(function(N,G){return G.size-N.size})}return x},Ws=function(E,x){for(;x>E.length||E[0].size>2*E[x-1].size;)E.push({size:E[0].size/2,start:E[0].start}),E.push({size:E[0].size/2,start:E[0].start+E[0].size/2}),E.shift(),E.sort(function(C,O){return O.size-C.size});return E},Hc=function(){function E(O,B){(function(G,X){if(!(G instanceof X))throw new TypeError("Cannot call a class as a function")})(this,E),qd(this,"bundles",void 0),qd(this,"nodeToBundles",void 0),this.bundles={},this.nodeToBundles={};var N=O.reduce(function(G,X){return G[X.id]=X,G},{});this.updateData(N,{},B)}var x,C;return x=E,C=[{key:"getBundle",value:function(O){var B=this.bundles,N=this.nodeToBundles,G=this.generatePairId(O.from,O.to),X=B[G];return X===void 0&&(X=new zd(G,O.from,O.to),B[G]=X,N[O.from]===void 0&&(N[O.from]=[]),N[O.to]===void 0&&(N[O.to]=[]),N[O.from].push(X),N[O.to].push(X)),X}},{key:"updateData",value:function(O,B,N){for(var G=this.bundles,X=this.nodeToBundles,W=function(tt,Je){var lt=X[Je].findIndex(function(at){return at===tt});lt!==-1&&X[Je].splice(lt,1),X[Je].length===0&&delete X[Je]},ee=Object.values(O),te=Object.values(B),ue=0,ye=ee;ue<ye.length;ue++){var Ee=ye[ue];this.getBundle(Ee).insert(Ee)}for(var Oe=0,we=te;Oe<we.length;Oe++){var Te=we[Oe],ze=this.getBundle(Te);ze.remove(Te),ze.size()===0&&(delete G[ze.key],W(ze,Te.from),W(ze,Te.to))}for(var He=0,Ye=Object.keys(G);He<Ye.length;He++){var Ve=G[Ye[He]];Ve.setWaypoints(N["".concat(Ve.fromId,"-").concat(Ve.toId)])}}},{key:"updatePositions",value:function(O){for(var B=this.nodeToBundles,N=0,G=Object.keys(O);N<G.length;N++){var X,W=G[N],ee=(X=B[W])!==null&&X!==void 0?X:[];if(ee.length!==0){var te=ee.find(function(et){return et.selfReferring}),ue=ee.filter(function(et){return!et.selfReferring});if(te!==void 0){var ye,Ee=[],Oe=pa(ue);try{for(Oe.s();!(ye=Oe.n()).done;){var we=ye.value,Te=O[we.fromId],ze=O[we.toId];if(Te!==void 0&&ze!==void 0)for(var He=Hh*we.size(),Ye=Te.id===W?Math.atan2(ze.y-Te.y,ze.x-Te.x):Math.atan2(Te.y-ze.y,Te.x-ze.x),Ve=0;Ve<we.size();Ve++)Ee.push(Ye+He/2-Ve*Hh);else{var tt=Te===void 0?we.fromId:we.toId;ln.warn("Arrowbundler: Node with id ".concat(tt," is not in position map"))}}}catch(et){Oe.e(et)}finally{Oe.f()}var Je=Ee.map(function(et){return(et+2*Math.PI)%(2*Math.PI)}).sort(),lt=Dv(Je);Ws(lt,te.size());var at=lt.map(function(et){return et.start+et.size/2}).slice(0,te.size());te.setAngles(at)}}}}},{key:"generatePairId",value:function(O,B){return[O.toString(),B.toString()].sort(function(N,G){return N.localeCompare(G)}).join("-")}}],C&&Wh(x.prototype,C),Object.defineProperty(x,"prototype",{writable:!1}),E}();function Tl(E){return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},Tl(E)}function Gd(E,x){var C=Object.keys(E);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(E);x&&(O=O.filter(function(B){return Object.getOwnPropertyDescriptor(E,B).enumerable})),C.push.apply(C,O)}return C}function Hd(E,x){for(var C=0;C<x.length;C++){var O=x[C];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(E,Xh(O.key),O)}}function Af(E,x,C){return(x=Xh(x))in E?Object.defineProperty(E,x,{value:C,enumerable:!0,configurable:!0,writable:!0}):E[x]=C,E}function Xh(E){var x=function(C,O){if(Tl(C)!="object"||!C)return C;var B=C[Symbol.toPrimitive];if(B!==void 0){var N=B.call(C,"string");if(Tl(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(C)}(E);return Tl(x)=="symbol"?x:String(x)}var Kh=function(E,x){return(0,r.isFinite)(E.x)&&(0,r.isFinite)(E.y)&&(0,r.isFinite)(x.x)&&(0,r.isFinite)(x.y)},ah=function(E,x){if(E===void 0||x===void 0||!Kh(E,x))return!1;var C=x.x-E.x,O=x.y-E.y,B=mt();return C*C+O*O<100*B*B},Za=function(){function E(O,B){(function(N,G){if(!(N instanceof G))throw new TypeError("Cannot call a class as a function")})(this,E),Af(this,"p1",void 0),Af(this,"p2",void 0),Af(this,"unit",void 0),Af(this,"norm",void 0),Af(this,"length",void 0),Af(this,"vector",void 0),this.p1=O,this.p2=B,this.vector=this.getVector(),this.length=this.getLength(),this.unit=this.getUnitVector(),this.norm=this.getUnitNormalVector()}var x,C;return x=E,C=[{key:"getVector",value:function(){return{x:this.p2.x-this.p1.x,y:this.p2.y-this.p1.y}}},{key:"getLength",value:function(){var O=this.vector,B=O.x,N=O.y;return Math.sqrt(B*B+N*N)}},{key:"getUnitVector",value:function(){var O=this.vector,B=this.length;return{x:O.x/B,y:O.y/B}}},{key:"getUnitNormalVector",value:function(){return{x:this.unit.y,y:-this.unit.x}}}],C&&Hd(x.prototype,C),Object.defineProperty(x,"prototype",{writable:!1}),E}(),Qu=function(E,x,C){var O={x:x.x-E.x,y:x.y-E.y},B=function(ee,te){var ue=(ee.x*te.x+ee.y*te.y)/(te.x*te.x+te.y*te.y);return(0,r.clamp)(ue,0,1)}({x:C.x-E.x,y:C.y-E.y},O),N=E.x+B*O.x,G=E.y+B*O.y,X=N-C.x,W=G-C.y;return Math.sqrt(X*X+W*W)},Vd=function(E,x,C,O){if(x.x===C.x&&x.y===C.y)return x;var B=x.y-E.y,N=E.x-x.x,G=B*E.x+N*E.y,X=O.y-C.y,W=C.x-O.x,ee=X*C.x+W*C.y,te=B*W-X*N;return te===0?null:{x:(W*G-N*ee)/te,y:(B*ee-X*G)/te}},ec=function(E,x,C,O){var B,N,G,X=1e9,W=function(te){for(var ue=1;ue<arguments.length;ue++){var ye=arguments[ue]!=null?arguments[ue]:{};ue%2?Gd(Object(ye),!0).forEach(function(Ee){Af(te,Ee,ye[Ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(te,Object.getOwnPropertyDescriptors(ye)):Gd(Object(ye)).forEach(function(Ee){Object.defineProperty(te,Ee,Object.getOwnPropertyDescriptor(ye,Ee))})}return te}({},E),ee={x:0,y:0};for(N=1;N<10;N++)G=.1*N,ee.x=Math.pow(1-G,2)*E.x+2*G*(1-G)*C.x+Math.pow(G,2)*x.x,ee.y=Math.pow(1-G,2)*E.y+2*G*(1-G)*C.y+Math.pow(G,2)*x.y,N>0&&(X=(B=Qu(W,ee,O))<X?B:X),W.x=ee.x,W.y=ee.y;return X},rg=Po(3269),Iv=Po.n(rg);function Cl(E){return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},Cl(E)}function Rf(E){return function(x){if(Array.isArray(x))return oh(x)}(E)||function(x){if(typeof Symbol<"u"&&x[Symbol.iterator]!=null||x["@@iterator"]!=null)return Array.from(x)}(E)||kv(E)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Zh(E,x){var C=Object.keys(E);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(E);x&&(O=O.filter(function(B){return Object.getOwnPropertyDescriptor(E,B).enumerable})),C.push.apply(C,O)}return C}function $d(E){for(var x=1;x<arguments.length;x++){var C=arguments[x]!=null?arguments[x]:{};x%2?Zh(Object(C),!0).forEach(function(O){var B,N,G;B=E,N=O,G=C[O],N=function(X){var W=function(ee,te){if(Cl(ee)!="object"||!ee)return ee;var ue=ee[Symbol.toPrimitive];if(ue!==void 0){var ye=ue.call(ee,"string");if(Cl(ye)!="object")return ye;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ee)}(X);return Cl(W)=="symbol"?W:String(W)}(N),N in B?Object.defineProperty(B,N,{value:G,enumerable:!0,configurable:!0,writable:!0}):B[N]=G}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(C)):Zh(Object(C)).forEach(function(O){Object.defineProperty(E,O,Object.getOwnPropertyDescriptor(C,O))})}return E}function kv(E,x){if(E){if(typeof E=="string")return oh(E,x);var C=Object.prototype.toString.call(E).slice(8,-1);return C==="Object"&&E.constructor&&(C=E.constructor.name),C==="Map"||C==="Set"?Array.from(E):C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C)?oh(E,x):void 0}}function oh(E,x){(x==null||x>E.length)&&(x=E.length);for(var C=0,O=new Array(x);C<x;C++)O[C]=E[C];return O}var Pf="",Mv=function(E){return!(!E||!isNaN(Number(E))||E.toLowerCase()===E.toUpperCase())&&E===E.toUpperCase()},ng=function(E){var x=E[E.length-1],C=E[E.length-2];return!(!x||!isNaN(Number(x))||x.toLowerCase()===x.toUpperCase())&&!(!C||!isNaN(Number(C))||C.toLowerCase()===C.toUpperCase())&&Mv(x)&&!Mv(C)},ga=function(E,x,C,O){for(var B,N=arguments.length>4&&arguments[4]!==void 0&&arguments[4],G=[],X=[],W=0,ee=0,te=!1,ue=!1,ye=0;ye<O;ye++)G[ye]=C(ye,O);for(var Ee,Oe=function(){B=E.slice(W,we);var Te,ze,He=x(B),Ye=G[ee];if(He>Ye||(ze=E[we-1],`
\r\v`.includes(ze))){if(!(ee<O-1)){if(N)return{v:[]};for(var Ve=we;He>Ye;){for(Ve-=1;Te=E[Ve-1],` 	
\r\v`.includes(Te);)Ve-=1;if(!(Ve-W>1)){B="",ue=!0,te=!1;break}B=E.slice(W,Ve),He=x(B),ue=!0,te=!1}return X[ee]={text:B,hasEllipsisChar:ue,hasHyphenChar:te},{v:X}}te=!1,ue=!1;var tt=function(lt){var at=lt.length,et=Math.min(at-1,3);if(at===1)return{hyphen:!1,cnt:0};for(var gt=0;gt<et;gt++){var jt=lt[lt.length-(gt+1)];if(jt===" "||jt.toLowerCase()===jt.toUpperCase())return{hyphen:!1,cnt:gt+1};var Kt=lt.slice(0,lt.length-gt);if(ng(Kt))return{hyphen:!1,cnt:gt+1}}return{hyphen:!0,cnt:1}}(B),Je=we-tt.cnt;if(tt.hyphen)for(B=E.slice(W,Je),He=x(B),te=!0;He>Ye;){if(!(Je-W>1)){B=E[W],Je=W+1,He=x(B),te=!1;break}Je-=1,B=E.slice(W,Je),He=x(B),te=!0}else B=(B=E.slice(W,Je)).trim();X[ee]={text:B,hasEllipsisChar:ue,hasHyphenChar:te},W=Je,ee+=1}},we=1;we<=E.length;we++)if(Ee=Oe())return Ee.v;return B=E.slice(W,E.length),X[ee]={text:B,hasEllipsisChar:ue,hasHyphenChar:!1},X},is=function(E,x,C,O,B,N,G,X){E.font="bold ".concat(O,"px ").concat(C).replace(/"/g,"");for(var W=function(Oe){var we;return(we=E.measureText(Oe))===null||we===void 0?void 0:we.width},ee=N?(G<4?["",""]:[""]).length:0,te=function(Oe,we){return function(Te,ze,He){var Ye=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"top",Ve=.98*He,tt=.89*He,Je=.95*He;return ze===1?Ve:ze===2?Je:ze===3&&Ye==="top"?Te===0||Te===2?tt:Ve:ze===4&&Ye==="top"?Te===0||Te===3?.78*He:Je:ze===5&&Ye==="top"?Te===0||Te===4?.65*He:Te===1||Te===3?tt:Je:Ve}(Oe+ee,we+ee,B)},ue=1,ye=[],Ee=function(){if((ye=function(we,Te,ze,He){var Ye,Ve=we.split(/\s/g).filter(function(Ft){return Ft.length>0}),tt=[],Je=null,lt=function(Ft){return Te(Ft)>ze(tt.length,He)},at=function(Ft,sr){var $t=typeof Symbol<"u"&&Ft[Symbol.iterator]||Ft["@@iterator"];if(!$t){if(Array.isArray(Ft)||($t=kv(Ft))){$t&&(Ft=$t);var Be=0,je=function(){};return{s:je,n:function(){return Be>=Ft.length?{done:!0}:{done:!1,value:Ft[Be++]}},e:function(Dt){throw Dt},f:je}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Fe,St=!0,st=!1;return{s:function(){$t=$t.call(Ft)},n:function(){var Dt=$t.next();return St=Dt.done,Dt},e:function(Dt){st=!0,Fe=Dt},f:function(){try{St||$t.return==null||$t.return()}finally{if(st)throw Fe}}}}(Ve);try{for(at.s();!(Ye=at.n()).done;){var et=Ye.value,gt=Je?"".concat(Je," ").concat(et):et;if(Te(gt)<ze(tt.length,He))Je=gt;else{if(Je!==null){var jt=lt(Je);tt.push({text:Je,overflowed:jt})}if(Je=et,tt.length>He)return[]}}}catch(Ft){at.e(Ft)}finally{at.f()}if(Je){var Kt=lt(Je);tt.push({text:Je,overflowed:Kt})}return tt.length<=He?tt:[]}(x,W,te,ue)).length===0)ye=ga(x,W,te,ue,G>ue);else if(ye.some(function(we){return we.overflowed})){var Oe=ue;ye=ye.reduce(function(we,Te){var ze=G-we.length;if(ze===0){var He=we[we.length-1];return He.text.endsWith(Pf)||(W(He.text)+W(Pf)>te(we.length,Oe)?(we[we.length-1].text=He.text.slice(0,-2),we[we.length-1].hasEllipsisChar=!0):(we[we.length-1].text=He.text,we[we.length-1].hasEllipsisChar=!0)),we}if(Te.overflowed){var Ye=ga(Te.text,W,te,ze);we=we.concat(Ye)}else we.push({text:Te.text,hasEllipsisChar:!1,hasHyphenChar:!1});return we},[])}else ye=ye.map(function(we){return $d($d({},we),{},{hasEllipsisChar:!1,hasHyphenChar:!1})});ue+=1};ye.length===0;)Ee();return Array.from(ye)},Qh=function(){var E=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).reduce(function(x,C,O){var B=C.value;if(B){var N="".concat(O>0&&x.length?", ":"").concat(B);return[].concat(Rf(x),[$d($d({},C),{},{value:N,chars:N.split("").map(function(G,X){var W,ee;return O!==0&&x.length?X<2?null:Rf((W=C.styles)!==null&&W!==void 0?W:[]):Rf((ee=C.styles)!==null&&ee!==void 0?ee:[])})})])}return[]},[]);return{stylesPerChar:E.reduce(function(x,C){return[].concat(Rf(x),Rf(C.chars))},[]),fullCaption:E.map(function(x){return x.value}).join("")}};function Vc(E,x){(x==null||x>E.length)&&(x=E.length);for(var C=0,O=new Array(x);C<x;C++)O[C]=E[C];return O}var Df=[[.04,1],[100,2]],Al=[[.8,1.1],[3,1.6],[8,2.5]],mp=[[Al[0][0],1],[100,1.25]],gu=function(E,x){if(E.includes("rgba"))return E;if(E.includes("rgb")){var C=E.substr(E.indexOf("(")+1).replace(")","").split(",");return"rgba(".concat(C[0],",").concat(C[1],",").concat(C[2],",").concat(x,")")}var O=Iv().get.rgb(E);return O===null?E:"rgba(".concat(O[0],",").concat(O[1],",").concat(O[2],",").concat(x,")")},Ju=function(E,x,C,O){var B=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],N=arguments.length>5&&arguments[5]!==void 0&&arguments[5],G=O.headPosition,X=O.headAngle,W=O.headHeight,ee=O.headChinHeight,te=O.headWidth,ue=Math.cos(X),ye=Math.sin(X),Ee=function(Te,ze){return{x:G.x+Te*ue-ze*ye,y:G.y+Te*ye+ze*ue}},Oe=[Ee(ee-W,0),Ee(-W,te/2),Ee(0,0),Ee(-W,-te/2)],we={lineWidth:E.lineWidth,strokeStyle:E.strokeStyle,fillStyle:E.fillStyle};E.lineWidth=x,E.strokeStyle=C,E.fillStyle=C,function(Te,ze,He,Ye){if(Te.beginPath(),ze.length>0){var Ve=ze[0];Te.moveTo(Ve.x,Ve.y)}for(var tt=1;tt<ze.length;tt++){var Je=ze[tt];Te.lineTo(Je.x,Je.y)}Te.closePath(),He&&Te.fill(),Ye&&Te.stroke()}(E,Oe,B,N),E.lineWidth=we.lineWidth,E.strokeStyle=we.strokeStyle,E.fillStyle=we.fillStyle},Uo=function(E,x,C,O,B){var N=O;B.forEach(function(G){var X=G.width,W=G.color,ee=N+X;E.beginPath(),E.fillStyle=W,E.arc(x,C,ee,0,2*Math.PI,!1),E.arc(x,C,N,2*Math.PI,0,!0),E.fill(),E.closePath(),N=ee})},as=function(E,x,C,O){E.beginPath(),E.arc(x,C,O,0,2*Math.PI,!1),E.closePath()},Os=function(E,x,C,O,B){E.beginPath(),E.fillStyle=O,as(E,x,C,B),E.fill(),E.closePath()};function Wd(E,x){var C=x.find(function(B){return E<B[0]}),O=x[x.length-1][1];return C!==void 0?C[1]:O}var tc=function(E,x,C,O,B,N,G,X,W,ee){var te=O,ue=0,ye=0,Ee="".concat(B,"px ").concat(N),Oe="normal ".concat(Ee);x.forEach(function(we){var Te;E.font=Oe;var ze,He=-((Te=E.measureText(we.text))===null||Te===void 0?void 0:Te.width)/2,Ye=we.text?function(Ve){if(Array.isArray(Ve))return Vc(Ve)}(ze=we.text)||function(Ve){if(typeof Symbol<"u"&&Ve[Symbol.iterator]!=null||Ve["@@iterator"]!=null)return Array.from(Ve)}(ze)||function(Ve,tt){if(Ve){if(typeof Ve=="string")return Vc(Ve,tt);var Je=Object.prototype.toString.call(Ve).slice(8,-1);return Je==="Object"&&Ve.constructor&&(Je=Ve.constructor.name),Je==="Map"||Je==="Set"?Array.from(Ve):Je==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Je)?Vc(Ve,tt):void 0}}(ze)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}():[];we.hasHyphenChar||we.hasEllipsisChar||Ye.push(" "),Ye.forEach(function(Ve){var tt,Je=E.measureText(Ve).width,lt=(tt=C[ye])!==null&&tt!==void 0?tt:[],at=lt.includes("bold"),et=lt.includes("italic");E.font=at&&et?"italic 600 ".concat(Ee):et?"italic 400 ".concat(Ee):at?"bold ".concat(Ee):Oe,lt.includes("underline")&&E.fillRect(X+He+ue,W+te+.2,Je,.2),we.hasEllipsisChar?E.fillText(Ve,X+He+ue-ee/2,W+te):E.fillText(Ve,X+He+ue,W+te),ue+=Je,ye+=1}),E.font=Oe,we.hasHyphenChar&&E.fillText("",X+He+ue,W+te),we.hasEllipsisChar&&E.fillText(Pf,X+He+ue-ee/2,W+te),ue=0,te+=G})},ia=function(E,x){return{x:E.x+x.x,y:E.y+x.y}},Sa=function(E,x){return{x:E.x-x.x,y:E.y-x.y}},rc=function(E,x){return{x:E.x*x,y:E.y*x}},os=function(E,x){return function(C){return Math.sqrt(C.x*C.x+C.y*C.y)}(Sa(E,x))},Xr=function(E,x){return{x:Math.cos(E)*x,y:Math.sin(E)*x}};function Jh(E,x){var C=typeof Symbol<"u"&&E[Symbol.iterator]||E["@@iterator"];if(!C){if(Array.isArray(E)||(C=function(W,ee){if(W){if(typeof W=="string")return ss(W,ee);var te=Object.prototype.toString.call(W).slice(8,-1);return te==="Object"&&W.constructor&&(te=W.constructor.name),te==="Map"||te==="Set"?Array.from(W):te==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(te)?ss(W,ee):void 0}}(E))||x){C&&(E=C);var O=0,B=function(){};return{s:B,n:function(){return O>=E.length?{done:!0}:{done:!1,value:E[O++]}},e:function(W){throw W},f:B}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var N,G=!0,X=!1;return{s:function(){C=C.call(E)},n:function(){var W=C.next();return G=W.done,W},e:function(W){X=!0,N=W},f:function(){try{G||C.return==null||C.return()}finally{if(X)throw N}}}}function ss(E,x){(x==null||x>E.length)&&(x=E.length);for(var C=0,O=new Array(x);C<x;C++)O[C]=E[C];return O}var Kn=2*Math.PI,Ua=Math.PI/2,Nv=function(E,x,C,O,B,N){var G={x:(E.x+x.x)/2,y:(E.y+x.y)/2},X={x:E.x,y:E.y},W={x:x.x,y:x.y},ee=new Za(W,X),te=function(ye,Ee){var Oe=0;return ye&&(Oe+=ye),Ee&&(Oe-=Ee),Oe}(O,C);G.x+=te/2*ee.unit.x,G.y+=te/2*ee.unit.y;var ue=N.size()/2-N.indexOf(B);return G.x+=ue*ee.unit.x,G.y+=ue*ee.unit.y,G},If=function(E){var x=mt(),C=E.size,O=E.selected;return((C??ra)+4+(O===!0?4:0))*x},yu=function(E,x){var C=mt();E.shadowColor=x.color,E.shadowBlur=x.width*C,E.shadowOffsetX=0,E.shadowOffsetY=0},$c=function(E){E.shadowColor="rgba(0,0,0,0)",E.shadowBlur=0,E.shadowOffsetX=0,E.shadowOffsetY=0},Ts=function(E,x,C,O,B){var N,G,X=arguments.length>5&&arguments[5]!==void 0&&arguments[5],W=function(je){var Fe=arguments.length>1&&arguments[1]!==void 0&&arguments[1],St=je.norm.x,st=je.norm.y;return Fe?{x:-St,y:-st}:je.norm},ee=mt(),te=x.indexOf(E),ue=(x.size()-1)/2,ye=te>ue,Ee=Math.abs(te-ue),Oe=B?17*x.maxFontSize():8,we=(x.size()-1)*Oe*ee,Te=function(je,Fe,St,st,Dt,rr,dr){var lr,Kr=arguments.length>7&&arguments[7]!==void 0&&arguments[7],Qr=mt(),Sn=je.size(),vi=Sn>1,Mi=je.relIsOppositeDirection(rr),ei=Mi?St:Fe,Dn=Mi?Fe:St,vn=je.waypointPath,Wn=vn==null?void 0:vn.points,pi=vn==null?void 0:vn.from,Yi=vn==null?void 0:vn.to,Mn=ah(ei,pi)&&ah(Dn,Yi)||ah(Dn,pi)&&ah(ei,Yi),si=Mn?Wn[1]:null,Xi=Mn?Wn[Wn.length-2]:null,oa=If(ei),sa=If(Dn),pn=function($e,dt){return Math.atan2($e.y-dt.y,$e.x-dt.x)},gi=Math.max(Math.PI,Kn/(Sn/2)),In=vi?st*gi*(dr?1:-1)/((lr=ei.size)!==null&&lr!==void 0?lr:ra):0,fo=pn(Mn?si:Dn,ei),Ro=Mn?pn(Dn,Xi):fo,Is=function($e,dt,kt,Ut){return{x:$e.x+Math.cos(dt)*kt*(Ut?-1:1),y:$e.y+Math.sin(dt)*kt*(Ut?-1:1)}},yh=function($e,dt){return Is(ei,fo+$e,dt,!1)},Kc=function($e,dt){return Is(Dn,Ro-$e,dt,!0)},ds=function($e,dt){return{x:$e.x+(dt.x-$e.x)/2,y:$e.y+(dt.y-$e.y)/2}},ma=function($e,dt){return Math.sqrt(($e.x-dt.x)*($e.x-dt.x)+($e.y-dt.y)*($e.y-dt.y))*Qr},yi=yh(In,oa),ka=Kc(In,sa),ks=vi?yh(0,oa):null,Ms=vi?Kc(0,sa):null,Su=200*Qr,Ki=[];if(Mn){var mh=ma(yi,si)<Su;if(vi&&!mh){var Zc=ds(ks,si);Ki.push(new Za(yi,Zc)),Ki.push(new Za(Zc,si))}else Ki.push(new Za(yi,si));for(var Qc=2;Qc<Wn.length-1;Qc++)Ki.push(new Za(Wn[Qc-1],Wn[Qc]));var dd=ma(ka,Xi)<Su;if(vi&&!dd){var bh=ds(Ms,Xi);Ki.push(new Za(Xi,bh)),Ki.push(new Za(bh,ka))}else Ki.push(new Za(Xi,ka))}else{var _h=vi?ma(ks,Ms):0;if(vi&&_h>2*(30*Qr+Math.min(oa,sa)))if(Kr){var Jc=Nv(ei,Dn,oa,sa,rr,je);Ki.push(new Za(yi,Jc)),Ki.push(new Za(Jc,ka))}else{var h=st*Dt,g=30+oa,T=Math.sqrt(g*g+h*h),M=30+sa,H=Math.sqrt(M*M+h*h),Z=yh(0,T),he=Kc(0,H);Ki.push(new Za(yi,Z)),Ki.push(new Za(Z,he)),Ki.push(new Za(he,ka))}else if(_h>(oa+sa)/2){var Ae=Nv(ei,Dn,oa,sa,rr,je);Ki.push(new Za(yi,Ae)),Ki.push(new Za(Ae,ka))}else Ki.push(new Za(yi,ka))}return Ki}(x,C,O,Ee,Oe,E,ye,X),ze=[],He=Te[0],Ye=W(He,ye);ze.push({x:He.p1.x+Ye.x,y:He.p1.y+Ye.y});for(var Ve=1;Ve<Te.length;Ve++)if(x.size()===1)ze.push(Te[Ve-1].p2);else{var tt=Te[Ve-1],Je=Te[Ve],lt=W(tt,ye),at=W(Je,ye),et=ia(tt.p1,rc(lt,we/2)),gt=ia(tt.p2,rc(lt,we/2)),jt=ia(Je.p1,rc(at,we/2)),Kt=ia(Je.p2,rc(at,we/2)),Ft=null;G=at,(N=lt).x*G.x+N.y*G.y<.99&&(Ft=Vd(et,gt,jt,Kt));var sr=Ft!==null?Sa(Ft,tt.p2):rc(lt,we/2);ze.push(ia(tt.p2,rc(sr,Ee/ue)))}var $t=Te[Te.length-1],Be=W($t,ye);return ze.push({x:$t.p2.x+Be.x,y:$t.p2.y+Be.y}),x.relIsOppositeDirection(E)?ze.reverse():ze},Ai=function(E,x,C,O,B,N,G,X){var W,ee=arguments.length>8&&arguments[8]!==void 0&&arguments[8],te=mt(),ue=B.selected,ye=B.captions,Ee=ye===void 0?[]:ye,Oe=B.caption,we=Oe===void 0?"":Oe,Te=B.width,ze=B.disabled,He=B.captionAlign,Ye=He===void 0?"top":He,Ve=B.captionSize,tt=Ve===void 0?1:Ve,Je=Ee.length>0?(W=Qh(Ee))===null||W===void 0?void 0:W.fullCaption:we;if(Je!==void 0){var lt=6*tt*te,at=ue===!0?"bold":"normal",et=Je;E.fillStyle=ze===!0?G.fontColor:X,E.font="".concat(at," ").concat(lt,"px ").concat('"Open Sans", sans-serif');var gt=function(Kr){return E.measureText(Kr).width},jt=(Te??1)*(ue===!0?1.5:1),Kt=gt(et);if(Kt>O){var Ft=ga(et,gt,function(){return O},1,!1)[0];et=Ft.hasEllipsisChar===!0?"".concat(Ft.text,"..."):et,Kt=O}var sr=Math.cos(C),$t=Math.sin(C),Be={x:x.x,y:x.y},je=Be.x,Fe=Be.y,St=C;ee&&(St=C-Ua,je+=2*lt*sr,Fe+=2*lt*$t,St-=Ua);var st=(1+tt)*te,Dt=Ye==="bottom"?lt/2+jt+st:-(jt+st);E.translate(je,Fe),E.rotate(St),E.fillText(et,-Kt/2,Dt),E.rotate(-St),E.translate(-je,-Fe);var rr=2*Dt*Math.sin(C),dr=2*Dt*Math.cos(C),lr={position:{x:x.x-rr,y:x.y+dr},rotation:ee?C-Math.PI:C,width:O/te,height:(lt+st)/te};N.setLabelInfo(B.id,lr)}},Ri=function(E,x,C,O,B){if(E.beginPath(),E.moveTo(x[0].x,x[0].y),B&&x.length>2){for(var N=1;N<x.length-2;){var G=(x[N].x+x[N+1].x)/2,X=(x[N].y+x[N+1].y)/2;E.quadraticCurveTo(x[N].x,x[N].y,G,X),N+=1}E.quadraticCurveTo(x[N].x,x[N].y,x[N+1].x,x[N+1].y)}else for(var W=1;W<x.length;W++)E.lineTo(x[W].x,x[W].y);E.lineWidth=C,E.strokeStyle=O,E.lineCap="round",E.stroke()},Yd=function(E){return E.rings[0].width*mt()*1.5},Lv=function(E){return 6*E*mt()},sh=function(E,x,C){var O,B;return{widthAlign:x/2*((O=E[0])!==null&&O!==void 0?O:0),heightAlign:C/2*((B=E[1])!==null&&B!==void 0?B:0)}},Da=function(E,x,C){var O,B,N=C.indexOf(E),G=(O=C.angles[N])!==null&&O!==void 0?O:0,X=G-Vh/2,W=G+Vh/2,ee=(B=E.width)!==null&&B!==void 0?B:1,te=mt(),ue=If(x),ye={x:x.x+Math.cos(X)*(ue+ee/2),y:x.y+Math.sin(X)*(ue+ee/2)},Ee={x:x.x+Math.cos(W)*(ue+ee/2),y:x.y+Math.sin(W)*(ue+ee/2)},Oe={x:x.x+Math.cos(G)*(ue+35*te),y:x.y+Math.sin(G)*(ue+35*te)};return{startAngle:X,endAngle:W,startPoint:ye,endPoint:Ee,apexPoint:Oe,control1Point:{x:Oe.x+25*Math.cos(G-Ua)*te/2,y:Oe.y+25*Math.sin(G-Ua)*te/2},control2Point:{x:Oe.x+25*Math.cos(G+Ua)*te/2,y:Oe.y+25*Math.sin(G+Ua)*te/2}}},di=function(E,x,C,O,B,N){E.beginPath(),E.moveTo(x.x,x.y),E.quadraticCurveTo(B.x,B.y,O.x,O.y),E.quadraticCurveTo(N.x,N.y,C.x,C.y),E.stroke()},uh=function(E,x,C,O,B,N,G,X,W,ee){var te=!(arguments.length>10&&arguments[10]!==void 0)||arguments[10];Kh(C,O)&&(C.id===O.id?function(ue,ye,Ee,Oe,we,Te,ze,He){var Ye=arguments.length>8&&arguments[8]!==void 0?arguments[8]:Cf,Ve=ye.overlayIcon,tt=ye.selected,Je=ye.width,lt=ye.hovered,at=ye.disabled,et=ye.color,gt=Da(ye,Ee,Oe),jt=gt.startPoint,Kt=gt.endPoint,Ft=gt.apexPoint,sr=gt.control1Point,$t=gt.control2Point,Be=ze.rings,je=ze.shadow,Fe=mt(),St=Be[0].color,st=Be[1].color,Dt=Be[0].width*Fe,rr=Be[1].width*Fe,dr=40*Fe,lr=(Je??1)*Fe,Kr=lr>1?lr/2:1,Qr=9*Kr,Sn=2*Kr,vi=7*Kr,Mi=tt===!0,ei=at===!0,Dn=Ve!==void 0,vn=Math.atan2(Kt.y-$t.y,Kt.x-$t.x),Wn=Mi?Dt*Math.sqrt(1+2*Qr/vi*(2*Qr/vi)):0,pi={x:Kt.x-Math.cos(vn)*(.5*Qr-Sn+Wn),y:Kt.y-Math.sin(vn)*(.5*Qr-Sn+Wn)},Yi={headPosition:{x:Kt.x+Math.cos(vn)*(.5*Qr-Sn-Wn),y:Kt.y+Math.sin(vn)*(.5*Qr-Sn-Wn)},headAngle:vn,headHeight:Qr,headChinHeight:Sn,headWidth:vi};if(ue.save(),ue.lineCap="round",Mi&&(yu(ue,je),ue.lineWidth=lr+rr,ue.strokeStyle=st,di(ue,jt,pi,Ft,sr,$t),Ju(ue,rr,st,Yi,!1,!0),$c(ue),ue.lineWidth=lr+Dt,ue.strokeStyle=St,di(ue,jt,pi,Ft,sr,$t),Ju(ue,Dt,St,Yi,!1,!0)),ue.lineWidth=lr,lt===!0&&!Mi&&!ei){var Mn=je.color;yu(ue,je),ue.strokeStyle=Mn,ue.fillStyle=Mn,di(ue,jt,pi,Ft,sr,$t),Ju(ue,lr,Mn,Yi),$c(ue)}var si=ei?He.color:et??Ye;if(ue.fillStyle=si,ue.strokeStyle=si,di(ue,jt,pi,Ft,sr,$t),Ju(ue,lr,si,Yi),Te||Dn){var Xi,oa=Oe.indexOf(ye),sa=(Xi=Oe.angles[oa])!==null&&Xi!==void 0?Xi:0,pn=Ft.x-Math.cos(vn)*(Wn/4),gi=Ft.y-Math.sin(vn)*(Wn/4),In=(sa+Ua)%Kn,fo=(sa+Kn)%Kn<Math.PI;if(Te&&Ai(ue,{x:pn,y:gi},In,dr,ye,Oe,He,Ye,fo),Dn){var Ro=Ve.position,Is=Ro===void 0?[0,0]:Ro,yh=Ve.url,Kc=Ve.size,ds=Lv(Kc===void 0?1:Kc),ma=sh(Is,dr,ds),yi=ma.widthAlign,ka=ma.heightAlign+(Mi?Yd(ze):0)*(Is[1]<0?-1:1);ue.save(),ue.translate(pn,gi),fo?(ue.rotate(In-Math.PI),ue.translate(2*-yi,2*-ka)):ue.rotate(In);var ks=ds/2,Ms=-ks+yi,Su=-ks+ka;ue.drawImage(we.getImage(yh),Ms,Su,ds,ds),ue.restore()}}ue.restore()}(E,x,C,B,N,G,X,W,ee):function(ue,ye,Ee,Oe,we,Te,ze,He,Ye,Ve){var tt=arguments.length>10&&arguments[10]!==void 0?arguments[10]:Cf,Je=ye.overlayIcon,lt=ye.color,at=ye.disabled,et=ye.selected,gt=ye.width,jt=ye.hovered,Kt=ye.captionAlign,Ft=et===!0,sr=at===!0,$t=Je!==void 0,Be=Ye.rings,je=Ye.shadow,Fe=Ts(ye,we,Ee,Oe,ze,He),St=mt(),st=function(Ut){var bt,yt=Ut.selected===!0?1.5:1;return((bt=Ut.width)!==null&&bt!==void 0?bt:1)*yt*mt()}(ye),Dt=sr?Ve.color:lt??tt,rr=Be[0].width*St,dr=Be[1].width*St,lr=St*(gt>1?gt/2:1),Kr=9*lr,Qr=2*lr,Sn=7*lr,vi=os(Fe[Fe.length-2],Fe[Fe.length-1]),Mi=2*Kr,ei=Ft?rr*Math.sqrt(1+Mi/Sn*(Mi/Sn)):0,Dn=2-ei,vn=Math.floor(Fe.length/2);Fe.length>2&&Ft&&vi<Kr+ei-Qr&&(Dn+=vi,ei-=vi/2+Qr,Fe.pop(),vn=Math.floor(Fe.length/2));var Wn,pi,Yi=Fe[Fe.length-2],Mn=Fe[Fe.length-1],si=(Wn=Yi,pi=Mn,Math.atan2(pi.y-Wn.y,pi.x-Wn.x)),Xi=Kr/2+ei,oa=Math.cos(si),sa=Math.sin(si);Fe[Fe.length-1]={x:Mn.x-oa*Xi,y:Mn.y-sa*Xi};var pn,gi={headPosition:{x:Mn.x+oa*Dn,y:Mn.y+sa*Dn},headAngle:si,headHeight:Kr,headChinHeight:Qr,headWidth:Sn},In=Jh(Fe);try{for(In.s();!(pn=In.n()).done;){var fo=pn.value;fo.x=Math.round(fo.x),fo.y=Math.round(fo.y)}}catch(Ut){In.e(Ut)}finally{In.f()}if(ue.save(),Ft){var Ro=Be[0].color,Is=Be[1].color,yh=Math.atan2(Fe[1].y-Fe[0].y,Fe[1].x-Fe[0].x),Kc=Xr(yh,Yd(Ye));Fe[0]=ia(Fe[0],Kc),yu(ue,je),Ri(ue,Fe,st+dr,Is,He),Ju(ue,dr,Is,gi,!1,!0),$c(ue),Ri(ue,Fe,st+rr,Ro,He),Ju(ue,rr,Ro,gi,!1,!0)}if(jt===!0&&!Ft&&!sr){var ds=je.color;yu(ue,je),Ri(ue,Fe,st,ds,He),Ju(ue,st,ds,gi),$c(ue)}if(Ri(ue,Fe,st,Dt,He),Ju(ue,st,Dt,gi),ze||$t){var ma,yi,ka,ks,Ms,Su=Ee.x>Oe.x,Ki=Fe[vn];(1&Fe.length)==1?(ma=Fe[Su?vn+1:vn-1],yi=Fe[Su?vn-1:vn+1],He?(ka=(Ki.x+(ma.x+yi.x)/2)/2,ks=(Ki.y+(ma.y+yi.y)/2)/2,Ms=Su?Math.atan2(Ee.y-Oe.y,Ee.x-Oe.x):Math.atan2(Oe.y-Ee.y,Oe.x-Ee.x)):(os(Ki,ma)>os(Ki,yi)?yi=Ki:ma=Ki,ka=(ma.x+yi.x)/2,ks=(ma.y+yi.y)/2,Ms=Math.atan2(yi.y-ma.y,yi.x-ma.x))):(ma=Fe[Su?vn:vn-1],yi=Fe[Su?vn-1:vn],ka=(ma.x+yi.x)/2,ks=(ma.y+yi.y)/2,Ms=Math.atan2(yi.y-ma.y,yi.x-ma.x));var mh=Ft?Xr(Ms+Ua,Yd(Ye)):{x:0,y:0},Zc=os(ma,yi);if(ze){var Qc=Kt==="bottom"?1:-1,dd={x:ka+mh.x*Qc,y:ks+mh.y*Qc};Ai(ue,dd,Ms,Zc,ye,we,Ve,tt)}if($t){var bh=Je.position,_h=bh===void 0?[0,0]:bh,Jc=Je.url,h=Je.size,g=Lv(h===void 0?1:h),T=sh(_h,Zc,g),M=T.widthAlign,H=T.heightAlign,Z=_h[1]<0?-1:1,he=mh.x*Z,Ae=mh.y*Z,$e=g/2;ue.translate(ka,ks),ue.rotate(Ms);var dt=-$e+he+M,kt=-$e+Ae+H;ue.drawImage(Te.getImage(Jc),dt,kt,g,g),ue.rotate(-Ms),ue.translate(-ka,-ks)}}ue.restore()}(E,x,C,O,B,N,G,te,X,W,ee))},us=function(E,x,C,O){var B=arguments.length>4&&arguments[4]!==void 0&&arguments[4],N=arguments.length>5&&arguments[5]!==void 0&&arguments[5];return Kh(C,O)?C.id===O.id?function(G,X,W){for(var ee=Da(G,X,W),te={left:1/0,top:1/0,right:-1/0,bottom:-1/0},ue=["startPoint","endPoint","apexPoint","control1Point","control2Point"],ye=0;ye<ue.length;ye++){var Ee=ee[ue[ye]],Oe=Ee.x,we=Ee.y;Oe<te.left&&(te.left=Oe),Oe>te.right&&(te.right=Oe),we<te.top&&(te.top=we),we>te.bottom&&(te.bottom=we)}return te}(E,C,x):function(G,X,W,ee,te,ue){var ye,Ee={left:1/0,top:1/0,right:-1/0,bottom:-1/0},Oe=Jh(Ts(G,X,W,ee,te,ue));try{for(Oe.s();!(ye=Oe.n()).done;){var we=ye.value,Te=we.x,ze=we.y;Te<Ee.left&&(Ee.left=Te),Te>Ee.right&&(Ee.right=Te),ze<Ee.top&&(Ee.top=ze),ze>Ee.bottom&&(Ee.bottom=ze)}}catch(He){Oe.e(He)}finally{Oe.f()}return Ee}(E,x,C,O,B,N):null};function el(E){return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},el(E)}var Xd=/^\s+/,lh=/\s+$/;function Vt(E,x){if(x=x||{},(E=E||"")instanceof Vt)return E;if(!(this instanceof Vt))return new Vt(E,x);var C=function(O){var B,N,G,X={r:0,g:0,b:0},W=1,ee=null,te=null,ue=null,ye=!1,Ee=!1;return typeof O=="string"&&(O=function(Oe){Oe=Oe.replace(Xd,"").replace(lh,"").toLowerCase();var we,Te=!1;if(zo[Oe])Oe=zo[Oe],Te=!0;else if(Oe=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return(we=Xs.rgb.exec(Oe))?{r:we[1],g:we[2],b:we[3]}:(we=Xs.rgba.exec(Oe))?{r:we[1],g:we[2],b:we[3],a:we[4]}:(we=Xs.hsl.exec(Oe))?{h:we[1],s:we[2],l:we[3]}:(we=Xs.hsla.exec(Oe))?{h:we[1],s:we[2],l:we[3],a:we[4]}:(we=Xs.hsv.exec(Oe))?{h:we[1],s:we[2],v:we[3]}:(we=Xs.hsva.exec(Oe))?{h:we[1],s:we[2],v:we[3],a:we[4]}:(we=Xs.hex8.exec(Oe))?{r:Oo(we[1]),g:Oo(we[2]),b:Oo(we[3]),a:zv(we[4]),format:Te?"name":"hex8"}:(we=Xs.hex6.exec(Oe))?{r:Oo(we[1]),g:Oo(we[2]),b:Oo(we[3]),format:Te?"name":"hex"}:(we=Xs.hex4.exec(Oe))?{r:Oo(we[1]+""+we[1]),g:Oo(we[2]+""+we[2]),b:Oo(we[3]+""+we[3]),a:zv(we[4]+""+we[4]),format:Te?"name":"hex8"}:!!(we=Xs.hex3.exec(Oe))&&{r:Oo(we[1]+""+we[1]),g:Oo(we[2]+""+we[2]),b:Oo(we[3]+""+we[3]),format:Te?"name":"hex"}}(O)),el(O)=="object"&&(As(O.r)&&As(O.g)&&As(O.b)?(B=O.r,N=O.g,G=O.b,X={r:255*dn(B,255),g:255*dn(N,255),b:255*dn(G,255)},ye=!0,Ee=String(O.r).substr(-1)==="%"?"prgb":"rgb"):As(O.h)&&As(O.s)&&As(O.v)?(ee=rd(O.s),te=rd(O.v),X=function(Oe,we,Te){Oe=6*dn(Oe,360),we=dn(we,100),Te=dn(Te,100);var ze=Math.floor(Oe),He=Oe-ze,Ye=Te*(1-we),Ve=Te*(1-He*we),tt=Te*(1-(1-He)*we),Je=ze%6;return{r:255*[Te,Ve,Ye,Ye,tt,Te][Je],g:255*[tt,Te,Te,Ve,Ye,Ye][Je],b:255*[Ye,Ye,tt,Te,Te,Ve][Je]}}(O.h,ee,te),ye=!0,Ee="hsv"):As(O.h)&&As(O.s)&&As(O.l)&&(ee=rd(O.s),ue=rd(O.l),X=function(Oe,we,Te){var ze,He,Ye;function Ve(lt,at,et){return et<0&&(et+=1),et>1&&(et-=1),et<1/6?lt+6*(at-lt)*et:et<.5?at:et<2/3?lt+(at-lt)*(2/3-et)*6:lt}if(Oe=dn(Oe,360),we=dn(we,100),Te=dn(Te,100),we===0)ze=He=Ye=Te;else{var tt=Te<.5?Te*(1+we):Te+we-Te*we,Je=2*Te-tt;ze=Ve(Je,tt,Oe+1/3),He=Ve(Je,tt,Oe),Ye=Ve(Je,tt,Oe-1/3)}return{r:255*ze,g:255*He,b:255*Ye}}(O.h,ee,ue),ye=!0,Ee="hsl"),O.hasOwnProperty("a")&&(W=O.a)),W=Pi(W),{ok:ye,format:O.format||Ee,r:Math.min(255,Math.max(X.r,0)),g:Math.min(255,Math.max(X.g,0)),b:Math.min(255,Math.max(X.b,0)),a:W}}(E);this._originalInput=E,this._r=C.r,this._g=C.g,this._b=C.b,this._a=C.a,this._roundA=Math.round(100*this._a)/100,this._format=x.format||C.format,this._gradientType=x.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=C.ok}function Cs(E,x,C){E=dn(E,255),x=dn(x,255),C=dn(C,255);var O,B,N=Math.max(E,x,C),G=Math.min(E,x,C),X=(N+G)/2;if(N==G)O=B=0;else{var W=N-G;switch(B=X>.5?W/(2-N-G):W/(N+G),N){case E:O=(x-C)/W+(x<C?6:0);break;case x:O=(C-E)/W+2;break;case C:O=(E-x)/W+4}O/=6}return{h:O,s:B,l:X}}function rn(E,x,C){E=dn(E,255),x=dn(x,255),C=dn(C,255);var O,B,N=Math.max(E,x,C),G=Math.min(E,x,C),X=N,W=N-G;if(B=N===0?0:W/N,N==G)O=0;else{switch(N){case E:O=(x-C)/W+(x<C?6:0);break;case x:O=(C-E)/W+2;break;case C:O=(E-x)/W+4}O/=6}return{h:O,s:B,v:X}}function nc(E,x,C,O){var B=[Cn(Math.round(E).toString(16)),Cn(Math.round(x).toString(16)),Cn(Math.round(C).toString(16))];return O&&B[0].charAt(0)==B[0].charAt(1)&&B[1].charAt(0)==B[1].charAt(1)&&B[2].charAt(0)==B[2].charAt(1)?B[0].charAt(0)+B[1].charAt(0)+B[2].charAt(0):B.join("")}function Ys(E,x,C,O){return[Cn(Uv(O)),Cn(Math.round(E).toString(16)),Cn(Math.round(x).toString(16)),Cn(Math.round(C).toString(16))].join("")}function ed(E,x){x=x===0?0:x||10;var C=Vt(E).toHsl();return C.s-=x/100,C.s=ch(C.s),Vt(C)}function qn(E,x){x=x===0?0:x||10;var C=Vt(E).toHsl();return C.s+=x/100,C.s=ch(C.s),Vt(C)}function So(E){return Vt(E).desaturate(100)}function bp(E,x){x=x===0?0:x||10;var C=Vt(E).toHsl();return C.l+=x/100,C.l=ch(C.l),Vt(C)}function td(E,x){x=x===0?0:x||10;var C=Vt(E).toRgb();return C.r=Math.max(0,Math.min(255,C.r-Math.round(-x/100*255))),C.g=Math.max(0,Math.min(255,C.g-Math.round(-x/100*255))),C.b=Math.max(0,Math.min(255,C.b-Math.round(-x/100*255))),Vt(C)}function Kd(E,x){x=x===0?0:x||10;var C=Vt(E).toHsl();return C.l-=x/100,C.l=ch(C.l),Vt(C)}function _p(E,x){var C=Vt(E).toHsl(),O=(C.h+x)%360;return C.h=O<0?360+O:O,Vt(C)}function wp(E){var x=Vt(E).toHsl();return x.h=(x.h+180)%360,Vt(x)}function jv(E,x){if(isNaN(x)||x<=0)throw new Error("Argument to polyad must be a positive number");for(var C=Vt(E).toHsl(),O=[Vt(E)],B=360/x,N=1;N<x;N++)O.push(Vt({h:(C.h+N*B)%360,s:C.s,l:C.l}));return O}function Bv(E){var x=Vt(E).toHsl(),C=x.h;return[Vt(E),Vt({h:(C+72)%360,s:x.s,l:x.l}),Vt({h:(C+216)%360,s:x.s,l:x.l})]}function Rl(E,x,C){x=x||6,C=C||30;var O=Vt(E).toHsl(),B=360/C,N=[Vt(E)];for(O.h=(O.h-(B*x>>1)+720)%360;--x;)O.h=(O.h+B)%360,N.push(Vt(O));return N}function Pl(E,x){x=x||6;for(var C=Vt(E).toHsv(),O=C.h,B=C.s,N=C.v,G=[],X=1/x;x--;)G.push(Vt({h:O,s:B,v:N})),N=(N+X)%1;return G}Vt.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var E=this.toRgb();return(299*E.r+587*E.g+114*E.b)/1e3},getLuminance:function(){var E,x,C,O=this.toRgb();return E=O.r/255,x=O.g/255,C=O.b/255,.2126*(E<=.03928?E/12.92:Math.pow((E+.055)/1.055,2.4))+.7152*(x<=.03928?x/12.92:Math.pow((x+.055)/1.055,2.4))+.0722*(C<=.03928?C/12.92:Math.pow((C+.055)/1.055,2.4))},setAlpha:function(E){return this._a=Pi(E),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var E=rn(this._r,this._g,this._b);return{h:360*E.h,s:E.s,v:E.v,a:this._a}},toHsvString:function(){var E=rn(this._r,this._g,this._b),x=Math.round(360*E.h),C=Math.round(100*E.s),O=Math.round(100*E.v);return this._a==1?"hsv("+x+", "+C+"%, "+O+"%)":"hsva("+x+", "+C+"%, "+O+"%, "+this._roundA+")"},toHsl:function(){var E=Cs(this._r,this._g,this._b);return{h:360*E.h,s:E.s,l:E.l,a:this._a}},toHslString:function(){var E=Cs(this._r,this._g,this._b),x=Math.round(360*E.h),C=Math.round(100*E.s),O=Math.round(100*E.l);return this._a==1?"hsl("+x+", "+C+"%, "+O+"%)":"hsla("+x+", "+C+"%, "+O+"%, "+this._roundA+")"},toHex:function(E){return nc(this._r,this._g,this._b,E)},toHexString:function(E){return"#"+this.toHex(E)},toHex8:function(E){return function(x,C,O,B,N){var G=[Cn(Math.round(x).toString(16)),Cn(Math.round(C).toString(16)),Cn(Math.round(O).toString(16)),Cn(Uv(B))];return N&&G[0].charAt(0)==G[0].charAt(1)&&G[1].charAt(0)==G[1].charAt(1)&&G[2].charAt(0)==G[2].charAt(1)&&G[3].charAt(0)==G[3].charAt(1)?G[0].charAt(0)+G[1].charAt(0)+G[2].charAt(0)+G[3].charAt(0):G.join("")}(this._r,this._g,this._b,this._a,E)},toHex8String:function(E){return"#"+this.toHex8(E)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*dn(this._r,255))+"%",g:Math.round(100*dn(this._g,255))+"%",b:Math.round(100*dn(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(100*dn(this._r,255))+"%, "+Math.round(100*dn(this._g,255))+"%, "+Math.round(100*dn(this._b,255))+"%)":"rgba("+Math.round(100*dn(this._r,255))+"%, "+Math.round(100*dn(this._g,255))+"%, "+Math.round(100*dn(this._b,255))+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":!(this._a<1)&&(Fv[nc(this._r,this._g,this._b,!0)]||!1)},toFilter:function(E){var x="#"+Ys(this._r,this._g,this._b,this._a),C=x,O=this._gradientType?"GradientType = 1, ":"";if(E){var B=Vt(E);C="#"+Ys(B._r,B._g,B._b,B._a)}return"progid:DXImageTransform.Microsoft.gradient("+O+"startColorstr="+x+",endColorstr="+C+")"},toString:function(E){var x=!!E;E=E||this._format;var C=!1,O=this._a<1&&this._a>=0;return x||!O||E!=="hex"&&E!=="hex6"&&E!=="hex3"&&E!=="hex4"&&E!=="hex8"&&E!=="name"?(E==="rgb"&&(C=this.toRgbString()),E==="prgb"&&(C=this.toPercentageRgbString()),E!=="hex"&&E!=="hex6"||(C=this.toHexString()),E==="hex3"&&(C=this.toHexString(!0)),E==="hex4"&&(C=this.toHex8String(!0)),E==="hex8"&&(C=this.toHex8String()),E==="name"&&(C=this.toName()),E==="hsl"&&(C=this.toHslString()),E==="hsv"&&(C=this.toHsvString()),C||this.toHexString()):E==="name"&&this._a===0?this.toName():this.toRgbString()},clone:function(){return Vt(this.toString())},_applyModification:function(E,x){var C=E.apply(null,[this].concat([].slice.call(x)));return this._r=C._r,this._g=C._g,this._b=C._b,this.setAlpha(C._a),this},lighten:function(){return this._applyModification(bp,arguments)},brighten:function(){return this._applyModification(td,arguments)},darken:function(){return this._applyModification(Kd,arguments)},desaturate:function(){return this._applyModification(ed,arguments)},saturate:function(){return this._applyModification(qn,arguments)},greyscale:function(){return this._applyModification(So,arguments)},spin:function(){return this._applyModification(_p,arguments)},_applyCombination:function(E,x){return E.apply(null,[this].concat([].slice.call(x)))},analogous:function(){return this._applyCombination(Rl,arguments)},complement:function(){return this._applyCombination(wp,arguments)},monochromatic:function(){return this._applyCombination(Pl,arguments)},splitcomplement:function(){return this._applyCombination(Bv,arguments)},triad:function(){return this._applyCombination(jv,[3])},tetrad:function(){return this._applyCombination(jv,[4])}},Vt.fromRatio=function(E,x){if(el(E)=="object"){var C={};for(var O in E)E.hasOwnProperty(O)&&(C[O]=O==="a"?E[O]:rd(E[O]));E=C}return Vt(E,x)},Vt.equals=function(E,x){return!(!E||!x)&&Vt(E).toRgbString()==Vt(x).toRgbString()},Vt.random=function(){return Vt.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},Vt.mix=function(E,x,C){C=C===0?0:C||50;var O=Vt(E).toRgb(),B=Vt(x).toRgb(),N=C/100;return Vt({r:(B.r-O.r)*N+O.r,g:(B.g-O.g)*N+O.g,b:(B.b-O.b)*N+O.b,a:(B.a-O.a)*N+O.a})},Vt.readability=function(E,x){var C=Vt(E),O=Vt(x);return(Math.max(C.getLuminance(),O.getLuminance())+.05)/(Math.min(C.getLuminance(),O.getLuminance())+.05)},Vt.isReadable=function(E,x,C){var O,B,N,G,X,W=Vt.readability(E,x);switch(B=!1,(G=((N=(N=C)||{level:"AA",size:"small"}).level||"AA").toUpperCase())!=="AA"&&G!=="AAA"&&(G="AA"),(X=(N.size||"small").toLowerCase())!=="small"&&X!=="large"&&(X="small"),(O={level:G,size:X}).level+O.size){case"AAsmall":case"AAAlarge":B=W>=4.5;break;case"AAlarge":B=W>=3;break;case"AAAsmall":B=W>=7}return B},Vt.mostReadable=function(E,x,C){var O,B,N,G,X=null,W=0;B=(C=C||{}).includeFallbackColors,N=C.level,G=C.size;for(var ee=0;ee<x.length;ee++)(O=Vt.readability(E,x[ee]))>W&&(W=O,X=Vt(x[ee]));return Vt.isReadable(E,X,{level:N,size:G})||!B?X:(C.includeFallbackColors=!1,Vt.mostReadable(E,["#fff","#000"],C))};var zo=Vt.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Fv=Vt.hexNames=function(E){var x={};for(var C in E)E.hasOwnProperty(C)&&(x[E[C]]=C);return x}(zo);function Pi(E){return E=parseFloat(E),(isNaN(E)||E<0||E>1)&&(E=1),E}function dn(E,x){(function(O){return typeof O=="string"&&O.indexOf(".")!=-1&&parseFloat(O)===1})(E)&&(E="100%");var C=function(O){return typeof O=="string"&&O.indexOf("%")!=-1}(E);return E=Math.min(x,Math.max(0,parseFloat(E))),C&&(E=parseInt(E*x,10)/100),Math.abs(E-x)<1e-6?1:E%x/parseFloat(x)}function ch(E){return Math.min(1,Math.max(0,E))}function Oo(E){return parseInt(E,16)}function Cn(E){return E.length==1?"0"+E:""+E}function rd(E){return E<=1&&(E=100*E+"%"),E}function Uv(E){return Math.round(255*parseFloat(E)).toString(16)}function zv(E){return Oo(E)/255}var mu,ls,Zd,Xs=(ls="[\\s|\\(]+("+(mu="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+mu+")[,|\\s]+("+mu+")\\s*\\)?",Zd="[\\s|\\(]+("+mu+")[,|\\s]+("+mu+")[,|\\s]+("+mu+")[,|\\s]+("+mu+")\\s*\\)?",{CSS_UNIT:new RegExp(mu),rgb:new RegExp("rgb"+ls),rgba:new RegExp("rgba"+Zd),hsl:new RegExp("hsl"+ls),hsla:new RegExp("hsla"+Zd),hsv:new RegExp("hsv"+ls),hsva:new RegExp("hsva"+Zd),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function As(E){return!!Xs.CSS_UNIT.exec(E)}var Dl=function(E){return Vt.mostReadable(E,[ut,"#FFFFFF"]).toString()},kf=function(E){return Iv().get.rgb(E)},fh=function(E){var x=new ArrayBuffer(4),C=new Uint32Array(x),O=new Uint8Array(x),B=kf(E);return O[0]=B[0],O[1]=B[1],O[2]=B[2],O[3]=255*B[3],C[0]},Wc=function(E){return[(x=kf(E))[0]/255,x[1]/255,x[2]/255];var x};function Qd(E,x){return function(C){if(Array.isArray(C))return C}(E)||function(C,O){var B=C==null?null:typeof Symbol<"u"&&C[Symbol.iterator]||C["@@iterator"];if(B!=null){var N,G,X,W,ee=[],te=!0,ue=!1;try{if(X=(B=B.call(C)).next,O!==0)for(;!(te=(N=X.call(B)).done)&&(ee.push(N.value),ee.length!==O);te=!0);}catch(ye){ue=!0,G=ye}finally{try{if(!te&&B.return!=null&&(W=B.return(),Object(W)!==W))return}finally{if(ue)throw G}}return ee}}(E,x)||function(C,O){if(C){if(typeof C=="string")return Jd(C,O);var B=Object.prototype.toString.call(C).slice(8,-1);return B==="Object"&&C.constructor&&(B=C.constructor.name),B==="Map"||B==="Set"?Array.from(C):B==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B)?Jd(C,O):void 0}}(E,x)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Jd(E,x){(x==null||x>E.length)&&(x=E.length);for(var C=0,O=new Array(x);C<x;C++)O[C]=E[C];return O}var hh=function(E){var x=E.x,C=x===void 0?0:x,O=E.y,B=O===void 0?0:O,N=E.size,G=N===void 0?ra:N;return{top:B-G,left:C-G,right:C+G,bottom:B+G}},nd=function(E,x,C,O,B,N){var G=arguments.length>6&&arguments[6]!==void 0?arguments[6]:pf,X=arguments.length>7&&arguments[7]!==void 0?arguments[7]:1,W=arguments.length>8&&arguments[8]!==void 0?arguments[8]:1,ee=x.x,te=ee===void 0?0:ee,ue=x.y,ye=ue===void 0?0:ue,Ee=x.size,Oe=Ee===void 0?ra:Ee,we=x.caption,Te=we===void 0?"":we,ze=x.captions,He=ze===void 0?[]:ze,Ye=x.captionAlign,Ve=Ye===void 0?"center":Ye,tt=x.captionSize,Je=tt===void 0?1:tt,lt=x.disabled,at=x.activated,et=x.selected,gt=x.hovered,jt=x.id,Kt=x.icon,Ft=x.overlayIcon,sr=mt(),$t=function(bt,yt,kr){var Rr=bt.selected?kr.selected.rings:kr.default.rings;if(!Rr.length){var Bn=yt.getById(bt.id);return Bn!==void 0&&Object.entries(Bn).forEach(function(vt){var rt=Qd(vt,2),wt=rt[0],Mt=rt[1];wt.startsWith("ring-")&&Mt.setEndValue(0)}),[{width:0,color:""}]}return Rr.map(function(vt,rt){var wt=vt.widthFactor,Mt=vt.color,wr=(bt.size||ra)*wt*mt();return{width:yt.getValueForAnimationName(bt.id,"ring-".concat(rt),wr),color:Mt}})}(x,O,B),Be=$t.reduce(function(bt,yt){return bt+yt.width},0),je=Oe*sr,Fe=2*je,St=function(bt,yt){if(!bt||!yt)return{nodeInfoLevel:0,fontInfoLevel:1.25,iconInfoLevel:1};var kr=mt(),Rr=1600*kr*(1200*kr),Bn=Math.pow(bt,2)*Math.PI*Math.pow(yt,2)/(Rr/100);return{nodeInfoLevel:Wd(Bn,Df),fontInfoLevel:Wd(Bn,Al),iconInfoLevel:Wd(Bn,mp)}}(je,W),st=St.nodeInfoLevel,Dt=St.fontInfoLevel,rr=St.iconInfoLevel,dr=x.color||G,lr=function(bt){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:ra)/({1:3.5,2:2.75,3:2}[arguments.length>2&&arguments[2]!==void 0?arguments[2]:1]+(arguments.length>3&&arguments[3]!==void 0&&arguments[3]?1:0))/bt}(Dt,je,Je,!!Kt),Kr=Dl(dr),Qr=je;if(Be>0&&(Qr=je+Be),lt)dr=N.color,Kr=N.fontColor;else{var Sn;if(at){var vi=Date.now()%1e3/1e3,Mi=vi<.7?vi/.7:0,ei=gu(dr,.4-.4*Mi);Os(E,te,ye,ei,je+.88*je*Mi)}var Dn=(Sn=B.selected.shadow)!==null&&Sn!==void 0?Sn:{width:0,opacity:0,color:""},vn=Dn.width*sr,Wn=Dn.opacity,pi=Dn.color,Yi=et||gt?vn:0,Mn=O.getValueForAnimationName(jt,"shadowWidth",Yi);Mn>0&&function(bt,yt,kr,Rr,Bn,vt){var rt=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1,wt=Bn+vt,Mt=bt.createRadialGradient(yt,kr,Bn,yt,kr,wt);Mt.addColorStop(0,"transparent"),Mt.addColorStop(.01,gu(Rr,.5*rt)),Mt.addColorStop(.05,gu(Rr,.5*rt)),Mt.addColorStop(.5,gu(Rr,.12*rt)),Mt.addColorStop(.75,gu(Rr,.03*rt)),Mt.addColorStop(1,gu(Rr,0)),bt.fillStyle=Mt,as(bt,yt,kr,wt),bt.fill()}(E,te,ye,pi,Qr,Mn,Wn)}Os(E,te,ye,dr,je),Be>0&&Uo(E,te,ye,je,$t);var si=!!Te.length,Xi=!!He.length,oa=!!Kt;if(Kt){var sa=st<2||!(si||Xi),pn=st>0?1:0,gi=sa?1*je:.75*je;gi/=rr;var In=sa?.5*gi:gi*(rr===1?Ve==="center"?1.3:Ve==="bottom"||sa?1.1:0:Ve==="center"?1.35:Ve==="bottom"||sa?1.1:0),fo=gi/2;gi=O.getValueForAnimationName(jt,"iconSize",gi),fo=O.getValueForAnimationName(jt,"iconXPos",fo),In=O.getValueForAnimationName(jt,"iconYPos",In);var Ro=E.globalAlpha,Is=lt?.1:pn;E.globalAlpha=O.getValueForAnimationName(jt,"iconOpacity",Is);var yh=Kr==="#ffffff",Kc=C.getImage(Kt,yh);E.drawImage(Kc,te-fo,ye-In,Math.floor(gi),Math.floor(gi)),E.globalAlpha=Ro}if(Ft!==void 0){var ds,ma,yi,ka,ks,Ms=Fe*((ds=Ft.size)!==null&&ds!==void 0?ds:1),Su=Ms/2-je*((ma=(yi=Ft.position)===null||yi===void 0?void 0:yi[1])!==null&&ma!==void 0?ma:0),Ki=Ms/2-je*((ka=(ks=Ft.position)===null||ks===void 0?void 0:ks[0])!==null&&ka!==void 0?ka:0),mh=E.globalAlpha,Zc=lt?.1:1;E.globalAlpha=O.getValueForAnimationName(jt,"iconOpacity",Zc);var Qc=C.getImage(Ft.url);E.drawImage(Qc,te-Ki,ye-Su,Ms,Ms),E.globalAlpha=mh}if(si||Xi){var dd=st<2?0:1,bh=O.getValueForAnimationName(jt,"textOpacity",dd,0);if(bh>0){var _h,Jc,h='"Open Sans", sans-serif',g=2;Dt===((_h=Al[1])===null||_h===void 0?void 0:_h[1])?g=3:Dt===((Jc=Al[2])===null||Jc===void 0?void 0:Jc[1])&&(g=4);var T=Ve==="center"?.7*Fe:2*Math.sqrt(Math.pow(Fe/2,2)-Math.pow(Fe/3,2));if(E.fillStyle=gu(Kr,bh),Xi){var M,H=Qh(He),Z=H.stylesPerChar,he=H.fullCaption,Ae=is(E,he,h,lr,T,oa,g,x==null||x.captionAlign),$e=-(Ae.length-2)*lr/2;M=Ve&&Ve!=="center"?Ve==="bottom"?$e+je/Math.PI:$e-je/Math.PI:$e,tc(E,Ae,Z,M,lr,h,lr,te,ye,X)}else if(si){var dt=is(E,Te,h,lr,T,oa,g,x==null||x.captionAlign),kt=-(dt.length-2)*lr/2,Ut=Te.split("").map(function(bt){return[]});tc(E,dt,Ut,kt,lr,h,lr,te,ye,X)}}}};function Rs(E){return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},Rs(E)}function Zn(E,x){var C=Object.keys(E);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(E);x&&(O=O.filter(function(B){return Object.getOwnPropertyDescriptor(E,B).enumerable})),C.push.apply(C,O)}return C}function aa(E){for(var x=1;x<arguments.length;x++){var C=arguments[x]!=null?arguments[x]:{};x%2?Zn(Object(C),!0).forEach(function(O){To(E,O,C[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(C)):Zn(Object(C)).forEach(function(O){Object.defineProperty(E,O,Object.getOwnPropertyDescriptor(C,O))})}return E}function dh(E,x){var C=typeof Symbol<"u"&&E[Symbol.iterator]||E["@@iterator"];if(!C){if(Array.isArray(E)||(C=function(W,ee){if(W){if(typeof W=="string")return Qa(W,ee);var te=Object.prototype.toString.call(W).slice(8,-1);return te==="Object"&&W.constructor&&(te=W.constructor.name),te==="Map"||te==="Set"?Array.from(W):te==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(te)?Qa(W,ee):void 0}}(E))||x){C&&(E=C);var O=0,B=function(){};return{s:B,n:function(){return O>=E.length?{done:!0}:{done:!1,value:E[O++]}},e:function(W){throw W},f:B}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var N,G=!0,X=!1;return{s:function(){C=C.call(E)},n:function(){var W=C.next();return G=W.done,W},e:function(W){X=!0,N=W},f:function(){try{G||C.return==null||C.return()}finally{if(X)throw N}}}}function Qa(E,x){(x==null||x>E.length)&&(x=E.length);for(var C=0,O=new Array(x);C<x;C++)O[C]=E[C];return O}function Ks(E,x){for(var C=0;C<x.length;C++){var O=x[C];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(E,Ep(O.key),O)}}function To(E,x,C){return(x=Ep(x))in E?Object.defineProperty(E,x,{value:C,enumerable:!0,configurable:!0,writable:!0}):E[x]=C,E}function Ep(E){var x=function(C,O){if(Rs(C)!="object"||!C)return C;var B=C[Symbol.toPrimitive];if(B!==void 0){var N=B.call(C,"string");if(Rs(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(C)}(E);return Rs(x)=="symbol"?x:String(x)}var Qn="canvasRenderer",cs=function(){function E(O,B,N){var G=this,X=(arguments.length>3&&arguments[3]!==void 0?arguments[3]:{}).relationshipThreshold,W=X===void 0?0:X;(function(ee,te){if(!(ee instanceof te))throw new TypeError("Cannot call a class as a function")})(this,E),To(this,"arrowBundler",void 0),To(this,"activeNodes",void 0),To(this,"canvas",void 0),To(this,"context",void 0),To(this,"state",void 0),To(this,"stateDisposers",void 0),To(this,"relationshipThreshold",void 0),To(this,"animationHandler",void 0),To(this,"imageCache",void 0),To(this,"needsRun",void 0),To(this,"nodeVersion",void 0),To(this,"relVersion",void 0),To(this,"waypointVersion",void 0),To(this,"ellipsisWidth",void 0),B!==null&&(this.activeNodes=new Set,this.canvas=O,this.context=B,this.state=N,this.stateDisposers=[],this.stateDisposers.push(N.autorun(function(){N.zoom!==void 0&&(G.needsRun=!0),N.panX!==void 0&&(G.needsRun=!0),N.panY!==void 0&&(G.needsRun=!0),N.nodes.version!==void 0&&(G.needsRun=!0),N.rels.version!==void 0&&(G.needsRun=!0),N.waypoints.counter>0&&(G.needsRun=!0),N.layout!==void 0&&(G.needsRun=!0)})),N.nodes.addChannel(Qn),N.rels.addChannel(Qn),this.relationshipThreshold=W,this.nodeVersion=N.nodes.version,this.relVersion=N.rels.version,this.waypointVersion=N.waypoints.counter,this.animationHandler=new qh,this.animationHandler.setOptions({fadeDuration:150,sizeDuration:150}),this.arrowBundler=new Hc(N.rels.items,N.waypoints.data),this.imageCache=new Rv,this.needsRun=!0,this.ellipsisWidth=B.measureText(Pf).width)}var x,C;return x=E,C=[{key:"needsToRun",value:function(){return this.needsRun||this.animationHandler.needsToRun()||this.activeNodes.size>0}},{key:"processUpdates",value:function(){var O=this.state,B=!1,N=O.nodes.channels[Qn],G=O.rels.channels[Qn],X=N.adds,W=N.removes,ee=G.adds,te=G.removes;this.nodeVersion<O.nodes.version&&(Object.keys(X).length>0||Object.keys(W).length,this.handleChannelUpdate(N,O.nodes,!0),this.nodeVersion=O.nodes.version,O.nodes.clearChannel(Qn)),this.relVersion<O.rels.version&&(B=Object.keys(ee).length>0||Object.keys(te).length>0,O.rels.clearChannel(Qn),this.relVersion=O.rels.version),(B||this.waypointVersion<O.waypoints.counter)&&(this.arrowBundler.updateData(ee,te,O.waypoints.data),this.waypointVersion=O.waypoints.counter)}},{key:"render",value:function(O){var B,N,G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},X=this.state,W=this.animationHandler,ee=this.arrowBundler,te=X.zoom,ue=X.layout,ye=X.nodes.idToPosition,Ee=(B=G.canvas)!==null&&B!==void 0?B:this.canvas,Oe=(N=G.context)!==null&&N!==void 0?N:this.context,we=mt(),Te=Ee.clientWidth*we,ze=Ee.clientHeight*we;Oe.save(),G.backgroundColor!==void 0?(Oe.fillStyle=G.backgroundColor,Oe.fillRect(0,0,Te,ze)):Oe.clearRect(0,0,Te,ze),this.zoomAndPan(Oe,Ee),W.ignoreAnimations(!!G.ignoreAnimations),G.ignoreAnimations!==!0&&W.advance(),ee.updatePositions(ye);var He=this.getRelationshipsToRender(G.showCaptions,Te,ze);this.renderRelationships(He,Oe,ue!==Bc);var Ye=this.getNodesToRender(O,Te,ze);this.renderNodes(Ye,Oe,te),Oe.restore(),this.needsRun=!1}},{key:"getRelationshipsToRender",value:function(O,B,N){var G,X=[],W=[],ee=[],te=this.arrowBundler,ue=this.state,ye=this.relationshipThreshold,Ee=ue.layout,Oe=ue.zoom,we=ue.rels,Te=ue.nodes,ze=Te.idToItem,He=Te.idToPosition,Ye=dh(we.items);try{for(Ye.s();!(G=Ye.n()).done;){var Ve=G.value,tt=te.getBundle(Ve),Je=aa(aa({},ze[Ve.from]),He[Ve.from]),lt=aa(aa({},ze[Ve.to]),He[Ve.to]),at=O||Oe>ye||Ve.captionHtml!==void 0,et=us(Ve,tt,Je,lt,at,Ee!==Bc);if(et!==null){var gt,jt,Kt,Ft,sr,$t,Be=this.isBoundingBoxOffScreen(et,B,N),je=os({x:(gt=Je.x)!==null&&gt!==void 0?gt:0,y:(jt=Je.y)!==null&&jt!==void 0?jt:0},{x:(Kt=lt.x)!==null&&Kt!==void 0?Kt:0,y:(Ft=lt.y)!==null&&Ft!==void 0?Ft:0}),Fe=(((sr=Je.size)!==null&&sr!==void 0?sr:ra)+(($t=lt.size)!==null&&$t!==void 0?$t:ra))*devicePixelRatio,St=Je.id!==lt.id&&Fe>je;Be||St||(Ve.disabled===!0?W.push(aa(aa({},Ve),{},{fromNode:Je,toNode:lt,showLabel:at})):Ve.selected===!0?X.push(aa(aa({},Ve),{},{fromNode:Je,toNode:lt,showLabel:at})):ee.push(aa(aa({},Ve),{},{fromNode:Je,toNode:lt,showLabel:at})))}}}catch(st){Ye.e(st)}finally{Ye.f()}return[].concat(W,ee,X)}},{key:"getNodesToRender",value:function(O,B,N){var G,X=[],W=[],ee=[],te=this.state.nodes.idToItem,ue=dh(O);try{for(ue.s();!(G=ue.n()).done;){var ye,Ee,Oe=G.value,we=hh(Oe);this.isBoundingBoxOffScreen(we,B,N)||(((ye=te[Oe.id])===null||ye===void 0?void 0:ye.disabled)===!0?X.push(aa({},Oe)):((Ee=te[Oe.id])===null||Ee===void 0?void 0:Ee.selected)===!0?W.push(aa({},Oe)):ee.push(aa({},Oe)))}}catch(Te){ue.e(Te)}finally{ue.f()}return[].concat(X,ee,W)}},{key:"renderNodes",value:function(O,B,N){var G,X=this.imageCache,W=this.animationHandler,ee=this.state,te=this.ellipsisWidth,ue=ee.nodes.idToItem,ye=ee.nodeBorderStyles,Ee=ee.disabledItemStyles,Oe=ee.defaultNodeColor,we=dh(O);try{for(we.s();!(G=we.n()).done;){var Te=G.value;nd(B,aa(aa({},ue[Te.id]),Te),X,W,ye,Ee,Oe,te,N)}}catch(ze){we.e(ze)}finally{we.f()}}},{key:"renderRelationships",value:function(O,B,N){var G,X=this.state.relationshipBorderStyles.selected,W=this.arrowBundler,ee=this.imageCache,te=this.state,ue=te.disabledItemStyles,ye=te.defaultRelationshipColor,Ee=dh(O);try{for(Ee.s();!(G=Ee.n()).done;){var Oe=G.value,we=W.getBundle(Oe),Te=Oe.fromNode,ze=Oe.toNode,He=Oe.showLabel;uh(B,Oe,Te,ze,we,ee,He,X,ue,ye,N)}}catch(Ye){Ee.e(Ye)}finally{Ee.f()}}},{key:"getNodesAt",value:function(O){var B,N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,G=[],X=this.state.nodes,W=X.items,ee=X.idToPosition,te=mt(),ue=dh(W);try{var ye=function(){var Ee=B.value,Oe=Ee.id,we=Ee.size,Te=we===void 0?ra:we,ze=ee[Oe],He=ze.x,Ye=ze.y,Ve=Math.sqrt(Math.pow(O.x-He,2)+Math.pow(O.y-Ye,2));if(Ve<=(Te+N)*te){var tt=G.findIndex(function(Je){return Je.distance>Ve});G.splice(tt!==-1?tt:G.length,0,{data:Ee,targetCoordinates:{x:He,y:Ye},pointerCoordinates:O,distanceVector:{x:O.x-He,y:O.y-Ye},insideNode:Ve<=Te*te,distance:Ve})}};for(ue.s();!(B=ue.n()).done;)ye()}catch(Ee){ue.e(Ee)}finally{ue.f()}return G}},{key:"getRelsAt",value:function(O){var B,N=[],G=this.state,X=this.arrowBundler,W=this.relationshipThreshold,ee=G.zoom,te=G.rels.items,ue=G.nodes.idToPosition,ye=G.layout,Ee=ee>W,Oe=dh(te);try{var we=function(){var Te=B.value,ze=X.getBundle(Te),He=ue[Te.from],Ye=ue[Te.to];if(He!==void 0&&Ye!==void 0&&ze.indexOf(Te)!==-1){var Ve=function(Je,lt,at,et,gt,jt){var Kt=arguments.length>6&&arguments[6]!==void 0&&arguments[6];if(!Kh(at,et))return 1/0;var Ft=at===et?function(sr,$t,Be,je){var Fe=Da($t,Be,je),St=Fe.startPoint,st=Fe.endPoint,Dt=Fe.apexPoint,rr=Fe.control1Point,dr=Fe.control2Point,lr=ec(St,Dt,rr,sr),Kr=ec(Dt,st,dr,sr);return Math.min(lr,Kr)}(Je,lt,at,gt):function(sr,$t,Be,je,Fe,St,st){var Dt=Ts($t,Be,je,Fe,St,st),rr=1/0;if(st&&Dt.length===3)rr=ec(Dt[0],Dt[2],Dt[1],sr);else for(var dr=1;dr<Dt.length;dr++){var lr=Dt[dr-1],Kr=Dt[dr],Qr=Qu(lr,Kr,sr);rr=Qr<rr?Qr:rr}return rr}(Je,lt,gt,at,et,jt,Kt);return Ft}(O,Te,He,Ye,ze,Ee,ye!==Bc);if(Ve<10){var tt=N.findIndex(function(Je){return Je.distance>Ve});N.splice(tt!==-1?tt:N.length,0,{data:Te,fromTargetCoordinates:He,toTargetCoordinates:Ye,pointerCoordinates:O,distance:Ve})}}};for(Oe.s();!(B=Oe.n()).done;)we()}catch(Te){Oe.e(Te)}finally{Oe.f()}return N}},{key:"destroy",value:function(){this.stateDisposers.forEach(function(O){O()}),this.state.nodes.removeChannel(Qn),this.state.rels.removeChannel(Qn)}},{key:"isBoundingBoxOffScreen",value:function(O,B,N){var G=this.state,X=G.zoom,W=B/X,ee=N/X,te=G.panX-W/2,ue=G.panY-ee/2,ye=O.right<te,Ee=O.bottom<ue,Oe=O.left>te+W,we=O.top>ue+ee;return ye||Oe||Ee||we}},{key:"handleChannelUpdate",value:function(O,B,N){for(var G=Object.keys(O.adds),X=0;X<G.length;X++){var W=G[X];O.adds[W].activated&&this.activeNodes.add(W)}for(var ee=Object.keys(O.removes),te=0;te<ee.length;te++){var ue=ee[te];this.activeNodes.delete(ue)}if(N)for(var ye=Object.keys(O.updates),Ee=0;Ee<ye.length;Ee++){var Oe=ye[Ee];B.idToItem[Oe].activated?this.activeNodes.add(Oe):this.activeNodes.delete(Oe)}}},{key:"zoomAndPan",value:function(O,B){var N=B.width,G=B.height,X=this.state,W=X.zoom,ee=X.panX,te=X.panY;O.translate(-N/2*W,-G/2*W),O.translate(-ee*W,-te*W),O.scale(W,W),O.translate(N/2/W,G/2/W),O.translate(N/2,G/2)}}],C&&Ks(x.prototype,C),Object.defineProperty(x,"prototype",{writable:!1}),E}(),tl=function(E,x){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,O=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,B=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,N=function(G,X){if((0,r.isNil)(G)||(0,r.isNil)(X))return{offsetX:0,offsetY:0};var W=X.getBoundingClientRect(),ee=window.devicePixelRatio||1;return{offsetX:ee*(G.clientX-W.left-.5*W.width),offsetY:ee*(G.clientY-W.top-.5*W.height)}}(E,x);return{x:O+N.offsetX/C,y:B+N.offsetY/C}};function id(E){return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},id(E)}function xp(E,x){if(!(E instanceof x))throw new TypeError("Cannot call a class as a function")}function Yg(E,x){for(var C=0;C<x.length;C++){var O=x[C];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(E,bu(O.key),O)}}function ev(E,x,C){return x&&Yg(E.prototype,x),Object.defineProperty(E,"prototype",{writable:!1}),E}function ya(E,x,C){return(x=bu(x))in E?Object.defineProperty(E,x,{value:C,enumerable:!0,configurable:!0,writable:!0}):E[x]=C,E}function bu(E){var x=function(C,O){if(id(C)!="object"||!C)return C;var B=C[Symbol.toPrimitive];if(B!==void 0){var N=B.call(C,"string");if(id(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(C)}(E);return id(x)=="symbol"?x:String(x)}var fs="WebGLRenderer",hs=function(){function E(x){var C=this;if(xp(this,E),ya(this,"mainSceneRenderer",void 0),ya(this,"minimapRenderer",void 0),ya(this,"needsRun",void 0),ya(this,"minimapMouseDown",void 0),ya(this,"stateDisposers",void 0),ya(this,"state",void 0),x.state===void 0)throw new Error("Renderer missing options: state - state object");var O=x.state,B=x.mainSceneRenderer,N=x.minimapRenderer,G=O.nodes,X=O.rels;this.mainSceneRenderer=B,this.minimapRenderer=N,this.needsRun=!1,this.minimapMouseDown=!1,this.stateDisposers=[],this.stateDisposers.push(O.autorun(function(){C.updateMainViewport(O.zoom,O.panX,O.panY)})),this.stateDisposers.push(O.autorun(function(){C.updateMinimapViewport(O.minimapZoom,O.minimapPanX,O.minimapPanY)})),this.stateDisposers.push(O.autorun(function(){O.nodes.version!==void 0&&(C.needsRun=!0),O.rels.version!==void 0&&(C.needsRun=!0)})),G.addChannel(fs),X.addChannel(fs),this.state=O,this.setupMinimapInteractions()}return ev(E,[{key:"needsToRun",value:function(){return this.needsRun||Object.keys(this.mainSceneRenderer.activeNodes).length>0}},{key:"renderMainScene",value:function(x){var C=this.state,O=C.nodes,B=C.rels;this.checkForUpdates(O,B),this.mainSceneRenderer.render(x,O,B),this.needsRun=!1}},{key:"renderMinimap",value:function(x){var C=this.state,O=C.nodes,B=C.rels;this.checkForUpdates(O,B),this.minimapRenderer.render(x,O,B),this.minimapRenderer.renderViewbox(),this.needsRun=!1}},{key:"checkForUpdates",value:function(x,C){var O=Object.values(x.channels[fs].adds).length>0,B=Object.values(C.channels[fs].adds).length>0,N=Object.values(x.channels[fs].removes).length>0,G=Object.values(C.channels[fs].removes).length>0,X=Object.values(x.channels[fs].updates),W=Object.values(C.channels[fs].updates);O||B||N||G?(this.mainSceneRenderer.setData({nodes:x.items,rels:C.items}),this.minimapRenderer.setData({nodes:x.items,rels:C.items})):(X.length>0&&(this.mainSceneRenderer.updateNodes(X),this.minimapRenderer.updateNodes(X)),W.length>0&&(this.mainSceneRenderer.updateRelationships(C.items),this.minimapRenderer.updateRelationships(C.items))),x.clearChannel(fs),C.clearChannel(fs)}},{key:"onResize",value:function(){var x=this.state,C=x.zoom,O=x.panX,B=x.panY,N=x.minimapZoom,G=x.minimapPanX,X=x.minimapPanY;this.updateMainViewport(C,O,B),this.updateMinimapViewport(N,G,X)}},{key:"updateMainViewport",value:function(x,C,O){this.mainSceneRenderer.updateViewport(x,C,O);var B=this.mainSceneRenderer.canvas.clientWidth,N=this.mainSceneRenderer.canvas.clientHeight;this.minimapRenderer.updateViewportBox(x,C,O,B,N),this.needsRun=!0}},{key:"updateMinimapViewport",value:function(x,C,O){this.minimapRenderer.updateViewport(x,C,O),this.needsRun=!0}},{key:"handleMinimapDrag",value:function(x){var C=this.state,O=this.minimapRenderer,B=tl(x,O.canvas,C.minimapZoom,C.minimapPanX,C.minimapPanY),N=B.x,G=B.y;C.setPan(N,G)}},{key:"handleMinimapWheel",value:function(x){var C=this.state,O=this.mainSceneRenderer;C.setZoom(function(B){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return(0,r.isNil)(B)||isNaN(B.deltaY)?N:N-B.deltaY/500*Math.min(1,N)}(x,C.zoom),O.canvas),x.preventDefault()}},{key:"setupMinimapInteractions",value:function(){var x=this,C=this.minimapRenderer.canvas;C.addEventListener("mousedown",function(O){x.handleMinimapDrag(O),x.minimapMouseDown=!0}),C.addEventListener("mousemove",function(O){x.minimapMouseDown&&x.handleMinimapDrag(O)}),C.addEventListener("mouseup",function(){x.minimapMouseDown=!1}),C.addEventListener("mouseleave",function(){x.minimapMouseDown=!1}),C.addEventListener("wheel",function(O){x.handleMinimapWheel(O)})}},{key:"destroy",value:function(){this.stateDisposers.forEach(function(x){x()}),this.state.nodes.removeChannel(fs),this.state.rels.removeChannel(fs),this.mainSceneRenderer.destroy(),this.minimapRenderer.destroy()}}]),E}(),qv=function(){function E(){xp(this,E),ya(this,"mainSceneRenderer",void 0),ya(this,"minimapRenderer",void 0),ya(this,"needsRun",void 0),ya(this,"minimapMouseDown",void 0),ya(this,"stateDisposers",void 0),ya(this,"state",void 0)}return ev(E,[{key:"renderMainScene",value:function(x){}},{key:"renderMinimap",value:function(x){}},{key:"checkForUpdates",value:function(x,C){}},{key:"onResize",value:function(){}},{key:"updateMainViewport",value:function(x,C,O){}},{key:"updateMinimapViewport",value:function(x,C,O){}},{key:"handleMinimapDrag",value:function(x){}},{key:"handleMinimapWheel",value:function(x){}},{key:"setupMinimapInteractions",value:function(){}},{key:"destroy",value:function(){}},{key:"needsToRun",value:function(){return!1}}]),E}();function rl(E){return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},rl(E)}function Yc(E,x){var C=typeof Symbol<"u"&&E[Symbol.iterator]||E["@@iterator"];if(!C){if(Array.isArray(E)||(C=function(W,ee){if(W){if(typeof W=="string")return ic(W,ee);var te=Object.prototype.toString.call(W).slice(8,-1);return te==="Object"&&W.constructor&&(te=W.constructor.name),te==="Map"||te==="Set"?Array.from(W):te==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(te)?ic(W,ee):void 0}}(E))||x){C&&(E=C);var O=0,B=function(){};return{s:B,n:function(){return O>=E.length?{done:!0}:{done:!1,value:E[O++]}},e:function(W){throw W},f:B}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var N,G=!0,X=!1;return{s:function(){C=C.call(E)},n:function(){var W=C.next();return G=W.done,W},e:function(W){X=!0,N=W},f:function(){try{G||C.return==null||C.return()}finally{if(X)throw N}}}}function ic(E,x){(x==null||x>E.length)&&(x=E.length);for(var C=0,O=new Array(x);C<x;C++)O[C]=E[C];return O}function Sp(E,x){for(var C=0;C<x.length;C++){var O=x[C];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(E,Il(O.key),O)}}function Hi(E,x,C){return(x=Il(x))in E?Object.defineProperty(E,x,{value:C,enumerable:!0,configurable:!0,writable:!0}):E[x]=C,E}function Il(E){var x=function(C,O){if(rl(C)!="object"||!C)return C;var B=C[Symbol.toPrimitive];if(B!==void 0){var N=B.call(C,"string");if(rl(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(C)}(E);return rl(x)=="symbol"?x:String(x)}var Gv,I=24,U=function(){function E(O,B,N,G){var X;if(function(W,ee){if(!(W instanceof ee))throw new TypeError("Cannot call a class as a function")}(this,E),Hi(this,"nodeShader",void 0),Hi(this,"nodeAnimShader",void 0),Hi(this,"relShader",void 0),Hi(this,"relDataBuffer",void 0),Hi(this,"viewportBoxShader",void 0),Hi(this,"defaultRelColor",void 0),Hi(this,"defaultNodeColor",void 0),Hi(this,"disableRelColor",void 0),Hi(this,"disableNodeColor",void 0),Hi(this,"gl",void 0),Hi(this,"activeNodes",void 0),Hi(this,"canvas",void 0),Hi(this,"projection",void 0),Hi(this,"idToIndex",void 0),Hi(this,"posBuffer",void 0),Hi(this,"numRels",void 0),Hi(this,"numNodes",void 0),Hi(this,"nodeDataByte",void 0),Hi(this,"relIdToIndex",void 0),Hi(this,"relData",void 0),Hi(this,"viewportBoxBuffer",void 0),Hi(this,"relBuffer",void 0),Hi(this,"nodeBuffer",void 0),Hi(this,"posTexture",void 0),((X=O.getExtension("OES_texture_float"))!==null&&X!==void 0?X:void 0)===void 0)throw new Error("Renderer needs floating point texture support");this.nodeShader=new bs(O,`uniform mat4 u_projection;
uniform sampler2D u_positions;
uniform mediump float u_zoom;
uniform mediump float u_glAdjust;
uniform lowp vec3 u_nodeBorderColor;
uniform lowp vec3 u_selectedBorderColor;
uniform lowp vec3 u_selectedInnerBorderColor;
uniform lowp vec3 u_shadowColor;
uniform lowp float u_drawDefaultBorder;

attribute float a_size;
attribute lowp vec2 a_index;
attribute lowp vec4 a_color;
attribute lowp float a_selected;
attribute lowp float a_hovered;

varying lowp float window;
varying lowp vec4 color;
varying lowp float selected;
varying lowp float hovered;
varying lowp float varNodeSize;
varying lowp vec3 nodeBorderColor;
varying lowp vec3 selectedBorderColor;
varying lowp vec3 selectedInnerBorderColor;
varying lowp vec3 shadowColor;
varying lowp float drawDefaultBorder;

lowp float MinNodeSize = 5.0;

void main(void) {
  vec4 data = texture2D(u_positions, a_index);
  gl_Position = u_projection * vec4(data.xy, 0.0, 1.0);

  lowp float nodeSize = a_size * u_zoom * u_glAdjust;
  if (nodeSize < MinNodeSize) {
   gl_PointSize = MinNodeSize;
   varNodeSize = MinNodeSize;
  } else {
    gl_PointSize = nodeSize;
    varNodeSize = nodeSize;
  }

  color = a_color;
  selected = a_selected;
  hovered = a_hovered;
  nodeBorderColor = u_nodeBorderColor;
  selectedBorderColor = u_selectedBorderColor;
  selectedInnerBorderColor = u_selectedInnerBorderColor;
  shadowColor = u_shadowColor;
  drawDefaultBorder = u_drawDefaultBorder;
}`,`uniform mediump float u_zoom;
uniform mediump float u_glAdjust;

varying lowp vec4 color;
varying lowp float drawDefaultBorder;
varying lowp vec3 nodeBorderColor;
varying lowp vec3 selectedBorderColor;
varying lowp vec3 selectedInnerBorderColor;
varying lowp vec3 shadowColor;
varying lowp float selected;
varying lowp float hovered;
varying lowp float varNodeSize;

mediump float circleSize = 0.40;
mediump float defaultBoderSize = 0.42;
mediump float innerSelectedRingSize = 0.43;
mediump float outerSelectedRingSize = 0.47;
mediump float shadowSize = 0.51;

lowp float getShadowAlpha(lowp float size, lowp float dist) {
  return (1.0 - smoothstep(size, shadowSize, dist)) * 0.25;
}

lowp float getCircleAlpha(lowp float ringSize, lowp float nodeSize, lowp float dist) {
  return color.w - smoothstep(ringSize - nodeSize, ringSize, dist);
}

void main() {
  lowp float dist = distance(gl_PointCoord, vec2(0.5));

  if (dist > 0.51) {
    discard;
  }
  else {
    lowp float nodeSize = 1.0 / varNodeSize;
    lowp float nodeAlpha = getCircleAlpha(circleSize, nodeSize, dist);
    lowp float borderAlpha = getCircleAlpha(defaultBoderSize, nodeSize, dist);
    lowp float ringAlpha = getCircleAlpha(innerSelectedRingSize, nodeSize, dist);
    lowp vec3 finalColor = color.xyz;
    lowp float finalAlpha = nodeAlpha;

    if (selected > 0.0) {
      lowp float shadowAlpha = getShadowAlpha(outerSelectedRingSize, dist);
      lowp float ringAlpha2 = getCircleAlpha(outerSelectedRingSize, nodeSize, dist);

      if (drawDefaultBorder > 0.0) {
        finalColor = mix(nodeBorderColor, finalColor, nodeAlpha);
        finalColor = mix(selectedInnerBorderColor, finalColor, borderAlpha);
        finalColor = mix(selectedBorderColor, finalColor, ringAlpha);
        finalColor = mix(shadowColor, finalColor, ringAlpha2);
        finalAlpha = max(shadowAlpha, max(nodeAlpha, max(borderAlpha, ringAlpha2)));
      } else {
        finalColor = mix(selectedInnerBorderColor, finalColor, nodeAlpha);
        finalColor = mix(selectedBorderColor, finalColor, ringAlpha);
        finalColor = mix(shadowColor, finalColor, ringAlpha2);
        finalAlpha = max(shadowAlpha, max(nodeAlpha, max(ringAlpha, ringAlpha2)));
      }
    } else if (hovered > 0.0) {
      if (drawDefaultBorder > 0.0) {
        lowp float shadowAlpha = getShadowAlpha(defaultBoderSize, dist);
  
        finalColor = mix(nodeBorderColor, finalColor, nodeAlpha);
        finalColor = mix(shadowColor, finalColor, borderAlpha);
        finalAlpha = max(shadowAlpha, max(nodeAlpha, ringAlpha));
      } else {
        lowp float shadowAlpha = getShadowAlpha(circleSize, dist);

        finalColor = mix(shadowColor, finalColor, nodeAlpha);
        finalAlpha = max(shadowAlpha, nodeAlpha);
      }
    } else {
      if (drawDefaultBorder > 0.0) {
        finalColor = mix(nodeBorderColor, finalColor, nodeAlpha);
        finalAlpha = borderAlpha;
      }
    }
    gl_FragColor = vec4(finalColor, 1.0) * finalAlpha;
  }
}
`),this.nodeAnimShader=new bs(O,`uniform mat4 u_projection;
uniform sampler2D u_positions;
uniform lowp float u_animPos;
uniform mediump float u_zoom;
uniform mediump float u_glAdjust;

attribute float a_size;
attribute lowp vec2 a_index;
attribute lowp vec4 a_color;
attribute lowp float a_active;

varying lowp float varNodeSize;
varying lowp vec4 color;

void main(void) {
  vec4 data = texture2D(u_positions, a_index);

  gl_Position = u_projection * vec4(data.xy, 0.0, 1.0);

  float nodeSize = a_size * u_zoom * u_glAdjust;
  nodeSize = nodeSize * (0.4 / 0.5); // Remove extra space added for shadow and selection ring

  gl_PointSize = a_active > 0.5
    ? nodeSize + 0.88 * nodeSize * u_animPos
    : 0.0;

  color = a_color;
  varNodeSize = a_size;
}`,`uniform mediump float u_zoom;
uniform lowp float u_animPos;
uniform mediump float u_glAdjust;

varying lowp vec4 color;
varying lowp float varNodeSize;
mediump float circleSize = 0.50;

void main(void) {

  lowp float dist = distance(gl_PointCoord, vec2(0.5));

  if (dist > 0.51) {
    discard;
  }
  else {
    lowp float alpha = 1.0 - smoothstep(circleSize - (1.0 / (varNodeSize * 2.0 * u_zoom * u_glAdjust)), circleSize, dist);
    lowp float pulseAlpha = 0.9 - 0.9 * u_animPos;
    gl_FragColor = vec4(color.xyz, 1.0) * alpha * pulseAlpha;
  }
}
`),this.relShader=new bs(O,`uniform mat4 u_projection;
uniform sampler2D u_positions;
uniform mediump float u_glAdjust;

attribute vec2 a_from;
attribute vec2 a_to;
attribute lowp vec4 a_color;
attribute lowp float a_triside;
attribute float a_width;

varying lowp vec4 color;

void main(void) {
  vec4 from = texture2D(u_positions, a_from);
  vec4 to = texture2D(u_positions, a_to);
  vec2 direction = normalize(to.xy - from.xy);
  direction = vec2(-direction.y, direction.x);

  float width = a_width * u_glAdjust * 0.5;

  if (a_triside == 0.0) {
    from.y += (width / 2.0) * direction.y;
    from.x += (width / 2.0) * direction.x;
  } else {
    from.y -= (width / 2.0) * direction.y;
    from.x -= (width / 2.0) * direction.x;
  }

  color = a_color;
  gl_Position = u_projection * vec4(from.xy, 0.0, 1.0);
}
`,`varying lowp vec4 color;

void main(void) {
  gl_FragColor = vec4(color.xyz, 1.0) * color.w;
}
`),this.viewportBoxShader=new bs(O,`
attribute vec2 coordinates;
uniform mat4 u_projection;
uniform lowp vec4 u_minimapViewportBoxColor;

varying lowp vec4 minimapViewportBoxColor;

void main(void) {
  gl_Position = u_projection * vec4(coordinates, 0.0, 1.0);
  minimapViewportBoxColor = u_minimapViewportBoxColor;
}
`,`
varying lowp vec4 minimapViewportBoxColor;

void main(void) {
 gl_FragColor = minimapViewportBoxColor;
}
`),this.setShaderUniforms(G),O.clearColor(0,0,0,0),O.disable(O.DEPTH_TEST),this.defaultRelColor=G.defaultRelationshipColor,this.defaultNodeColor=G.defaultNodeColor,this.disableRelColor=G.disabledItemStyles.color,this.disableNodeColor=G.disabledItemStyles.color,O.blendFunc(O.ONE,O.ONE_MINUS_SRC_ALPHA),this.gl=O,this.activeNodes={},this.canvas=O.canvas,this.projection=El(),this.setData({nodes:B.items,rels:N.items}),this.createPositionTexture(),this.setupViewportRendering(G.minimapViewportBoxColor)}var x,C;return x=E,C=[{key:"setShaderUniforms",value:function(O){var B,N,G,X,W,ee=O.nodeBorderStyles,te=null;((B=ee.default)===null||B===void 0?void 0:B.rings.length)>0&&(te=(W=ee.default.rings[0])===null||W===void 0?void 0:W.color);var ue,ye,Ee=null,Oe=null,we=(N=(G=ee.selected)===null||G===void 0?void 0:G.rings)!==null&&N!==void 0?N:[],Te=we.length;Te>1&&(Oe=(ue=we[Te-2])===null||ue===void 0?void 0:ue.color,Ee=(ye=we[Te-1])===null||ye===void 0?void 0:ye.color);var ze=null;(X=ee.selected)!==null&&X!==void 0&&X.shadow&&(ze=ee.selected.shadow.color),this.nodeShader.use(),(0,r.isNil)(te)?this.nodeShader.setUniform("u_drawDefaultBorder",0):(this.nodeShader.setUniform("u_nodeBorderColor",Wc(te)),this.nodeShader.setUniform("u_drawDefaultBorder",1));var He=Wc(Ee),Ye=Wc(Oe),Ve=Wc(ze);this.nodeShader.setUniform("u_selectedBorderColor",He),this.nodeShader.setUniform("u_selectedInnerBorderColor",Ye),this.nodeShader.setUniform("u_shadowColor",Ve)}},{key:"setData",value:function(O){var B=xa(O.rels,this.disableRelColor);this.setupNodeRendering(O.nodes),this.setupRelationshipRendering(B)}},{key:"render",value:function(O,B,N){var G,X=this.gl,W=this.idToIndex,ee=Yc(O);try{for(ee.s();!(G=ee.n()).done;){var te=G.value,ue=W[te.id];this.posBuffer[4*ue+0]=te.x,this.posBuffer[4*ue+1]=te.y}}catch(ye){ee.e(ye)}finally{ee.f()}X.bindTexture(X.TEXTURE_2D,this.posTexture),X.texImage2D(X.TEXTURE_2D,0,X.RGBA,Er,Er,0,X.RGBA,X.FLOAT,this.posBuffer),X.enable(X.BLEND),X.bindFramebuffer(X.FRAMEBUFFER,null),X.clear(X.COLOR_BUFFER_BIT),X.viewport(0,0,X.drawingBufferWidth,X.drawingBufferHeight),this.renderAnimations(this.posTexture),this.numRels>0&&(this.relShader.use(),this.relShader.setUniform("u_positions",this.posTexture),X.bindBuffer(X.ARRAY_BUFFER,this.relBuffer),this.relShader.setAttributePointerByteNorm("a_color",4,0,16),this.relShader.setAttributePointerByteNorm("a_from",2,4,16),this.relShader.setAttributePointerByteNorm("a_to",2,6,16),this.relShader.setAttributePointerByteNorm("a_triside",1,8,16),this.relShader.setAttributePointerFloat("a_width",1,12,16),X.drawArrays(X.TRIANGLES,0,6*this.numRels)),this.numNodes>0&&(this.nodeShader.use(),this.nodeShader.setUniform("u_positions",this.posTexture),X.bindBuffer(X.ARRAY_BUFFER,this.nodeBuffer),this.nodeShader.setAttributePointerByteNorm("a_color",4,0,12),this.nodeShader.setAttributePointerByteNorm("a_selected",1,4,12),this.nodeShader.setAttributePointerByteNorm("a_index",2,5,12),this.nodeShader.setAttributePointerByte("a_size",4,8,12),this.nodeShader.setAttributePointerByteNorm("a_hovered",1,9,12),X.drawArrays(X.POINTS,0,this.numNodes))}},{key:"renderViewbox",value:function(){var O=this.gl,B=this.projection,N=this.viewportBoxBuffer;this.viewportBoxShader.use(),this.viewportBoxShader.setUniform("u_projection",B),O.bindBuffer(O.ARRAY_BUFFER,N),this.viewportBoxShader.setAttributePointerFloat("coordinates",2,0,0),O.drawArrays(O.LINES,0,8)}},{key:"updateNodes",value:function(O){var B,N=this.gl,G=this.idToIndex,X=this.disableNodeColor,W=this.nodeBuffer,ee=this.nodeDataByte,te=!1,ue=Yc(O);try{for(ue.s();!(B=ue.n()).done;){var ye=B.value,Ee=G[ye.id];if(!(0,r.isNil)(ye.color)||ye.disabled===!0){var Oe=kf(ye.disabled===!0?X:ye.color);this.nodeDataByte[3*Ee*4+0]=Oe[0],this.nodeDataByte[3*Ee*4+1]=Oe[1],this.nodeDataByte[3*Ee*4+2]=Oe[2],this.nodeDataByte[3*Ee*4+3]=255*Oe[3],te=!0}if(ye.selected!==void 0){var we=ye.selected;this.nodeDataByte[3*Ee*4+4]=we?255:0,te=!0}if(ye.activated!==void 0&&(this.nodeDataByte[3*Ee*4+7]=ye.activated?255:0,te=!0,ye.activated?this.activeNodes[ye.id]=!0:delete this.activeNodes[ye.id]),ye.hovered!==void 0){var Te=ye.disabled!==!0&&ye.hovered;this.nodeDataByte[3*Ee*4+9]=Te?255:0,te=!0}if(ye.size!==void 0){var ze=ye.size;this.nodeDataByte[3*Ee*4+8]=ze||ra,te=!0}}}catch(He){ue.e(He)}finally{ue.f()}te&&(N.bindBuffer(N.ARRAY_BUFFER,W),N.bufferData(N.ARRAY_BUFFER,ee,N.DYNAMIC_DRAW))}},{key:"updateRelationships",value:function(O){var B,N=xa(O,this.disableRelColor),G=this.gl,X=!1,W=Yc(N);try{for(W.s();!(B=W.n()).done;){var ee=B.value,te=ee.key,ue=ee.width,ye=ee.color,Ee=ee.disabled,Oe=this.relIdToIndex[te],we=(0,r.isNil)(ye)?this.defaultRelColor:ye,Te=fh(Ee?this.disableRelColor:we);this.relData.positionsAndColors[Oe*I+0]=Te,this.relData.positionsAndColors[Oe*I+4]=Te,this.relData.positionsAndColors[Oe*I+8]=Te,this.relData.positionsAndColors[Oe*I+12]=Te,this.relData.positionsAndColors[Oe*I+16]=Te,this.relData.positionsAndColors[Oe*I+20]=Te,X=!0,ue!==void 0&&(this.relData.widths[Oe*I+3]=ue,this.relData.widths[Oe*I+7]=ue,this.relData.widths[Oe*I+11]=ue,this.relData.widths[Oe*I+15]=ue,this.relData.widths[Oe*I+19]=ue,this.relData.widths[Oe*I+23]=ue,X=!0)}}catch(ze){W.e(ze)}finally{W.f()}X&&(G.bindBuffer(G.ARRAY_BUFFER,this.relBuffer),G.bufferData(G.ARRAY_BUFFER,this.relDataBuffer,G.DYNAMIC_DRAW))}},{key:"createPositionTexture",value:function(){var O=this.gl,B=O.createTexture(),N=new Float32Array(262144);O.bindTexture(O.TEXTURE_2D,B),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MIN_FILTER,O.NEAREST),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MAG_FILTER,O.NEAREST),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_WRAP_S,O.CLAMP_TO_EDGE),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_WRAP_T,O.CLAMP_TO_EDGE),O.texImage2D(O.TEXTURE_2D,0,O.RGBA,Er,Er,0,O.RGBA,O.FLOAT,N),this.posTexture=B,this.posBuffer=N}},{key:"updateViewportBox",value:function(O,B,N,G,X){var W=this.gl,ee=mt(),te=G*ee,ue=X*ee,ye=(.5*te+B*O)/O,Ee=(.5*ue+N*O)/O,Oe=(.5*-te+B*O)/O,we=(.5*-ue+N*O)/O,Te=[ye,Ee,Oe,Ee,Oe,Ee,Oe,we,Oe,we,ye,we,ye,we,ye,Ee];W.bindBuffer(W.ARRAY_BUFFER,this.viewportBoxBuffer),W.bufferData(W.ARRAY_BUFFER,new Float32Array(Te),W.DYNAMIC_DRAW)}},{key:"updateViewport",value:function(O,B,N){var G=this.gl,X=1/O,W=B-G.drawingBufferWidth*X*.5,ee=N-G.drawingBufferHeight*X*.5,te=G.drawingBufferWidth*X,ue=G.drawingBufferHeight*X,ye=El(),Ee=2.6315789473684212*mt();es(ye,W,W+te,ee+ue,ee,0,1e6),this.nodeShader.use(),this.nodeShader.setUniform("u_zoom",O),this.nodeShader.setUniform("u_glAdjust",Ee),this.nodeShader.setUniform("u_projection",ye),this.nodeAnimShader.use(),this.nodeAnimShader.setUniform("u_zoom",O),this.nodeAnimShader.setUniform("u_glAdjust",Ee),this.nodeAnimShader.setUniform("u_projection",ye),this.relShader.use(),this.relShader.setUniform("u_glAdjust",Ee),this.relShader.setUniform("u_projection",ye),this.projection=ye}},{key:"setupViewportRendering",value:function(){var O,B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ut;this.viewportBoxBuffer=this.gl.createBuffer(),this.viewportBoxShader.use(),this.viewportBoxShader.setUniform("u_minimapViewportBoxColor",[(O=kf(B))[0]/255,O[1]/255,O[2]/255,O[3]])}},{key:"setupNodeRendering",value:function(O){var B=this.gl,N=new ArrayBuffer(8),G=new Uint32Array(N),X=new Uint8Array(N);this.nodeBuffer===void 0&&(this.nodeBuffer=B.createBuffer()),this.numNodes=O.length;var W=new ArrayBuffer(3*O.length*8),ee=new Uint32Array(W),te={};this.activeNodes={};for(var ue=0;ue<O.length;ue++){var ye=O[ue],Ee=ye.selected,Oe=ye.hovered,we=ye.color,Te=ye.activated,ze=ye.size,He=ye.id,Ye=ye.disabled,Ve=fh((0,r.isNil)(we)?this.defaultNodeColor:we);ee[3*ue+0]=Ye?fh(this.disableNodeColor):Ve,X[0]=Ee?255:0,X[1]=ue%Er,X[2]=Math.floor(ue/Er),X[3]=Te?255:0,X[4]=!Ye&&Oe?255:0,Te&&(this.activeNodes[He]=!0),ee[3*ue+1]=G[0],ee[3*ue+2]=ze??ra,ee[3*ue+3]=G[1],te[He]=ue}B.bindBuffer(B.ARRAY_BUFFER,this.nodeBuffer),B.bufferData(B.ARRAY_BUFFER,ee,B.DYNAMIC_DRAW),this.numNodes=O.length,this.nodeDataByte=new Uint8Array(W),this.idToIndex=te}},{key:"setupRelationshipRendering",value:function(O){var B=this,N=this.gl,G=new ArrayBuffer(4),X=new Uint32Array(G),W=new Uint8Array(G),ee={};this.relBuffer===void 0&&(this.relBuffer=N.createBuffer());for(var te=new ArrayBuffer(O.length*I*4),ue=new Uint32Array(te),ye=new Float32Array(te),Ee=function(we){var Te=O[we],ze=Te.from,He=Te.to,Ye=Te.color,Ve=Te.width,tt=Ve===void 0?1:Ve,Je=Te.key,lt=Te.disabled,at=B.idToIndex[ze],et=B.idToIndex[He],gt=at%Er,jt=Math.floor(at/Er),Kt=et%Er,Ft=Math.floor(et/Er),sr=[gt,jt,Kt,Ft],$t=[Kt,Ft,gt,jt],Be=(0,r.isNil)(Ye)?B.defaultRelColor:Ye,je=fh(lt?B.disableRelColor:Be);ee[Je]=we;var Fe=0,St=function(st,Dt,rr,dr){ue[we*I+Fe]=st,Fe+=1;for(var lr=0;lr<Dt.length;lr++)W[lr]=Dt[lr];ue[we*I+Fe]=X[0],Fe+=1,W[0]=rr,ue[we*I+Fe]=X[0],ye[we*I+(Fe+=1)]=dr,Fe+=1};St(je,sr,255,tt),St(je,$t,0,tt),St(je,sr,0,tt),St(je,$t,0,tt),St(je,sr,0,tt),St(je,$t,255,tt)},Oe=0;Oe<O.length;Oe++)Ee(Oe);N.bindBuffer(N.ARRAY_BUFFER,this.relBuffer),N.bufferData(N.ARRAY_BUFFER,te,N.DYNAMIC_DRAW),this.numRels=O.length,this.relDataBuffer=te,this.relData={positionsAndColors:ue,widths:ye},this.relIdToIndex=ee}},{key:"renderAnimations",value:function(O){var B=this.gl,N=this.nodeBuffer,G=this.numNodes,X=Date.now()%1e3/1e3,W=X<.7?X/.7:0;this.nodeAnimShader.use(),this.nodeAnimShader.setUniform("u_positions",O),this.nodeAnimShader.setUniform("u_animPos",W),B.bindBuffer(B.ARRAY_BUFFER,N),this.nodeAnimShader.setAttributePointerByteNorm("a_color",4,0,12),this.nodeAnimShader.setAttributePointerByteNorm("a_active",1,7,12),this.nodeAnimShader.setAttributePointerByteNorm("a_index",2,5,12),this.nodeAnimShader.setAttributePointerByte("a_size",4,8,12),B.drawArrays(B.POINTS,0,G)}},{key:"destroy",value:function(){this.gl.deleteBuffer(this.nodeBuffer),this.gl.deleteBuffer(this.relBuffer),this.nodeShader.remove(),this.nodeAnimShader.remove(),this.relShader.remove()}}],C&&Sp(x.prototype,C),Object.defineProperty(x,"prototype",{writable:!1}),E}(),Y=function(E,x,C){var O=mt();E.width=x*O,E.height=C*O,E.style.width="".concat(x,"px"),E.style.height="".concat(C,"px")},le=function(E){ln.warn("Error: WebGL context lost - visualization will stop working!",E),Gv!==void 0&&Gv(E)},me=function(E){var x=E.parentElement.getBoundingClientRect(),C=x.width,O=x.height;Y(E,C,O)},Le=function(E,x){var C=document.createElement("canvas");return document.body.appendChild(C),Y(C,E,x),C},Ze=function(E,x){var C=document.createElement("canvas");return Object.assign(C.style,It),E!==void 0&&(E.appendChild(C),me(C)),function(O,B){Gv=B,O.addEventListener("webglcontextlost",le)}(C,x),C},nt=function(E){E.width=0,E.height=0,E.remove()},Ot=function(E){return E.getContext("2d")},qt=function(E){var x={antialias:!0},C=E.getContext("webgl",x);return C===null&&(C=E.getContext("experimental-webgl",x)),function(O){return O instanceof WebGLRenderingContext}(C)?C:null},Gt=function(E){E.canvas.removeEventListener("webglcontextlost",le);var x=E.getExtension("WEBGL_lose_context");x==null||x.loseContext()};function Xt(E){return function(x){if(Array.isArray(x))return nr(x)}(E)||function(x){if(typeof Symbol<"u"&&x[Symbol.iterator]!=null||x["@@iterator"]!=null)return Array.from(x)}(E)||ir(E)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function tr(E,x){var C=typeof Symbol<"u"&&E[Symbol.iterator]||E["@@iterator"];if(!C){if(Array.isArray(E)||(C=ir(E))||x){C&&(E=C);var O=0,B=function(){};return{s:B,n:function(){return O>=E.length?{done:!0}:{done:!1,value:E[O++]}},e:function(W){throw W},f:B}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var N,G=!0,X=!1;return{s:function(){C=C.call(E)},n:function(){var W=C.next();return G=W.done,W},e:function(W){X=!0,N=W},f:function(){try{G||C.return==null||C.return()}finally{if(X)throw N}}}}function ir(E,x){if(E){if(typeof E=="string")return nr(E,x);var C=Object.prototype.toString.call(E).slice(8,-1);return C==="Object"&&E.constructor&&(C=E.constructor.name),C==="Map"||C==="Set"?Array.from(E):C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C)?nr(E,x):void 0}}function nr(E,x){(x==null||x>E.length)&&(x=E.length);for(var C=0,O=new Array(x);C<x;C++)O[C]=E[C];return O}var Pt=ra*mt();function Bt(E){return Bt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},Bt(E)}function _r(E,x){var C=Object.keys(E);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(E);x&&(O=O.filter(function(B){return Object.getOwnPropertyDescriptor(E,B).enumerable})),C.push.apply(C,O)}return C}function ar(E){for(var x=1;x<arguments.length;x++){var C=arguments[x]!=null?arguments[x]:{};x%2?_r(Object(C),!0).forEach(function(O){var B,N,G;B=E,N=O,G=C[O],N=function(X){var W=function(ee,te){if(Bt(ee)!="object"||!ee)return ee;var ue=ee[Symbol.toPrimitive];if(ue!==void 0){var ye=ue.call(ee,"string");if(Bt(ye)!="object")return ye;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ee)}(X);return Bt(W)=="symbol"?W:String(W)}(N),N in B?Object.defineProperty(B,N,{value:G,enumerable:!0,configurable:!0,writable:!0}):B[N]=G}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(C)):_r(Object(C)).forEach(function(O){Object.defineProperty(E,O,Object.getOwnPropertyDescriptor(C,O))})}return E}var zr=function(){for(var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:50,C={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0},O=0;O<E.length;O++)C.minX>E[O].x&&(C.minX=E[O].x),C.minY>E[O].y&&(C.minY=E[O].y),C.maxX<E[O].x&&(C.maxX=E[O].x),C.maxY<E[O].y&&(C.maxY=E[O].y);var B=(C.minX+C.maxX)/2,N=(C.minY+C.maxY)/2,G=2*x,X=mt()*G;return{centerX:B,centerY:N,nodesWidth:C.maxX-C.minX+G+X,nodesHeight:C.maxY-C.minY+G+X}},Vr=function(E,x,C,O){var B=1/0,N=1/0;return E>1&&(B=C/E),x>1&&(N=O/x),{zoomX:B,zoomY:N}},un=function(E,x){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,O=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/0,B=Math.min(E,x);return Math.min(O,Math.max(C,B))},hr=function(E,x,C){var O=zr(E,arguments.length>3&&arguments[3]!==void 0?arguments[3]:50),B=O.nodesWidth,N=O.nodesHeight,G=x*mt(),X=C*mt(),W=Vr(B,N,G,X),ee=W.zoomX,te=W.zoomY;return un(ee,te)},Sr=function(E,x,C,O){return Math.max(Math.min(x,C),Math.min(E,O))},Di=function(E,x,C,O,B,N){var G=x;return function(X,W,ee){return X<W&&X<ee}(B,N,x)&&E.length>1?(G=function(X,W,ee){var te=function(we){var Te=new Array(4).fill(we[0]);return we.forEach(function(ze){Te[0]=ze.x<Te[0].x?Te[0]:ar({},ze),Te[1]=ze.y<Te[1].y?Te[1]:ar({},ze),Te[2]=ze.x<Te[2].x?ar({},ze):Te[2],Te[3]=ze.y<Te[3].y?ar({},ze):Te[3]}),Te}(X),ue=function(){for(var we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],Te=0,ze=0,He=0;He<we.length;He++)for(var Ye=He+1;Ye<we.length;Ye++)Te=Math.hypot(Math.abs(we[He].x-we[Ye].x),Math.abs(we[He].y-we[Ye].y)),ze=Math.max(ze,Te);return ze}(te),ye=2*ee,Ee=mt()*ye,Oe=W.height<=W.width?W.height-ye-Ee:W.width-ye-Ee;return ue>Oe?.9*Oe/ue:.9*ue/Oe}(E,O,25),Sr(B,N,Math.min(x,G),C)):Sr(B,N,x,C)};function Ii(E){return Ii=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},Ii(E)}function Vi(E,x){for(var C=0;C<x.length;C++){var O=x[C];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(E,Jn(O.key),O)}}function Jn(E){var x=function(C,O){if(Ii(C)!="object"||!C)return C;var B=C[Symbol.toPrimitive];if(B!==void 0){var N=B.call(C,"string");if(Ii(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(C)}(E);return Ii(x)=="symbol"?x:String(x)}var Ja=function(){function E(){var O,B,N;(function(G,X){if(!(G instanceof X))throw new TypeError("Cannot call a class as a function")})(this,E),O=this,N=void 0,(B=Jn(B="callbacks"))in O?Object.defineProperty(O,B,{value:N,enumerable:!0,configurable:!0,writable:!0}):O[B]=N,this.callbacks={}}var x,C;return x=E,C=[{key:"register",value:function(O,B){this.isCallbackRegistered(O)||(this.callbacks[O]=[]),this.callbacks[O].push(B)}},{key:"isCallbackRegistered",value:function(O){return this.callbacks[O]!==void 0}},{key:"callIfRegistered",value:function(){var O,B=arguments,N=Array.prototype.slice.call(arguments)[0];O=N,i.includes(O)&&this.isCallbackRegistered(N)&&this.callbacks[N].slice(0).forEach(function(G){return G.apply(null,Array.prototype.slice.call(B,1))})}}],C&&Vi(x.prototype,C),Object.defineProperty(x,"prototype",{writable:!1}),E}(),Oa=Po(481),nl=Po.n(Oa);function _u(E){return _u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},_u(E)}function Zs(E,x){for(var C=0;C<x.length;C++){var O=x[C];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(E,ac(O.key),O)}}function wu(E,x,C){return(x=ac(x))in E?Object.defineProperty(E,x,{value:C,enumerable:!0,configurable:!0,writable:!0}):E[x]=C,E}function ac(E){var x=function(C,O){if(_u(C)!="object"||!C)return C;var B=C[Symbol.toPrimitive];if(B!==void 0){var N=B.call(C,"string");if(_u(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(C)}(E);return _u(x)=="symbol"?x:String(x)}var za=5e-5,oc=function(){function E(O){var B,N=this,G=O.state,X=O.getNodePositions,W=O.canvas;(function(ee,te){if(!(ee instanceof te))throw new TypeError("Cannot call a class as a function")})(this,E),wu(this,"xCtrl",void 0),wu(this,"yCtrl",void 0),wu(this,"zoomCtrl",void 0),wu(this,"getNodePositions",void 0),wu(this,"firstUpdate",void 0),wu(this,"state",void 0),wu(this,"canvas",void 0),wu(this,"stateDisposers",void 0),this.state=G,this.getNodePositions=X,this.canvas=W,this.xCtrl=new(nl())(.35,za,.05,1),this.yCtrl=new(nl())(.35,za,.05,1),this.zoomCtrl=new(nl())(.3,1e-5,.01,1),this.stateDisposers=[],this.stateDisposers.push(G.autorun(function(){G.fitNodeIds===null&&(N.xCtrl.reset(),N.yCtrl.reset(),N.zoomCtrl.reset())})),this.stateDisposers.push(G.autorun(function(){B!==G.fitNodeIds&&(B=G.fitNodeIds,N.firstUpdate=!0)})),this.stateDisposers.push(G.autorun(function(){G.resetZoom&&(N.firstUpdate=!0)}))}var x,C;return x=E,C=[{key:"needsToRun",value:function(){var O=this.state,B=O.fitNodeIds,N=O.resetZoom;return B.length>0||N}},{key:"update",value:function(O,B){var N=this.state,G=N.fitNodeIds,X=N.resetZoom;G.length>0?this.fitNodes(G,O,B):X&&this.reset(O,B)}},{key:"destroy",value:function(){this.stateDisposers.forEach(function(O){return O()})}},{key:"recalculateTarget",value:function(O,B,N,G){for(var X=this.xCtrl,W=this.yCtrl,ee=this.zoomCtrl,te=this.state,ue=[],ye=0;ye<O.length;ye++)ue.push({id:O[ye]});var Ee=te.zoom,Oe=te.panX,we=te.panY,Te=te.maxNodeRadius,ze=te.nodes,He=te.defaultZoomLevel,Ye=this.getNodePositions(ue);ze.updatePositions(Ye);var Ve=zr(Ye,Te),tt=Ve.centerX,Je=Ve.centerY,lt=Ve.nodesWidth,at=Ve.nodesHeight;if(isNaN(tt)||isNaN(Je))return ln.info("fit() function couldn't calculate center point, not updating viewport"),!1;var et=B.noPan,gt=B.outOnly,jt=B.minZoom,Kt=B.maxZoom;X.setTarget(et?Oe:tt),W.setTarget(et?we:Je);var Ft=Vr(lt,at,N,G),sr=Ft.zoomX,$t=Ft.zoomY;if(sr===1/0&&$t===1/0)ee.setTarget(He);else{var Be=un(sr,$t,jt,Kt);gt&&Ee<Be?ee.setTarget(Ee):ee.setTarget(Be)}return!0}},{key:"allNodesAreVisible",value:function(O,B,N){var G=Vr(B,N,this.canvas.width,this.canvas.height),X=G.zoomX,W=G.zoomY;return O<X&&O<W}},{key:"reset",value:function(O,B){var N=this.xCtrl,G=this.yCtrl,X=this.zoomCtrl,W=this.state,ee=this.firstUpdate,te=this.canvas,ue=W.zoom,ye=W.panX,Ee=W.panY,Oe=W.nodes,we=W.maxNodeRadius,Te=W.defaultZoomLevel;if(ee||O){X.setTarget(Te);var ze=zr(Object.values(Oe.idToPosition),we),He=ze.centerX,Ye=ze.centerY,Ve=ze.nodesWidth,tt=ze.nodesHeight;this.allNodesAreVisible(ue,Ve,tt)?(N.setTarget(He),G.setTarget(Ye)):(N.setTarget(ye),G.setTarget(Ee)),this.firstUpdate=!1}var Je=ue+X.update(ue),lt=ye+N.update(ye),at=Ee+G.update(Ee);W.updateZoomToFit(Je,lt,at,te),Math.abs(X.target-Je)<.01&&(W.updateZoomToFit(Te,lt,at,te),W.clearReset(),B!==void 0&&B())}},{key:"fitNodes",value:function(O,B,N){var G=this.state,X=this.firstUpdate,W=this.canvas,ee=this.xCtrl,te=this.yCtrl,ue=this.zoomCtrl,ye=G.zoomOptions,Ee=ye===void 0?{}:ye,Oe=G.zoom,we=G.panX,Te=G.panY,ze=!0;if(X||B){var He=W.width,Ye=W.height;ze=this.recalculateTarget(O,Ee,He,Ye),this.firstUpdate=!1}if(ze){if(!Ee.animated)return G.setZoomPan(ue.target,ee.target,te.target,W),void G.clearFit();var Ve=we+ee.update(we),tt=Te+te.update(Te),Je=Oe+ue.update(Oe);G.updateZoomToFit(Je,Ve,tt,W);var lt=Math.max(5,10/ue.target),at=Math.min(.01,.01*ue.target);!B&&Math.abs(ue.target-Je)<at&&Math.abs(ee.target-Ve)<lt&&Math.abs(te.target-tt)<lt&&(G.setZoom(ue.target,W),G.clearFit(),N!==void 0&&N())}}}],C&&Zs(x.prototype,C),Object.defineProperty(x,"prototype",{writable:!1}),E}();function Ps(E){return Ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},Ps(E)}function kl(){kl=function(){return x};var E,x={},C=Object.prototype,O=C.hasOwnProperty,B=Object.defineProperty||function(Be,je,Fe){Be[je]=Fe.value},N=typeof Symbol=="function"?Symbol:{},G=N.iterator||"@@iterator",X=N.asyncIterator||"@@asyncIterator",W=N.toStringTag||"@@toStringTag";function ee(Be,je,Fe){return Object.defineProperty(Be,je,{value:Fe,enumerable:!0,configurable:!0,writable:!0}),Be[je]}try{ee({},"")}catch{ee=function(je,Fe,St){return je[Fe]=St}}function te(Be,je,Fe,St){var st=je&&je.prototype instanceof ze?je:ze,Dt=Object.create(st.prototype),rr=new sr(St||[]);return B(Dt,"_invoke",{value:gt(Be,Fe,rr)}),Dt}function ue(Be,je,Fe){try{return{type:"normal",arg:Be.call(je,Fe)}}catch(St){return{type:"throw",arg:St}}}x.wrap=te;var ye="suspendedStart",Ee="suspendedYield",Oe="executing",we="completed",Te={};function ze(){}function He(){}function Ye(){}var Ve={};ee(Ve,G,function(){return this});var tt=Object.getPrototypeOf,Je=tt&&tt(tt($t([])));Je&&Je!==C&&O.call(Je,G)&&(Ve=Je);var lt=Ye.prototype=ze.prototype=Object.create(Ve);function at(Be){["next","throw","return"].forEach(function(je){ee(Be,je,function(Fe){return this._invoke(je,Fe)})})}function et(Be,je){function Fe(st,Dt,rr,dr){var lr=ue(Be[st],Be,Dt);if(lr.type!=="throw"){var Kr=lr.arg,Qr=Kr.value;return Qr&&Ps(Qr)=="object"&&O.call(Qr,"__await")?je.resolve(Qr.__await).then(function(Sn){Fe("next",Sn,rr,dr)},function(Sn){Fe("throw",Sn,rr,dr)}):je.resolve(Qr).then(function(Sn){Kr.value=Sn,rr(Kr)},function(Sn){return Fe("throw",Sn,rr,dr)})}dr(lr.arg)}var St;B(this,"_invoke",{value:function(st,Dt){function rr(){return new je(function(dr,lr){Fe(st,Dt,dr,lr)})}return St=St?St.then(rr,rr):rr()}})}function gt(Be,je,Fe){var St=ye;return function(st,Dt){if(St===Oe)throw new Error("Generator is already running");if(St===we){if(st==="throw")throw Dt;return{value:E,done:!0}}for(Fe.method=st,Fe.arg=Dt;;){var rr=Fe.delegate;if(rr){var dr=jt(rr,Fe);if(dr){if(dr===Te)continue;return dr}}if(Fe.method==="next")Fe.sent=Fe._sent=Fe.arg;else if(Fe.method==="throw"){if(St===ye)throw St=we,Fe.arg;Fe.dispatchException(Fe.arg)}else Fe.method==="return"&&Fe.abrupt("return",Fe.arg);St=Oe;var lr=ue(Be,je,Fe);if(lr.type==="normal"){if(St=Fe.done?we:Ee,lr.arg===Te)continue;return{value:lr.arg,done:Fe.done}}lr.type==="throw"&&(St=we,Fe.method="throw",Fe.arg=lr.arg)}}}function jt(Be,je){var Fe=je.method,St=Be.iterator[Fe];if(St===E)return je.delegate=null,Fe==="throw"&&Be.iterator.return&&(je.method="return",je.arg=E,jt(Be,je),je.method==="throw")||Fe!=="return"&&(je.method="throw",je.arg=new TypeError("The iterator does not provide a '"+Fe+"' method")),Te;var st=ue(St,Be.iterator,je.arg);if(st.type==="throw")return je.method="throw",je.arg=st.arg,je.delegate=null,Te;var Dt=st.arg;return Dt?Dt.done?(je[Be.resultName]=Dt.value,je.next=Be.nextLoc,je.method!=="return"&&(je.method="next",je.arg=E),je.delegate=null,Te):Dt:(je.method="throw",je.arg=new TypeError("iterator result is not an object"),je.delegate=null,Te)}function Kt(Be){var je={tryLoc:Be[0]};1 in Be&&(je.catchLoc=Be[1]),2 in Be&&(je.finallyLoc=Be[2],je.afterLoc=Be[3]),this.tryEntries.push(je)}function Ft(Be){var je=Be.completion||{};je.type="normal",delete je.arg,Be.completion=je}function sr(Be){this.tryEntries=[{tryLoc:"root"}],Be.forEach(Kt,this),this.reset(!0)}function $t(Be){if(Be||Be===""){var je=Be[G];if(je)return je.call(Be);if(typeof Be.next=="function")return Be;if(!isNaN(Be.length)){var Fe=-1,St=function st(){for(;++Fe<Be.length;)if(O.call(Be,Fe))return st.value=Be[Fe],st.done=!1,st;return st.value=E,st.done=!0,st};return St.next=St}}throw new TypeError(Ps(Be)+" is not iterable")}return He.prototype=Ye,B(lt,"constructor",{value:Ye,configurable:!0}),B(Ye,"constructor",{value:He,configurable:!0}),He.displayName=ee(Ye,W,"GeneratorFunction"),x.isGeneratorFunction=function(Be){var je=typeof Be=="function"&&Be.constructor;return!!je&&(je===He||(je.displayName||je.name)==="GeneratorFunction")},x.mark=function(Be){return Object.setPrototypeOf?Object.setPrototypeOf(Be,Ye):(Be.__proto__=Ye,ee(Be,W,"GeneratorFunction")),Be.prototype=Object.create(lt),Be},x.awrap=function(Be){return{__await:Be}},at(et.prototype),ee(et.prototype,X,function(){return this}),x.AsyncIterator=et,x.async=function(Be,je,Fe,St,st){st===void 0&&(st=Promise);var Dt=new et(te(Be,je,Fe,St),st);return x.isGeneratorFunction(je)?Dt:Dt.next().then(function(rr){return rr.done?rr.value:Dt.next()})},at(lt),ee(lt,W,"Generator"),ee(lt,G,function(){return this}),ee(lt,"toString",function(){return"[object Generator]"}),x.keys=function(Be){var je=Object(Be),Fe=[];for(var St in je)Fe.push(St);return Fe.reverse(),function st(){for(;Fe.length;){var Dt=Fe.pop();if(Dt in je)return st.value=Dt,st.done=!1,st}return st.done=!0,st}},x.values=$t,sr.prototype={constructor:sr,reset:function(Be){if(this.prev=0,this.next=0,this.sent=this._sent=E,this.done=!1,this.delegate=null,this.method="next",this.arg=E,this.tryEntries.forEach(Ft),!Be)for(var je in this)je.charAt(0)==="t"&&O.call(this,je)&&!isNaN(+je.slice(1))&&(this[je]=E)},stop:function(){this.done=!0;var Be=this.tryEntries[0].completion;if(Be.type==="throw")throw Be.arg;return this.rval},dispatchException:function(Be){if(this.done)throw Be;var je=this;function Fe(lr,Kr){return Dt.type="throw",Dt.arg=Be,je.next=lr,Kr&&(je.method="next",je.arg=E),!!Kr}for(var St=this.tryEntries.length-1;St>=0;--St){var st=this.tryEntries[St],Dt=st.completion;if(st.tryLoc==="root")return Fe("end");if(st.tryLoc<=this.prev){var rr=O.call(st,"catchLoc"),dr=O.call(st,"finallyLoc");if(rr&&dr){if(this.prev<st.catchLoc)return Fe(st.catchLoc,!0);if(this.prev<st.finallyLoc)return Fe(st.finallyLoc)}else if(rr){if(this.prev<st.catchLoc)return Fe(st.catchLoc,!0)}else{if(!dr)throw new Error("try statement without catch or finally");if(this.prev<st.finallyLoc)return Fe(st.finallyLoc)}}}},abrupt:function(Be,je){for(var Fe=this.tryEntries.length-1;Fe>=0;--Fe){var St=this.tryEntries[Fe];if(St.tryLoc<=this.prev&&O.call(St,"finallyLoc")&&this.prev<St.finallyLoc){var st=St;break}}st&&(Be==="break"||Be==="continue")&&st.tryLoc<=je&&je<=st.finallyLoc&&(st=null);var Dt=st?st.completion:{};return Dt.type=Be,Dt.arg=je,st?(this.method="next",this.next=st.finallyLoc,Te):this.complete(Dt)},complete:function(Be,je){if(Be.type==="throw")throw Be.arg;return Be.type==="break"||Be.type==="continue"?this.next=Be.arg:Be.type==="return"?(this.rval=this.arg=Be.arg,this.method="return",this.next="end"):Be.type==="normal"&&je&&(this.next=je),Te},finish:function(Be){for(var je=this.tryEntries.length-1;je>=0;--je){var Fe=this.tryEntries[je];if(Fe.finallyLoc===Be)return this.complete(Fe.completion,Fe.afterLoc),Ft(Fe),Te}},catch:function(Be){for(var je=this.tryEntries.length-1;je>=0;--je){var Fe=this.tryEntries[je];if(Fe.tryLoc===Be){var St=Fe.completion;if(St.type==="throw"){var st=St.arg;Ft(Fe)}return st}}throw new Error("illegal catch attempt")},delegateYield:function(Be,je,Fe){return this.delegate={iterator:$t(Be),resultName:je,nextLoc:Fe},this.method==="next"&&(this.arg=E),Te}},x}function tv(E,x,C,O,B,N,G){try{var X=E[N](G),W=X.value}catch(ee){return void C(ee)}X.done?x(W):Promise.resolve(W).then(O,B)}function vh(E,x){(x==null||x>E.length)&&(x=E.length);for(var C=0,O=new Array(x);C<x;C++)O[C]=E[C];return O}function ad(E,x){var C=Object.keys(E);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(E);x&&(O=O.filter(function(B){return Object.getOwnPropertyDescriptor(E,B).enumerable})),C.push.apply(C,O)}return C}function qo(E){for(var x=1;x<arguments.length;x++){var C=arguments[x]!=null?arguments[x]:{};x%2?ad(Object(C),!0).forEach(function(O){jr(E,O,C[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(C)):ad(Object(C)).forEach(function(O){Object.defineProperty(E,O,Object.getOwnPropertyDescriptor(C,O))})}return E}function Xg(E,x){for(var C=0;C<x.length;C++){var O=x[C];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(E,Kg(O.key),O)}}function jr(E,x,C){return(x=Kg(x))in E?Object.defineProperty(E,x,{value:C,enumerable:!0,configurable:!0,writable:!0}):E[x]=C,E}function Kg(E){var x=function(C,O){if(Ps(C)!="object"||!C)return C;var B=C[Symbol.toPrimitive];if(B!==void 0){var N=B.call(C,"string");if(Ps(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(C)}(E);return Ps(x)=="symbol"?x:String(x)}var Qs="NvlController",ig={filename:"visualisation.png",backgroundColor:"rgba(0,0,0,0)"},rv="onError",Qy="onLayoutDone",ph="onLayoutStep",nv={},iv=function(){var E;return(E=nv[arguments.length>0&&arguments[0]!==void 0?arguments[0]:"default"])!==null&&E!==void 0?E:Object.values(nv).pop()},Hv=function(){function E(N,G){var X,W,ee,te=this;(function(je,Fe){if(!(je instanceof Fe))throw new TypeError("Cannot call a class as a function")})(this,E),jr(this,"destroyed",void 0),jr(this,"state",void 0),jr(this,"callbacks",void 0),jr(this,"instanceId",void 0),jr(this,"glController",void 0),jr(this,"webGLContext",void 0),jr(this,"webGLMinimapContext",void 0),jr(this,"htmlOverlay",void 0),jr(this,"hasResized",void 0),jr(this,"hierarchicalLayout",void 0),jr(this,"gridLayout",void 0),jr(this,"freeLayout",void 0),jr(this,"d3ForceLayout",void 0),jr(this,"forceLayout",void 0),jr(this,"canvasRenderer",void 0),jr(this,"glCanvas",void 0),jr(this,"canvasRect",void 0),jr(this,"glMinimapCanvas",void 0),jr(this,"c2dCanvas",void 0),jr(this,"isInRenderSwitchAnimation",void 0),jr(this,"justSwitchedRenderer",void 0),jr(this,"justSwitchedLayout",void 0),jr(this,"layoutUpdating",void 0),jr(this,"layoutComputing",void 0),jr(this,"isRenderingDisabled",void 0),jr(this,"setRenderSwitchAnimation",void 0),jr(this,"stateDisposers",void 0),jr(this,"zoomTransitionHandler",void 0),jr(this,"currentLayout",void 0),jr(this,"layoutTimeLimit",void 0),jr(this,"pixelRatio",void 0),jr(this,"removeResizeListener",void 0),jr(this,"removeMinimapResizeListener",void 0),jr(this,"pendingZoomOperation",void 0),jr(this,"layoutRunner",void 0),jr(this,"animationRequestId",void 0),jr(this,"layoutDoneCallback",void 0),jr(this,"layoutComputingCallback",void 0),jr(this,"currentLayoutType",void 0),jr(this,"descriptionElement",void 0),this.destroyed=!1;var ue=G.frame,ye=G.minimapContainer,Ee=ye===void 0?document.createElement("span"):ye,Oe=G.layoutOptions,we=G.layout,Te=G.instanceId,ze=Te===void 0?"default":Te,He=G.disableAria,Ye=He!==void 0&&He,Ve=N.nodes,tt=N.rels,Je=N.webGLVisible,lt=N.disableWebGL;this.state=N,this.callbacks=new Ja,this.instanceId=ze;var at=ue;at.setAttribute("instanceId",ze),at.setAttribute("data-testid","nvl-parent"),(X=at.style.height)!==null&&X!==void 0&&X.length||Object.assign(at.style,{height:"100%"}),(W=at.style.outline)!==null&&W!==void 0&&W.length||Object.assign(at.style,{outline:"none"}),this.descriptionElement=Ye?document.createElement("div"):function(je,Fe){var St;je.setAttribute("role","img"),je.setAttribute("aria-label","Graph visualization");var st="nvl-".concat(Fe,"-description"),Dt=(St=document.getElementById(st))!==null&&St!==void 0?St:document.createElement("div");return Dt.innerHTML="",Dt.id="nvl-".concat(Fe,"-description"),Dt.setAttribute("role","status"),Dt.setAttribute("aria-live","polite"),Dt.setAttribute("aria-atomic","false"),Dt.style.display="none",je.appendChild(Dt),je.setAttribute("aria-describedby",Dt.id),Dt}(at,ze);var et=Ze(at,this.onWebGLContextLost.bind(this)),gt=Ze(Ee,this.onWebGLContextLost.bind(this));if(et.setAttribute("data-testid","nvl-gl-canvas"),lt)this.glController=new qv;else{var jt=qt(et),Kt=qt(gt);this.glController=new hs({mainSceneRenderer:new U(jt,Ve,tt,this.state),minimapRenderer:new U(Kt,Ve,tt,this.state),state:N}),this.webGLContext=jt,this.webGLMinimapContext=Kt}var Ft=Ze(at,this.onWebGLContextLost.bind(this));Ft.setAttribute("data-testid","nvl-c2d-canvas");var sr=Ft.getContext("2d"),$t=document.createElement("div");Object.assign($t.style,qo(qo({},It),{},{overflow:"hidden"})),at.appendChild($t),this.htmlOverlay=$t,this.hasResized=!0,this.hierarchicalLayout=new Tv(qo(qo({},Oe),{},{state:this.state})),this.gridLayout=new jc({state:this.state}),this.freeLayout=new $s({state:this.state}),this.d3ForceLayout=new yf({state:this.state}),this.forceLayout=lt?this.d3ForceLayout:new dp(qo(qo({},Oe),{},{webGLContext:this.webGLContext,state:this.state})),this.state.setLayout(we),this.state.setLayoutOptions(Oe);var Be=new cs(Ft,sr,N,G);this.canvasRenderer=Be,this.glCanvas=et,this.canvasRect=et.getBoundingClientRect(),this.glMinimapCanvas=gt,this.c2dCanvas=Ft,this.glCanvas.style.opacity=Je?"1":"0",this.c2dCanvas.style.opacity=Je?"0":"1",this.isInRenderSwitchAnimation=!1,this.justSwitchedRenderer=!1,this.justSwitchedLayout=!1,this.hasResized=!1,this.layoutUpdating=!1,this.layoutComputing=!1,this.isRenderingDisabled=!1,Ve.addChannel(Qs),tt.addChannel(Qs),this.setRenderSwitchAnimation=function(){te.isInRenderSwitchAnimation=!1},this.stateDisposers=[],this.stateDisposers.push(N.autorun(function(){te.callIfRegistered("zoom",N.zoom)})),this.stateDisposers.push(N.autorun(function(){te.callIfRegistered("pan",{panX:N.panX,panY:N.panY})})),this.stateDisposers.push(N.autorun(function(){te.setLayout(N.layout)})),this.stateDisposers.push(N.autorun(function(){te.setLayoutOptions(N.layoutOptions)})),Ye||this.stateDisposers.push(N.autorun(function(){(function(je,Fe){var St=je.nodes,st=je.rels,Dt=je.layout,rr=St.items.length,dr=st.items.length;if(rr!==0||dr!==0){var lr="".concat(rr," node").concat(rr!==1?"s":""),Kr="".concat(dr," relationship").concat(dr!==1?"s":""),Qr="displayed using a ".concat(Dt??"forceDirected"," layout");Fe.innerHTML="A graph visualization with ".concat(lr," and ").concat(Kr,", ").concat(Qr,".")}else Fe.innerHTML="An empty graph visualization."})(N,te.descriptionElement)})),this.stateDisposers.push(N.autorun(function(){var je=N.webGLVisible?"1":"0";je!==te.glCanvas.style.opacity&&(te.justSwitchedRenderer=!0,te.glCanvas.style.opacity=je,te.c2dCanvas.style.opacity=N.webGLVisible?"0":"1")})),this.startMainLoop(),this.zoomTransitionHandler=new oc({state:N,getNodePositions:function(je){return te.currentLayout.getNodePositions(je)},canvas:et}),this.layoutTimeLimit=(ee=G.layoutTimeLimit)!==null&&ee!==void 0?ee:16,this.pixelRatio=mt(),this.removeResizeListener=ci()(at,function(){me(et),me(Ft),te.canvasRect=et.getBoundingClientRect(),te.hasResized=!0}),this.removeMinimapResizeListener=ci()(Ee,function(){me(gt)}),nv[ze]=this,window.__Nvl_dumpNodes=function(je){var Fe;return(Fe=iv(je))===null||Fe===void 0?void 0:Fe.dumpNodes()},window.__Nvl_dumpRelationships=function(je){var Fe;return(Fe=iv(je))===null||Fe===void 0?void 0:Fe.dumpRelationships()},window.__Nvl_registerDoneCallback=function(je,Fe){var St;return(St=iv(Fe))===null||St===void 0?void 0:St.on(Qy,je)},window.__Nvl_getNodesOnScreen=function(je){var Fe;return(Fe=iv(je))===null||Fe===void 0?void 0:Fe.getNodesOnScreen()},window.__Nvl_getZoomLevel=function(je){var Fe;return(Fe=iv(je))===null||Fe===void 0?void 0:Fe.getScale()},this.pendingZoomOperation=null}var x,C,O,B;return x=E,C=[{key:"onWebGLContextLost",value:function(N){this.callIfRegistered("onWebGLContextLost",N)}},{key:"updateMinimapZoom",value:function(){var N=this.state,G=N.nodes,X=N.maxNodeRadius,W=N.maxMinimapZoom,ee=N.minMinimapZoom,te=zr(Object.values(G.idToPosition),X),ue=te.centerX,ye=te.centerY,Ee=te.nodesWidth,Oe=te.nodesHeight,we=Vr(Ee,Oe,this.glMinimapCanvas.width,this.glMinimapCanvas.height),Te=we.zoomX,ze=we.zoomY,He=un(Te,ze,ee,W);this.state.updateMinimapZoomToFit(He,ue,ye)}},{key:"startMainLoop",value:function(){var N=this,G=this.state,X=G.nodes,W=G.rels;this.currentLayout.update();var ee=this.currentLayout.getNodePositions(X.items);X.updatePositions(ee),this.isRenderingDisabled||(this.glController.renderMainScene(ee),this.glController.renderMinimap(ee),this.canvasRenderer.processUpdates(),this.canvasRenderer.render(ee)),this.layoutRunner=setInterval(function(){try{(function(){var te=N.currentLayout.getShouldUpdate(),ue=te||N.justSwitchedLayout,ye=ue&&!N.layoutUpdating&&!N.justSwitchedLayout;if(ue)for(var Ee=window.performance.now(),Oe=ye?0:50,we=0;we<Oe;we++){N.currentLayout.update(N.justSwitchedLayout),N.justSwitchedLayout=!1;var Te=window.performance.now();if(!te||Te-Ee>N.layoutTimeLimit)break}})()}catch(te){if(!N.callbacks.isCallbackRegistered(rv))throw te;N.callIfRegistered(rv,te)}},13),this.animationRequestId=window.requestAnimationFrame(function te(){try{(function(ue){if(N.destroyed)ln.info("STEP IN A DESTROYED STRIP");else{var ye=mt();if(ye!==N.pixelRatio)return N.pixelRatio=ye,void N.callIfRegistered("restart");var Ee=N.currentLayout.getShouldUpdate(),Oe=Ee||N.justSwitchedLayout,we=N.currentLayout.getComputing(),Te=N.zoomTransitionHandler.needsToRun(),ze=Oe&&!N.layoutUpdating&&!N.justSwitchedLayout,He=N.layoutComputing&&!we,Ye=N.state.webGLVisible&&N.glController.needsToRun(),Ve=!N.state.webGLVisible&&N.canvasRenderer.needsToRun(),tt=N.isInRenderSwitchAnimation||N.justSwitchedRenderer,Je=N.hasResized,lt=N.pendingZoomOperation!==null,at=N.glController.minimapMouseDown;if(X.clearChannel(Qs),W.clearChannel(Qs),Te||Oe||He||tt||Ye||Ve||at||Je||lt){!lt||ze||N.currentLayout.getComputing()||(N.pendingZoomOperation(),N.pendingZoomOperation=null);var et=Ee||we||He;N.zoomTransitionHandler.update(et,function(){return N.callIfRegistered("onZoomTransitionDone")}),Je&&N.glController.onResize();var gt=N.currentLayout.getNodePositions(X.items);if(X.updatePositions(gt),N.callbacks.isCallbackRegistered(ph)&&N.callIfRegistered(ph,N.dumpNodes()),N.updateMinimapZoom(),N.glController.renderMinimap(gt),!N.isRenderingDisabled){if((N.state.webGLVisible||tt)&&N.glController.renderMainScene(gt),!N.state.webGLVisible||tt){N.canvasRenderer.processUpdates(),N.canvasRenderer.render(gt);for(var jt=0;jt<W.items.length;jt++){var Kt=W.items[jt].id,Ft=N.canvasRenderer.arrowBundler.getBundle(W.items[jt]),sr=W.idToHtmlOverlay[Kt],$t=Ft.labelInfo[Kt];if(sr&&$t){var Be=$t.rotation,je=$t.position,Fe=$t.width,St=$t.height,st=N.mapCanvasSpaceToRelativePosition(je.x,je.y),Dt=st.x,rr=st.y,dr=Fe>5&&!N.state.webGLVisible;Object.assign(sr.style,{top:"".concat(rr,"px"),left:"".concat(Dt,"px"),width:"".concat(Fe,"px"),height:"".concat(St,"px"),display:dr?"block":"none",transform:"translate(-50%, -50%) scale(".concat(Number(N.state.zoom),") rotate(").concat(Be,"rad")})}}}for(var lr=0;lr<X.items.length;lr++){var Kr=X.items[lr],Qr=Kr.id,Sn=Kr.size,vi=X.idToHtmlOverlay[Qr];if(vi){var Mi=N.state.nodes.idToPosition[Qr],ei=N.mapCanvasSpaceToRelativePosition(Mi.x,Mi.y),Dn=ei.x,vn=ei.y,Wn="".concat(2*(Sn??ra),"px");Object.assign(vi.style,{top:"".concat(vn,"px"),left:"".concat(Dn,"px"),width:Wn,height:Wn,transform:"translate(-50%, -50%) scale(".concat(Number(N.state.zoom),")")})}}}}var pi=!Oe&&N.layoutUpdating,Yi=we!==N.layoutComputing;N.layoutComputing=we,N.layoutUpdating=Oe,pi&&N.callIfRegistered(Qy),Yi&&N.callIfRegistered("onLayoutComputing",we),N.justSwitchedRenderer=!1,N.hasResized=!1,ue!==void 0&&ue()}})(function(){N.animationRequestId=window.requestAnimationFrame(te)})}catch(ue){if(!N.callbacks.isCallbackRegistered(rv))throw ue;N.callIfRegistered(rv,ue)}})}},{key:"updateHtmlOverlay",value:function(){this.state.nodes.updateHtmlOverlay(this.htmlOverlay),this.state.rels.updateHtmlOverlay(this.htmlOverlay)}},{key:"dumpNodes",value:function(){var N,G=this.state.nodes.items,X=this.state.nodes.idToPosition,W=[],ee=function(Ee,Oe){var we=typeof Symbol<"u"&&Ee[Symbol.iterator]||Ee["@@iterator"];if(!we){if(Array.isArray(Ee)||(we=function(tt,Je){if(tt){if(typeof tt=="string")return vh(tt,Je);var lt=Object.prototype.toString.call(tt).slice(8,-1);return lt==="Object"&&tt.constructor&&(lt=tt.constructor.name),lt==="Map"||lt==="Set"?Array.from(tt):lt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(lt)?vh(tt,Je):void 0}}(Ee))||Oe){we&&(Ee=we);var Te=0,ze=function(){};return{s:ze,n:function(){return Te>=Ee.length?{done:!0}:{done:!1,value:Ee[Te++]}},e:function(tt){throw tt},f:ze}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var He,Ye=!0,Ve=!1;return{s:function(){we=we.call(Ee)},n:function(){var tt=we.next();return Ye=tt.done,tt},e:function(tt){Ve=!0,He=tt},f:function(){try{Ye||we.return==null||we.return()}finally{if(Ve)throw He}}}}(G);try{for(ee.s();!(N=ee.n()).done;){var te=N.value,ue=X[te.id],ye=this.mapCanvasSpaceToRelativePosition(ue.x,ue.y);W.push(qo(qo({},te),{},{x:ye.x,y:ye.y}))}}catch(Ee){ee.e(Ee)}finally{ee.f()}return W}},{key:"dumpRelationships",value:function(){return Lt(this.state.rels.items)}},{key:"mapCanvasSpaceToRelativePosition",value:function(N,G){var X=this.canvasRect,W=window.devicePixelRatio||1,ee=(N-this.state.panX)*this.state.zoom/W,te=(G-this.state.panY)*this.state.zoom/W;return{x:ee+.5*X.width,y:te+.5*X.height}}},{key:"mapRelativePositionToCanvasSpace",value:function(N,G){var X=this.glCanvas.getBoundingClientRect(),W=window.devicePixelRatio||1,ee=W*(N-.5*X.width),te=W*(G-.5*X.height);return{x:this.state.panX+ee/this.state.zoom,y:this.state.panY+te/this.state.zoom}}},{key:"getNodePositions",value:function(){return Object.values(Lt(this.state.nodes.idToPosition))}},{key:"setNodePositions",value:function(N){var G=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.state.nodes.updatePositions(N),this.currentLayout.updateNodes(N),G||this.currentLayout.terminateUpdate(),this.hasResized=!0,this.getNodesOnScreen().nodes.length===0&&this.state.setPan(0,0),this.state.clearFit()}},{key:"isLayoutMoving",value:function(){return this.layoutUpdating}},{key:"getNodesOnScreen",value:function(){var N=this.glCanvas.getBoundingClientRect(),G=this.mapRelativePositionToCanvasSpace(0,0),X=G.x,W=G.y,ee=this.mapRelativePositionToCanvasSpace(N.width,N.height);return function(te,ue,ye,Ee,Oe){var we=arguments.length>5&&arguments[5]!==void 0?arguments[5]:["node"],Te=Oe.nodes,ze=Oe.rels,He=Math.min(te,ye),Ye=Math.max(te,ye),Ve=Math.min(ue,Ee),tt=Math.max(ue,Ee),Je=[],lt=[];if(we.includes("node"))for(var at=0,et=Object.values(Te.idToPosition);at<et.length;at++){var gt=et[at],jt=gt.x,Kt=gt.y;jt!==void 0&&Kt!==void 0&&jt>He&&jt<Ye&&Kt>Ve&&Kt<tt&&Je.push(gt)}if(we.includes("relationship")){var Ft,sr=tr(ze.items);try{for(sr.s();!(Ft=sr.n()).done;){var $t=Ft.value,Be=$t.from,je=$t.to,Fe=Te.idToPosition[Be],St=Te.idToPosition[je];if(Fe.x!==void 0&&Fe.y!==void 0&&St.x!==void 0&&St.y!==void 0){var st=Fe.x>He&&Fe.x<Ye&&Fe.y>Ve&&Fe.y<tt,Dt=St.x>He&&St.x<Ye&&St.y>Ve&&St.y<tt;st&&Dt&&lt.push($t)}}}catch(rr){sr.e(rr)}finally{sr.f()}}return{nodes:Je,rels:lt}}(X,W,ee.x,ee.y,this.state,["node"])}},{key:"registerDoneCallback",value:function(N){this.layoutDoneCallback=N}},{key:"registerComputingCallback",value:function(N){this.layoutComputingCallback=N}},{key:"getPosition",value:function(N){return this.currentLayout.getNodePositions([{id:N}])[0]}},{key:"getScale",value:function(){return this.state.zoom}},{key:"getPan",value:function(){return{x:this.state.panX,y:this.state.panY}}},{key:"setZoomLevel",value:function(N){var G=this;this.pendingZoomOperation=function(){return G.state.setZoom(N,G.glCanvas)}}},{key:"setPanCoordinates",value:function(N,G){this.state.setPan(N,G)}},{key:"setZoomAndPan",value:function(N,G,X){var W=this;this.pendingZoomOperation=function(){return W.state.setZoomPan(N,G,X,W.glCanvas)}}},{key:"fit",value:function(N,G){var X=this;this.pendingZoomOperation=function(){return X.state.fitNodes(N,G)}}},{key:"resetZoom",value:function(){var N=this;this.pendingZoomOperation=function(){return N.state.setZoomReset()}}},{key:"setRenderer",value:function(N){this.state.setRenderer(N)}},{key:"on",value:function(N,G){this.callbacks.register(N,G)}},{key:"isDestroyed",value:function(){return this.destroyed}},{key:"destroy",value:function(){var N;this.destroyed||(this.animationRequestId&&window.cancelAnimationFrame(this.animationRequestId),this.layoutRunner!==void 0&&window.clearInterval(this.layoutRunner),this.glController.destroy(),this.glCanvas.removeEventListener("transitionend",this.setRenderSwitchAnimation),this.webGLContext!==void 0&&Gt(this.webGLContext),this.webGLMinimapContext!==void 0&&Gt(this.webGLMinimapContext),nt(this.glCanvas),nt(this.glMinimapCanvas),this.canvasRenderer.destroy(),nt(this.c2dCanvas),this.removeResizeListener(),this.removeMinimapResizeListener(),this.forceLayout.destroy(),this.hierarchicalLayout.destroy(),this.gridLayout.destroy(),this.freeLayout.destroy(),this.htmlOverlay.remove(),this.descriptionElement.remove(),this.zoomTransitionHandler.destroy(),this.stateDisposers.forEach(function(G){G()}),N=this.instanceId,delete nv[N],this.destroyed=!0)}},{key:"callIfRegistered",value:function(){for(var N=arguments.length,G=new Array(N),X=0;X<N;X++)G[X]=arguments[X];this.callbacks.callIfRegistered.apply(this.callbacks,arguments)}},{key:"getCanvasRelsAt",value:function(N){return this.canvasRenderer.getRelsAt(N)}},{key:"getCanvasNodesAt",value:function(N){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this.canvasRenderer.getNodesAt(N,G)}},{key:"getLayout",value:function(N){return N===Bc?this.hierarchicalLayout:N===Bh?this.forceLayout:N===Ku?this.gridLayout:N===cn?this.freeLayout:N===En?this.d3ForceLayout:this.forceLayout}},{key:"setLayout",value:function(N){ln.info("Switching to layout: ".concat(N));var G=this.currentLayoutType,X=this.getLayout(N);N==="free"&&X.setNodePositions(this.state.nodes.idToPosition),this.currentLayout=X,this.currentLayoutType=N,G&&G!==this.currentLayoutType&&(this.justSwitchedLayout=!0)}},{key:"setLayoutOptions",value:function(N){this.getLayout(this.state.layout).setOptions(N)}},{key:"createDownloadLink",value:function(N,G){var X=document.createElement("a");X.style.display="none",X.setAttribute("download",N);var W=G.toDataURL("image/png").replace(/^data:image\/png/,"data:application/octet-stream");return X.setAttribute("href",W),X}},{key:"saveToFile",value:function(N){var G=qo(qo({},ig),N),X=G.filename,W=G.backgroundColor,ee=this.state.nodes.items;this.currentLayout.update(this.justSwitchedLayout),this.justSwitchedLayout=!1;var te=this.currentLayout.getNodePositions(ee);this.state.nodes.updatePositions(te);var ue=Le(this.c2dCanvas.width,this.c2dCanvas.height),ye=Ot(ue);this.canvasRenderer.processUpdates(),this.canvasRenderer.render(te,{canvas:ue,context:ye,backgroundColor:W,ignoreAnimations:!0}),this.createDownloadLink(X,ue).click(),nt(ue),ue=null,ye=null}},{key:"prepareLargeFileForDownload",value:function(N){var G=this,X=qo(qo({},ig),N),W=this.state.nodes.items,ee=X.filename,te=X.backgroundColor,ue=this.currentLayout.getNodePositions(W),ye=zr(ue,100),Ee=ye.nodesWidth,Oe=ye.nodesHeight,we=ye.centerX,Te=ye.centerY,ze=Math.max(Math.min(Ee+100,15e3),5e3),He=Math.max(Math.min(Oe+100,15e3),5e3);return this.isRenderingDisabled=!0,new Promise(function(Ye,Ve){try{G.setPanCoordinates(we,Te);var tt=Math.max(ze/Ee-.02,G.state.minZoom),Je=Math.max(He/Oe-.02,G.state.minZoom);G.setZoomLevel(Math.min(tt,Je))}catch(lt){return ln.error("An error occurred while downloading the file"),void Ve(lt)}setTimeout(function(){try{G.currentLayout.update(G.justSwitchedLayout),G.justSwitchedLayout=!1,G.state.nodes.updatePositions(ue);var lt=Le(ze,He),at=Ot(lt);G.canvasRenderer.processUpdates(),G.canvasRenderer.render(ue,{canvas:lt,context:at,backgroundColor:te,ignoreAnimations:!0,showCaptions:!0}),G.createDownloadLink(ee,lt).click(),nt(lt),lt=null,at=null,Ye(!0)}catch(et){Ve(et)}},500)})}},{key:"saveFullGraphToLargeFile",value:(O=kl().mark(function N(G){var X,W,ee,te;return kl().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return X=qo(qo({},ig),G),W=this.state.zoom,ee=this.state.panX,te=this.state.panY,ue.prev=4,ue.next=7,this.prepareLargeFileForDownload(X);case 7:ue.next=17;break;case 9:if(ue.prev=9,ue.t0=ue.catch(4),ln.error("An error occurred while downloading the image"),!this.callbacks.isCallbackRegistered(rv)){ue.next=16;break}this.callIfRegistered(rv,ue.t0),ue.next=17;break;case 16:throw ue.t0;case 17:return ue.prev=17,this.isRenderingDisabled=!1,this.setZoomLevel(W),this.setPanCoordinates(ee,te),ue.finish(17);case 22:case"end":return ue.stop()}},N,this,[[4,9,17,22]])}),B=function(){var N=this,G=arguments;return new Promise(function(X,W){var ee=O.apply(N,G);function te(ye){tv(ee,X,W,te,ue,"next",ye)}function ue(ye){tv(ee,X,W,te,ue,"throw",ye)}te(void 0)})},function(N){return B.apply(this,arguments)})}],C&&Xg(x.prototype,C),Object.defineProperty(x,"prototype",{writable:!1}),E}();function Vv(E){return Vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},Vv(E)}function Op(E,x){if(!(E instanceof x))throw new TypeError("Cannot call a class as a function")}function Jy(E,x){for(var C=0;C<x.length;C++){var O=x[C];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(E,Zg(O.key),O)}}function $v(E,x,C){return x&&Jy(E.prototype,x),Object.defineProperty(E,"prototype",{writable:!1}),E}function Zg(E){var x=function(C,O){if(Vv(C)!="object"||!C)return C;var B=C[Symbol.toPrimitive];if(B!==void 0){var N=B.call(C,"string");if(Vv(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(C)}(E);return Vv(x)=="symbol"?x:String(x)}var Qg=function(){function E(x,C){if(Op(this,E),!x)throw new Error("Tried to create a node with no data");this.data=x,this.parent=C,this.children=[]}return $v(E,[{key:"addChild",value:function(x){this.children.push(x)}},{key:"isRoot",value:function(){return this.parent===null}},{key:"print",value:function(){var x=this.data.name;this.isRoot()||(x="".concat(x,"		").concat(function(B){for(var N=(Math.round(1e3*B)/1e3).toFixed(3);N.length<6;)N=" ".concat(N);return N}(this.data._timeSpent())," ms"),this.parent.isRoot()||(x="".concat(x,"	").concat(this._percentageOfParentSpent(),"%")));var C=this.noOfChildren()>0;for(var O in C?(x="".concat(x,"	 Children: ").concat(this.noOfChildren()),console.groupCollapsed(x)):console.log(x),this.children)this.children[O].print();C&&console.groupEnd()}},{key:"noOfChildren",value:function(){return this.children.length}},{key:"_percentageOfParentSpent",value:function(){return Math.round(this.data._timeSpent()/this.parent.data._timeSpent()*100)}}]),E}(),em=function(){function E(x){Op(this,E),this.name=x,this.startTime=performance.now(),this.endTime=null}return $v(E,[{key:"close",value:function(){this.endTime=performance.now()}},{key:"_timeSpent",value:function(){if(this.startTime===null||this.endTime===null)throw new Error("You have an error in your performance measurements that makes the whole tree unreliable. You probably forgot to call performanceTestEnd on ".concat(this.name));return this.endTime-this.startTime}}]),E}(),tm=function(){function E(){Op(this,E),this.root=new Qg(new em("Performance Tree"),null),this.current=this.root}return $v(E,[{key:"clear",value:function(){this.root.children=[],this.current=this.root}},{key:"add",value:function(x){if(this.current){var C=new Qg(x,this.current);this.current.addChild(C),this.current=C}else{if(this.root)throw new Error("Performance tree is screwed up");this.root=new Qg(x,null),this.current=this.root}}},{key:"close",value:function(){if(this.current.isRoot())throw new Error("Tried to close performance tree root. You probably have one too many Performance.endTest() in your code.");this.current.data.close(),this.current=this.current.parent}},{key:"getCurrentData",value:function(){return this.current.data}},{key:"print",value:function(){this.root.noOfChildren()>0&&this.root.print()}}]),E}(),Jg=function(){function E(){Op(this,E),window.performance?(this.disabled=!1,this.tree=new tm):(this.disabled=!0,this.tree=null)}return $v(E,[{key:"startTest",value:function(x){if(!this.disabled){var C,O=x||(C=(C=new Error().stack.split(`
`)[3].trim()).split(" ")[0]==="at"?C.split(" ")[1]:C.split("@")[0]),B=new em(O);this.tree.add(B)}}},{key:"endTest",value:function(){this.disabled||this.tree.close()}},{key:"reset",value:function(){this.disabled||this.tree.clear()}},{key:"print",value:function(){this.disabled||this.tree.print()}}]),E}();function Tp(E,x){var C=typeof Symbol<"u"&&E[Symbol.iterator]||E["@@iterator"];if(!C){if(Array.isArray(E)||(C=function(W,ee){if(W){if(typeof W=="string")return av(W,ee);var te=Object.prototype.toString.call(W).slice(8,-1);return te==="Object"&&W.constructor&&(te=W.constructor.name),te==="Map"||te==="Set"?Array.from(W):te==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(te)?av(W,ee):void 0}}(E))||x){C&&(E=C);var O=0,B=function(){};return{s:B,n:function(){return O>=E.length?{done:!0}:{done:!1,value:E[O++]}},e:function(W){throw W},f:B}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var N,G=!0,X=!1;return{s:function(){C=C.call(E)},n:function(){var W=C.next();return G=W.done,W},e:function(W){X=!0,N=W},f:function(){try{G||C.return==null||C.return()}finally{if(X)throw N}}}}function av(E,x){(x==null||x>E.length)&&(x=E.length);for(var C=0,O=new Array(x);C<x;C++)O[C]=E[C];return O}function ag(E){this.channels[E]={adds:{},updates:{},removes:{}}}function rm(E){delete this.channels[E]}function Cp(E){this.channels[E].adds={},this.channels[E].updates={},this.channels[E].removes={}}var ey=function(E){return"html"in E?E.html:"captionHtml"in E?E.captionHtml:void 0};function nm(E,x){var C,O=!1,B=Tp(E);try{for(B.s();!(C=B.n()).done;){var N=C.value,G=N.id;if(this.idToItem[G]===void 0){if(N=(0,r.cloneDeep)(N),this.items.push(N),this.idToItem[G]=N,this.idToPosition[G]={id:G,x:0,y:0},"x"in N&&"y"in N){var X=N,W=X.x,ee=X.y;isNaN(W)||isNaN(ee)||(this.idToPosition[G].x=W,this.idToPosition[G].y=ee)}var te=ey(N);if(te instanceof HTMLElement){var ue=document.createElement("div");Object.assign(ue.style,{position:"absolute"}),ue.appendChild(te),this.idToHtmlOverlay[G]=ue}for(var ye=Object.values(this.channels),Ee=0,Oe=ye;Ee<Oe.length;Ee++){var we=Oe[Ee];we.removes[G]===void 0?we.adds[G]=N:(delete we.removes[G],we.updates[G]=N)}O=!0}}}catch(Te){B.e(Te)}finally{B.f()}O&&(this.version+=1,x!==void 0&&(x.added=!0))}function im(E,x){var C,O=!1,B=Tp(E);try{for(B.s();!(C=B.n()).done;){var N=C.value,G=N.id,X=this.idToItem[G];if(X!==void 0){Object.assign(X,N);var W=ey(N);if(W instanceof HTMLElement){var ee;(ee=this.idToHtmlOverlay[G])===null||ee===void 0||ee.remove(),delete this.idToHtmlOverlay[G];var te=document.createElement("div");Object.assign(te.style,{position:"absolute"}),te.appendChild(W),this.idToHtmlOverlay[G]=te}for(var ue=Object.values(this.channels),ye=0,Ee=ue;ye<Ee.length;ye++){var Oe=Ee[ye];if(Oe.adds[G]===void 0){var we=Oe.updates[G];we===void 0&&(we={id:G},Oe.updates[G]=we),Object.assign(we,N)}}x!==void 0&&(x.updated=!0)}O=!0}}catch(Te){B.e(Te)}finally{B.f()}O&&(this.version+=1)}function am(E,x){var C,O=!1,B=Tp(E);try{for(B.s();!(C=B.n()).done;){var N=C.value,G=this.idToItem[N];if(G!==void 0){var X;O=!0,delete this.idToItem[G.id],delete this.idToPosition[G.id],(X=this.idToHtmlOverlay[G.id])===null||X===void 0||X.remove(),delete this.idToHtmlOverlay[G.id],this.items.splice(this.items.indexOf(G),1);for(var W=Object.values(this.channels),ee=0,te=W;ee<te.length;ee++){var ue=te[ee];ue.adds[N]!==void 0?delete ue.adds[N]:(delete ue.updates[N],ue.removes[N]=G)}}}}catch(ye){B.e(ye)}finally{B.f()}O&&(x!==void 0&&(x.removed=!0),this.version+=1)}function og(E){var x,C=Tp(E);try{for(C.s();!(x=C.n()).done;){var O=x.value;if(this.idToPosition[O.id]!==void 0){var B=this.idToPosition[O.id];Object.assign(B,O)}else this.idToPosition[O.id]={id:O.id,x:O.x,y:O.y,pinned:O.pinned}}}catch(N){C.e(N)}finally{C.f()}}function om(E){for(var x in this.idToHtmlOverlay){var C=this.idToHtmlOverlay[x];E.appendChild(C)}}var ty=function(){return{idToItem:Wr.shallow({}),items:Wr.shallow([]),channels:Wr.shallow({}),idToPosition:Wr.shallow({}),idToHtmlOverlay:Wr.shallow({}),version:0,addChannel:ne(ag),removeChannel:ne(rm),clearChannel:ne(Cp),add:ne(nm),update:ne(im),remove:ne(am),updatePositions:ne(og),updateHtmlOverlay:ne(om)}},$i={selected:{rings:[{widthFactor:.05,color:Fu},{widthFactor:.1,color:Pc}],shadow:{width:10,opacity:1,color:Rd}},default:{rings:[]}},sg={selected:{rings:[{color:Fu,width:2},{color:Pc,width:4}],shadow:{width:18,opacity:1,color:Rd}},default:{rings:[]}},ry=.75,ug={noPan:!1,outOnly:!1,animated:!0};function od(E){return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},od(E)}function ny(E,x){(x==null||x>E.length)&&(x=E.length);for(var C=0,O=new Array(x);C<x;C++)O[C]=E[C];return O}function iy(E,x){var C=Object.keys(E);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(E);x&&(O=O.filter(function(B){return Object.getOwnPropertyDescriptor(E,B).enumerable})),C.push.apply(C,O)}return C}function ov(E){for(var x=1;x<arguments.length;x++){var C=arguments[x]!=null?arguments[x]:{};x%2?iy(Object(C),!0).forEach(function(O){var B,N,G;B=E,N=O,G=C[O],N=function(X){var W=function(ee,te){if(od(ee)!="object"||!ee)return ee;var ue=ee[Symbol.toPrimitive];if(ue!==void 0){var ye=ue.call(ee,"string");if(od(ye)!="object")return ye;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ee)}(X);return od(W)=="symbol"?W:String(W)}(N),N in B?Object.defineProperty(B,N,{value:G,enumerable:!0,configurable:!0,writable:!0}):B[N]=G}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(C)):iy(Object(C)).forEach(function(O){Object.defineProperty(E,O,Object.getOwnPropertyDescriptor(C,O))})}return E}var Eu=function(E,x,C){(0,r.isNil)(E)||(function(O){return typeof O=="string"&&kf(O)!==null}(E)?x(E):bl().warn("Invalid color string for ".concat(C,":"),E))};function sd(E){return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},sd(E)}function Wv(E,x){var C=Object.keys(E);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(E);x&&(O=O.filter(function(B){return Object.getOwnPropertyDescriptor(E,B).enumerable})),C.push.apply(C,O)}return C}function Ap(E){for(var x=1;x<arguments.length;x++){var C=arguments[x]!=null?arguments[x]:{};x%2?Wv(Object(C),!0).forEach(function(O){var B,N,G;B=E,N=O,G=C[O],N=function(X){var W=function(ee,te){if(sd(ee)!="object"||!ee)return ee;var ue=ee[Symbol.toPrimitive];if(ue!==void 0){var ye=ue.call(ee,"string");if(sd(ye)!="object")return ye;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ee)}(X);return sd(W)=="symbol"?W:String(W)}(N),N in B?Object.defineProperty(B,N,{value:G,enumerable:!0,configurable:!0,writable:!0}):B[N]=G}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(C)):Wv(Object(C)).forEach(function(O){Object.defineProperty(E,O,Object.getOwnPropertyDescriptor(C,O))})}return E}var ud=function(E){var x=E.minZoom,C=E.maxZoom,O=E.allowDynamicMinZoom,B=O===void 0||O,N=E.layout,G=E.layoutOptions,X=E.styling,W=X===void 0?{}:X,ee=E.panX,te=ee===void 0?0:ee,ue=E.panY,ye=ue===void 0?0:ue,Ee=E.initialZoom,Oe=E.renderer,we=Oe===void 0?E.useWebGL===!0?bn:Fc:Oe,Te=E.disableWebGL,ze=Te!==void 0&&Te,He=E.disableWebWorkers,Ye=He!==void 0&&He,Ve=E.disableTelemetry,tt=Ve!==void 0&&Ve;_e(!0),Nt.isolateGlobalState();var Je=(0,r.isNil)(x)?.075:x,lt=(0,r.isNil)(C)?10:C,at=function(Be,je){var Fe=je.legacyNodeDefaultBorderColor,St=je.legacySelectedBorderColor,st=je.legacyDisabledItemColor,Dt=je.legacyDisabledItemFontColor,rr=Be.nodeDefaultBorderColor,dr=rr===void 0?Fe:rr,lr=Be.selectedBorderColor,Kr=lr===void 0?St:lr,Qr=Be.disabledItemColor,Sn=Qr===void 0?st:Qr,vi=Be.disabledItemFontColor,Mi=vi===void 0?Dt:vi,ei=Be.selectedInnerBorderColor,Dn=Be.dropShadowColor,vn=Be.defaultNodeColor,Wn=Be.defaultRelationshipColor,pi=Be.minimapViewportBoxColor,Yi=ov({},$i.default),Mn=ov({},$i.selected),si=ov({},sg.selected),Xi={color:gf,fontColor:"#DDDDDD"},oa=Qf,sa=pf;return Eu(ei,function(pn){Mn.rings[0].color=pn,si.rings[0].color=pn},"selectedInnerBorderColor"),Eu(Kr,function(pn){Mn.rings[1].color=pn,si.rings[1].color=pn},"selectedBorderColor"),Eu(dr,function(pn){var gi;Yi.rings=[{color:pn,widthFactor:.05}],Mn.rings=[{color:pn,widthFactor:.05}].concat(function(In){if(Array.isArray(In))return ny(In)}(gi=Mn.rings)||function(In){if(typeof Symbol<"u"&&In[Symbol.iterator]!=null||In["@@iterator"]!=null)return Array.from(In)}(gi)||function(In,fo){if(In){if(typeof In=="string")return ny(In,fo);var Ro=Object.prototype.toString.call(In).slice(8,-1);return Ro==="Object"&&In.constructor&&(Ro=In.constructor.name),Ro==="Map"||Ro==="Set"?Array.from(In):Ro==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ro)?ny(In,fo):void 0}}(gi)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())},"nodeDefaultBorderColor"),Eu(Dn,function(pn){Mn.shadow.color=pn,si.shadow.color=pn},"dropShadowColor"),Eu(Sn,function(pn){Xi.color=pn},"disabledItemColor"),Eu(Mi,function(pn){Xi.fontColor=pn},"disabledItemFontColor"),Eu(vn,function(pn){sa=pn},"defaultNodeColor"),Eu(Wn,function(pn){oa=pn},"defaultRelationshipColor"),{nodeBorderStyles:{default:Yi,selected:Mn},relationshipBorderStyles:{default:sg.default,selected:si},disabledItemStyles:Xi,defaultNodeColor:sa,defaultRelationshipColor:oa,minimapViewportBoxColor:pi||ut}}(W,{legacyNodeDefaultBorderColor:E.nodeDefaultBorderColor,legacySelectedBorderColor:E.selectedBorderColor,legacyDisabledItemColor:E.disabledItemColor,legacyDisabledItemFontColor:E.disabledItemFontColor}),et=at.nodeBorderStyles,gt=at.relationshipBorderStyles,jt=at.disabledItemStyles,Kt=at.defaultNodeColor,Ft=at.defaultRelationshipColor,sr=at.minimapViewportBoxColor,$t=Wr({zoom:Ee||ry,minimapZoom:ry,defaultZoomLevel:ry,panX:te,panY:ye,minimapPanX:0,minimapPanY:0,fitNodeIds:[],resetZoom:!1,zoomOptions:ug,forceWebGL:!1,renderer:we,disableWebGL:ze,disableWebWorkers:Ye,disableTelemetry:tt,fitMovement:0,layout:N,layoutOptions:G,maxDistance:0,maxNodeRadius:50,nodeBorderStyles:et,relationshipBorderStyles:gt,disabledItemStyles:jt,defaultNodeColor:Kt,defaultRelationshipColor:Ft,minimapViewportBoxColor:sr,get minZoom(){return Je},get maxZoom(){return lt},get minMinimapZoom(){return 0},get maxMinimapZoom(){return .2},get webGLVisible(){var Be=this.fitMovement>50;return this.renderer===bn||Be},nodes:ty(),rels:ty(),graphUpdates:0,waypoints:{data:Wr.shallow({}),counter:0},setGraphUpdated:ne(function(){this.graphUpdates+=1}),setRenderer:ne(function(Be){ne(function(){this.graphUpdates+=1}),this.renderer=Be}),setWaypoints:ne(function(Be){this.waypoints.data=Be,this.waypoints.counter+=1}),setZoomPan:ne(function(Be,je,Fe,St){if(B){var st=Object.values(this.nodes.idToPosition),Dt=Di(st,Je,lt,St,Be,this.zoom);Dt!==this.zoom&&(this.zoom=Dt,Be===Dt&&(this.panX=je,this.panY=Fe))}else{var rr=Sr(Be,this.zoom,Je,lt);rr!==this.zoom&&(this.zoom=rr,this.panX=je,this.panY=Fe)}this.fitNodeIds=[],this.resetZoom=!1,this.forceWebGL=!1}),setZoom:ne(function(Be,je){if(B){var Fe=Object.values(this.nodes.idToPosition);this.zoom=Di(Fe,Je,lt,je,Be,this.zoom)}else this.zoom=Sr(Be,this.zoom,Je,lt);this.fitNodeIds=[],this.fitMovement=0,this.resetZoom=!1,this.forceWebGL=!1}),setPan:ne(function(Be,je){this.panX=Be,this.panY=je,this.fitNodeIds=[],this.resetZoom=!1,this.forceWebGL=!1}),setLayout:ne(function(Be){this.layout=Be}),setLayoutOptions:ne(function(Be){this.layoutOptions=Be}),fitNodes:ne(function(Be){var je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.fitNodeIds=(0,r.intersection)(Be,(0,r.map)(this.nodes.items,"id")),this.zoomOptions=Ap(Ap({},ug),je)}),setZoomReset:ne(function(){this.resetZoom=!0}),clearFit:ne(function(){this.fitNodeIds=[],this.forceWebGL=!1,this.fitMovement=0,this.zoomOptions=ug}),clearReset:ne(function(){this.resetZoom=!1,this.fitMovement=0}),updateZoomToFit:ne(function(Be,je,Fe,St){var st;if(this.fitMovement=Math.abs(Be-this.zoom)+Math.abs(je-this.panX)+Math.abs(Fe-this.panY),B){var Dt=Object.values(this.nodes.idToPosition);st=Di(Dt,Je,lt,St,Be,this.zoom)}else st=Sr(Be,this.zoom,Je,lt);this.zoom=st,this.panX=je,this.panY=Fe}),updateMinimapZoomToFit:ne(function(Be,je,Fe){this.minimapZoom=Be,this.minimapPanX=je,this.minimapPanY=Fe}),autorun:ct,reaction:xt});return $t},Mf=function(E){return!!E&&typeof E.id=="string"&&E.id.length>0},ld=Po(1187);function Rp(E){return Rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},Rp(E)}function Yv(E,x){var C=Object.keys(E);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(E);x&&(O=O.filter(function(B){return Object.getOwnPropertyDescriptor(E,B).enumerable})),C.push.apply(C,O)}return C}function Xv(E){for(var x=1;x<arguments.length;x++){var C=arguments[x]!=null?arguments[x]:{};x%2?Yv(Object(C),!0).forEach(function(O){var B,N,G;B=E,N=O,G=C[O],N=function(X){var W=function(ee,te){if(Rp(ee)!="object"||!ee)return ee;var ue=ee[Symbol.toPrimitive];if(ue!==void 0){var ye=ue.call(ee,"string");if(Rp(ye)!="object")return ye;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ee)}(X);return Rp(W)=="symbol"?W:String(W)}(N),N in B?Object.defineProperty(B,N,{value:G,enumerable:!0,configurable:!0,writable:!0}):B[N]=G}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(C)):Yv(Object(C)).forEach(function(O){Object.defineProperty(E,O,Object.getOwnPropertyDescriptor(C,O))})}return E}function ay(E){return function(x){if(Array.isArray(x))return lg(x)}(E)||function(x){if(typeof Symbol<"u"&&x[Symbol.iterator]!=null||x["@@iterator"]!=null)return Array.from(x)}(E)||function(x,C){if(x){if(typeof x=="string")return lg(x,C);var O=Object.prototype.toString.call(x).slice(8,-1);return O==="Object"&&x.constructor&&(O=x.constructor.name),O==="Map"||O==="Set"?Array.from(x):O==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O)?lg(x,C):void 0}}(E)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function lg(E,x){(x==null||x>E.length)&&(x=E.length);for(var C=0,O=new Array(x);C<x;C++)O[C]=E[C];return O}var Pp=function(E){return{id:E.elementId}},Dp=function(E){return{id:E.elementId,from:E.startNodeElementId,to:E.endNodeElementId}},sm=ld.resultTransformers.mappedResultTransformer({map:function(E){return Object.values(E.toObject())},collect:function(E){var x={nodes:[],relationships:[]},C=new Map;return function(O){for(var B=ay(O),N=[];B.length;){var G=B.pop();Array.isArray(G)?B.push.apply(B,ay(G)):N.push(G)}return N}(E).forEach(function(O){(0,ld.isNode)(O)?(x.nodes.push(Pp(O)),C.set(O.elementId,O)):(0,ld.isPath)(O)?O.segments.forEach(function(B){x.nodes.push(Pp(B.start)),x.nodes.push(Pp(B.end)),x.relationships.push(Dp(B.relationship)),C.set(B.start.elementId,B.start),C.set(B.end.elementId,B.end),C.set(B.relationship.elementId,B.relationship)}):(0,ld.isRelationship)(O)&&(x.relationships.push(Dp(O)),C.set(O.elementId,O))}),Xv(Xv({},x),{},{recordObjectMap:C})}});const um=(E=>{var x={};return Po.d(x,E),x})({AnalyticsBrowser:()=>hW});var oy,sy=new Uint8Array(16);function uy(){if(!oy&&!(oy=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return oy(sy)}const g0=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var Ds=[],sv=0;sv<256;++sv)Ds.push((sv+256).toString(16).substr(1));const y0=function(E){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,C=(Ds[E[x+0]]+Ds[E[x+1]]+Ds[E[x+2]]+Ds[E[x+3]]+"-"+Ds[E[x+4]]+Ds[E[x+5]]+"-"+Ds[E[x+6]]+Ds[E[x+7]]+"-"+Ds[E[x+8]]+Ds[E[x+9]]+"-"+Ds[E[x+10]]+Ds[E[x+11]]+Ds[E[x+12]]+Ds[E[x+13]]+Ds[E[x+14]]+Ds[E[x+15]]).toLowerCase();if(!function(O){return typeof O=="string"&&g0.test(O)}(C))throw TypeError("Stringified UUID is invalid");return C};var ly,An,Ip=0,Js=0;const cy=function(E,x,C){var O=0,B=new Array(16),N=(E=E||{}).node||ly,G=E.clockseq!==void 0?E.clockseq:An;if(N==null||G==null){var X=E.random||(E.rng||uy)();N==null&&(N=ly=[1|X[0],X[1],X[2],X[3],X[4],X[5]]),G==null&&(G=An=16383&(X[6]<<8|X[7]))}var W=E.msecs!==void 0?E.msecs:Date.now(),ee=E.nsecs!==void 0?E.nsecs:Js+1,te=W-Ip+(ee-Js)/1e4;if(te<0&&E.clockseq===void 0&&(G=G+1&16383),(te<0||W>Ip)&&E.nsecs===void 0&&(ee=0),ee>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Ip=W,Js=ee,An=G;var ue=(1e4*(268435455&(W+=122192928e5))+ee)%4294967296;B[O++]=ue>>>24&255,B[O++]=ue>>>16&255,B[O++]=ue>>>8&255,B[O++]=255&ue;var ye=W/4294967296*1e4&268435455;B[O++]=ye>>>8&255,B[O++]=255&ye,B[O++]=ye>>>24&15|16,B[O++]=ye>>>16&255,B[O++]=G>>>8|128,B[O++]=255&G;for(var Ee=0;Ee<6;++Ee)B[O+Ee]=N[Ee];return x||y0(B)};function cd(E){return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},cd(E)}function Xc(){Xc=function(){return x};var E,x={},C=Object.prototype,O=C.hasOwnProperty,B=Object.defineProperty||function(Be,je,Fe){Be[je]=Fe.value},N=typeof Symbol=="function"?Symbol:{},G=N.iterator||"@@iterator",X=N.asyncIterator||"@@asyncIterator",W=N.toStringTag||"@@toStringTag";function ee(Be,je,Fe){return Object.defineProperty(Be,je,{value:Fe,enumerable:!0,configurable:!0,writable:!0}),Be[je]}try{ee({},"")}catch{ee=function(je,Fe,St){return je[Fe]=St}}function te(Be,je,Fe,St){var st=je&&je.prototype instanceof ze?je:ze,Dt=Object.create(st.prototype),rr=new sr(St||[]);return B(Dt,"_invoke",{value:gt(Be,Fe,rr)}),Dt}function ue(Be,je,Fe){try{return{type:"normal",arg:Be.call(je,Fe)}}catch(St){return{type:"throw",arg:St}}}x.wrap=te;var ye="suspendedStart",Ee="suspendedYield",Oe="executing",we="completed",Te={};function ze(){}function He(){}function Ye(){}var Ve={};ee(Ve,G,function(){return this});var tt=Object.getPrototypeOf,Je=tt&&tt(tt($t([])));Je&&Je!==C&&O.call(Je,G)&&(Ve=Je);var lt=Ye.prototype=ze.prototype=Object.create(Ve);function at(Be){["next","throw","return"].forEach(function(je){ee(Be,je,function(Fe){return this._invoke(je,Fe)})})}function et(Be,je){function Fe(st,Dt,rr,dr){var lr=ue(Be[st],Be,Dt);if(lr.type!=="throw"){var Kr=lr.arg,Qr=Kr.value;return Qr&&cd(Qr)=="object"&&O.call(Qr,"__await")?je.resolve(Qr.__await).then(function(Sn){Fe("next",Sn,rr,dr)},function(Sn){Fe("throw",Sn,rr,dr)}):je.resolve(Qr).then(function(Sn){Kr.value=Sn,rr(Kr)},function(Sn){return Fe("throw",Sn,rr,dr)})}dr(lr.arg)}var St;B(this,"_invoke",{value:function(st,Dt){function rr(){return new je(function(dr,lr){Fe(st,Dt,dr,lr)})}return St=St?St.then(rr,rr):rr()}})}function gt(Be,je,Fe){var St=ye;return function(st,Dt){if(St===Oe)throw new Error("Generator is already running");if(St===we){if(st==="throw")throw Dt;return{value:E,done:!0}}for(Fe.method=st,Fe.arg=Dt;;){var rr=Fe.delegate;if(rr){var dr=jt(rr,Fe);if(dr){if(dr===Te)continue;return dr}}if(Fe.method==="next")Fe.sent=Fe._sent=Fe.arg;else if(Fe.method==="throw"){if(St===ye)throw St=we,Fe.arg;Fe.dispatchException(Fe.arg)}else Fe.method==="return"&&Fe.abrupt("return",Fe.arg);St=Oe;var lr=ue(Be,je,Fe);if(lr.type==="normal"){if(St=Fe.done?we:Ee,lr.arg===Te)continue;return{value:lr.arg,done:Fe.done}}lr.type==="throw"&&(St=we,Fe.method="throw",Fe.arg=lr.arg)}}}function jt(Be,je){var Fe=je.method,St=Be.iterator[Fe];if(St===E)return je.delegate=null,Fe==="throw"&&Be.iterator.return&&(je.method="return",je.arg=E,jt(Be,je),je.method==="throw")||Fe!=="return"&&(je.method="throw",je.arg=new TypeError("The iterator does not provide a '"+Fe+"' method")),Te;var st=ue(St,Be.iterator,je.arg);if(st.type==="throw")return je.method="throw",je.arg=st.arg,je.delegate=null,Te;var Dt=st.arg;return Dt?Dt.done?(je[Be.resultName]=Dt.value,je.next=Be.nextLoc,je.method!=="return"&&(je.method="next",je.arg=E),je.delegate=null,Te):Dt:(je.method="throw",je.arg=new TypeError("iterator result is not an object"),je.delegate=null,Te)}function Kt(Be){var je={tryLoc:Be[0]};1 in Be&&(je.catchLoc=Be[1]),2 in Be&&(je.finallyLoc=Be[2],je.afterLoc=Be[3]),this.tryEntries.push(je)}function Ft(Be){var je=Be.completion||{};je.type="normal",delete je.arg,Be.completion=je}function sr(Be){this.tryEntries=[{tryLoc:"root"}],Be.forEach(Kt,this),this.reset(!0)}function $t(Be){if(Be||Be===""){var je=Be[G];if(je)return je.call(Be);if(typeof Be.next=="function")return Be;if(!isNaN(Be.length)){var Fe=-1,St=function st(){for(;++Fe<Be.length;)if(O.call(Be,Fe))return st.value=Be[Fe],st.done=!1,st;return st.value=E,st.done=!0,st};return St.next=St}}throw new TypeError(cd(Be)+" is not iterable")}return He.prototype=Ye,B(lt,"constructor",{value:Ye,configurable:!0}),B(Ye,"constructor",{value:He,configurable:!0}),He.displayName=ee(Ye,W,"GeneratorFunction"),x.isGeneratorFunction=function(Be){var je=typeof Be=="function"&&Be.constructor;return!!je&&(je===He||(je.displayName||je.name)==="GeneratorFunction")},x.mark=function(Be){return Object.setPrototypeOf?Object.setPrototypeOf(Be,Ye):(Be.__proto__=Ye,ee(Be,W,"GeneratorFunction")),Be.prototype=Object.create(lt),Be},x.awrap=function(Be){return{__await:Be}},at(et.prototype),ee(et.prototype,X,function(){return this}),x.AsyncIterator=et,x.async=function(Be,je,Fe,St,st){st===void 0&&(st=Promise);var Dt=new et(te(Be,je,Fe,St),st);return x.isGeneratorFunction(je)?Dt:Dt.next().then(function(rr){return rr.done?rr.value:Dt.next()})},at(lt),ee(lt,W,"Generator"),ee(lt,G,function(){return this}),ee(lt,"toString",function(){return"[object Generator]"}),x.keys=function(Be){var je=Object(Be),Fe=[];for(var St in je)Fe.push(St);return Fe.reverse(),function st(){for(;Fe.length;){var Dt=Fe.pop();if(Dt in je)return st.value=Dt,st.done=!1,st}return st.done=!0,st}},x.values=$t,sr.prototype={constructor:sr,reset:function(Be){if(this.prev=0,this.next=0,this.sent=this._sent=E,this.done=!1,this.delegate=null,this.method="next",this.arg=E,this.tryEntries.forEach(Ft),!Be)for(var je in this)je.charAt(0)==="t"&&O.call(this,je)&&!isNaN(+je.slice(1))&&(this[je]=E)},stop:function(){this.done=!0;var Be=this.tryEntries[0].completion;if(Be.type==="throw")throw Be.arg;return this.rval},dispatchException:function(Be){if(this.done)throw Be;var je=this;function Fe(lr,Kr){return Dt.type="throw",Dt.arg=Be,je.next=lr,Kr&&(je.method="next",je.arg=E),!!Kr}for(var St=this.tryEntries.length-1;St>=0;--St){var st=this.tryEntries[St],Dt=st.completion;if(st.tryLoc==="root")return Fe("end");if(st.tryLoc<=this.prev){var rr=O.call(st,"catchLoc"),dr=O.call(st,"finallyLoc");if(rr&&dr){if(this.prev<st.catchLoc)return Fe(st.catchLoc,!0);if(this.prev<st.finallyLoc)return Fe(st.finallyLoc)}else if(rr){if(this.prev<st.catchLoc)return Fe(st.catchLoc,!0)}else{if(!dr)throw new Error("try statement without catch or finally");if(this.prev<st.finallyLoc)return Fe(st.finallyLoc)}}}},abrupt:function(Be,je){for(var Fe=this.tryEntries.length-1;Fe>=0;--Fe){var St=this.tryEntries[Fe];if(St.tryLoc<=this.prev&&O.call(St,"finallyLoc")&&this.prev<St.finallyLoc){var st=St;break}}st&&(Be==="break"||Be==="continue")&&st.tryLoc<=je&&je<=st.finallyLoc&&(st=null);var Dt=st?st.completion:{};return Dt.type=Be,Dt.arg=je,st?(this.method="next",this.next=st.finallyLoc,Te):this.complete(Dt)},complete:function(Be,je){if(Be.type==="throw")throw Be.arg;return Be.type==="break"||Be.type==="continue"?this.next=Be.arg:Be.type==="return"?(this.rval=this.arg=Be.arg,this.method="return",this.next="end"):Be.type==="normal"&&je&&(this.next=je),Te},finish:function(Be){for(var je=this.tryEntries.length-1;je>=0;--je){var Fe=this.tryEntries[je];if(Fe.finallyLoc===Be)return this.complete(Fe.completion,Fe.afterLoc),Ft(Fe),Te}},catch:function(Be){for(var je=this.tryEntries.length-1;je>=0;--je){var Fe=this.tryEntries[je];if(Fe.tryLoc===Be){var St=Fe.completion;if(St.type==="throw"){var st=St.arg;Ft(Fe)}return st}}throw new Error("illegal catch attempt")},delegateYield:function(Be,je,Fe){return this.delegate={iterator:$t(Be),resultName:je,nextLoc:Fe},this.method==="next"&&(this.arg=E),Te}},x}function Zr(E,x,C,O,B,N,G){try{var X=E[N](G),W=X.value}catch(ee){return void C(ee)}X.done?x(W):Promise.resolve(W).then(O,B)}function cg(E,x){for(var C=0;C<x.length;C++){var O=x[C];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(E,Co(O.key),O)}}function Co(E){var x=function(C,O){if(cd(C)!="object"||!C)return C;var B=C[Symbol.toPrimitive];if(B!==void 0){var N=B.call(C,"string");if(cd(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(C)}(E);return cd(x)=="symbol"?x:String(x)}var qa=window.localStorage,lm="neo4j.nvl.sTid",gh=!1,cm=function(){function E(){var N,G,X;(function(ee,te){if(!(ee instanceof te))throw new TypeError("Cannot call a class as a function")})(this,E),N=this,X=void 0,(G=Co(G="analytics"))in N?Object.defineProperty(N,G,{value:X,enumerable:!0,configurable:!0,writable:!0}):N[G]=X;var W=new um.AnalyticsBrowser;this.analytics=W}var x,C,O,B;return O=E,B=[{key:"init",value:function(N){this.analytics.load({writeKey:N}),this.analytics.addSourceMiddleware(function(G){var X=G.payload,W=G.next,ee=X.obj.context.page;ee!==void 0&&(ee.url="",ee.title="",ee.search="",ee.referrer="",ee.path=""),W(X)})}},{key:"trackEvent",value:(x=Xc().mark(function N(G){var X;return Xc().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,this.ready();case 2:X="".concat(G.eventPrefix?G.eventPrefix:"NVL_core","-").concat(G.event),this.analytics.track(X,G.properties).catch(function(ee){ln.warn("TRACKING: Event tracking is failed. err: ".concat(ee))});case 4:case"end":return W.stop()}},N,this)}),C=function(){var N=this,G=arguments;return new Promise(function(X,W){var ee=x.apply(N,G);function te(ye){Zr(ee,X,W,te,ue,"next",ye)}function ue(ye){Zr(ee,X,W,te,ue,"throw",ye)}te(void 0)})},function(N){return C.apply(this,arguments)})},{key:"identify",value:function(){if(!gh){var N=this.getSegmentTrackingId();this.analytics.identify(N).catch(function(G){ln.debug("TRACKING: Identifying user for Segment tracking failed. err: ".concat(G))}),gh=!0}}},{key:"loadSavedSegmentId",value:function(){try{var N=qa.getItem(lm);return typeof N=="string"?N:null}catch(G){return ln.debug("TRACKING: Retrieving tracking Id failed. err: ".concat(G)),null}}},{key:"getSegmentTrackingId",value:function(){var N=this.loadSavedSegmentId(),G=N??cy();return this.saveTrackingId(G),G}},{key:"saveTrackingId",value:function(N){qa.setItem(lm,N)}},{key:"ready",value:function(){return this.analytics.ready().catch(function(N){ln.debug("TRACKING: segment track instance not ready. err: ".concat(N))})}}],B&&cg(O.prototype,B),Object.defineProperty(O,"prototype",{writable:!1}),E}();function Kv(E){return Kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},Kv(E)}function fg(E,x){return function(C){if(Array.isArray(C))return C}(E)||function(C,O){var B=C==null?null:typeof Symbol<"u"&&C[Symbol.iterator]||C["@@iterator"];if(B!=null){var N,G,X,W,ee=[],te=!0,ue=!1;try{if(X=(B=B.call(C)).next,O!==0)for(;!(te=(N=X.call(B)).done)&&(ee.push(N.value),ee.length!==O);te=!0);}catch(ye){ue=!0,G=ye}finally{try{if(!te&&B.return!=null&&(W=B.return(),Object(W)!==W))return}finally{if(ue)throw G}}return ee}}(E,x)||hg(E,x)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ei(E,x){var C=typeof Symbol<"u"&&E[Symbol.iterator]||E["@@iterator"];if(!C){if(Array.isArray(E)||(C=hg(E))||x){C&&(E=C);var O=0,B=function(){};return{s:B,n:function(){return O>=E.length?{done:!0}:{done:!1,value:E[O++]}},e:function(W){throw W},f:B}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var N,G=!0,X=!1;return{s:function(){C=C.call(E)},n:function(){var W=C.next();return G=W.done,W},e:function(W){X=!0,N=W},f:function(){try{G||C.return==null||C.return()}finally{if(X)throw N}}}}function hg(E,x){if(E){if(typeof E=="string")return Ao(E,x);var C=Object.prototype.toString.call(E).slice(8,-1);return C==="Object"&&E.constructor&&(C=E.constructor.name),C==="Map"||C==="Set"?Array.from(E):C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C)?Ao(E,x):void 0}}function Ao(E,x){(x==null||x>E.length)&&(x=E.length);for(var C=0,O=new Array(x);C<x;C++)O[C]=E[C];return O}function fm(E,x){var C=Object.keys(E);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(E);x&&(O=O.filter(function(B){return Object.getOwnPropertyDescriptor(E,B).enumerable})),C.push.apply(C,O)}return C}function Wi(E){for(var x=1;x<arguments.length;x++){var C=arguments[x]!=null?arguments[x]:{};x%2?fm(Object(C),!0).forEach(function(O){var B,N,G;B=E,N=O,G=C[O],(N=fd(N))in B?Object.defineProperty(B,N,{value:G,enumerable:!0,configurable:!0,writable:!0}):B[N]=G}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(C)):fm(Object(C)).forEach(function(O){Object.defineProperty(E,O,Object.getOwnPropertyDescriptor(C,O))})}return E}function dg(E,x){for(var C=0;C<x.length;C++){var O=x[C];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(E,fd(O.key),O)}}function fd(E){var x=function(C,O){if(Kv(C)!="object"||!C)return C;var B=C[Symbol.toPrimitive];if(B!==void 0){var N=B.call(C,"string");if(Kv(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(C)}(E);return Kv(x)=="symbol"?x:String(x)}function ki(E,x,C){Ia(E,x),x.set(E,C)}function Ia(E,x){if(x.has(E))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ur(E,x){return E.get(il(E,x))}function hd(E,x,C){return E.set(il(E,x),C),C}function il(E,x,C){if(typeof E=="function"?E===x:E.has(x))return arguments.length<3?x:C;throw new TypeError("Private element is not present on this object")}var Zv=new WeakMap,hm=new WeakMap,Gn=new WeakMap,xi=new WeakMap,eu=new WeakMap,tu=new WeakMap,ru=new WeakSet,vg=function(){function E(O){var B,N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],X=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},W=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};(function(ee,te){if(!(ee instanceof te))throw new TypeError("Cannot call a class as a function")})(this,E),Ia(this,B=ru),B.add(this),ki(this,Zv,void 0),ki(this,hm,void 0),ki(this,Gn,void 0),ki(this,xi,void 0),ki(this,eu,void 0),ki(this,tu,void 0),X.disableTelemetry!==!0&&(hd(tu,this,new cm),ur(tu,this).init("4SGwdwzuDm5WkFvQtz7D6ATQlo14yjmW"),ur(tu,this).identify()),il(ru,this,pg).call(this,X),hd(Zv,this,new a(W)),hd(hm,this,new Jg),hd(eu,this,X),ur(eu,this).frame=O,this.checkWebGLCompatibility(),il(ru,this,fy).call(this,N,G,X)}var x,C;return x=E,C=[{key:"restart",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},B=arguments.length>1&&arguments[1]!==void 0&&arguments[1],N=this.getNodePositions(),G=ur(Gn,this),X=G.zoom,W=G.layout,ee=G.layoutOptions,te=G.nodes,ue=G.rels;ur(xi,this).destroy(),Object.assign(ur(eu,this),O),il(ru,this,fy).call(this,te.items,ue.items,ur(eu,this)),this.setZoom(X),this.setLayout(W),this.setLayoutOptions(ee),this.addAndUpdateElementsInGraph(te.items,ue.items),B&&this.setNodePositions(N)}},{key:"addAndUpdateElementsInGraph",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];il(ru,this,Ml).call(this,O),il(ru,this,kp).call(this,B,O);var N={added:!1,updated:!1};ur(Gn,this).nodes.update(O,Wi({},N)),ur(Gn,this).rels.update(B,Wi({},N)),ur(Gn,this).nodes.add(O,Wi({},N)),ur(Gn,this).rels.add(B,Wi({},N)),ur(Gn,this).setGraphUpdated(),ur(xi,this).updateHtmlOverlay()}},{key:"getSelectedNodes",value:function(){var O=this;return ur(Gn,this).nodes.items.filter(function(B){return B.selected}).map(function(B){return Wi(Wi({},B),ur(Gn,O).nodes.idToPosition[B.id])})}},{key:"getSelectedRelationships",value:function(){return ur(Gn,this).rels.items.filter(function(O){return O.selected})}},{key:"updateElementsInGraph",value:function(O,B){var N={added:!1,updated:!1};il(ru,this,Ml).call(this,O),il(ru,this,kp).call(this,B,O),ur(Gn,this).nodes.update(O,Wi({},N)),ur(Gn,this).rels.update(B,Wi({},N)),ur(xi,this).updateHtmlOverlay()}},{key:"addElementsToGraph",value:function(O,B){il(ru,this,Ml).call(this,O),il(ru,this,kp).call(this,B,O);var N={added:!1,updated:!1};ur(Gn,this).nodes.add(O,Wi({},N)),ur(Gn,this).rels.add(B,Wi({},N)),ur(xi,this).updateHtmlOverlay()}},{key:"removeNodesWithIds",value:function(O){if(Array.isArray(O)&&!(0,r.isEmpty)(O)){var B,N={},G=Ei(O);try{for(G.s();!(B=G.n()).done;)N[B.value]=!0}catch(ue){G.e(ue)}finally{G.f()}var X,W=[],ee=Ei(ur(Gn,this).rels.items);try{for(ee.s();!(X=ee.n()).done;){var te=X.value;N[te.from]!==!0&&N[te.to]!==!0||W.push(te.id)}}catch(ue){ee.e(ue)}finally{ee.f()}W.length>0&&il(ru,this,uv).call(this,W),il(ru,this,xu).call(this,O),ur(Gn,this).setGraphUpdated(),ur(xi,this).updateHtmlOverlay()}}},{key:"removeRelationshipsWithIds",value:function(O){Array.isArray(O)&&!(0,r.isEmpty)(O)&&(il(ru,this,uv).call(this,O),ur(Gn,this).setGraphUpdated(),ur(xi,this).updateHtmlOverlay())}},{key:"getNodes",value:function(){return ur(xi,this).dumpNodes()}},{key:"getRelationships",value:function(){return ur(xi,this).dumpRelationships()}},{key:"getNodeById",value:function(O){return ur(Gn,this).nodes.idToItem[O]}},{key:"getRelationshipById",value:function(O){return ur(Gn,this).rels.idToItem[O]}},{key:"getPositionById",value:function(O){return ur(Gn,this).nodes.idToPosition[O]}},{key:"getCurrentOptions",value:function(){return ur(eu,this)}},{key:"destroy",value:function(){ur(xi,this).destroy()}},{key:"deselectAll",value:function(){this.updateElementsInGraph(ur(Gn,this).nodes.items.map(function(O){return Wi(Wi({},O),{},{selected:!1})}),ur(Gn,this).rels.items.map(function(O){return Wi(Wi({},O),{},{selected:!1})}))}},{key:"fit",value:function(O,B){ur(xi,this).fit(O,B)}},{key:"resetZoom",value:function(){ur(xi,this).resetZoom()}},{key:"setUseWebGLRenderer",value:function(O){ur(xi,this).setRenderer(O?bn:Fc)}},{key:"setRenderer",value:function(O){ur(xi,this).setRenderer(O)}},{key:"setDisableWebGL",value:function(){var O=arguments.length>0&&arguments[0]!==void 0&&arguments[0];ur(eu,this).disableWebGL!==O&&(ur(eu,this).disableWebGL=O,this.restart())}},{key:"pinNode",value:function(O){ur(Gn,this).nodes.update([{id:O,pinned:!0}],{})}},{key:"unPinNode",value:function(O){ur(Gn,this).nodes.update(O.map(function(B){return{id:B,pinned:!1}}),{})}},{key:"setLayout",value:function(O){ur(Gn,this).setLayout(O)}},{key:"setLayoutOptions",value:function(O){ur(Gn,this).setLayoutOptions(O)}},{key:"getNodesOnScreen",value:function(){return ur(xi,this).getNodesOnScreen()}},{key:"getNodePositions",value:function(){return ur(xi,this).getNodePositions()}},{key:"setNodePositions",value:function(O){var B=arguments.length>1&&arguments[1]!==void 0&&arguments[1];ur(xi,this).setNodePositions(O,B)}},{key:"isLayoutMoving",value:function(){return ur(xi,this).isLayoutMoving()}},{key:"saveToFile",value:function(O){ur(xi,this).saveToFile(O)}},{key:"saveFullGraphToLargeFile",value:function(O){ur(xi,this).saveFullGraphToLargeFile(O)}},{key:"setZoom",value:function(O){ur(xi,this).setZoomLevel(O)}},{key:"setPan",value:function(O,B){ur(xi,this).setPanCoordinates(O,B)}},{key:"setZoomAndPan",value:function(O,B,N){ur(xi,this).setZoomAndPan(O,B,N)}},{key:"getScale",value:function(){return ur(xi,this).getScale()}},{key:"getPan",value:function(){return ur(xi,this).getPan()}},{key:"getHits",value:function(O){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:["node","relationship"],N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{hitNodeMarginWidth:0},G=ur(Gn,this),X=G.zoom,W=G.panX,ee=G.panY,te=G.webGLVisible,ue=tl(O,ur(eu,this).frame,X,W,ee),ye=ue.x,Ee=ue.y,Oe=te?function(we,Te,ze){var He=arguments.length>3&&arguments[3]!==void 0?arguments[3]:["node","relationship"],Ye=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},Ve=[],tt=[],Je=ze.nodes,lt=ze.rels;return He.includes("node")&&Ve.push.apply(Ve,Xt(function(at,et){var gt,jt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},Kt=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,Ft=[],sr=tr(arguments.length>2&&arguments[2]!==void 0?arguments[2]:[]);try{var $t=function(){var Be,je=gt.value,Fe=jt[je.id];if((Fe==null?void 0:Fe.x)===void 0||Fe.y===void 0)return 1;var St=((Be=je.size)!==null&&Be!==void 0?Be:ra)*mt(),st={x:Fe.x-at,y:Fe.y-et},Dt=Math.pow(St,2),rr=Math.pow(St+Kt,2),dr=Math.pow(st.x,2)+Math.pow(st.y,2),lr=Math.sqrt(dr);if(dr<rr){var Kr=Ft.findIndex(function(Qr){return Qr.distance>lr});Ft.splice(Kr!==-1?Kr:Ft.length,0,{data:je,targetCoordinates:{x:Fe.x,y:Fe.y},pointerCoordinates:{x:at,y:et},distanceVector:st,distance:lr,insideNode:dr<Dt})}};for(sr.s();!(gt=sr.n()).done;)$t()}catch(Be){sr.e(Be)}finally{sr.f()}return Ft}(we,Te,Je.items,Je.idToPosition,Ye.hitNodeMarginWidth))),He.includes("relationship")&&tt.push.apply(tt,Xt(function(at,et){var gt,jt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},Kt=[],Ft={},sr=tr(arguments.length>2&&arguments[2]!==void 0?arguments[2]:[]);try{var $t=function(){var Be=gt.value,je=Be.from,Fe=Be.to;if(Ft["".concat(je,".").concat(Fe)]===void 0){var St=jt[je],st=jt[Fe];if((St==null?void 0:St.x)===void 0||St.y===void 0||(st==null?void 0:st.x)===void 0||st.y===void 0)return 0;var Dt=Qu({x:St.x,y:St.y},{x:st.x,y:st.y},{x:at,y:et});if(Dt<=Pt){var rr=Kt.findIndex(function(dr){return dr.distance>Dt});Kt.splice(rr!==-1?rr:Kt.length,0,{data:Be,fromTargetCoordinates:{x:St.x,y:St.y},toTargetCoordinates:{x:st.x,y:st.y},pointerCoordinates:{x:at,y:et},distance:Dt})}Ft["".concat(je,".").concat(Fe)]=1,Ft["".concat(Fe,".").concat(je)]=1}};for(sr.s();!(gt=sr.n()).done;)$t()}catch(Be){sr.e(Be)}finally{sr.f()}return Kt}(we,Te,lt.items,Je.idToPosition))),{nodes:Ve,relationships:tt}}(ye,Ee,ur(Gn,this),B,N):function(we,Te,ze){var He=arguments.length>3&&arguments[3]!==void 0?arguments[3]:["node","relationship"],Ye=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},Ve=[],tt=[];return He.includes("node")&&Ve.push.apply(Ve,Xt(ze.getCanvasNodesAt({x:we,y:Te},Ye.hitNodeMarginWidth))),He.includes("relationship")&&tt.push.apply(tt,Xt(ze.getCanvasRelsAt({x:we,y:Te}))),{nodes:Ve,relationships:tt}}(ye,Ee,ur(xi,this),B,N);return Wi(Wi({},O),{},{nvlTargets:Oe})}},{key:"getContainer",value:function(){return ur(eu,this).frame}},{key:"checkWebGLCompatibility",value:function(){var O=ur(eu,this).disableWebGL;if(O===void 0||!O){var B=function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document.createElement("canvas");try{return window.WebGLRenderingContext!==void 0&&(N.getContext("webgl")!==null||N.getContext("experimental-webgl")!==null)}catch{return!1}}();if(!B){if(O!==void 0)throw new Yl("Could not initialize WebGL");ur(eu,this).renderer=Fc,console.warn("GPU acceleration is not available on your browser. Falling back to CPU layout and rendering. You can disable this warning by setting the disableWebGL option to true.")}O===void 0&&(ur(eu,this).disableWebGL=!B)}}}],C&&dg(x.prototype,C),Object.defineProperty(x,"prototype",{writable:!1}),E}();function fy(){var E,x=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};hd(Gn,this,ud(B)),B.minimapContainer instanceof HTMLElement||delete B.minimapContainer,hd(xi,this,new Hv(ur(Gn,this),B)),this.addAndUpdateElementsInGraph(C,O),ur(xi,this).on("restart",this.restart.bind(this));var N,G,X=Ei((N=ur(Zv,this).callbacks,Object.entries(N)));try{for(X.s();!(G=X.n()).done;){var W=fg(G.value,2),ee=W[0];W[1]!==void 0&&ur(xi,this).on(ee,ur(Zv,this)[ee].bind(ur(Zv,this)))}}catch(ue){X.e(ue)}finally{X.f()}var te=(E=ur(eu,this).frame)===null||E===void 0?void 0:E.getAttribute("id");ur(eu,this).disableTelemetry!==!0&&setTimeout(function(){ur(xi,x).isDestroyed()||ur(tu,x).trackEvent({eventPrefix:yr.includes(te)?te:null,event:"instantiated",properties:{}})},200)}function pg(E){var x,C=E.logging;(C==null?void 0:C.level)!==void 0&&(x=C.level,ln.setLevel(x),function(O,B){var N=O.methodFactory;O.methodFactory=function(G,X,W){var ee=N(G,X,W);return function(){for(var te=arguments.length,ue=new Array(te),ye=0;ye<te;ye++)ue[ye]=arguments[ye];typeof B.logger=="function"?B.logger.apply(B,[G].concat(ue)):ee.apply(void 0,ue)}},O.setLevel(O.getLevel())}(ln,C))}function xu(E){var x=Array.isArray(E)?E:[E],C=ur(Gn,this),O=C.nodes,B=C.fitNodeIds;O.remove(x,{removed:!1}),B.length&&x.find(function(N){return B.includes(N)})!==void 0&&ur(Gn,this).fitNodes(B.filter(function(N){return!x.includes(N)}))}function uv(E){var x=Array.isArray(E)?E:[E];ur(Gn,this).rels.remove(x,{removed:!1})}function Ml(E){var x=E.find(function(O){return!function(B){return!!B&&typeof B.id=="string"&&B.id.length>0}(O)});if(x){var C="";throw/^\d+$/.test(x.id)||(C=" Node ids need to be numeric strings. Strings that contain anything other than numbers are not yet supported."),new TypeError("Invalid node provided: ".concat(JSON.stringify(x),".").concat(C))}}function kp(E){for(var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],C="",O=null,B=ur(Gn,this),N=B.nodes,G=B.rels,X={},W=0;W<x.length;W++){var ee=x[W];X[ee.id]=ee}for(var te=Wi(Wi({},N.idToItem),X),ue=G.idToItem,ye=0;ye<E.length;ye++){var Ee=E[ye];if(!Mf(Ee)){O=Ee,/^\d+$/.test(Ee.id)&&(C=" Node ids need to be numeric strings. Strings that contain anything other than numbers are not yet supported.");break}if(ue[Ee.id]===void 0){var Oe=te[Ee.from],we=te[Ee.to];if(Oe===void 0){C=' Node with id "'.concat(Ee.from,'" does not exist.'),O=Ee;break}if(we===void 0){C=' Node with id "'.concat(Ee.to,'" does not exist.'),O=Ee;break}}}if(O!==null)throw new TypeError("Invalid relationship provided: ".concat(JSON.stringify(O),".").concat(C))}var dm={textColorForBackground:Dl};const vm=vg})();Sh.RL;Sh.wK;Sh.x_;Sh.lv;Sh.YQ;Sh.BP;Sh.GZ;Sh.Vw;var bL=Sh.Ay;Sh._G;Sh.Wy;Sh.h4;const vW="NVL_basic-wrapper",pW="NVL_interactive-wrapper";var Ou=vo();const _L=(r,e)=>{const t=Ou.keyBy(r,"id"),n=Ou.keyBy(e,"id"),i=Ou.sortBy(Ou.keys(t)),a=Ou.sortBy(Ou.keys(n)),o=[],s=[],u=[];let l=0,c=0;for(;l<i.length&&c<a.length;){const f=i[l],d=a[c];f===void 0||d===void 0||(f===d?(Ou.isEqual(t[f],n[d])||u.push(d),l+=1,c+=1):f<d?(s.push(f),l+=1):(o.push(d),c+=1))}for(;l<i.length;){const f=i[l];f!==void 0&&(s.push(f),l+=1)}for(;c<a.length;){const f=a[c];f!==void 0&&(o.push(f),c+=1)}return{added:o.map(f=>n[f]).filter(f=>!Ou.isNil(f)),removed:s.map(f=>t[f]).filter(f=>!Ou.isNil(f)),updated:u.map(f=>n[f]).filter(f=>!Ou.isNil(f))}},gW=(r,e)=>{const t=Ou.keyBy(r,"id");return e.map(n=>{const i=t[n.id];return i===void 0?null:Ou.transform(n,(a,o,s)=>{(s==="id"||o!==i[s])&&Object.assign(a,{[s]:o})})}).filter(n=>n!==null&&Object.keys(n).length>1)};function yW(r,e){return Ou.isEqual(r,e)}function mW(r){const e=_i.useRef();return yW(r,e.current)||(e.current=r),e.current}const bW=(r,e)=>{_i.useEffect(r,e.map(mW))},_W=_i.memo(_i.forwardRef(({nodes:r,rels:e,layout:t,layoutOptions:n,nvlCallbacks:i={},nvlOptions:a={},positions:o=[],onInitializationError:s,...u},l)=>{const c=_i.useRef(null);_i.useImperativeHandle(l,()=>Object.getOwnPropertyNames(bL.prototype).reduce((b,y)=>({...b,[y]:(..._)=>c.current===null?null:c.current[y](..._)}),{}));const f=_i.useRef(null),[d,v]=_i.useState(r),[p,m]=_i.useState(e);return _i.useEffect(()=>{let w=null;if(f.current!==null&&c.current===null){const b={...a,layoutOptions:n};t!==void 0&&(b.layout=t);try{w=new bL(f.current,d,p,b,i),c.current=w,m(e),v(r)}catch(y){if(typeof s=="function")s(y);else throw y}}return()=>{w==null||w.destroy(),c.current=null}},[]),_i.useEffect(()=>{if(c.current===null)return;const w=_L(d,r),b=gW(d,r),y=_L(p,e);m(e),v(r),c.current.addAndUpdateElementsInGraph([...w.added,...b],[...y.added,...y.updated]),c.current.removeRelationshipsWithIds(y.removed.map(_=>_.id)),c.current.removeNodesWithIds(w.removed.map(_=>_.id))},[d,p,r,e]),_i.useEffect(()=>{const w=t??a.layout;c.current===null||w===void 0||c.current.setLayout(w)},[t,a.layout]),bW(()=>{const w=n??(a==null?void 0:a.layoutOptions);c.current===null||w===void 0||c.current.setLayoutOptions(w)},[n,a.layoutOptions]),_i.useEffect(()=>{c.current===null||a.useWebGL===void 0||c.current.setUseWebGLRenderer(a.useWebGL)},[a.useWebGL]),_i.useEffect(()=>{c.current===null||a.renderer===void 0||c.current.setRenderer(a.renderer)}),_i.useEffect(()=>{c.current===null||a.disableWebGL===void 0||c.current.setDisableWebGL(a.disableWebGL)},[a.disableWebGL]),_i.useEffect(()=>{c.current===null||o.length===0||c.current.setNodePositions(o)},[o]),np.jsx("div",{id:vW,ref:f,style:{height:"100%",outline:"0"},...u})})),Ym=10,nC=10,tp={frameWidth:3,frameColor:"#a9a9a9",color:"#e0e0e0",lineDash:[10,15],opacity:.5};class y5{constructor(e){pr(this,"ctx");pr(this,"canvas");pr(this,"removeResizeListener");const t=document.createElement("canvas");t.style.position="absolute",t.style.top="0",t.style.bottom="0",t.style.left="0",t.style.right="0",t.style.touchAction="none",e==null||e.appendChild(t);const n=t.getContext("2d");this.ctx=n,this.canvas=t;const i=()=>{this.fixCanvasSize(t)};e==null||e.addEventListener("resize",i),this.removeResizeListener=()=>e==null?void 0:e.removeEventListener("resize",i),this.fixCanvasSize(t)}fixCanvasSize(e){const t=e.parentElement;if(!t)return;const n=t.getBoundingClientRect(),{width:i}=n,{height:a}=n,o=window.devicePixelRatio||1;e.width=i*o,e.height=a*o,e.style.width=`${i}px`,e.style.height=`${a}px`}drawBox(e,t,n,i){const{ctx:a}=this;if(a===null)return;this.clear(),a.save(),a.beginPath(),a.rect(e,t,n-e,i-t),a.closePath(),a.strokeStyle=tp.frameColor;const o=window.devicePixelRatio||1;a.lineWidth=tp.frameWidth*o,a.fillStyle=tp.color,a.globalAlpha=tp.opacity,a.setLineDash(tp.lineDash),a.stroke(),a.fill(),a.restore()}drawLasso(e,t,n){const{ctx:i}=this;if(i===null)return;i.save(),this.clear(),i.beginPath();let a=0;for(const s of e){const{x:u,y:l}=s;a===0?i.moveTo(u,l):i.lineTo(u,l),a+=1}const o=window.devicePixelRatio||1;i.strokeStyle=tp.frameColor,i.setLineDash(tp.lineDash),i.lineWidth=tp.frameWidth*o,i.fillStyle=tp.color,i.globalAlpha=tp.opacity,t&&i.stroke(),n&&i.fill(),i.restore()}clear(){const{ctx:e,canvas:t}=this;if(e===null)return;const n=t.getBoundingClientRect(),i=window.devicePixelRatio||1;e.clearRect(0,0,n.width*i,n.height*i)}destroy(){const{canvas:e}=this;this.removeResizeListener(),e.remove()}}class Gg{constructor(e,t){pr(this,"nvl");pr(this,"options");pr(this,"container");pr(this,"callbackMap");pr(this,"addEventListener",(e,t,n)=>{var i;(i=this.container)==null||i.addEventListener(e,t,n)});pr(this,"removeEventListener",(e,t,n)=>{var i;(i=this.container)==null||i.removeEventListener(e,t,n)});pr(this,"callCallbackIfRegistered",(e,...t)=>{const n=this.callbackMap.get(e);typeof n=="function"&&n(...t)});pr(this,"updateCallback",(e,t)=>{this.callbackMap.set(e,t)});pr(this,"removeCallback",e=>{this.callbackMap.delete(e)});this.nvl=e,this.options=t,this.container=this.nvl.getContainer(),this.callbackMap=new Map}get nvlInstance(){return this.nvl}get currentOptions(){return this.options}get containerInstance(){return this.container}}const R0=r=>Math.floor(Math.random()*Math.pow(10,r)).toString(),m5=(r,e)=>{const t=Math.abs(r.clientX-e.x),n=Math.abs(r.clientY-e.y);return t>nC||n>nC?!0:Math.pow(t,2)+Math.pow(n,2)>nC},Cg=(r,e)=>{const t=r.getBoundingClientRect(),n=window.devicePixelRatio||1;return{x:(e.clientX-t.left)*n,y:(e.clientY-t.top)*n}},wW=(r,e)=>{const t=r.getBoundingClientRect(),n=window.devicePixelRatio||1;return{x:(e.clientX-t.left-t.width*.5)*n,y:(e.clientY-t.top-t.height*.5)*n}},cb=(r,e)=>{const t=r.getScale(),n=r.getPan(),i=r.getContainer(),{width:a,height:o}=i.getBoundingClientRect(),s=window.devicePixelRatio||1,u=e.x-a*.5*s,l=e.y-o*.5*s;return{x:n.x+u/t,y:n.y+l/t}};class wL extends Gg{constructor(t,n={selectOnRelease:!1}){super(t,n);pr(this,"mousePosition");pr(this,"startWorldPosition");pr(this,"overlayRenderer");pr(this,"isBoxSelecting");pr(this,"handleMouseDown",t=>{if(t.button!==0){this.isBoxSelecting=!1;return}this.turnOnBoxSelect(t)});pr(this,"handleDrag",t=>{if(this.isBoxSelecting){const n=Cg(this.containerInstance,t);this.overlayRenderer.drawBox(this.mousePosition.x,this.mousePosition.y,n.x,n.y)}else t.buttons===1&&this.turnOnBoxSelect(t)});pr(this,"getHitsInBox",(t,n)=>{const i=(c,f,d)=>{const v=Math.min(f.x,d.x),p=Math.max(f.x,d.x),m=Math.min(f.y,d.y),w=Math.max(f.y,d.y);return c.x>=v&&c.x<=p&&c.y>=m&&c.y<=w},a=this.nvlInstance.getNodePositions(),o=new Set;for(const c of a)i(c,t,n)&&o.add(c.id);const s=this.nvlInstance.getRelationships(),u=[];for(const c of s)o.has(c.from)&&o.has(c.to)&&u.push(c);return{nodes:Array.from(o).map(c=>this.nvlInstance.getNodeById(c)),rels:u}});pr(this,"endBoxSelect",t=>{if(!this.isBoxSelecting)return;this.isBoxSelecting=!1,this.overlayRenderer.clear();const n=Cg(this.containerInstance,t),i=cb(this.nvlInstance,n),{nodes:a,rels:o}=this.getHitsInBox(this.startWorldPosition,i);this.currentOptions.selectOnRelease===!0&&this.nvlInstance.updateElementsInGraph(a.map(s=>({id:s.id,selected:!0})),o.map(s=>({id:s.id,selected:!0}))),this.callCallbackIfRegistered("onBoxSelect",{nodes:a,rels:o},t)});this.mousePosition={x:0,y:0},this.startWorldPosition={x:0,y:0},this.overlayRenderer=new y5(this.containerInstance),this.isBoxSelecting=!1,this.addEventListener("mousedown",this.handleMouseDown,!0),this.addEventListener("mousemove",this.handleDrag,!0),this.addEventListener("mouseup",this.endBoxSelect,!0),this.addEventListener("mouseleave",this.endBoxSelect,!0)}destroy(){this.removeEventListener("mousedown",this.handleMouseDown,!0),this.removeEventListener("mousemove",this.handleDrag,!0),this.removeEventListener("mouseup",this.endBoxSelect,!0),this.removeEventListener("mouseleave",this.endBoxSelect,!0),this.overlayRenderer.destroy()}turnOnBoxSelect(t){this.mousePosition=Cg(this.containerInstance,t),this.startWorldPosition=cb(this.nvlInstance,this.mousePosition),this.nvlInstance.getHits(t,["node"],{hitNodeMarginWidth:Ym}).nvlTargets.nodes.length>0?this.isBoxSelecting=!1:(this.isBoxSelecting=!0,this.callCallbackIfRegistered("onBoxStarted",t),this.currentOptions.selectOnRelease===!0&&this.nvlInstance.deselectAll())}}class bg extends Gg{constructor(t,n={selectOnClick:!1}){super(t,n);pr(this,"moved");pr(this,"mousePosition");pr(this,"handleMouseDown",t=>{this.mousePosition={x:t.clientX,y:t.clientY}});pr(this,"handleRightClick",t=>{var o,s;t.preventDefault();const{nvlTargets:n}=this.nvlInstance.getHits(t),{nodes:i=[],relationships:a=[]}=n;if(i.length===0&&a.length===0){this.callCallbackIfRegistered("onCanvasRightClick",t);return}i.length>0?this.callCallbackIfRegistered("onNodeRightClick",(o=i[0])==null?void 0:o.data,n,t):a.length>0&&this.callCallbackIfRegistered("onRelationshipRightClick",(s=a[0])==null?void 0:s.data,n,t)});pr(this,"handleDoubleClick",t=>{var o,s;const{nvlTargets:n}=this.nvlInstance.getHits(t),{nodes:i=[],relationships:a=[]}=n;if(i.length===0&&a.length===0){this.callCallbackIfRegistered("onCanvasDoubleClick",t);return}i.length>0?this.callCallbackIfRegistered("onNodeDoubleClick",(o=i[0])==null?void 0:o.data,n,t):a.length>0&&this.callCallbackIfRegistered("onRelationshipDoubleClick",(s=a[0])==null?void 0:s.data,n,t)});pr(this,"handleClick",t=>{var o,s;if(m5(t,this.mousePosition)||t.button!==0)return;const{nvlTargets:n}=this.nvlInstance.getHits(t),{nodes:i=[],relationships:a=[]}=n;if(i.length===0&&a.length===0){this.currentOptions.selectOnClick===!0&&this.nvlInstance.deselectAll(),this.callCallbackIfRegistered("onCanvasClick",t);return}if(i.length>0){const u=i.map(l=>l.data);if(this.currentOptions.selectOnClick===!0){const l=this.nvlInstance.getSelectedNodes(),c=this.nvlInstance.getSelectedRelationships(),d=[...u[0]?[{id:u[0].id,selected:!0}]:[],...l.map(p=>({id:p.id,selected:!1}))],v=c.map(p=>({...p,selected:!1}));this.nvlInstance.updateElementsInGraph(d,v)}this.callCallbackIfRegistered("onNodeClick",(o=i[0])==null?void 0:o.data,n,t)}else if(a.length>0){const u=a.map(l=>l.data);if(this.currentOptions.selectOnClick===!0){const l=this.nvlInstance.getSelectedNodes(),c=this.nvlInstance.getSelectedRelationships(),f=l.map(p=>({id:p.id,selected:!1})),v=[...u[0]?[{id:u[0].id,selected:!0}]:[],...c.map(p=>({...p,selected:!1}))];this.nvlInstance.updateElementsInGraph(f,v)}this.callCallbackIfRegistered("onRelationshipClick",(s=a[0])==null?void 0:s.data,n,t)}});pr(this,"destroy",()=>{this.removeEventListener("mousedown",this.handleMouseDown,!0),this.removeEventListener("click",this.handleClick,!0),this.removeEventListener("dblclick",this.handleDoubleClick,!0),this.removeEventListener("contextmenu",this.handleRightClick,!0)});this.mousePosition={x:0,y:0},this.addEventListener("mousedown",this.handleMouseDown,!0),this.addEventListener("click",this.handleClick,!0),this.addEventListener("dblclick",this.handleDoubleClick,!0),this.addEventListener("contextmenu",this.handleRightClick,!0)}}class iC extends Gg{constructor(t,n={}){super(t,n);pr(this,"mousePosition");pr(this,"mouseDownNode");pr(this,"isDragging");pr(this,"isDrawing");pr(this,"selectedNodes");pr(this,"moveSelectedNodes");pr(this,"handleMouseDown",t=>{this.mousePosition={x:t.clientX,y:t.clientY};const n=this.nvlInstance.getHits(t,["node"],{hitNodeMarginWidth:Ym}),i=n.nvlTargets.nodes.filter(o=>o.insideNode);n.nvlTargets.nodes.filter(o=>!o.insideNode).length>0?(this.isDrawing=!0,this.mouseDownNode=null):i.length>0?this.mouseDownNode=n.nvlTargets.nodes[0]??null:this.mouseDownNode=null,this.selectedNodes=this.nvlInstance.getSelectedNodes(),this.mouseDownNode!==null&&this.selectedNodes.map(o=>o.id).includes(this.mouseDownNode.data.id)?this.moveSelectedNodes=!0:this.moveSelectedNodes=!1});pr(this,"handleMouseMove",t=>{if(this.mouseDownNode===null||t.buttons!==1||this.isDrawing||!m5(t,this.mousePosition))return;this.isDragging||(this.moveSelectedNodes?this.callCallbackIfRegistered("onDragStart",this.selectedNodes,t):this.callCallbackIfRegistered("onDragStart",[this.mouseDownNode.data],t),this.isDragging=!0);const n=this.nvlInstance.getScale(),i=(t.clientX-this.mousePosition.x)/n*window.devicePixelRatio,a=(t.clientY-this.mousePosition.y)/n*window.devicePixelRatio;this.moveSelectedNodes?(this.nvlInstance.setNodePositions(this.selectedNodes.map(o=>({id:o.id,x:o.x+i,y:o.y+a,pinned:!0})),!0),this.callCallbackIfRegistered("onDrag",this.selectedNodes,t)):(this.nvlInstance.setNodePositions([{id:this.mouseDownNode.data.id,x:this.mouseDownNode.targetCoordinates.x+i,y:this.mouseDownNode.targetCoordinates.y+a,pinned:!0}],!0),this.callCallbackIfRegistered("onDrag",[this.mouseDownNode.data],t))});pr(this,"handleMouseUp",t=>{var n;this.isDragging&&(this.moveSelectedNodes?this.callCallbackIfRegistered("onDragEnd",this.selectedNodes,t):this.callCallbackIfRegistered("onDragEnd",[(n=this.mouseDownNode)==null?void 0:n.data],t)),this.isDragging=!1,this.mouseDownNode=null,this.isDrawing=!1,this.selectedNodes=[],this.moveSelectedNodes=!1});pr(this,"destroy",()=>{this.removeEventListener("mousedown",this.handleMouseDown),this.removeEventListener("mousemove",this.handleMouseMove),this.removeEventListener("mouseup",this.handleMouseUp)});this.mousePosition={x:0,y:0},this.isDragging=!1,this.isDrawing=!1,this.selectedNodes=[],this.moveSelectedNodes=!1,this.addEventListener("mousedown",this.handleMouseDown),this.addEventListener("mousemove",this.handleMouseMove),this.addEventListener("mouseup",this.handleMouseUp)}}const _g={node:{color:"black",size:25},relationship:{color:"red",width:1}};class aC extends Gg{constructor(t,n={}){var i,a;super(t,n);pr(this,"isMoved");pr(this,"isDrawing");pr(this,"isDraggingNode");pr(this,"mouseDownNode");pr(this,"newTempTargetNode");pr(this,"newTempRegularRelationshipToNewTempTargetNode");pr(this,"newTempRegularRelationshipToExistingNode");pr(this,"newTempSelfReferredRelationship");pr(this,"newTargetNodeToAdd");pr(this,"newRelationshipToAdd");pr(this,"mouseOutsideOfNvlArea");pr(this,"cancelDrawing",()=>{var t,n,i,a,o;this.nvlInstance.removeRelationshipsWithIds([(t=this.newTempRegularRelationshipToNewTempTargetNode)==null?void 0:t.id,(n=this.newTempRegularRelationshipToExistingNode)==null?void 0:n.id,(i=this.newTempSelfReferredRelationship)==null?void 0:i.id].filter(s=>!!s)),this.nvlInstance.removeNodesWithIds((a=this.newTempTargetNode)!=null&&a.id?[(o=this.newTempTargetNode)==null?void 0:o.id]:[]),this.newTempTargetNode=null,this.newTempRegularRelationshipToNewTempTargetNode=null,this.newTempRegularRelationshipToExistingNode=null,this.newTempSelfReferredRelationship=null,this.isMoved=!1,this.isDrawing=!1,this.isDraggingNode=!1});pr(this,"handleMouseUpGlobal",t=>{this.isDrawing&&this.mouseOutsideOfNvlArea&&this.cancelDrawing()});pr(this,"handleMouseLeaveNvl",()=>{this.mouseOutsideOfNvlArea=!0});pr(this,"handleMouseEnterNvl",()=>{this.mouseOutsideOfNvlArea=!1});pr(this,"handleMouseMove",t=>{var n,i,a,o,s,u,l,c,f,d,v,p,m;if(this.isMoved=!0,this.isDrawing){const w=Cg(this.containerInstance,t),b=cb(this.nvlInstance,w),y=this.nvlInstance.getHits(t,["node"]),[_]=y.nvlTargets.nodes.filter(q=>{var $;return q.data.id!==(($=this.newTempTargetNode)==null?void 0:$.id)}),S=_?{id:_.data.id,x:_.targetCoordinates.x,y:_.targetCoordinates.y,size:_.data.size}:void 0,A=R0(13),D=S?null:{id:A,size:((i=(n=this.currentOptions.ghostGraphStyling)==null?void 0:n.node)==null?void 0:i.size)??_g.node.size,selected:!1,x:b.x,y:b.y},R=R0(13),k=(a=this.mouseDownNode)!=null&&a.data?{id:R,from:this.mouseDownNode.data.id,to:S?S.id:A}:null;let{x:j,y:F}=b,z=((s=(o=this.currentOptions.ghostGraphStyling)==null?void 0:o.node)==null?void 0:s.size)??_g.node.size;_?(j=_.targetCoordinates.x,F=_.targetCoordinates.y,z=_.data.size??z,_.data.id===((u=this.mouseDownNode)==null?void 0:u.data.id)&&!this.newTempSelfReferredRelationship?(this.nvlInstance.removeRelationshipsWithIds([(l=this.newTempRegularRelationshipToNewTempTargetNode)==null?void 0:l.id,(c=this.newTempRegularRelationshipToExistingNode)==null?void 0:c.id].filter(q=>!!q)),this.newTempRegularRelationshipToNewTempTargetNode=null,this.newTempRegularRelationshipToExistingNode=null,this.setNewSelfReferredRelationship(),this.newTempSelfReferredRelationship&&this.nvlInstance.addElementsToGraph([],[this.newTempSelfReferredRelationship])):_.data.id!==((f=this.mouseDownNode)==null?void 0:f.data.id)&&!this.newTempRegularRelationshipToExistingNode&&(this.nvlInstance.removeRelationshipsWithIds([(d=this.newTempSelfReferredRelationship)==null?void 0:d.id,(v=this.newTempRegularRelationshipToNewTempTargetNode)==null?void 0:v.id].filter(q=>!!q)),this.newTempSelfReferredRelationship=null,this.newTempRegularRelationshipToNewTempTargetNode=null,this.setNewRegularRelationshipToExistingNode(_.data.id),this.newTempRegularRelationshipToExistingNode&&this.nvlInstance.addElementsToGraph([],[this.newTempRegularRelationshipToExistingNode]))):this.newTempRegularRelationshipToNewTempTargetNode||(this.nvlInstance.removeRelationshipsWithIds([(p=this.newTempSelfReferredRelationship)==null?void 0:p.id,(m=this.newTempRegularRelationshipToExistingNode)==null?void 0:m.id].filter(q=>!!q)),this.newTempSelfReferredRelationship=null,this.newTempRegularRelationshipToExistingNode=null,this.setNewRegularRelationshipToNewTempTargetNode(),this.nvlInstance.addElementsToGraph([],this.newTempRegularRelationshipToNewTempTargetNode?[this.newTempRegularRelationshipToNewTempTargetNode]:[])),this.newTempTargetNode&&(this.nvlInstance.setNodePositions([{id:this.newTempTargetNode.id,x:j,y:F}]),this.nvlInstance.updateElementsInGraph([{id:this.newTempTargetNode.id,x:j,y:F,size:z}],[])),this.newRelationshipToAdd=k,this.newTargetNodeToAdd=D}else if(!this.isDraggingNode){this.newRelationshipToAdd=null,this.newTargetNodeToAdd=null;const b=this.nvlInstance.getHits(t,["node"],{hitNodeMarginWidth:Ym}).nvlTargets.nodes.filter(y=>!y.insideNode);if(b.length>0){const[y]=b;this.callCallbackIfRegistered("onHoverNodeMargin",y==null?void 0:y.data)}else this.callCallbackIfRegistered("onHoverNodeMargin",null)}});pr(this,"handleMouseDown",t=>{var u,l,c,f,d;this.callCallbackIfRegistered("onHoverNodeMargin",null),this.isMoved=!1,this.newRelationshipToAdd=null,this.newTargetNodeToAdd=null;const n=this.nvlInstance.getHits(t,["node"],{hitNodeMarginWidth:Ym}),i=n.nvlTargets.nodes.filter(v=>v.insideNode),a=n.nvlTargets.nodes.filter(v=>!v.insideNode),o=i.length>0,s=a.length>0;if((o||s)&&(t.preventDefault(),(u=this.containerInstance)==null||u.focus()),o)this.isDraggingNode=!0,this.isDrawing=!1;else if(s){this.isDrawing=!0,this.isDraggingNode=!1,this.mouseDownNode=a[0];const v=Cg(this.containerInstance,t),p=cb(this.nvlInstance,v),m=((c=(l=this.currentOptions.ghostGraphStyling)==null?void 0:l.node)==null?void 0:c.color)??_g.node.color,w=document.createElement("div");w.style.width="110%",w.style.height="110%",w.style.position="absolute",w.style.left="-5%",w.style.top="-5%",w.style.borderRadius="50%",w.style.backgroundColor=m,this.newTempTargetNode={id:R0(13),size:((d=(f=this.currentOptions.ghostGraphStyling)==null?void 0:f.node)==null?void 0:d.size)??_g.node.size,selected:!1,x:p.x,y:p.y,html:w},this.setNewRegularRelationshipToNewTempTargetNode(),this.nvlInstance.addAndUpdateElementsInGraph([this.newTempTargetNode],this.newTempRegularRelationshipToNewTempTargetNode?[this.newTempRegularRelationshipToNewTempTargetNode]:[]),this.callCallbackIfRegistered("onDrawStarted",t)}else this.mouseDownNode=void 0,this.isDrawing=!1,this.isDraggingNode=!1});pr(this,"handleMouseUp",t=>{var n,i,a,o,s;this.nvlInstance.removeRelationshipsWithIds([(n=this.newTempRegularRelationshipToNewTempTargetNode)==null?void 0:n.id,(i=this.newTempRegularRelationshipToExistingNode)==null?void 0:i.id,(a=this.newTempSelfReferredRelationship)==null?void 0:a.id].filter(u=>!!u)),this.nvlInstance.removeNodesWithIds((o=this.newTempTargetNode)!=null&&o.id?[(s=this.newTempTargetNode)==null?void 0:s.id]:[]),this.isDrawing&&this.isMoved&&(this.newTargetNodeToAdd&&this.nvlInstance.setNodePositions([this.newTargetNodeToAdd]),this.nvlInstance.addAndUpdateElementsInGraph(this.newTargetNodeToAdd?[{id:this.newTargetNodeToAdd.id}]:[],this.newRelationshipToAdd?[this.newRelationshipToAdd]:[]),this.callCallbackIfRegistered("onDrawEnded",this.newRelationshipToAdd,this.newTargetNodeToAdd,t)),this.newTempTargetNode=null,this.newTempRegularRelationshipToNewTempTargetNode=null,this.newTempRegularRelationshipToExistingNode=null,this.newTempSelfReferredRelationship=null,this.isMoved=!1,this.isDrawing=!1,this.isDraggingNode=!1});pr(this,"destroy",()=>{var t,n;this.removeEventListener("mousemove",this.handleMouseMove,!0),this.removeEventListener("mousedown",this.handleMouseDown,!0),this.removeEventListener("mouseup",this.handleMouseUp,!0),(t=this.containerInstance)==null||t.removeEventListener("mouseleave",this.handleMouseLeaveNvl),(n=this.containerInstance)==null||n.removeEventListener("mouseenter",this.handleMouseEnterNvl),document.removeEventListener("mouseup",this.handleMouseUpGlobal,!0)});this.isMoved=!1,this.isDrawing=!1,this.isDraggingNode=!1,this.nvlInstance.setLayout("free"),this.addEventListener("mousemove",this.handleMouseMove,!0),this.addEventListener("mousedown",this.handleMouseDown,!0),this.addEventListener("mouseup",this.handleMouseUp,!0),(i=this.containerInstance)==null||i.addEventListener("mouseleave",this.handleMouseLeaveNvl),(a=this.containerInstance)==null||a.addEventListener("mouseenter",this.handleMouseEnterNvl),document.addEventListener("mouseup",this.handleMouseUpGlobal,!0)}setNewRegularRelationship(t){var n,i,a,o;return this.mouseDownNode?{id:R0(13),from:this.mouseDownNode.data.id,to:t,color:((i=(n=this.currentOptions.ghostGraphStyling)==null?void 0:n.relationship)==null?void 0:i.color)??_g.relationship.color,width:((o=(a=this.currentOptions.ghostGraphStyling)==null?void 0:a.relationship)==null?void 0:o.width)??_g.relationship.width}:null}setNewRegularRelationshipToNewTempTargetNode(){!this.mouseDownNode||!this.newTempTargetNode||(this.newTempRegularRelationshipToNewTempTargetNode=this.setNewRegularRelationship(this.newTempTargetNode.id))}setNewRegularRelationshipToExistingNode(t){this.mouseDownNode&&(this.newTempRegularRelationshipToExistingNode=this.setNewRegularRelationship(t))}setNewSelfReferredRelationship(){var t,n,i,a;this.mouseDownNode&&(this.newTempSelfReferredRelationship={id:R0(13),from:this.mouseDownNode.data.id,to:this.mouseDownNode.data.id,color:((n=(t=this.currentOptions.ghostGraphStyling)==null?void 0:t.relationship)==null?void 0:n.color)??_g.relationship.color,width:((a=(i=this.currentOptions.ghostGraphStyling)==null?void 0:i.relationship)==null?void 0:a.width)??_g.relationship.width})}}class EW extends Gg{constructor(t,n={drawShadowOnHover:!1}){super(t,n);pr(this,"currentHoveredElement");pr(this,"currentHoveredElementIsNode");pr(this,"updates");pr(this,"handleHover",t=>{const{nvlTargets:n}=this.nvlInstance.getHits(t),{nodes:i=[],relationships:a=[]}=n,o=i[0]??a[0],s=o==null?void 0:o.data;if(this.currentElementNeedsUnHover(s==null?void 0:s.id)&&this.unHoverCurrentElement(),s!==void 0&&i[0]!==void 0)this.updates.nodes.push({id:s.id,hovered:!0}),this.currentHoveredElement=s,this.currentHoveredElementIsNode=!0;else if(o!==void 0){const{id:l,from:c,to:f}=s;this.updates.relationships.push({id:l,from:c,to:f,hovered:!0}),this.currentHoveredElement=s,this.currentHoveredElementIsNode=!1}else this.currentHoveredElement=void 0,this.currentHoveredElementIsNode=void 0;this.callCallbackIfRegistered("onHover",this.currentHoveredElement,n,t),this.currentOptions.drawShadowOnHover===!0&&this.nvlInstance.getNodes().length>0&&this.nvlInstance.updateElementsInGraph(this.updates.nodes,this.updates.relationships),this.clearUpdates()});this.updates={nodes:[],relationships:[]},this.addEventListener("mousemove",this.handleHover,!0)}clearUpdates(){this.updates.nodes=[],this.updates.relationships=[]}currentElementNeedsUnHover(t){return this.currentHoveredElement!==void 0&&this.currentHoveredElement.id!==t}unHoverCurrentElement(){if(this.currentHoveredElement===void 0)return;const t={id:this.currentHoveredElement.id,hovered:!1};if(this.currentHoveredElementIsNode===!0)this.updates.nodes.push(t);else{const{from:n,to:i}=this.currentHoveredElement;this.updates.relationships.push({...t,from:n,to:i})}}destroy(){this.removeEventListener("mousemove",this.handleHover,!0)}}var i_={exports:{}},A_={exports:{}},xW=A_.exports,EL;function SW(){return EL||(EL=1,function(r,e){(function(t,n){r.exports=n()})(xW,function(){function t(y,_,S,A,D){(function R(k,j,F,z,q){for(;z>F;){if(z-F>600){var $=z-F+1,K=j-F+1,oe=Math.log($),J=.5*Math.exp(2*oe/3),re=.5*Math.sqrt(oe*J*($-J)/$)*(K-$/2<0?-1:1),ae=Math.max(F,Math.floor(j-K*J/$+re)),ve=Math.min(z,Math.floor(j+($-K)*J/$+re));R(k,j,ae,ve,q)}var se=k[j],ce=F,pe=z;for(n(k,F,j),q(k[z],se)>0&&n(k,F,z);ce<pe;){for(n(k,ce,pe),ce++,pe--;q(k[ce],se)<0;)ce++;for(;q(k[pe],se)>0;)pe--}q(k[F],se)===0?n(k,F,pe):n(k,++pe,z),pe<=j&&(F=pe+1),j<=pe&&(z=pe-1)}})(y,_,S||0,A||y.length-1,D||i)}function n(y,_,S){var A=y[_];y[_]=y[S],y[S]=A}function i(y,_){return y<_?-1:y>_?1:0}var a=function(y){y===void 0&&(y=9),this._maxEntries=Math.max(4,y),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function o(y,_,S){if(!S)return _.indexOf(y);for(var A=0;A<_.length;A++)if(S(y,_[A]))return A;return-1}function s(y,_){u(y,0,y.children.length,_,y)}function u(y,_,S,A,D){D||(D=w(null)),D.minX=1/0,D.minY=1/0,D.maxX=-1/0,D.maxY=-1/0;for(var R=_;R<S;R++){var k=y.children[R];l(D,y.leaf?A(k):k)}return D}function l(y,_){return y.minX=Math.min(y.minX,_.minX),y.minY=Math.min(y.minY,_.minY),y.maxX=Math.max(y.maxX,_.maxX),y.maxY=Math.max(y.maxY,_.maxY),y}function c(y,_){return y.minX-_.minX}function f(y,_){return y.minY-_.minY}function d(y){return(y.maxX-y.minX)*(y.maxY-y.minY)}function v(y){return y.maxX-y.minX+(y.maxY-y.minY)}function p(y,_){return y.minX<=_.minX&&y.minY<=_.minY&&_.maxX<=y.maxX&&_.maxY<=y.maxY}function m(y,_){return _.minX<=y.maxX&&_.minY<=y.maxY&&_.maxX>=y.minX&&_.maxY>=y.minY}function w(y){return{children:y,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function b(y,_,S,A,D){for(var R=[_,S];R.length;)if(!((S=R.pop())-(_=R.pop())<=A)){var k=_+Math.ceil((S-_)/A/2)*A;t(y,k,_,S,D),R.push(_,k,k,S)}}return a.prototype.all=function(){return this._all(this.data,[])},a.prototype.search=function(y){var _=this.data,S=[];if(!m(y,_))return S;for(var A=this.toBBox,D=[];_;){for(var R=0;R<_.children.length;R++){var k=_.children[R],j=_.leaf?A(k):k;m(y,j)&&(_.leaf?S.push(k):p(y,j)?this._all(k,S):D.push(k))}_=D.pop()}return S},a.prototype.collides=function(y){var _=this.data;if(!m(y,_))return!1;for(var S=[];_;){for(var A=0;A<_.children.length;A++){var D=_.children[A],R=_.leaf?this.toBBox(D):D;if(m(y,R)){if(_.leaf||p(y,R))return!0;S.push(D)}}_=S.pop()}return!1},a.prototype.load=function(y){if(!y||!y.length)return this;if(y.length<this._minEntries){for(var _=0;_<y.length;_++)this.insert(y[_]);return this}var S=this._build(y.slice(),0,y.length-1,0);if(this.data.children.length)if(this.data.height===S.height)this._splitRoot(this.data,S);else{if(this.data.height<S.height){var A=this.data;this.data=S,S=A}this._insert(S,this.data.height-S.height-1,!0)}else this.data=S;return this},a.prototype.insert=function(y){return y&&this._insert(y,this.data.height-1),this},a.prototype.clear=function(){return this.data=w([]),this},a.prototype.remove=function(y,_){if(!y)return this;for(var S,A,D,R=this.data,k=this.toBBox(y),j=[],F=[];R||j.length;){if(R||(R=j.pop(),A=j[j.length-1],S=F.pop(),D=!0),R.leaf){var z=o(y,R.children,_);if(z!==-1)return R.children.splice(z,1),j.push(R),this._condense(j),this}D||R.leaf||!p(R,k)?A?(S++,R=A.children[S],D=!1):R=null:(j.push(R),F.push(S),S=0,A=R,R=R.children[0])}return this},a.prototype.toBBox=function(y){return y},a.prototype.compareMinX=function(y,_){return y.minX-_.minX},a.prototype.compareMinY=function(y,_){return y.minY-_.minY},a.prototype.toJSON=function(){return this.data},a.prototype.fromJSON=function(y){return this.data=y,this},a.prototype._all=function(y,_){for(var S=[];y;)y.leaf?_.push.apply(_,y.children):S.push.apply(S,y.children),y=S.pop();return _},a.prototype._build=function(y,_,S,A){var D,R=S-_+1,k=this._maxEntries;if(R<=k)return s(D=w(y.slice(_,S+1)),this.toBBox),D;A||(A=Math.ceil(Math.log(R)/Math.log(k)),k=Math.ceil(R/Math.pow(k,A-1))),(D=w([])).leaf=!1,D.height=A;var j=Math.ceil(R/k),F=j*Math.ceil(Math.sqrt(k));b(y,_,S,F,this.compareMinX);for(var z=_;z<=S;z+=F){var q=Math.min(z+F-1,S);b(y,z,q,j,this.compareMinY);for(var $=z;$<=q;$+=j){var K=Math.min($+j-1,q);D.children.push(this._build(y,$,K,A-1))}}return s(D,this.toBBox),D},a.prototype._chooseSubtree=function(y,_,S,A){for(;A.push(_),!_.leaf&&A.length-1!==S;){for(var D=1/0,R=1/0,k=void 0,j=0;j<_.children.length;j++){var F=_.children[j],z=d(F),q=($=y,K=F,(Math.max(K.maxX,$.maxX)-Math.min(K.minX,$.minX))*(Math.max(K.maxY,$.maxY)-Math.min(K.minY,$.minY))-z);q<R?(R=q,D=z<D?z:D,k=F):q===R&&z<D&&(D=z,k=F)}_=k||_.children[0]}var $,K;return _},a.prototype._insert=function(y,_,S){var A=S?y:this.toBBox(y),D=[],R=this._chooseSubtree(A,this.data,_,D);for(R.children.push(y),l(R,A);_>=0&&D[_].children.length>this._maxEntries;)this._split(D,_),_--;this._adjustParentBBoxes(A,D,_)},a.prototype._split=function(y,_){var S=y[_],A=S.children.length,D=this._minEntries;this._chooseSplitAxis(S,D,A);var R=this._chooseSplitIndex(S,D,A),k=w(S.children.splice(R,S.children.length-R));k.height=S.height,k.leaf=S.leaf,s(S,this.toBBox),s(k,this.toBBox),_?y[_-1].children.push(k):this._splitRoot(S,k)},a.prototype._splitRoot=function(y,_){this.data=w([y,_]),this.data.height=y.height+1,this.data.leaf=!1,s(this.data,this.toBBox)},a.prototype._chooseSplitIndex=function(y,_,S){for(var A,D,R,k,j,F,z,q=1/0,$=1/0,K=_;K<=S-_;K++){var oe=u(y,0,K,this.toBBox),J=u(y,K,S,this.toBBox),re=(D=oe,R=J,k=void 0,j=void 0,F=void 0,z=void 0,k=Math.max(D.minX,R.minX),j=Math.max(D.minY,R.minY),F=Math.min(D.maxX,R.maxX),z=Math.min(D.maxY,R.maxY),Math.max(0,F-k)*Math.max(0,z-j)),ae=d(oe)+d(J);re<q?(q=re,A=K,$=ae<$?ae:$):re===q&&ae<$&&($=ae,A=K)}return A||S-_},a.prototype._chooseSplitAxis=function(y,_,S){var A=y.leaf?this.compareMinX:c,D=y.leaf?this.compareMinY:f;this._allDistMargin(y,_,S,A)<this._allDistMargin(y,_,S,D)&&y.children.sort(A)},a.prototype._allDistMargin=function(y,_,S,A){y.children.sort(A);for(var D=this.toBBox,R=u(y,0,_,D),k=u(y,S-_,S,D),j=v(R)+v(k),F=_;F<S-_;F++){var z=y.children[F];l(R,y.leaf?D(z):z),j+=v(R)}for(var q=S-_-1;q>=_;q--){var $=y.children[q];l(k,y.leaf?D($):$),j+=v(k)}return j},a.prototype._adjustParentBBoxes=function(y,_,S){for(var A=S;A>=0;A--)l(_[A],y)},a.prototype._condense=function(y){for(var _=y.length-1,S=void 0;_>=0;_--)y[_].children.length===0?_>0?(S=y[_-1].children).splice(S.indexOf(y[_]),1):this.clear():s(y[_],this.toBBox)},a})}(A_)),A_.exports}class OW{constructor(e=[],t=TW){if(this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(let n=(this.length>>1)-1;n>=0;n--)this._down(n)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:t,compare:n}=this,i=t[e];for(;e>0;){const a=e-1>>1,o=t[a];if(n(i,o)>=0)break;t[e]=o,e=a}t[e]=i}_down(e){const{data:t,compare:n}=this,i=this.length>>1,a=t[e];for(;e<i;){let o=(e<<1)+1,s=t[o];const u=o+1;if(u<this.length&&n(t[u],s)<0&&(o=u,s=t[u]),n(s,a)>=0)break;t[e]=s,e=o}t[e]=a}}function TW(r,e){return r<e?-1:r>e?1:0}const CW=Object.freeze(Object.defineProperty({__proto__:null,default:OW},Symbol.toStringTag,{value:"Module"})),AW=LB(CW);var P0={exports:{}},oC,xL;function RW(){return xL||(xL=1,oC=function(e,t,n,i){var a=e[0],o=e[1],s=!1;n===void 0&&(n=0),i===void 0&&(i=t.length);for(var u=(i-n)/2,l=0,c=u-1;l<u;c=l++){var f=t[n+l*2+0],d=t[n+l*2+1],v=t[n+c*2+0],p=t[n+c*2+1],m=d>o!=p>o&&a<(v-f)*(o-d)/(p-d)+f;m&&(s=!s)}return s}),oC}var sC,SL;function PW(){return SL||(SL=1,sC=function(e,t,n,i){var a=e[0],o=e[1],s=!1;n===void 0&&(n=0),i===void 0&&(i=t.length);for(var u=i-n,l=0,c=u-1;l<u;c=l++){var f=t[l+n][0],d=t[l+n][1],v=t[c+n][0],p=t[c+n][1],m=d>o!=p>o&&a<(v-f)*(o-d)/(p-d)+f;m&&(s=!s)}return s}),sC}var OL;function DW(){if(OL)return P0.exports;OL=1;var r=RW(),e=PW();return P0.exports=function(n,i,a,o){return i.length>0&&Array.isArray(i[0])?e(n,i,a,o):r(n,i,a,o)},P0.exports.nested=e,P0.exports.flat=r,P0.exports}var H0={exports:{}},IW=H0.exports,TL;function kW(){return TL||(TL=1,function(r,e){(function(t,n){n(e)})(IW,function(t){const i=33306690738754706e-32;function a(m,w,b,y,_){let S,A,D,R,k=w[0],j=y[0],F=0,z=0;j>k==j>-k?(S=k,k=w[++F]):(S=j,j=y[++z]);let q=0;if(F<m&&z<b)for(j>k==j>-k?(D=S-((A=k+S)-k),k=w[++F]):(D=S-((A=j+S)-j),j=y[++z]),S=A,D!==0&&(_[q++]=D);F<m&&z<b;)j>k==j>-k?(D=S-((A=S+k)-(R=A-S))+(k-R),k=w[++F]):(D=S-((A=S+j)-(R=A-S))+(j-R),j=y[++z]),S=A,D!==0&&(_[q++]=D);for(;F<m;)D=S-((A=S+k)-(R=A-S))+(k-R),k=w[++F],S=A,D!==0&&(_[q++]=D);for(;z<b;)D=S-((A=S+j)-(R=A-S))+(j-R),j=y[++z],S=A,D!==0&&(_[q++]=D);return S===0&&q!==0||(_[q++]=S),q}function o(m){return new Float64Array(m)}const s=33306690738754716e-32,u=22204460492503146e-32,l=11093356479670487e-47,c=o(4),f=o(8),d=o(12),v=o(16),p=o(4);t.orient2d=function(m,w,b,y,_,S){const A=(w-S)*(b-_),D=(m-_)*(y-S),R=A-D;if(A===0||D===0||A>0!=D>0)return R;const k=Math.abs(A+D);return Math.abs(R)>=s*k?R:-function(j,F,z,q,$,K,oe){let J,re,ae,ve,se,ce,pe,Pe,de,ge,Ce,Ne,De,ke,_e,Ie,Ge,Qe;const ot=j-$,Tt=z-$,zt=F-K,pt=q-K;se=(_e=(Pe=ot-(pe=(ce=134217729*ot)-(ce-ot)))*(ge=pt-(de=(ce=134217729*pt)-(ce-pt)))-((ke=ot*pt)-pe*de-Pe*de-pe*ge))-(Ce=_e-(Ge=(Pe=zt-(pe=(ce=134217729*zt)-(ce-zt)))*(ge=Tt-(de=(ce=134217729*Tt)-(ce-Tt)))-((Ie=zt*Tt)-pe*de-Pe*de-pe*ge))),c[0]=_e-(Ce+se)+(se-Ge),se=(De=ke-((Ne=ke+Ce)-(se=Ne-ke))+(Ce-se))-(Ce=De-Ie),c[1]=De-(Ce+se)+(se-Ie),se=(Qe=Ne+Ce)-Ne,c[2]=Ne-(Qe-se)+(Ce-se),c[3]=Qe;let Q=function(We,ft){let Ht=ft[0];for(let Et=1;Et<We;Et++)Ht+=ft[Et];return Ht}(4,c),ne=u*oe;if(Q>=ne||-Q>=ne||(J=j-(ot+(se=j-ot))+(se-$),ae=z-(Tt+(se=z-Tt))+(se-$),re=F-(zt+(se=F-zt))+(se-K),ve=q-(pt+(se=q-pt))+(se-K),J===0&&re===0&&ae===0&&ve===0)||(ne=l*oe+i*Math.abs(Q),(Q+=ot*ve+pt*J-(zt*ae+Tt*re))>=ne||-Q>=ne))return Q;se=(_e=(Pe=J-(pe=(ce=134217729*J)-(ce-J)))*(ge=pt-(de=(ce=134217729*pt)-(ce-pt)))-((ke=J*pt)-pe*de-Pe*de-pe*ge))-(Ce=_e-(Ge=(Pe=re-(pe=(ce=134217729*re)-(ce-re)))*(ge=Tt-(de=(ce=134217729*Tt)-(ce-Tt)))-((Ie=re*Tt)-pe*de-Pe*de-pe*ge))),p[0]=_e-(Ce+se)+(se-Ge),se=(De=ke-((Ne=ke+Ce)-(se=Ne-ke))+(Ce-se))-(Ce=De-Ie),p[1]=De-(Ce+se)+(se-Ie),se=(Qe=Ne+Ce)-Ne,p[2]=Ne-(Qe-se)+(Ce-se),p[3]=Qe;const fe=a(4,c,4,p,f);se=(_e=(Pe=ot-(pe=(ce=134217729*ot)-(ce-ot)))*(ge=ve-(de=(ce=134217729*ve)-(ce-ve)))-((ke=ot*ve)-pe*de-Pe*de-pe*ge))-(Ce=_e-(Ge=(Pe=zt-(pe=(ce=134217729*zt)-(ce-zt)))*(ge=ae-(de=(ce=134217729*ae)-(ce-ae)))-((Ie=zt*ae)-pe*de-Pe*de-pe*ge))),p[0]=_e-(Ce+se)+(se-Ge),se=(De=ke-((Ne=ke+Ce)-(se=Ne-ke))+(Ce-se))-(Ce=De-Ie),p[1]=De-(Ce+se)+(se-Ie),se=(Qe=Ne+Ce)-Ne,p[2]=Ne-(Qe-se)+(Ce-se),p[3]=Qe;const Ue=a(fe,f,4,p,d);se=(_e=(Pe=J-(pe=(ce=134217729*J)-(ce-J)))*(ge=ve-(de=(ce=134217729*ve)-(ce-ve)))-((ke=J*ve)-pe*de-Pe*de-pe*ge))-(Ce=_e-(Ge=(Pe=re-(pe=(ce=134217729*re)-(ce-re)))*(ge=ae-(de=(ce=134217729*ae)-(ce-ae)))-((Ie=re*ae)-pe*de-Pe*de-pe*ge))),p[0]=_e-(Ce+se)+(se-Ge),se=(De=ke-((Ne=ke+Ce)-(se=Ne-ke))+(Ce-se))-(Ce=De-Ie),p[1]=De-(Ce+se)+(se-Ie),se=(Qe=Ne+Ce)-Ne,p[2]=Ne-(Qe-se)+(Ce-se),p[3]=Qe;const qe=a(Ue,d,4,p,v);return v[qe-1]}(m,w,b,y,_,S,k)},t.orient2dfast=function(m,w,b,y,_,S){return(w-S)*(b-_)-(m-_)*(y-S)},Object.defineProperty(t,"__esModule",{value:!0})})}(H0,H0.exports)),H0.exports}var CL;function MW(){if(CL)return i_.exports;CL=1;var r=SW(),e=AW,t=DW(),n=kW().orient2d;e.default&&(e=e.default),i_.exports=i,i_.exports.default=i;function i(S,A,D){A=Math.max(0,A===void 0?2:A),D=D||0;var R=v(S),k=new r(16);k.toBBox=function(pe){return{minX:pe[0],minY:pe[1],maxX:pe[0],maxY:pe[1]}},k.compareMinX=function(pe,Pe){return pe[0]-Pe[0]},k.compareMinY=function(pe,Pe){return pe[1]-Pe[1]},k.load(S);for(var j=[],F=0,z;F<R.length;F++){var q=R[F];k.remove(q),z=p(q,z),j.push(z)}var $=new r(16);for(F=0;F<j.length;F++)$.insert(d(j[F]));for(var K=A*A,oe=D*D;j.length;){var J=j.shift(),re=J.p,ae=J.next.p,ve=m(re,ae);if(!(ve<oe)){var se=ve/K;q=a(k,J.prev.p,re,ae,J.next.next.p,se,$),q&&Math.min(m(q,re),m(q,ae))<=se&&(j.push(J),j.push(p(q,J)),k.remove(q),$.remove(J),$.insert(d(J)),$.insert(d(J.next)))}}J=z;var ce=[];do ce.push(J.p),J=J.next;while(J!==z);return ce.push(J.p),ce}function a(S,A,D,R,k,j,F){for(var z=new e([],o),q=S.data;q;){for(var $=0;$<q.children.length;$++){var K=q.children[$],oe=q.leaf?w(K,D,R):s(D,R,K);oe>j||z.push({node:K,dist:oe})}for(;z.length&&!z.peek().node.children;){var J=z.pop(),re=J.node,ae=w(re,A,D),ve=w(re,R,k);if(J.dist<ae&&J.dist<ve&&l(D,re,F)&&l(R,re,F))return re}q=z.pop(),q&&(q=q.node)}return null}function o(S,A){return S.dist-A.dist}function s(S,A,D){if(u(S,D)||u(A,D))return 0;var R=b(S[0],S[1],A[0],A[1],D.minX,D.minY,D.maxX,D.minY);if(R===0)return 0;var k=b(S[0],S[1],A[0],A[1],D.minX,D.minY,D.minX,D.maxY);if(k===0)return 0;var j=b(S[0],S[1],A[0],A[1],D.maxX,D.minY,D.maxX,D.maxY);if(j===0)return 0;var F=b(S[0],S[1],A[0],A[1],D.minX,D.maxY,D.maxX,D.maxY);return F===0?0:Math.min(R,k,j,F)}function u(S,A){return S[0]>=A.minX&&S[0]<=A.maxX&&S[1]>=A.minY&&S[1]<=A.maxY}function l(S,A,D){for(var R=Math.min(S[0],A[0]),k=Math.min(S[1],A[1]),j=Math.max(S[0],A[0]),F=Math.max(S[1],A[1]),z=D.search({minX:R,minY:k,maxX:j,maxY:F}),q=0;q<z.length;q++)if(f(z[q].p,z[q].next.p,S,A))return!1;return!0}function c(S,A,D){return n(S[0],S[1],A[0],A[1],D[0],D[1])}function f(S,A,D,R){return S!==R&&A!==D&&c(S,A,D)>0!=c(S,A,R)>0&&c(D,R,S)>0!=c(D,R,A)>0}function d(S){var A=S.p,D=S.next.p;return S.minX=Math.min(A[0],D[0]),S.minY=Math.min(A[1],D[1]),S.maxX=Math.max(A[0],D[0]),S.maxY=Math.max(A[1],D[1]),S}function v(S){for(var A=S[0],D=S[0],R=S[0],k=S[0],j=0;j<S.length;j++){var F=S[j];F[0]<A[0]&&(A=F),F[0]>R[0]&&(R=F),F[1]<D[1]&&(D=F),F[1]>k[1]&&(k=F)}var z=[A,D,R,k],q=z.slice();for(j=0;j<S.length;j++)t(S[j],z)||q.push(S[j]);return _(q)}function p(S,A){var D={p:S,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return A?(D.next=A.next,D.prev=A,A.next.prev=D,A.next=D):(D.prev=D,D.next=D),D}function m(S,A){var D=S[0]-A[0],R=S[1]-A[1];return D*D+R*R}function w(S,A,D){var R=A[0],k=A[1],j=D[0]-R,F=D[1]-k;if(j!==0||F!==0){var z=((S[0]-R)*j+(S[1]-k)*F)/(j*j+F*F);z>1?(R=D[0],k=D[1]):z>0&&(R+=j*z,k+=F*z)}return j=S[0]-R,F=S[1]-k,j*j+F*F}function b(S,A,D,R,k,j,F,z){var q=D-S,$=R-A,K=F-k,oe=z-j,J=S-k,re=A-j,ae=q*q+$*$,ve=q*K+$*oe,se=K*K+oe*oe,ce=q*J+$*re,pe=K*J+oe*re,Pe=ae*se-ve*ve,de,ge,Ce,Ne,De=Pe,ke=Pe;Pe===0?(ge=0,De=1,Ne=pe,ke=se):(ge=ve*pe-se*ce,Ne=ae*pe-ve*ce,ge<0?(ge=0,Ne=pe,ke=se):ge>De&&(ge=De,Ne=pe+ve,ke=se)),Ne<0?(Ne=0,-ce<0?ge=0:-ce>ae?ge=De:(ge=-ce,De=ae)):Ne>ke&&(Ne=ke,-ce+ve<0?ge=0:-ce+ve>ae?ge=De:(ge=-ce+ve,De=ae)),de=ge===0?0:ge/De,Ce=Ne===0?0:Ne/ke;var _e=(1-de)*S+de*D,Ie=(1-de)*A+de*R,Ge=(1-Ce)*k+Ce*F,Qe=(1-Ce)*j+Ce*z,ot=Ge-_e,Tt=Qe-Ie;return ot*ot+Tt*Tt}function y(S,A){return S[0]===A[0]?S[1]-A[1]:S[0]-A[0]}function _(S){S.sort(y);for(var A=[],D=0;D<S.length;D++){for(;A.length>=2&&c(A[A.length-2],A[A.length-1],S[D])<=0;)A.pop();A.push(S[D])}for(var R=[],k=S.length-1;k>=0;k--){for(;R.length>=2&&c(R[R.length-2],R[R.length-1],S[k])<=0;)R.pop();R.push(S[k])}return R.pop(),A.pop(),A.concat(R)}return i_.exports}var NW=MW();const LW=Qm(NW),AL=10,jW=500,BW=(r,e,t,n)=>{const i=(n[1]-t[1])*(e[0]-r[0])-(n[0]-t[0])*(e[1]-r[1]);if(i===0)return!1;const a=((r[1]-t[1])*(n[0]-t[0])-(r[0]-t[0])*(n[1]-t[1]))/i,o=((t[0]-r[0])*(e[1]-r[1])-(t[1]-r[1])*(e[0]-r[0]))/i;return a>0&&a<1&&o>0&&o<1},FW=r=>{for(let e=0;e<r.length-1;e++)for(let t=e+2;t<r.length;t++){const n=r[e]??[0,0],i=r[e+1]??[0,0],a=r[t]??[0,0],o=t<r.length-1?t+1:0,s=r[o]??[0,0];if(BW(n,i,a,s))return!0}return!1},UW=(r,e,t)=>{let n=!1;for(let i=0,a=t.length-1;i<t.length;a=i,i+=1){const o=t[i],s=t[a];if(o===void 0||s===void 0)continue;const{x:u,y:l}=o,{x:c,y:f}=s;l>e!=f>e&&r<(c-u)*(e-l)/(f-l)+u&&(n=!n)}return n};class RL extends Gg{constructor(t,n={selectOnRelease:!1}){super(t,n);pr(this,"active");pr(this,"points");pr(this,"overlayRenderer");pr(this,"startLasso",t=>{this.nvlInstance.getHits(t,["node"],{hitNodeMarginWidth:Ym}).nvlTargets.nodes.length>0?this.active=!1:(this.active=!0,this.points=[Cg(this.containerInstance,t)],this.callCallbackIfRegistered("onLassoStarted",t),this.currentOptions.selectOnRelease===!0&&this.nvlInstance.deselectAll())});pr(this,"handleMouseDown",t=>{t.button===0&&!this.active&&this.startLasso(t)});pr(this,"handleDrag",t=>{if(this.active){const n=this.points[this.points.length-1];if(n===void 0)return;const i=Cg(this.containerInstance,t),a=Math.abs(n.x-i.x),o=Math.abs(n.y-i.y);(a>AL||o>AL)&&(this.points.push(i),this.overlayRenderer.drawLasso(this.points,!0,!1))}});pr(this,"handleMouseUp",t=>{this.points.push(Cg(this.containerInstance,t)),this.endLasso(t)});pr(this,"getLassoItems",t=>{const n=t.map(l=>cb(this.nvlInstance,l)),i=this.nvlInstance.getNodePositions(),a=new Set;for(const l of i)l.x===void 0||l.y===void 0||l.id===void 0||UW(l.x,l.y,n)&&a.add(l.id);const o=this.nvlInstance.getRelationships(),s=[];for(const l of o)a.has(l.from)&&a.has(l.to)&&s.push(l);return{nodes:Array.from(a).map(l=>this.nvlInstance.getNodeById(l)),rels:s}});pr(this,"endLasso",t=>{if(!this.active)return;this.active=!1;const n=this.points.map(s=>[s.x,s.y]),a=(FW(n)?LW(n,2):n).map(s=>({x:s[0],y:s[1]})).filter(s=>s.x!==void 0&&s.y!==void 0);this.overlayRenderer.drawLasso(a,!1,!0),setTimeout(()=>this.overlayRenderer.clear(),jW);const o=this.getLassoItems(a);this.currentOptions.selectOnRelease===!0&&this.nvlInstance.updateElementsInGraph(o.nodes.map(s=>({id:s.id,selected:!0})),o.rels.map(s=>({id:s.id,selected:!0}))),this.callCallbackIfRegistered("onLassoSelect",o,t)});this.overlayRenderer=new y5(this.containerInstance),this.active=!1,this.points=[],this.addEventListener("mousedown",this.handleMouseDown,!0),this.addEventListener("mousemove",this.handleDrag,!0),this.addEventListener("mouseup",this.handleMouseUp,!0),this.addEventListener("mouseleave",this.endLasso,!0)}destroy(){this.removeEventListener("mousedown",this.handleMouseDown,!0),this.removeEventListener("mousemove",this.handleDrag,!0),this.removeEventListener("mouseup",this.endLasso,!0),this.removeEventListener("mouseleave",this.endLasso,!0),this.overlayRenderer.destroy()}}class zW extends Gg{constructor(t,n={excludeNodeMargin:!1}){super(t,n);pr(this,"mousePosition");pr(this,"targets");pr(this,"shouldPan");pr(this,"updateTargets",(t,n)=>{this.targets=t,this.currentOptions.excludeNodeMargin=n});pr(this,"handleMouseDown",t=>{const n=this.nvlInstance.getHits(t,Ou.difference(["node","relationship"],this.targets),{hitNodeMarginWidth:this.currentOptions.excludeNodeMargin===!0?Ym:0});n.nvlTargets.nodes.length>0||n.nvlTargets.relationships.length>0?this.shouldPan=!1:(this.mousePosition={x:t.clientX,y:t.clientY},this.shouldPan=!0)});pr(this,"handleMouseMove",t=>{if(!this.shouldPan||t.buttons!==1)return;const n=this.nvlInstance.getScale(),{x:i,y:a}=this.nvlInstance.getPan(),o=(t.clientX-this.mousePosition.x)/n*window.devicePixelRatio,s=(t.clientY-this.mousePosition.y)/n*window.devicePixelRatio;this.nvlInstance.setPan(i-o,a-s),this.callCallbackIfRegistered("onPan",{x:i-o,y:a-s},t),this.mousePosition={x:t.clientX,y:t.clientY}});pr(this,"handleMouseUp",()=>{this.shouldPan=!1});this.mousePosition={x:0,y:0},this.targets=[],this.shouldPan=!1,this.addEventListener("mousedown",this.handleMouseDown,!0),this.addEventListener("mousemove",this.handleMouseMove,!0),this.addEventListener("mouseup",this.handleMouseUp,!0)}destroy(){this.removeEventListener("mousedown",this.handleMouseDown,!0),this.removeEventListener("mousemove",this.handleMouseMove,!0),this.removeEventListener("mouseup",this.handleMouseUp,!0)}}class qW extends Gg{constructor(t,n={}){super(t,n);pr(this,"throttledZoom",Ou.throttle(t=>{const n=this.nvlInstance.getScale(),{x:i,y:a}=this.nvlInstance.getPan(),o=t.deltaY/500,s=n-o*Math.min(1,n),u=wW(this.containerInstance,t),l=i+(u.x/n-u.x/s),c=a+(u.y/n-u.y/s);this.nvlInstance.setZoomAndPan(s,l,c),this.callCallbackIfRegistered("onZoom",s,t)},25,{leading:!0}));pr(this,"handleWheel",t=>{t.preventDefault(),this.throttledZoom(t)});pr(this,"destroy",()=>{this.removeEventListener("wheel",this.handleWheel)});this.addEventListener("wheel",this.handleWheel)}}const jp=r=>{var e;(e=r.current)==null||e.destroy(),r.current=null},Ls=(r,e,t,n,i,a)=>{_i.useEffect(()=>{var s;const o=(s=i.current)==null?void 0:s.getContainer();Ou.isNil(o)||((t===!0||typeof t=="function")&&!Ou.isNil(i.current)?(Ou.isNil(e.current)&&(e.current=new r(i.current,a)),typeof t=="function"?e.current.updateCallback(n,t):Ou.isNil(e.current.callbackMap[n])||e.current.removeCallback(n)):t===!1&&jp(e))},[r,t,n,a,e,i])},GW={selectOnClick:!1,drawShadowOnHover:!0,selectOnRelease:!1,excludeNodeMargin:!0},HW=_i.memo(_i.forwardRef(({nodes:r,rels:e,layout:t,layoutOptions:n,onInitializationError:i,mouseEventCallbacks:a={},nvlCallbacks:o={},nvlOptions:s={},interactionOptions:u=GW,...l},c)=>{const f=_i.useRef(null),d=c??f,{onHover:v,onNodeClick:p,onNodeDoubleClick:m,onNodeRightClick:w,onRelationshipClick:b,onRelationshipDoubleClick:y,onRelationshipRightClick:_,onCanvasClick:S,onCanvasRightClick:A,onPan:D,onZoom:R,onDrag:k,onDragStart:j,onDragEnd:F,onDrawStarted:z,onDrawEnded:q,onHoverNodeMargin:$,onBoxStarted:K,onBoxSelect:oe,onLassoStarted:J,onLassoSelect:re}=a,ae=_i.useRef(null),ve=_i.useRef(null),se=_i.useRef(null),ce=_i.useRef(null),pe=_i.useRef(null),Pe=_i.useRef(null),de=_i.useRef(null),ge=_i.useRef(null);return Ls(EW,ae,v,"onHover",d,u),Ls(bg,ve,p,"onNodeClick",d,u),Ls(bg,ve,m,"onNodeDoubleClick",d,u),Ls(bg,ve,w,"onNodeRightClick",d,u),Ls(bg,ve,b,"onRelationshipClick",d,u),Ls(bg,ve,y,"onRelationshipDoubleClick",d,u),Ls(bg,ve,_,"onRelationshipRightClick",d,u),Ls(bg,ve,S,"onCanvasClick",d,u),Ls(bg,ve,A,"onCanvasRightClick",d,u),Ls(zW,se,D,"onPan",d,u),Ls(qW,ce,R,"onZoom",d,u),Ls(iC,pe,k,"onDrag",d,u),Ls(iC,pe,j,"onDragStart",d,u),Ls(iC,pe,F,"onDragEnd",d,u),Ls(aC,Pe,$,"onHoverNodeMargin",d,u),Ls(aC,Pe,z,"onDrawStarted",d,u),Ls(aC,Pe,q,"onDrawEnded",d,u),Ls(wL,de,K,"onBoxStarted",d,u),Ls(wL,de,oe,"onBoxSelect",d,u),Ls(RL,ge,J,"onLassoStarted",d,u),Ls(RL,ge,re,"onLassoSelect",d,u),_i.useEffect(()=>()=>{jp(ae),jp(ve),jp(se),jp(ce),jp(pe),jp(Pe),jp(de),jp(ge)},[]),np.jsx(_W,{ref:d,nodes:r,id:pW,rels:e,nvlOptions:s,nvlCallbacks:o,layout:t,layoutOptions:n,onInitializationError:i,...l})})),jg=function(){if(typeof globalThis<"u")return globalThis;if(typeof global<"u")return global;if(typeof self<"u")return self;if(typeof window<"u")return window;try{return new Function("return this")()}catch{return{}}}();jg.trustedTypes===void 0&&(jg.trustedTypes={createPolicy:(r,e)=>e});const b5={configurable:!1,enumerable:!1,writable:!1};jg.FAST===void 0&&Reflect.defineProperty(jg,"FAST",Object.assign({value:Object.create(null)},b5));const fb=jg.FAST;if(fb.getById===void 0){const r=Object.create(null);Reflect.defineProperty(fb,"getById",Object.assign({value(e,t){let n=r[e];return n===void 0&&(n=t?r[e]=t():null),n}},b5))}const ky=Object.freeze([]);function _5(){const r=new WeakMap;return function(e){let t=r.get(e);if(t===void 0){let n=Reflect.getPrototypeOf(e);for(;t===void 0&&n!==null;)t=r.get(n),n=Reflect.getPrototypeOf(n);t=t===void 0?[]:t.slice(0),r.set(e,t)}return t}}const uC=jg.FAST.getById(1,()=>{const r=[],e=[];function t(){if(e.length)throw e.shift()}function n(o){try{o.call()}catch(s){e.push(s),setTimeout(t,0)}}function i(){let s=0;for(;s<r.length;)if(n(r[s]),s++,s>1024){for(let u=0,l=r.length-s;u<l;u++)r[u]=r[u+s];r.length-=s,s=0}r.length=0}function a(o){r.length<1&&jg.requestAnimationFrame(i),r.push(o)}return Object.freeze({enqueue:a,process:i})}),w5=jg.trustedTypes.createPolicy("fast-html",{createHTML:r=>r});let lC=w5;const X0=`fast-${Math.random().toString(36).substring(2,8)}`,E5=`${X0}{`,lA=`}${X0}`,ri=Object.freeze({supportsAdoptedStyleSheets:Array.isArray(document.adoptedStyleSheets)&&"replace"in CSSStyleSheet.prototype,setHTMLPolicy(r){if(lC!==w5)throw new Error("The HTML policy can only be set once.");lC=r},createHTML(r){return lC.createHTML(r)},isMarker(r){return r&&r.nodeType===8&&r.data.startsWith(X0)},extractDirectiveIndexFromMarker(r){return parseInt(r.data.replace(`${X0}:`,""))},createInterpolationPlaceholder(r){return`${E5}${r}${lA}`},createCustomAttributePlaceholder(r,e){return`${r}="${this.createInterpolationPlaceholder(e)}"`},createBlockPlaceholder(r){return`<!--${X0}:${r}-->`},queueUpdate:uC.enqueue,processUpdates:uC.process,nextUpdate(){return new Promise(uC.enqueue)},setAttribute(r,e,t){t==null?r.removeAttribute(e):r.setAttribute(e,t)},setBooleanAttribute(r,e,t){t?r.setAttribute(e,""):r.removeAttribute(e)},removeChildNodes(r){for(let e=r.firstChild;e!==null;e=r.firstChild)r.removeChild(e)},createTemplateWalker(r){return document.createTreeWalker(r,133,null,!1)}});class Y_{constructor(e,t){this.sub1=void 0,this.sub2=void 0,this.spillover=void 0,this.source=e,this.sub1=t}has(e){return this.spillover===void 0?this.sub1===e||this.sub2===e:this.spillover.indexOf(e)!==-1}subscribe(e){const t=this.spillover;if(t===void 0){if(this.has(e))return;if(this.sub1===void 0){this.sub1=e;return}if(this.sub2===void 0){this.sub2=e;return}this.spillover=[this.sub1,this.sub2,e],this.sub1=void 0,this.sub2=void 0}else t.indexOf(e)===-1&&t.push(e)}unsubscribe(e){const t=this.spillover;if(t===void 0)this.sub1===e?this.sub1=void 0:this.sub2===e&&(this.sub2=void 0);else{const n=t.indexOf(e);n!==-1&&t.splice(n,1)}}notify(e){const t=this.spillover,n=this.source;if(t===void 0){const i=this.sub1,a=this.sub2;i!==void 0&&i.handleChange(n,e),a!==void 0&&a.handleChange(n,e)}else for(let i=0,a=t.length;i<a;++i)t[i].handleChange(n,e)}}class x5{constructor(e){this.subscribers={},this.sourceSubscribers=null,this.source=e}notify(e){var t;const n=this.subscribers[e];n!==void 0&&n.notify(e),(t=this.sourceSubscribers)===null||t===void 0||t.notify(e)}subscribe(e,t){var n;if(t){let i=this.subscribers[t];i===void 0&&(this.subscribers[t]=i=new Y_(this.source)),i.subscribe(e)}else this.sourceSubscribers=(n=this.sourceSubscribers)!==null&&n!==void 0?n:new Y_(this.source),this.sourceSubscribers.subscribe(e)}unsubscribe(e,t){var n;if(t){const i=this.subscribers[t];i!==void 0&&i.unsubscribe(e)}else(n=this.sourceSubscribers)===null||n===void 0||n.unsubscribe(e)}}const Yn=fb.getById(2,()=>{const r=/(:|&&|\|\||if)/,e=new WeakMap,t=ri.queueUpdate;let n,i=l=>{throw new Error("Must call enableArrayObservation before observing arrays.")};function a(l){let c=l.$fastController||e.get(l);return c===void 0&&(Array.isArray(l)?c=i(l):e.set(l,c=new x5(l))),c}const o=_5();class s{constructor(c){this.name=c,this.field=`_${c}`,this.callback=`${c}Changed`}getValue(c){return n!==void 0&&n.watch(c,this.name),c[this.field]}setValue(c,f){const d=this.field,v=c[d];if(v!==f){c[d]=f;const p=c[this.callback];typeof p=="function"&&p.call(c,v,f),a(c).notify(this.name)}}}class u extends Y_{constructor(c,f,d=!1){super(c,f),this.binding=c,this.isVolatileBinding=d,this.needsRefresh=!0,this.needsQueue=!0,this.first=this,this.last=null,this.propertySource=void 0,this.propertyName=void 0,this.notifier=void 0,this.next=void 0}observe(c,f){this.needsRefresh&&this.last!==null&&this.disconnect();const d=n;n=this.needsRefresh?this:void 0,this.needsRefresh=this.isVolatileBinding;const v=this.binding(c,f);return n=d,v}disconnect(){if(this.last!==null){let c=this.first;for(;c!==void 0;)c.notifier.unsubscribe(this,c.propertyName),c=c.next;this.last=null,this.needsRefresh=this.needsQueue=!0}}watch(c,f){const d=this.last,v=a(c),p=d===null?this.first:{};if(p.propertySource=c,p.propertyName=f,p.notifier=v,v.subscribe(this,f),d!==null){if(!this.needsRefresh){let m;n=void 0,m=d.propertySource[d.propertyName],n=this,c===m&&(this.needsRefresh=!0)}d.next=p}this.last=p}handleChange(){this.needsQueue&&(this.needsQueue=!1,t(this))}call(){this.last!==null&&(this.needsQueue=!0,this.notify(this))}records(){let c=this.first;return{next:()=>{const f=c;return f===void 0?{value:void 0,done:!0}:(c=c.next,{value:f,done:!1})},[Symbol.iterator]:function(){return this}}}}return Object.freeze({setArrayObserverFactory(l){i=l},getNotifier:a,track(l,c){n!==void 0&&n.watch(l,c)},trackVolatile(){n!==void 0&&(n.needsRefresh=!0)},notify(l,c){a(l).notify(c)},defineProperty(l,c){typeof c=="string"&&(c=new s(c)),o(l).push(c),Reflect.defineProperty(l,c.name,{enumerable:!0,get:function(){return c.getValue(this)},set:function(f){c.setValue(this,f)}})},getAccessors:o,binding(l,c,f=this.isVolatileBinding(l)){return new u(l,c,f)},isVolatileBinding(l){return r.test(l.toString())}})});function Ar(r,e){Yn.defineProperty(r,e)}function VW(r,e,t){return Object.assign({},t,{get:function(){return Yn.trackVolatile(),t.get.apply(this)}})}const PL=fb.getById(3,()=>{let r=null;return{get(){return r},set(e){r=e}}});class hb{constructor(){this.index=0,this.length=0,this.parent=null,this.parentContext=null}get event(){return PL.get()}get isEven(){return this.index%2===0}get isOdd(){return this.index%2!==0}get isFirst(){return this.index===0}get isInMiddle(){return!this.isFirst&&!this.isLast}get isLast(){return this.index===this.length-1}static setEvent(e){PL.set(e)}}Yn.defineProperty(hb.prototype,"index");Yn.defineProperty(hb.prototype,"length");const K0=Object.seal(new hb);class M1{constructor(){this.targetIndex=0}}class S5 extends M1{constructor(){super(...arguments),this.createPlaceholder=ri.createInterpolationPlaceholder}}class cA extends M1{constructor(e,t,n){super(),this.name=e,this.behavior=t,this.options=n}createPlaceholder(e){return ri.createCustomAttributePlaceholder(this.name,e)}createBehavior(e){return new this.behavior(e,this.options)}}function $W(r,e){this.source=r,this.context=e,this.bindingObserver===null&&(this.bindingObserver=Yn.binding(this.binding,this,this.isBindingVolatile)),this.updateTarget(this.bindingObserver.observe(r,e))}function WW(r,e){this.source=r,this.context=e,this.target.addEventListener(this.targetName,this)}function YW(){this.bindingObserver.disconnect(),this.source=null,this.context=null}function XW(){this.bindingObserver.disconnect(),this.source=null,this.context=null;const r=this.target.$fastView;r!==void 0&&r.isComposed&&(r.unbind(),r.needsBindOnly=!0)}function KW(){this.target.removeEventListener(this.targetName,this),this.source=null,this.context=null}function ZW(r){ri.setAttribute(this.target,this.targetName,r)}function QW(r){ri.setBooleanAttribute(this.target,this.targetName,r)}function JW(r){if(r==null&&(r=""),r.create){this.target.textContent="";let e=this.target.$fastView;e===void 0?e=r.create():this.target.$fastTemplate!==r&&(e.isComposed&&(e.remove(),e.unbind()),e=r.create()),e.isComposed?e.needsBindOnly&&(e.needsBindOnly=!1,e.bind(this.source,this.context)):(e.isComposed=!0,e.bind(this.source,this.context),e.insertBefore(this.target),this.target.$fastView=e,this.target.$fastTemplate=r)}else{const e=this.target.$fastView;e!==void 0&&e.isComposed&&(e.isComposed=!1,e.remove(),e.needsBindOnly?e.needsBindOnly=!1:e.unbind()),this.target.textContent=r}}function eY(r){this.target[this.targetName]=r}function tY(r){const e=this.classVersions||Object.create(null),t=this.target;let n=this.version||0;if(r!=null&&r.length){const i=r.split(/\s+/);for(let a=0,o=i.length;a<o;++a){const s=i[a];s!==""&&(e[s]=n,t.classList.add(s))}}if(this.classVersions=e,this.version=n+1,n!==0){n-=1;for(const i in e)e[i]===n&&t.classList.remove(i)}}class fA extends S5{constructor(e){super(),this.binding=e,this.bind=$W,this.unbind=YW,this.updateTarget=ZW,this.isBindingVolatile=Yn.isVolatileBinding(this.binding)}get targetName(){return this.originalTargetName}set targetName(e){if(this.originalTargetName=e,e!==void 0)switch(e[0]){case":":if(this.cleanedTargetName=e.substr(1),this.updateTarget=eY,this.cleanedTargetName==="innerHTML"){const t=this.binding;this.binding=(n,i)=>ri.createHTML(t(n,i))}break;case"?":this.cleanedTargetName=e.substr(1),this.updateTarget=QW;break;case"@":this.cleanedTargetName=e.substr(1),this.bind=WW,this.unbind=KW;break;default:this.cleanedTargetName=e,e==="class"&&(this.updateTarget=tY);break}}targetAtContent(){this.updateTarget=JW,this.unbind=XW}createBehavior(e){return new rY(e,this.binding,this.isBindingVolatile,this.bind,this.unbind,this.updateTarget,this.cleanedTargetName)}}class rY{constructor(e,t,n,i,a,o,s){this.source=null,this.context=null,this.bindingObserver=null,this.target=e,this.binding=t,this.isBindingVolatile=n,this.bind=i,this.unbind=a,this.updateTarget=o,this.targetName=s}handleChange(){this.updateTarget(this.bindingObserver.observe(this.source,this.context))}handleEvent(e){hb.setEvent(e);const t=this.binding(this.source,this.context);hb.setEvent(null),t!==!0&&e.preventDefault()}}let cC=null;class hA{addFactory(e){e.targetIndex=this.targetIndex,this.behaviorFactories.push(e)}captureContentBinding(e){e.targetAtContent(),this.addFactory(e)}reset(){this.behaviorFactories=[],this.targetIndex=-1}release(){cC=this}static borrow(e){const t=cC||new hA;return t.directives=e,t.reset(),cC=null,t}}function nY(r){if(r.length===1)return r[0];let e;const t=r.length,n=r.map(o=>typeof o=="string"?()=>o:(e=o.targetName||e,o.binding)),i=(o,s)=>{let u="";for(let l=0;l<t;++l)u+=n[l](o,s);return u},a=new fA(i);return a.targetName=e,a}const iY=lA.length;function O5(r,e){const t=e.split(E5);if(t.length===1)return null;const n=[];for(let i=0,a=t.length;i<a;++i){const o=t[i],s=o.indexOf(lA);let u;if(s===-1)u=o;else{const l=parseInt(o.substring(0,s));n.push(r.directives[l]),u=o.substring(s+iY)}u!==""&&n.push(u)}return n}function DL(r,e,t=!1){const n=e.attributes;for(let i=0,a=n.length;i<a;++i){const o=n[i],s=o.value,u=O5(r,s);let l=null;u===null?t&&(l=new fA(()=>s),l.targetName=o.name):l=nY(u),l!==null&&(e.removeAttributeNode(o),i--,a--,r.addFactory(l))}}function aY(r,e,t){const n=O5(r,e.textContent);if(n!==null){let i=e;for(let a=0,o=n.length;a<o;++a){const s=n[a],u=a===0?e:i.parentNode.insertBefore(document.createTextNode(""),i.nextSibling);typeof s=="string"?u.textContent=s:(u.textContent=" ",r.captureContentBinding(s)),i=u,r.targetIndex++,u!==e&&t.nextNode()}r.targetIndex--}}function oY(r,e){const t=r.content;document.adoptNode(t);const n=hA.borrow(e);DL(n,r,!0);const i=n.behaviorFactories;n.reset();const a=ri.createTemplateWalker(t);let o;for(;o=a.nextNode();)switch(n.targetIndex++,o.nodeType){case 1:DL(n,o);break;case 3:aY(n,o,a);break;case 8:ri.isMarker(o)&&n.addFactory(e[ri.extractDirectiveIndexFromMarker(o)])}let s=0;(ri.isMarker(t.firstChild)||t.childNodes.length===1&&e.length)&&(t.insertBefore(document.createComment(""),t.firstChild),s=-1);const u=n.behaviorFactories;return n.release(),{fragment:t,viewBehaviorFactories:u,hostBehaviorFactories:i,targetOffset:s}}const fC=document.createRange();class T5{constructor(e,t){this.fragment=e,this.behaviors=t,this.source=null,this.context=null,this.firstChild=e.firstChild,this.lastChild=e.lastChild}appendTo(e){e.appendChild(this.fragment)}insertBefore(e){if(this.fragment.hasChildNodes())e.parentNode.insertBefore(this.fragment,e);else{const t=this.lastChild;if(e.previousSibling===t)return;const n=e.parentNode;let i=this.firstChild,a;for(;i!==t;)a=i.nextSibling,n.insertBefore(i,e),i=a;n.insertBefore(t,e)}}remove(){const e=this.fragment,t=this.lastChild;let n=this.firstChild,i;for(;n!==t;)i=n.nextSibling,e.appendChild(n),n=i;e.appendChild(t)}dispose(){const e=this.firstChild.parentNode,t=this.lastChild;let n=this.firstChild,i;for(;n!==t;)i=n.nextSibling,e.removeChild(n),n=i;e.removeChild(t);const a=this.behaviors,o=this.source;for(let s=0,u=a.length;s<u;++s)a[s].unbind(o)}bind(e,t){const n=this.behaviors;if(this.source!==e)if(this.source!==null){const i=this.source;this.source=e,this.context=t;for(let a=0,o=n.length;a<o;++a){const s=n[a];s.unbind(i),s.bind(e,t)}}else{this.source=e,this.context=t;for(let i=0,a=n.length;i<a;++i)n[i].bind(e,t)}}unbind(){if(this.source===null)return;const e=this.behaviors,t=this.source;for(let n=0,i=e.length;n<i;++n)e[n].unbind(t);this.source=null}static disposeContiguousBatch(e){if(e.length!==0){fC.setStartBefore(e[0].firstChild),fC.setEndAfter(e[e.length-1].lastChild),fC.deleteContents();for(let t=0,n=e.length;t<n;++t){const i=e[t],a=i.behaviors,o=i.source;for(let s=0,u=a.length;s<u;++s)a[s].unbind(o)}}}}class IL{constructor(e,t){this.behaviorCount=0,this.hasHostBehaviors=!1,this.fragment=null,this.targetOffset=0,this.viewBehaviorFactories=null,this.hostBehaviorFactories=null,this.html=e,this.directives=t}create(e){if(this.fragment===null){let l;const c=this.html;if(typeof c=="string"){l=document.createElement("template"),l.innerHTML=ri.createHTML(c);const d=l.content.firstElementChild;d!==null&&d.tagName==="TEMPLATE"&&(l=d)}else l=c;const f=oY(l,this.directives);this.fragment=f.fragment,this.viewBehaviorFactories=f.viewBehaviorFactories,this.hostBehaviorFactories=f.hostBehaviorFactories,this.targetOffset=f.targetOffset,this.behaviorCount=this.viewBehaviorFactories.length+this.hostBehaviorFactories.length,this.hasHostBehaviors=this.hostBehaviorFactories.length>0}const t=this.fragment.cloneNode(!0),n=this.viewBehaviorFactories,i=new Array(this.behaviorCount),a=ri.createTemplateWalker(t);let o=0,s=this.targetOffset,u=a.nextNode();for(let l=n.length;o<l;++o){const c=n[o],f=c.targetIndex;for(;u!==null;)if(s===f){i[o]=c.createBehavior(u);break}else u=a.nextNode(),s++}if(this.hasHostBehaviors){const l=this.hostBehaviorFactories;for(let c=0,f=l.length;c<f;++c,++o)i[o]=l[c].createBehavior(e)}return new T5(t,i)}render(e,t,n){typeof t=="string"&&(t=document.getElementById(t)),n===void 0&&(n=t);const i=this.create(n);return i.bind(e,K0),i.appendTo(t),i}}const sY=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;function ua(r,...e){const t=[];let n="";for(let i=0,a=r.length-1;i<a;++i){const o=r[i];let s=e[i];if(n+=o,s instanceof IL){const u=s;s=()=>u}if(typeof s=="function"&&(s=new fA(s)),s instanceof S5){const u=sY.exec(o);u!==null&&(s.targetName=u[2])}s instanceof M1?(n+=s.createPlaceholder(t.length),t.push(s)):n+=s}return n+=r[r.length-1],new IL(n,t)}class Bf{constructor(){this.targets=new WeakSet}addStylesTo(e){this.targets.add(e)}removeStylesFrom(e){this.targets.delete(e)}isAttachedTo(e){return this.targets.has(e)}withBehaviors(...e){return this.behaviors=this.behaviors===null?e:this.behaviors.concat(e),this}}Bf.create=(()=>{if(ri.supportsAdoptedStyleSheets){const r=new Map;return e=>new uY(e,r)}return r=>new fY(r)})();function dA(r){return r.map(e=>e instanceof Bf?dA(e.styles):[e]).reduce((e,t)=>e.concat(t),[])}function C5(r){return r.map(e=>e instanceof Bf?e.behaviors:null).reduce((e,t)=>t===null?e:(e===null&&(e=[]),e.concat(t)),null)}const A5=Symbol("prependToAdoptedStyleSheets");function R5(r){const e=[],t=[];return r.forEach(n=>(n[A5]?e:t).push(n)),{prepend:e,append:t}}let P5=(r,e)=>{const{prepend:t,append:n}=R5(e);r.adoptedStyleSheets=[...t,...r.adoptedStyleSheets,...n]},D5=(r,e)=>{r.adoptedStyleSheets=r.adoptedStyleSheets.filter(t=>e.indexOf(t)===-1)};if(ri.supportsAdoptedStyleSheets)try{document.adoptedStyleSheets.push(),document.adoptedStyleSheets.splice(),P5=(r,e)=>{const{prepend:t,append:n}=R5(e);r.adoptedStyleSheets.splice(0,0,...t),r.adoptedStyleSheets.push(...n)},D5=(r,e)=>{for(const t of e){const n=r.adoptedStyleSheets.indexOf(t);n!==-1&&r.adoptedStyleSheets.splice(n,1)}}}catch{}class uY extends Bf{constructor(e,t){super(),this.styles=e,this.styleSheetCache=t,this._styleSheets=void 0,this.behaviors=C5(e)}get styleSheets(){if(this._styleSheets===void 0){const e=this.styles,t=this.styleSheetCache;this._styleSheets=dA(e).map(n=>{if(n instanceof CSSStyleSheet)return n;let i=t.get(n);return i===void 0&&(i=new CSSStyleSheet,i.replaceSync(n),t.set(n,i)),i})}return this._styleSheets}addStylesTo(e){P5(e,this.styleSheets),super.addStylesTo(e)}removeStylesFrom(e){D5(e,this.styleSheets),super.removeStylesFrom(e)}}let lY=0;function cY(){return`fast-style-class-${++lY}`}class fY extends Bf{constructor(e){super(),this.styles=e,this.behaviors=null,this.behaviors=C5(e),this.styleSheets=dA(e),this.styleClass=cY()}addStylesTo(e){const t=this.styleSheets,n=this.styleClass;e=this.normalizeTarget(e);for(let i=0;i<t.length;i++){const a=document.createElement("style");a.innerHTML=t[i],a.className=n,e.append(a)}super.addStylesTo(e)}removeStylesFrom(e){e=this.normalizeTarget(e);const t=e.querySelectorAll(`.${this.styleClass}`);for(let n=0,i=t.length;n<i;++n)e.removeChild(t[n]);super.removeStylesFrom(e)}isAttachedTo(e){return super.isAttachedTo(this.normalizeTarget(e))}normalizeTarget(e){return e===document?document.body:e}}const X_=Object.freeze({locate:_5()}),I5={toView(r){return r?"true":"false"},fromView(r){return!(r==null||r==="false"||r===!1||r===0)}},gv={toView(r){if(r==null)return null;const e=r*1;return isNaN(e)?null:e.toString()},fromView(r){if(r==null)return null;const e=r*1;return isNaN(e)?null:e}};class K_{constructor(e,t,n=t.toLowerCase(),i="reflect",a){this.guards=new Set,this.Owner=e,this.name=t,this.attribute=n,this.mode=i,this.converter=a,this.fieldName=`_${t}`,this.callbackName=`${t}Changed`,this.hasCallback=this.callbackName in e.prototype,i==="boolean"&&a===void 0&&(this.converter=I5)}setValue(e,t){const n=e[this.fieldName],i=this.converter;i!==void 0&&(t=i.fromView(t)),n!==t&&(e[this.fieldName]=t,this.tryReflectToAttribute(e),this.hasCallback&&e[this.callbackName](n,t),e.$fastController.notify(this.name))}getValue(e){return Yn.track(e,this.name),e[this.fieldName]}onAttributeChangedCallback(e,t){this.guards.has(e)||(this.guards.add(e),this.setValue(e,t),this.guards.delete(e))}tryReflectToAttribute(e){const t=this.mode,n=this.guards;n.has(e)||t==="fromView"||ri.queueUpdate(()=>{n.add(e);const i=e[this.fieldName];switch(t){case"reflect":const a=this.converter;ri.setAttribute(e,this.attribute,a!==void 0?a.toView(i):i);break;case"boolean":ri.setBooleanAttribute(e,this.attribute,i);break}n.delete(e)})}static collect(e,...t){const n=[];t.push(X_.locate(e));for(let i=0,a=t.length;i<a;++i){const o=t[i];if(o!==void 0)for(let s=0,u=o.length;s<u;++s){const l=o[s];typeof l=="string"?n.push(new K_(e,l)):n.push(new K_(e,l.property,l.attribute,l.mode,l.converter))}}return n}}function Qt(r,e){let t;function n(i,a){arguments.length>1&&(t.property=a),X_.locate(i.constructor).push(t)}if(arguments.length>1){t={},n(r,e);return}return t=r===void 0?{}:r,n}const kL={mode:"open"},ML={},XC=fb.getById(4,()=>{const r=new Map;return Object.freeze({register(e){return r.has(e.type)?!1:(r.set(e.type,e),!0)},getByType(e){return r.get(e)}})});class Rb{constructor(e,t=e.definition){typeof t=="string"&&(t={name:t}),this.type=e,this.name=t.name,this.template=t.template;const n=K_.collect(e,t.attributes),i=new Array(n.length),a={},o={};for(let s=0,u=n.length;s<u;++s){const l=n[s];i[s]=l.attribute,a[l.name]=l,o[l.attribute]=l}this.attributes=n,this.observedAttributes=i,this.propertyLookup=a,this.attributeLookup=o,this.shadowOptions=t.shadowOptions===void 0?kL:t.shadowOptions===null?void 0:Object.assign(Object.assign({},kL),t.shadowOptions),this.elementOptions=t.elementOptions===void 0?ML:Object.assign(Object.assign({},ML),t.elementOptions),this.styles=t.styles===void 0?void 0:Array.isArray(t.styles)?Bf.create(t.styles):t.styles instanceof Bf?t.styles:Bf.create([t.styles])}get isDefined(){return!!XC.getByType(this.type)}define(e=customElements){const t=this.type;if(XC.register(this)){const n=this.attributes,i=t.prototype;for(let a=0,o=n.length;a<o;++a)Yn.defineProperty(i,n[a]);Reflect.defineProperty(t,"observedAttributes",{value:this.observedAttributes,enumerable:!0})}return e.get(this.name)||e.define(this.name,t,this.elementOptions),this}}Rb.forType=XC.getByType;const k5=new WeakMap,hY={bubbles:!0,composed:!0,cancelable:!0};function hC(r){return r.shadowRoot||k5.get(r)||null}class vA extends x5{constructor(e,t){super(e),this.boundObservables=null,this.behaviors=null,this.needsInitialization=!0,this._template=null,this._styles=null,this._isConnected=!1,this.$fastController=this,this.view=null,this.element=e,this.definition=t;const n=t.shadowOptions;if(n!==void 0){const a=e.attachShadow(n);n.mode==="closed"&&k5.set(e,a)}const i=Yn.getAccessors(e);if(i.length>0){const a=this.boundObservables=Object.create(null);for(let o=0,s=i.length;o<s;++o){const u=i[o].name,l=e[u];l!==void 0&&(delete e[u],a[u]=l)}}}get isConnected(){return Yn.track(this,"isConnected"),this._isConnected}setIsConnected(e){this._isConnected=e,Yn.notify(this,"isConnected")}get template(){return this._template}set template(e){this._template!==e&&(this._template=e,this.needsInitialization||this.renderTemplate(e))}get styles(){return this._styles}set styles(e){this._styles!==e&&(this._styles!==null&&this.removeStyles(this._styles),this._styles=e,!this.needsInitialization&&e!==null&&this.addStyles(e))}addStyles(e){const t=hC(this.element)||this.element.getRootNode();if(e instanceof HTMLStyleElement)t.append(e);else if(!e.isAttachedTo(t)){const n=e.behaviors;e.addStylesTo(t),n!==null&&this.addBehaviors(n)}}removeStyles(e){const t=hC(this.element)||this.element.getRootNode();if(e instanceof HTMLStyleElement)t.removeChild(e);else if(e.isAttachedTo(t)){const n=e.behaviors;e.removeStylesFrom(t),n!==null&&this.removeBehaviors(n)}}addBehaviors(e){const t=this.behaviors||(this.behaviors=new Map),n=e.length,i=[];for(let a=0;a<n;++a){const o=e[a];t.has(o)?t.set(o,t.get(o)+1):(t.set(o,1),i.push(o))}if(this._isConnected){const a=this.element;for(let o=0;o<i.length;++o)i[o].bind(a,K0)}}removeBehaviors(e,t=!1){const n=this.behaviors;if(n===null)return;const i=e.length,a=[];for(let o=0;o<i;++o){const s=e[o];if(n.has(s)){const u=n.get(s)-1;u===0||t?n.delete(s)&&a.push(s):n.set(s,u)}}if(this._isConnected){const o=this.element;for(let s=0;s<a.length;++s)a[s].unbind(o)}}onConnectedCallback(){if(this._isConnected)return;const e=this.element;this.needsInitialization?this.finishInitialization():this.view!==null&&this.view.bind(e,K0);const t=this.behaviors;if(t!==null)for(const[n]of t)n.bind(e,K0);this.setIsConnected(!0)}onDisconnectedCallback(){if(!this._isConnected)return;this.setIsConnected(!1);const e=this.view;e!==null&&e.unbind();const t=this.behaviors;if(t!==null){const n=this.element;for(const[i]of t)i.unbind(n)}}onAttributeChangedCallback(e,t,n){const i=this.definition.attributeLookup[e];i!==void 0&&i.onAttributeChangedCallback(this.element,n)}emit(e,t,n){return this._isConnected?this.element.dispatchEvent(new CustomEvent(e,Object.assign(Object.assign({detail:t},hY),n))):!1}finishInitialization(){const e=this.element,t=this.boundObservables;if(t!==null){const i=Object.keys(t);for(let a=0,o=i.length;a<o;++a){const s=i[a];e[s]=t[s]}this.boundObservables=null}const n=this.definition;this._template===null&&(this.element.resolveTemplate?this._template=this.element.resolveTemplate():n.template&&(this._template=n.template||null)),this._template!==null&&this.renderTemplate(this._template),this._styles===null&&(this.element.resolveStyles?this._styles=this.element.resolveStyles():n.styles&&(this._styles=n.styles||null)),this._styles!==null&&this.addStyles(this._styles),this.needsInitialization=!1}renderTemplate(e){const t=this.element,n=hC(t)||t;this.view!==null?(this.view.dispose(),this.view=null):this.needsInitialization||ri.removeChildNodes(n),e&&(this.view=e.render(t,n,t))}static forCustomElement(e){const t=e.$fastController;if(t!==void 0)return t;const n=Rb.forType(e.constructor);if(n===void 0)throw new Error("Missing FASTElement definition.");return e.$fastController=new vA(e,n)}}function NL(r){return class extends r{constructor(){super(),vA.forCustomElement(this)}$emit(e,t,n){return this.$fastController.emit(e,t,n)}connectedCallback(){this.$fastController.onConnectedCallback()}disconnectedCallback(){this.$fastController.onDisconnectedCallback()}attributeChangedCallback(e,t,n){this.$fastController.onAttributeChangedCallback(e,t,n)}}}const N1=Object.assign(NL(HTMLElement),{from(r){return NL(r)},define(r,e){return new Rb(r,e).define().type}});class M5{createCSS(){return""}createBehavior(){}}function dY(r,e){const t=[];let n="";const i=[];for(let a=0,o=r.length-1;a<o;++a){n+=r[a];let s=e[a];if(s instanceof M5){const u=s.createBehavior();s=s.createCSS(),u&&i.push(u)}s instanceof Bf||s instanceof CSSStyleSheet?(n.trim()!==""&&(t.push(n),n=""),t.push(s)):n+=s}return n+=r[r.length-1],n.trim()!==""&&t.push(n),{styles:t,behaviors:i}}function $o(r,...e){const{styles:t,behaviors:n}=dY(r,e),i=Bf.create(t);return n.length&&i.withBehaviors(...n),i}function hv(r,e,t){return{index:r,removed:e,addedCount:t}}const N5=0,L5=1,KC=2,ZC=3;function vY(r,e,t,n,i,a){const o=a-i+1,s=t-e+1,u=new Array(o);let l,c;for(let f=0;f<o;++f)u[f]=new Array(s),u[f][0]=f;for(let f=0;f<s;++f)u[0][f]=f;for(let f=1;f<o;++f)for(let d=1;d<s;++d)r[e+d-1]===n[i+f-1]?u[f][d]=u[f-1][d-1]:(l=u[f-1][d]+1,c=u[f][d-1]+1,u[f][d]=l<c?l:c);return u}function pY(r){let e=r.length-1,t=r[0].length-1,n=r[e][t];const i=[];for(;e>0||t>0;){if(e===0){i.push(KC),t--;continue}if(t===0){i.push(ZC),e--;continue}const a=r[e-1][t-1],o=r[e-1][t],s=r[e][t-1];let u;o<s?u=o<a?o:a:u=s<a?s:a,u===a?(a===n?i.push(N5):(i.push(L5),n=a),e--,t--):u===o?(i.push(ZC),e--,n=o):(i.push(KC),t--,n=s)}return i.reverse(),i}function gY(r,e,t){for(let n=0;n<t;++n)if(r[n]!==e[n])return n;return t}function yY(r,e,t){let n=r.length,i=e.length,a=0;for(;a<t&&r[--n]===e[--i];)a++;return a}function mY(r,e,t,n){return e<t||n<r?-1:e===t||n===r?0:r<t?e<n?e-t:n-t:n<e?n-r:e-r}function j5(r,e,t,n,i,a){let o=0,s=0;const u=Math.min(t-e,a-i);if(e===0&&i===0&&(o=gY(r,n,u)),t===r.length&&a===n.length&&(s=yY(r,n,u-o)),e+=o,i+=o,t-=s,a-=s,t-e===0&&a-i===0)return ky;if(e===t){const p=hv(e,[],0);for(;i<a;)p.removed.push(n[i++]);return[p]}else if(i===a)return[hv(e,[],t-e)];const l=pY(vY(r,e,t,n,i,a)),c=[];let f,d=e,v=i;for(let p=0;p<l.length;++p)switch(l[p]){case N5:f!==void 0&&(c.push(f),f=void 0),d++,v++;break;case L5:f===void 0&&(f=hv(d,[],0)),f.addedCount++,d++,f.removed.push(n[v]),v++;break;case KC:f===void 0&&(f=hv(d,[],0)),f.addedCount++,d++;break;case ZC:f===void 0&&(f=hv(d,[],0)),f.removed.push(n[v]),v++;break}return f!==void 0&&c.push(f),c}const LL=Array.prototype.push;function bY(r,e,t,n){const i=hv(e,t,n);let a=!1,o=0;for(let s=0;s<r.length;s++){const u=r[s];if(u.index+=o,a)continue;const l=mY(i.index,i.index+i.removed.length,u.index,u.index+u.addedCount);if(l>=0){r.splice(s,1),s--,o-=u.addedCount-u.removed.length,i.addedCount+=u.addedCount-l;const c=i.removed.length+u.removed.length-l;if(!i.addedCount&&!c)a=!0;else{let f=u.removed;if(i.index<u.index){const d=i.removed.slice(0,u.index-i.index);LL.apply(d,f),f=d}if(i.index+i.removed.length>u.index+u.addedCount){const d=i.removed.slice(u.index+u.addedCount-i.index);LL.apply(f,d)}i.removed=f,u.index<i.index&&(i.index=u.index)}}else if(i.index<u.index){a=!0,r.splice(s,0,i),s++;const c=i.addedCount-i.removed.length;u.index+=c,o+=c}}a||r.push(i)}function _Y(r){const e=[];for(let t=0,n=r.length;t<n;t++){const i=r[t];bY(e,i.index,i.removed,i.addedCount)}return e}function wY(r,e){let t=[];const n=_Y(e);for(let i=0,a=n.length;i<a;++i){const o=n[i];if(o.addedCount===1&&o.removed.length===1){o.removed[0]!==r[o.index]&&t.push(o);continue}t=t.concat(j5(r,o.index,o.index+o.addedCount,o.removed,0,o.removed.length))}return t}let jL=!1;function dC(r,e){let t=r.index;const n=e.length;return t>n?t=n-r.addedCount:t<0&&(t=n+r.removed.length+t-r.addedCount),t<0&&(t=0),r.index=t,r}class EY extends Y_{constructor(e){super(e),this.oldCollection=void 0,this.splices=void 0,this.needsQueue=!0,this.call=this.flush,Reflect.defineProperty(e,"$fastController",{value:this,enumerable:!1})}subscribe(e){this.flush(),super.subscribe(e)}addSplice(e){this.splices===void 0?this.splices=[e]:this.splices.push(e),this.needsQueue&&(this.needsQueue=!1,ri.queueUpdate(this))}reset(e){this.oldCollection=e,this.needsQueue&&(this.needsQueue=!1,ri.queueUpdate(this))}flush(){const e=this.splices,t=this.oldCollection;if(e===void 0&&t===void 0)return;this.needsQueue=!0,this.splices=void 0,this.oldCollection=void 0;const n=t===void 0?wY(this.source,e):j5(this.source,0,this.source.length,t,0,t.length);this.notify(n)}}function xY(){if(jL)return;jL=!0,Yn.setArrayObserverFactory(u=>new EY(u));const r=Array.prototype;if(r.$fastPatch)return;Reflect.defineProperty(r,"$fastPatch",{value:1,enumerable:!1});const e=r.pop,t=r.push,n=r.reverse,i=r.shift,a=r.sort,o=r.splice,s=r.unshift;r.pop=function(){const u=this.length>0,l=e.apply(this,arguments),c=this.$fastController;return c!==void 0&&u&&c.addSplice(hv(this.length,[l],0)),l},r.push=function(){const u=t.apply(this,arguments),l=this.$fastController;return l!==void 0&&l.addSplice(dC(hv(this.length-arguments.length,[],arguments.length),this)),u},r.reverse=function(){let u;const l=this.$fastController;l!==void 0&&(l.flush(),u=this.slice());const c=n.apply(this,arguments);return l!==void 0&&l.reset(u),c},r.shift=function(){const u=this.length>0,l=i.apply(this,arguments),c=this.$fastController;return c!==void 0&&u&&c.addSplice(hv(0,[l],0)),l},r.sort=function(){let u;const l=this.$fastController;l!==void 0&&(l.flush(),u=this.slice());const c=a.apply(this,arguments);return l!==void 0&&l.reset(u),c},r.splice=function(){const u=o.apply(this,arguments),l=this.$fastController;return l!==void 0&&l.addSplice(dC(hv(+arguments[0],u,arguments.length>2?arguments.length-2:0),this)),u},r.unshift=function(){const u=s.apply(this,arguments),l=this.$fastController;return l!==void 0&&l.addSplice(dC(hv(0,[],arguments.length),this)),u}}class SY{constructor(e,t){this.target=e,this.propertyName=t}bind(e){e[this.propertyName]=this.target}unbind(){}}function af(r){return new cA("fast-ref",SY,r)}const B5=r=>typeof r=="function",OY=()=>null;function BL(r){return r===void 0?OY:B5(r)?r:()=>r}function pA(r,e,t){const n=B5(r)?r:()=>r,i=BL(e),a=BL(t);return(o,s)=>n(o,s)?i(o,s):a(o,s)}function TY(r,e,t,n){r.bind(e[t],n)}function CY(r,e,t,n){const i=Object.create(n);i.index=t,i.length=e.length,r.bind(e[t],i)}class AY{constructor(e,t,n,i,a,o){this.location=e,this.itemsBinding=t,this.templateBinding=i,this.options=o,this.source=null,this.views=[],this.items=null,this.itemsObserver=null,this.originalContext=void 0,this.childContext=void 0,this.bindView=TY,this.itemsBindingObserver=Yn.binding(t,this,n),this.templateBindingObserver=Yn.binding(i,this,a),o.positioning&&(this.bindView=CY)}bind(e,t){this.source=e,this.originalContext=t,this.childContext=Object.create(t),this.childContext.parent=e,this.childContext.parentContext=this.originalContext,this.items=this.itemsBindingObserver.observe(e,this.originalContext),this.template=this.templateBindingObserver.observe(e,this.originalContext),this.observeItems(!0),this.refreshAllViews()}unbind(){this.source=null,this.items=null,this.itemsObserver!==null&&this.itemsObserver.unsubscribe(this),this.unbindAllViews(),this.itemsBindingObserver.disconnect(),this.templateBindingObserver.disconnect()}handleChange(e,t){e===this.itemsBinding?(this.items=this.itemsBindingObserver.observe(this.source,this.originalContext),this.observeItems(),this.refreshAllViews()):e===this.templateBinding?(this.template=this.templateBindingObserver.observe(this.source,this.originalContext),this.refreshAllViews(!0)):this.updateViews(t)}observeItems(e=!1){if(!this.items){this.items=ky;return}const t=this.itemsObserver,n=this.itemsObserver=Yn.getNotifier(this.items),i=t!==n;i&&t!==null&&t.unsubscribe(this),(i||e)&&n.subscribe(this)}updateViews(e){const t=this.childContext,n=this.views,i=this.bindView,a=this.items,o=this.template,s=this.options.recycle,u=[];let l=0,c=0;for(let f=0,d=e.length;f<d;++f){const v=e[f],p=v.removed;let m=0,w=v.index;const b=w+v.addedCount,y=n.splice(v.index,p.length),_=c=u.length+y.length;for(;w<b;++w){const S=n[w],A=S?S.firstChild:this.location;let D;s&&c>0?(m<=_&&y.length>0?(D=y[m],m++):(D=u[l],l++),c--):D=o.create(),n.splice(w,0,D),i(D,a,w,t),D.insertBefore(A)}y[m]&&u.push(...y.slice(m))}for(let f=l,d=u.length;f<d;++f)u[f].dispose();if(this.options.positioning)for(let f=0,d=n.length;f<d;++f){const v=n[f].context;v.length=d,v.index=f}}refreshAllViews(e=!1){const t=this.items,n=this.childContext,i=this.template,a=this.location,o=this.bindView;let s=t.length,u=this.views,l=u.length;if((s===0||e||!this.options.recycle)&&(T5.disposeContiguousBatch(u),l=0),l===0){this.views=u=new Array(s);for(let c=0;c<s;++c){const f=i.create();o(f,t,c,n),u[c]=f,f.insertBefore(a)}}else{let c=0;for(;c<s;++c)if(c<l){const d=u[c];o(d,t,c,n)}else{const d=i.create();o(d,t,c,n),u.push(d),d.insertBefore(a)}const f=u.splice(c,l-c);for(c=0,s=f.length;c<s;++c)f[c].dispose()}}unbindAllViews(){const e=this.views;for(let t=0,n=e.length;t<n;++t)e[t].unbind()}}class F5 extends M1{constructor(e,t,n){super(),this.itemsBinding=e,this.templateBinding=t,this.options=n,this.createPlaceholder=ri.createBlockPlaceholder,xY(),this.isItemsBindingVolatile=Yn.isVolatileBinding(e),this.isTemplateBindingVolatile=Yn.isVolatileBinding(t)}createBehavior(e){return new AY(e,this.itemsBinding,this.isItemsBindingVolatile,this.templateBinding,this.isTemplateBindingVolatile,this.options)}}function gA(r){return r?function(e,t,n){return e.nodeType===1&&e.matches(r)}:function(e,t,n){return e.nodeType===1}}class U5{constructor(e,t){this.target=e,this.options=t,this.source=null}bind(e){const t=this.options.property;this.shouldUpdate=Yn.getAccessors(e).some(n=>n.name===t),this.source=e,this.updateTarget(this.computeNodes()),this.shouldUpdate&&this.observe()}unbind(){this.updateTarget(ky),this.source=null,this.shouldUpdate&&this.disconnect()}handleEvent(){this.updateTarget(this.computeNodes())}computeNodes(){let e=this.getNodes();return this.options.filter!==void 0&&(e=e.filter(this.options.filter)),e}updateTarget(e){this.source[this.options.property]=e}}class RY extends U5{constructor(e,t){super(e,t)}observe(){this.target.addEventListener("slotchange",this)}disconnect(){this.target.removeEventListener("slotchange",this)}getNodes(){return this.target.assignedNodes(this.options)}}function wd(r){return typeof r=="string"&&(r={property:r}),new cA("fast-slotted",RY,r)}class PY extends U5{constructor(e,t){super(e,t),this.observer=null,t.childList=!0}observe(){this.observer===null&&(this.observer=new MutationObserver(this.handleEvent.bind(this))),this.observer.observe(this.target,this.options)}disconnect(){this.observer.disconnect()}getNodes(){return"subtree"in this.options?Array.from(this.target.querySelectorAll(this.options.selector)):Array.from(this.target.childNodes)}}function z5(r){return typeof r=="string"&&(r={property:r}),new cA("fast-children",PY,r)}class l0{handleStartContentChange(){this.startContainer.classList.toggle("start",this.start.assignedNodes().length>0)}handleEndContentChange(){this.endContainer.classList.toggle("end",this.end.assignedNodes().length>0)}}const c0=(r,e)=>ua`
    <span
        part="end"
        ${af("endContainer")}
        class=${t=>e.end?"end":void 0}
    >
        <slot name="end" ${af("end")} @slotchange="${t=>t.handleEndContentChange()}">
            ${e.end||""}
        </slot>
    </span>
`,f0=(r,e)=>ua`
    <span
        part="start"
        ${af("startContainer")}
        class="${t=>e.start?"start":void 0}"
    >
        <slot
            name="start"
            ${af("start")}
            @slotchange="${t=>t.handleStartContentChange()}"
        >
            ${e.start||""}
        </slot>
    </span>
`;ua`
    <span part="end" ${af("endContainer")}>
        <slot
            name="end"
            ${af("end")}
            @slotchange="${r=>r.handleEndContentChange()}"
        ></slot>
    </span>
`;ua`
    <span part="start" ${af("startContainer")}>
        <slot
            name="start"
            ${af("start")}
            @slotchange="${r=>r.handleStartContentChange()}"
        ></slot>
    </span>
`;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function At(r,e,t,n){var i=arguments.length,a=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(o=r[s])&&(a=(i<3?o(a):i>3?o(e,t,a):o(e,t))||a);return i>3&&a&&Object.defineProperty(e,t,a),a}const vC=new Map;"metadata"in Reflect||(Reflect.metadata=function(r,e){return function(t){Reflect.defineMetadata(r,e,t)}},Reflect.defineMetadata=function(r,e,t){let n=vC.get(t);n===void 0&&vC.set(t,n=new Map),n.set(r,e)},Reflect.getOwnMetadata=function(r,e){const t=vC.get(e);if(t!==void 0)return t.get(r)});class DY{constructor(e,t){this.container=e,this.key=t}instance(e){return this.registerResolver(0,e)}singleton(e){return this.registerResolver(1,e)}transient(e){return this.registerResolver(2,e)}callback(e){return this.registerResolver(3,e)}cachedCallback(e){return this.registerResolver(3,G5(e))}aliasTo(e){return this.registerResolver(5,e)}registerResolver(e,t){const{container:n,key:i}=this;return this.container=this.key=void 0,n.registerResolver(i,new yd(i,e,t))}}function D0(r){const e=r.slice(),t=Object.keys(r),n=t.length;let i;for(let a=0;a<n;++a)i=t[a],H5(i)||(e[i]=r[i]);return e}const IY=Object.freeze({none(r){throw Error(`${r.toString()} not registered, did you forget to add @singleton()?`)},singleton(r){return new yd(r,1,r)},transient(r){return new yd(r,2,r)}}),pC=Object.freeze({default:Object.freeze({parentLocator:()=>null,responsibleForOwnerRequests:!1,defaultResolver:IY.singleton})}),FL=new Map;function UL(r){return e=>Reflect.getOwnMetadata(r,e)}let zL=null;const Go=Object.freeze({createContainer(r){return new Z0(null,Object.assign({},pC.default,r))},findResponsibleContainer(r){const e=r.$$container$$;return e&&e.responsibleForOwnerRequests?e:Go.findParentContainer(r)},findParentContainer(r){const e=new CustomEvent(q5,{bubbles:!0,composed:!0,cancelable:!0,detail:{container:void 0}});return r.dispatchEvent(e),e.detail.container||Go.getOrCreateDOMContainer()},getOrCreateDOMContainer(r,e){return r?r.$$container$$||new Z0(r,Object.assign({},pC.default,e,{parentLocator:Go.findParentContainer})):zL||(zL=new Z0(null,Object.assign({},pC.default,e,{parentLocator:()=>null})))},getDesignParamtypes:UL("design:paramtypes"),getAnnotationParamtypes:UL("di:paramtypes"),getOrCreateAnnotationParamTypes(r){let e=this.getAnnotationParamtypes(r);return e===void 0&&Reflect.defineMetadata("di:paramtypes",e=[],r),e},getDependencies(r){let e=FL.get(r);if(e===void 0){const t=r.inject;if(t===void 0){const n=Go.getDesignParamtypes(r),i=Go.getAnnotationParamtypes(r);if(n===void 0)if(i===void 0){const a=Object.getPrototypeOf(r);typeof a=="function"&&a!==Function.prototype?e=D0(Go.getDependencies(a)):e=[]}else e=D0(i);else if(i===void 0)e=D0(n);else{e=D0(n);let a=i.length,o;for(let l=0;l<a;++l)o=i[l],o!==void 0&&(e[l]=o);const s=Object.keys(i);a=s.length;let u;for(let l=0;l<a;++l)u=s[l],H5(u)||(e[u]=i[u])}}else e=D0(t);FL.set(r,e)}return e},defineProperty(r,e,t,n=!1){const i=`$di_${e}`;Reflect.defineProperty(r,e,{get:function(){let a=this[i];if(a===void 0&&(a=(this instanceof HTMLElement?Go.findResponsibleContainer(this):Go.getOrCreateDOMContainer()).get(t),this[i]=a,n&&this instanceof N1)){const s=this.$fastController,u=()=>{const c=Go.findResponsibleContainer(this).get(t),f=this[i];c!==f&&(this[i]=a,s.notify(e))};s.subscribe({handleChange:u},"isConnected")}return a}})},createInterface(r,e){const t=typeof r=="function"?r:e,n=typeof r=="string"?r:r&&"friendlyName"in r&&r.friendlyName||VL,i=typeof r=="string"?!1:r&&"respectConnection"in r&&r.respectConnection||!1,a=function(o,s,u){if(o==null||new.target!==void 0)throw new Error(`No registration for interface: '${a.friendlyName}'`);if(s)Go.defineProperty(o,s,a,i);else{const l=Go.getOrCreateAnnotationParamTypes(o);l[u]=a}};return a.$isInterface=!0,a.friendlyName=n??"(anonymous)",t!=null&&(a.register=function(o,s){return t(new DY(o,s??a))}),a.toString=function(){return`InterfaceSymbol<${a.friendlyName}>`},a},inject(...r){return function(e,t,n){if(typeof n=="number"){const i=Go.getOrCreateAnnotationParamTypes(e),a=r[0];a!==void 0&&(i[n]=a)}else if(t)Go.defineProperty(e,t,r[0]);else{const i=n?Go.getOrCreateAnnotationParamTypes(n.value):Go.getOrCreateAnnotationParamTypes(e);let a;for(let o=0;o<r.length;++o)a=r[o],a!==void 0&&(i[o]=a)}}},transient(r){return r.register=function(t){return db.transient(r,r).register(t)},r.registerInRequestor=!1,r},singleton(r,e=MY){return r.register=function(n){return db.singleton(r,r).register(n)},r.registerInRequestor=e.scoped,r}}),kY=Go.createInterface("Container");Go.inject;const MY={scoped:!1};class yd{constructor(e,t,n){this.key=e,this.strategy=t,this.state=n,this.resolving=!1}get $isResolver(){return!0}register(e){return e.registerResolver(this.key,this)}resolve(e,t){switch(this.strategy){case 0:return this.state;case 1:{if(this.resolving)throw new Error(`Cyclic dependency found: ${this.state.name}`);return this.resolving=!0,this.state=e.getFactory(this.state).construct(t),this.strategy=0,this.resolving=!1,this.state}case 2:{const n=e.getFactory(this.state);if(n===null)throw new Error(`Resolver for ${String(this.key)} returned a null factory`);return n.construct(t)}case 3:return this.state(e,t,this);case 4:return this.state[0].resolve(e,t);case 5:return t.get(this.state);default:throw new Error(`Invalid resolver strategy specified: ${this.strategy}.`)}}getFactory(e){var t,n,i;switch(this.strategy){case 1:case 2:return e.getFactory(this.state);case 5:return(i=(n=(t=e.getResolver(this.state))===null||t===void 0?void 0:t.getFactory)===null||n===void 0?void 0:n.call(t,e))!==null&&i!==void 0?i:null;default:return null}}}function qL(r){return this.get(r)}function NY(r,e){return e(r)}class LY{constructor(e,t){this.Type=e,this.dependencies=t,this.transformers=null}construct(e,t){let n;return t===void 0?n=new this.Type(...this.dependencies.map(qL,e)):n=new this.Type(...this.dependencies.map(qL,e),...t),this.transformers==null?n:this.transformers.reduce(NY,n)}registerTransformer(e){(this.transformers||(this.transformers=[])).push(e)}}const jY={$isResolver:!0,resolve(r,e){return e}};function R_(r){return typeof r.register=="function"}function BY(r){return R_(r)&&typeof r.registerInRequestor=="boolean"}function GL(r){return BY(r)&&r.registerInRequestor}function FY(r){return r.prototype!==void 0}const UY=new Set(["Array","ArrayBuffer","Boolean","DataView","Date","Error","EvalError","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Number","Object","Promise","RangeError","ReferenceError","RegExp","Set","SharedArrayBuffer","String","SyntaxError","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","URIError","WeakMap","WeakSet"]),q5="__DI_LOCATE_PARENT__",gC=new Map;class Z0{constructor(e,t){this.owner=e,this.config=t,this._parent=void 0,this.registerDepth=0,this.context=null,e!==null&&(e.$$container$$=this),this.resolvers=new Map,this.resolvers.set(kY,jY),e instanceof Node&&e.addEventListener(q5,n=>{n.composedPath()[0]!==this.owner&&(n.detail.container=this,n.stopImmediatePropagation())})}get parent(){return this._parent===void 0&&(this._parent=this.config.parentLocator(this.owner)),this._parent}get depth(){return this.parent===null?0:this.parent.depth+1}get responsibleForOwnerRequests(){return this.config.responsibleForOwnerRequests}registerWithContext(e,...t){return this.context=e,this.register(...t),this.context=null,this}register(...e){if(++this.registerDepth===100)throw new Error("Unable to autoregister dependency");let t,n,i,a,o;const s=this.context;for(let u=0,l=e.length;u<l;++u)if(t=e[u],!!$L(t))if(R_(t))t.register(this,s);else if(FY(t))db.singleton(t,t).register(this);else for(n=Object.keys(t),a=0,o=n.length;a<o;++a)i=t[n[a]],$L(i)&&(R_(i)?i.register(this,s):this.register(i));return--this.registerDepth,this}registerResolver(e,t){a_(e);const n=this.resolvers,i=n.get(e);return i==null?n.set(e,t):i instanceof yd&&i.strategy===4?i.state.push(t):n.set(e,new yd(e,4,[i,t])),t}registerTransformer(e,t){const n=this.getResolver(e);if(n==null)return!1;if(n.getFactory){const i=n.getFactory(this);return i==null?!1:(i.registerTransformer(t),!0)}return!1}getResolver(e,t=!0){if(a_(e),e.resolve!==void 0)return e;let n=this,i;for(;n!=null;)if(i=n.resolvers.get(e),i==null){if(n.parent==null){const a=GL(e)?this:n;return t?this.jitRegister(e,a):null}n=n.parent}else return i;return null}has(e,t=!1){return this.resolvers.has(e)?!0:t&&this.parent!=null?this.parent.has(e,!0):!1}get(e){if(a_(e),e.$isResolver)return e.resolve(this,this);let t=this,n;for(;t!=null;)if(n=t.resolvers.get(e),n==null){if(t.parent==null){const i=GL(e)?this:t;return n=this.jitRegister(e,i),n.resolve(t,this)}t=t.parent}else return n.resolve(t,this);throw new Error(`Unable to resolve key: ${String(e)}`)}getAll(e,t=!1){a_(e);const n=this;let i=n,a;if(t){let o=ky;for(;i!=null;)a=i.resolvers.get(e),a!=null&&(o=o.concat(HL(a,i,n))),i=i.parent;return o}else for(;i!=null;)if(a=i.resolvers.get(e),a==null){if(i=i.parent,i==null)return ky}else return HL(a,i,n);return ky}getFactory(e){let t=gC.get(e);if(t===void 0){if(zY(e))throw new Error(`${e.name} is a native function and therefore cannot be safely constructed by DI. If this is intentional, please use a callback or cachedCallback resolver.`);gC.set(e,t=new LY(e,Go.getDependencies(e)))}return t}registerFactory(e,t){gC.set(e,t)}createChild(e){return new Z0(null,Object.assign({},this.config,e,{parentLocator:()=>this}))}jitRegister(e,t){if(typeof e!="function")throw new Error(`Attempted to jitRegister something that is not a constructor: '${e}'. Did you forget to register this dependency?`);if(UY.has(e.name))throw new Error(`Attempted to jitRegister an intrinsic type: ${e.name}. Did you forget to add @inject(Key)`);if(R_(e)){const n=e.register(t);if(!(n instanceof Object)||n.resolve==null){const i=t.resolvers.get(e);if(i!=null)return i;throw new Error("A valid resolver was not returned from the static register method")}return n}else{if(e.$isInterface)throw new Error(`Attempted to jitRegister an interface: ${e.friendlyName}`);{const n=this.config.defaultResolver(e,t);return t.resolvers.set(e,n),n}}}}const yC=new WeakMap;function G5(r){return function(e,t,n){if(yC.has(n))return yC.get(n);const i=r(e,t,n);return yC.set(n,i),i}}const db=Object.freeze({instance(r,e){return new yd(r,0,e)},singleton(r,e){return new yd(r,1,e)},transient(r,e){return new yd(r,2,e)},callback(r,e){return new yd(r,3,e)},cachedCallback(r,e){return new yd(r,3,G5(e))},aliasTo(r,e){return new yd(e,5,r)}});function a_(r){if(r==null)throw new Error("key/value cannot be null or undefined. Are you trying to inject/register something that doesn't exist with DI?")}function HL(r,e,t){if(r instanceof yd&&r.strategy===4){const n=r.state;let i=n.length;const a=new Array(i);for(;i--;)a[i]=n[i].resolve(e,t);return a}return[r.resolve(e,t)]}const VL="(anonymous)";function $L(r){return typeof r=="object"&&r!==null||typeof r=="function"}const zY=function(){const r=new WeakMap;let e=!1,t="",n=0;return function(i){return e=r.get(i),e===void 0&&(t=i.toString(),n=t.length,e=n>=29&&n<=100&&t.charCodeAt(n-1)===125&&t.charCodeAt(n-2)<=32&&t.charCodeAt(n-3)===93&&t.charCodeAt(n-4)===101&&t.charCodeAt(n-5)===100&&t.charCodeAt(n-6)===111&&t.charCodeAt(n-7)===99&&t.charCodeAt(n-8)===32&&t.charCodeAt(n-9)===101&&t.charCodeAt(n-10)===118&&t.charCodeAt(n-11)===105&&t.charCodeAt(n-12)===116&&t.charCodeAt(n-13)===97&&t.charCodeAt(n-14)===110&&t.charCodeAt(n-15)===88,r.set(i,e)),e}}(),o_={};function H5(r){switch(typeof r){case"number":return r>=0&&(r|0)===r;case"string":{const e=o_[r];if(e!==void 0)return e;const t=r.length;if(t===0)return o_[r]=!1;let n=0;for(let i=0;i<t;++i)if(n=r.charCodeAt(i),i===0&&n===48&&t>1||n<48||n>57)return o_[r]=!1;return o_[r]=!0}default:return!1}}function WL(r){return`${r.toLowerCase()}:presentation`}const s_=new Map,V5=Object.freeze({define(r,e,t){const n=WL(r);s_.get(n)===void 0?s_.set(n,e):s_.set(n,!1),t.register(db.instance(n,e))},forTag(r,e){const t=WL(r),n=s_.get(t);return n===!1?Go.findResponsibleContainer(e).get(t):n||null}});class qY{constructor(e,t){this.template=e||null,this.styles=t===void 0?null:Array.isArray(t)?Bf.create(t):t instanceof Bf?t:Bf.create([t])}applyTo(e){const t=e.$fastController;t.template===null&&(t.template=this.template),t.styles===null&&(t.styles=this.styles)}}class Do extends N1{constructor(){super(...arguments),this._presentation=void 0}get $presentation(){return this._presentation===void 0&&(this._presentation=V5.forTag(this.tagName,this)),this._presentation}templateChanged(){this.template!==void 0&&(this.$fastController.template=this.template)}stylesChanged(){this.styles!==void 0&&(this.$fastController.styles=this.styles)}connectedCallback(){this.$presentation!==null&&this.$presentation.applyTo(this),super.connectedCallback()}static compose(e){return(t={})=>new $5(this===Do?class extends Do{}:this,e,t)}}At([Ar],Do.prototype,"template",void 0);At([Ar],Do.prototype,"styles",void 0);function I0(r,e,t){return typeof r=="function"?r(e,t):r}class $5{constructor(e,t,n){this.type=e,this.elementDefinition=t,this.overrideDefinition=n,this.definition=Object.assign(Object.assign({},this.elementDefinition),this.overrideDefinition)}register(e,t){const n=this.definition,i=this.overrideDefinition,o=`${n.prefix||t.elementPrefix}-${n.baseName}`;t.tryDefineElement({name:o,type:this.type,baseClass:this.elementDefinition.baseClass,callback:s=>{const u=new qY(I0(n.template,s,n),I0(n.styles,s,n));s.definePresentation(u);let l=I0(n.shadowOptions,s,n);s.shadowRootMode&&(l?i.shadowOptions||(l.mode=s.shadowRootMode):l!==null&&(l={mode:s.shadowRootMode})),s.defineElement({elementOptions:I0(n.elementOptions,s,n),shadowOptions:l,attributes:I0(n.attributes,s,n)})}})}}function qf(r,...e){const t=X_.locate(r);e.forEach(n=>{Object.getOwnPropertyNames(n.prototype).forEach(a=>{a!=="constructor"&&Object.defineProperty(r.prototype,a,Object.getOwnPropertyDescriptor(n.prototype,a))}),X_.locate(n).forEach(a=>t.push(a))})}const yA={horizontal:"horizontal"};function GY(r,e){let t=r.length;for(;t--;)if(e(r[t],t,r))return t;return-1}function HY(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function VY(...r){return r.every(e=>e instanceof HTMLElement)}function $Y(){const r=document.querySelector('meta[property="csp-nonce"]');return r?r.getAttribute("content"):null}let xy;function WY(){if(typeof xy=="boolean")return xy;if(!HY())return xy=!1,xy;const r=document.createElement("style"),e=$Y();e!==null&&r.setAttribute("nonce",e),document.head.appendChild(r);try{r.sheet.insertRule("foo:focus-visible {color:inherit}",0),xy=!0}catch{xy=!1}finally{document.head.removeChild(r)}return xy}const YL="focus",XL="focusin",Xm="focusout",Km="keydown";var KL;(function(r){r[r.alt=18]="alt",r[r.arrowDown=40]="arrowDown",r[r.arrowLeft=37]="arrowLeft",r[r.arrowRight=39]="arrowRight",r[r.arrowUp=38]="arrowUp",r[r.back=8]="back",r[r.backSlash=220]="backSlash",r[r.break=19]="break",r[r.capsLock=20]="capsLock",r[r.closeBracket=221]="closeBracket",r[r.colon=186]="colon",r[r.colon2=59]="colon2",r[r.comma=188]="comma",r[r.ctrl=17]="ctrl",r[r.delete=46]="delete",r[r.end=35]="end",r[r.enter=13]="enter",r[r.equals=187]="equals",r[r.equals2=61]="equals2",r[r.equals3=107]="equals3",r[r.escape=27]="escape",r[r.forwardSlash=191]="forwardSlash",r[r.function1=112]="function1",r[r.function10=121]="function10",r[r.function11=122]="function11",r[r.function12=123]="function12",r[r.function2=113]="function2",r[r.function3=114]="function3",r[r.function4=115]="function4",r[r.function5=116]="function5",r[r.function6=117]="function6",r[r.function7=118]="function7",r[r.function8=119]="function8",r[r.function9=120]="function9",r[r.home=36]="home",r[r.insert=45]="insert",r[r.menu=93]="menu",r[r.minus=189]="minus",r[r.minus2=109]="minus2",r[r.numLock=144]="numLock",r[r.numPad0=96]="numPad0",r[r.numPad1=97]="numPad1",r[r.numPad2=98]="numPad2",r[r.numPad3=99]="numPad3",r[r.numPad4=100]="numPad4",r[r.numPad5=101]="numPad5",r[r.numPad6=102]="numPad6",r[r.numPad7=103]="numPad7",r[r.numPad8=104]="numPad8",r[r.numPad9=105]="numPad9",r[r.numPadDivide=111]="numPadDivide",r[r.numPadDot=110]="numPadDot",r[r.numPadMinus=109]="numPadMinus",r[r.numPadMultiply=106]="numPadMultiply",r[r.numPadPlus=107]="numPadPlus",r[r.openBracket=219]="openBracket",r[r.pageDown=34]="pageDown",r[r.pageUp=33]="pageUp",r[r.period=190]="period",r[r.print=44]="print",r[r.quote=222]="quote",r[r.scrollLock=145]="scrollLock",r[r.shift=16]="shift",r[r.space=32]="space",r[r.tab=9]="tab",r[r.tilde=192]="tilde",r[r.windowsLeft=91]="windowsLeft",r[r.windowsOpera=219]="windowsOpera",r[r.windowsRight=92]="windowsRight"})(KL||(KL={}));const Yy="ArrowDown",vb="ArrowLeft",pb="ArrowRight",Xy="ArrowUp",Pb="Enter",L1="Escape",h0="Home",d0="End",YY="F2",XY="PageDown",KY="PageUp",Db=" ",mA="Tab",ZY={ArrowDown:Yy,ArrowLeft:vb,ArrowRight:pb,ArrowUp:Xy};var Zm;(function(r){r.ltr="ltr",r.rtl="rtl"})(Zm||(Zm={}));function QY(r,e,t){return Math.min(Math.max(t,r),e)}function u_(r,e,t=0){return[e,t]=[e,t].sort((n,i)=>n-i),e<=r&&r<t}let JY=0;function Z_(r=""){return`${r}${JY++}`}const eX=(r,e)=>ua`
    <a
        class="control"
        part="control"
        download="${t=>t.download}"
        href="${t=>t.href}"
        hreflang="${t=>t.hreflang}"
        ping="${t=>t.ping}"
        referrerpolicy="${t=>t.referrerpolicy}"
        rel="${t=>t.rel}"
        target="${t=>t.target}"
        type="${t=>t.type}"
        aria-atomic="${t=>t.ariaAtomic}"
        aria-busy="${t=>t.ariaBusy}"
        aria-controls="${t=>t.ariaControls}"
        aria-current="${t=>t.ariaCurrent}"
        aria-describedby="${t=>t.ariaDescribedby}"
        aria-details="${t=>t.ariaDetails}"
        aria-disabled="${t=>t.ariaDisabled}"
        aria-errormessage="${t=>t.ariaErrormessage}"
        aria-expanded="${t=>t.ariaExpanded}"
        aria-flowto="${t=>t.ariaFlowto}"
        aria-haspopup="${t=>t.ariaHaspopup}"
        aria-hidden="${t=>t.ariaHidden}"
        aria-invalid="${t=>t.ariaInvalid}"
        aria-keyshortcuts="${t=>t.ariaKeyshortcuts}"
        aria-label="${t=>t.ariaLabel}"
        aria-labelledby="${t=>t.ariaLabelledby}"
        aria-live="${t=>t.ariaLive}"
        aria-owns="${t=>t.ariaOwns}"
        aria-relevant="${t=>t.ariaRelevant}"
        aria-roledescription="${t=>t.ariaRoledescription}"
        ${af("control")}
    >
        ${f0(r,e)}
        <span class="content" part="content">
            <slot ${wd("defaultSlottedContent")}></slot>
        </span>
        ${c0(r,e)}
    </a>
`;class Io{}At([Qt({attribute:"aria-atomic"})],Io.prototype,"ariaAtomic",void 0);At([Qt({attribute:"aria-busy"})],Io.prototype,"ariaBusy",void 0);At([Qt({attribute:"aria-controls"})],Io.prototype,"ariaControls",void 0);At([Qt({attribute:"aria-current"})],Io.prototype,"ariaCurrent",void 0);At([Qt({attribute:"aria-describedby"})],Io.prototype,"ariaDescribedby",void 0);At([Qt({attribute:"aria-details"})],Io.prototype,"ariaDetails",void 0);At([Qt({attribute:"aria-disabled"})],Io.prototype,"ariaDisabled",void 0);At([Qt({attribute:"aria-errormessage"})],Io.prototype,"ariaErrormessage",void 0);At([Qt({attribute:"aria-flowto"})],Io.prototype,"ariaFlowto",void 0);At([Qt({attribute:"aria-haspopup"})],Io.prototype,"ariaHaspopup",void 0);At([Qt({attribute:"aria-hidden"})],Io.prototype,"ariaHidden",void 0);At([Qt({attribute:"aria-invalid"})],Io.prototype,"ariaInvalid",void 0);At([Qt({attribute:"aria-keyshortcuts"})],Io.prototype,"ariaKeyshortcuts",void 0);At([Qt({attribute:"aria-label"})],Io.prototype,"ariaLabel",void 0);At([Qt({attribute:"aria-labelledby"})],Io.prototype,"ariaLabelledby",void 0);At([Qt({attribute:"aria-live"})],Io.prototype,"ariaLive",void 0);At([Qt({attribute:"aria-owns"})],Io.prototype,"ariaOwns",void 0);At([Qt({attribute:"aria-relevant"})],Io.prototype,"ariaRelevant",void 0);At([Qt({attribute:"aria-roledescription"})],Io.prototype,"ariaRoledescription",void 0);class yv extends Do{constructor(){super(...arguments),this.handleUnsupportedDelegatesFocus=()=>{var e;window.ShadowRoot&&!window.ShadowRoot.prototype.hasOwnProperty("delegatesFocus")&&(!((e=this.$fastController.definition.shadowOptions)===null||e===void 0)&&e.delegatesFocus)&&(this.focus=()=>{var t;(t=this.control)===null||t===void 0||t.focus()})}}connectedCallback(){super.connectedCallback(),this.handleUnsupportedDelegatesFocus()}}At([Qt],yv.prototype,"download",void 0);At([Qt],yv.prototype,"href",void 0);At([Qt],yv.prototype,"hreflang",void 0);At([Qt],yv.prototype,"ping",void 0);At([Qt],yv.prototype,"referrerpolicy",void 0);At([Qt],yv.prototype,"rel",void 0);At([Qt],yv.prototype,"target",void 0);At([Qt],yv.prototype,"type",void 0);At([Ar],yv.prototype,"defaultSlottedContent",void 0);class bA{}At([Qt({attribute:"aria-expanded"})],bA.prototype,"ariaExpanded",void 0);qf(bA,Io);qf(yv,l0,bA);const tX=r=>{const e=r.closest("[dir]");return e!==null&&e.dir==="rtl"?Zm.rtl:Zm.ltr},W5=(r,e)=>ua`
    <template class="${t=>t.circular?"circular":""}">
        <div class="control" part="control" style="${t=>t.generateBadgeStyle()}">
            <slot></slot>
        </div>
    </template>
`;let Ib=class extends Do{constructor(){super(...arguments),this.generateBadgeStyle=()=>{if(!this.fill&&!this.color)return;const e=`background-color: var(--badge-fill-${this.fill});`,t=`color: var(--badge-color-${this.color});`;return this.fill&&!this.color?e:this.color&&!this.fill?t:`${t} ${e}`}}};At([Qt({attribute:"fill"})],Ib.prototype,"fill",void 0);At([Qt({attribute:"color"})],Ib.prototype,"color",void 0);At([Qt({mode:"boolean"})],Ib.prototype,"circular",void 0);const rX=(r,e)=>ua`
    <button
        class="control"
        part="control"
        ?autofocus="${t=>t.autofocus}"
        ?disabled="${t=>t.disabled}"
        form="${t=>t.formId}"
        formaction="${t=>t.formaction}"
        formenctype="${t=>t.formenctype}"
        formmethod="${t=>t.formmethod}"
        formnovalidate="${t=>t.formnovalidate}"
        formtarget="${t=>t.formtarget}"
        name="${t=>t.name}"
        type="${t=>t.type}"
        value="${t=>t.value}"
        aria-atomic="${t=>t.ariaAtomic}"
        aria-busy="${t=>t.ariaBusy}"
        aria-controls="${t=>t.ariaControls}"
        aria-current="${t=>t.ariaCurrent}"
        aria-describedby="${t=>t.ariaDescribedby}"
        aria-details="${t=>t.ariaDetails}"
        aria-disabled="${t=>t.ariaDisabled}"
        aria-errormessage="${t=>t.ariaErrormessage}"
        aria-expanded="${t=>t.ariaExpanded}"
        aria-flowto="${t=>t.ariaFlowto}"
        aria-haspopup="${t=>t.ariaHaspopup}"
        aria-hidden="${t=>t.ariaHidden}"
        aria-invalid="${t=>t.ariaInvalid}"
        aria-keyshortcuts="${t=>t.ariaKeyshortcuts}"
        aria-label="${t=>t.ariaLabel}"
        aria-labelledby="${t=>t.ariaLabelledby}"
        aria-live="${t=>t.ariaLive}"
        aria-owns="${t=>t.ariaOwns}"
        aria-pressed="${t=>t.ariaPressed}"
        aria-relevant="${t=>t.ariaRelevant}"
        aria-roledescription="${t=>t.ariaRoledescription}"
        ${af("control")}
    >
        ${f0(r,e)}
        <span class="content" part="content">
            <slot ${wd("defaultSlottedContent")}></slot>
        </span>
        ${c0(r,e)}
    </button>
`,ZL="form-associated-proxy",QL="ElementInternals",JL=QL in window&&"setFormValue"in window[QL].prototype,e3=new WeakMap;function kb(r){const e=class extends r{constructor(...t){super(...t),this.dirtyValue=!1,this.disabled=!1,this.proxyEventsToBlock=["change","click"],this.proxyInitialized=!1,this.required=!1,this.initialValue=this.initialValue||"",this.elementInternals||(this.formResetCallback=this.formResetCallback.bind(this))}static get formAssociated(){return JL}get validity(){return this.elementInternals?this.elementInternals.validity:this.proxy.validity}get form(){return this.elementInternals?this.elementInternals.form:this.proxy.form}get validationMessage(){return this.elementInternals?this.elementInternals.validationMessage:this.proxy.validationMessage}get willValidate(){return this.elementInternals?this.elementInternals.willValidate:this.proxy.willValidate}get labels(){if(this.elementInternals)return Object.freeze(Array.from(this.elementInternals.labels));if(this.proxy instanceof HTMLElement&&this.proxy.ownerDocument&&this.id){const t=this.proxy.labels,n=Array.from(this.proxy.getRootNode().querySelectorAll(`[for='${this.id}']`)),i=t?n.concat(Array.from(t)):n;return Object.freeze(i)}else return ky}valueChanged(t,n){this.dirtyValue=!0,this.proxy instanceof HTMLElement&&(this.proxy.value=this.value),this.currentValue=this.value,this.setFormValue(this.value),this.validate()}currentValueChanged(){this.value=this.currentValue}initialValueChanged(t,n){this.dirtyValue||(this.value=this.initialValue,this.dirtyValue=!1)}disabledChanged(t,n){this.proxy instanceof HTMLElement&&(this.proxy.disabled=this.disabled),ri.queueUpdate(()=>this.classList.toggle("disabled",this.disabled))}nameChanged(t,n){this.proxy instanceof HTMLElement&&(this.proxy.name=this.name)}requiredChanged(t,n){this.proxy instanceof HTMLElement&&(this.proxy.required=this.required),ri.queueUpdate(()=>this.classList.toggle("required",this.required)),this.validate()}get elementInternals(){if(!JL)return null;let t=e3.get(this);return t||(t=this.attachInternals(),e3.set(this,t)),t}connectedCallback(){super.connectedCallback(),this.addEventListener("keypress",this._keypressHandler),this.value||(this.value=this.initialValue,this.dirtyValue=!1),this.elementInternals||(this.attachProxy(),this.form&&this.form.addEventListener("reset",this.formResetCallback))}disconnectedCallback(){super.disconnectedCallback(),this.proxyEventsToBlock.forEach(t=>this.proxy.removeEventListener(t,this.stopPropagation)),!this.elementInternals&&this.form&&this.form.removeEventListener("reset",this.formResetCallback)}checkValidity(){return this.elementInternals?this.elementInternals.checkValidity():this.proxy.checkValidity()}reportValidity(){return this.elementInternals?this.elementInternals.reportValidity():this.proxy.reportValidity()}setValidity(t,n,i){this.elementInternals?this.elementInternals.setValidity(t,n,i):typeof n=="string"&&this.proxy.setCustomValidity(n)}formDisabledCallback(t){this.disabled=t}formResetCallback(){this.value=this.initialValue,this.dirtyValue=!1}attachProxy(){var t;this.proxyInitialized||(this.proxyInitialized=!0,this.proxy.style.display="none",this.proxyEventsToBlock.forEach(n=>this.proxy.addEventListener(n,this.stopPropagation)),this.proxy.disabled=this.disabled,this.proxy.required=this.required,typeof this.name=="string"&&(this.proxy.name=this.name),typeof this.value=="string"&&(this.proxy.value=this.value),this.proxy.setAttribute("slot",ZL),this.proxySlot=document.createElement("slot"),this.proxySlot.setAttribute("name",ZL)),(t=this.shadowRoot)===null||t===void 0||t.appendChild(this.proxySlot),this.appendChild(this.proxy)}detachProxy(){var t;this.removeChild(this.proxy),(t=this.shadowRoot)===null||t===void 0||t.removeChild(this.proxySlot)}validate(t){this.proxy instanceof HTMLElement&&this.setValidity(this.proxy.validity,this.proxy.validationMessage,t)}setFormValue(t,n){this.elementInternals&&this.elementInternals.setFormValue(t,n||t)}_keypressHandler(t){switch(t.key){case Pb:if(this.form instanceof HTMLFormElement){const n=this.form.querySelector("[type=submit]");n==null||n.click()}break}}stopPropagation(t){t.stopPropagation()}};return Qt({mode:"boolean"})(e.prototype,"disabled"),Qt({mode:"fromView",attribute:"value"})(e.prototype,"initialValue"),Qt({attribute:"current-value"})(e.prototype,"currentValue"),Qt(e.prototype,"name"),Qt({mode:"boolean"})(e.prototype,"required"),Ar(e.prototype,"value"),e}function Y5(r){class e extends kb(r){}class t extends e{constructor(...i){super(i),this.dirtyChecked=!1,this.checkedAttribute=!1,this.checked=!1,this.dirtyChecked=!1}checkedAttributeChanged(){this.defaultChecked=this.checkedAttribute}defaultCheckedChanged(){this.dirtyChecked||(this.checked=this.defaultChecked,this.dirtyChecked=!1)}checkedChanged(i,a){this.dirtyChecked||(this.dirtyChecked=!0),this.currentChecked=this.checked,this.updateForm(),this.proxy instanceof HTMLInputElement&&(this.proxy.checked=this.checked),i!==void 0&&this.$emit("change"),this.validate()}currentCheckedChanged(i,a){this.checked=this.currentChecked}updateForm(){const i=this.checked?this.value:null;this.setFormValue(i,i)}connectedCallback(){super.connectedCallback(),this.updateForm()}formResetCallback(){super.formResetCallback(),this.checked=!!this.checkedAttribute,this.dirtyChecked=!1}}return Qt({attribute:"checked",mode:"boolean"})(t.prototype,"checkedAttribute"),Qt({attribute:"current-checked",converter:I5})(t.prototype,"currentChecked"),Ar(t.prototype,"defaultChecked"),Ar(t.prototype,"checked"),t}class nX extends Do{}class iX extends kb(nX){constructor(){super(...arguments),this.proxy=document.createElement("input")}}let mv=class extends iX{constructor(){super(...arguments),this.handleClick=e=>{var t;this.disabled&&((t=this.defaultSlottedContent)===null||t===void 0?void 0:t.length)<=1&&e.stopPropagation()},this.handleSubmission=()=>{if(!this.form)return;const e=this.proxy.isConnected;e||this.attachProxy(),typeof this.form.requestSubmit=="function"?this.form.requestSubmit(this.proxy):this.proxy.click(),e||this.detachProxy()},this.handleFormReset=()=>{var e;(e=this.form)===null||e===void 0||e.reset()},this.handleUnsupportedDelegatesFocus=()=>{var e;window.ShadowRoot&&!window.ShadowRoot.prototype.hasOwnProperty("delegatesFocus")&&(!((e=this.$fastController.definition.shadowOptions)===null||e===void 0)&&e.delegatesFocus)&&(this.focus=()=>{this.control.focus()})}}formactionChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formAction=this.formaction)}formenctypeChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formEnctype=this.formenctype)}formmethodChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formMethod=this.formmethod)}formnovalidateChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formNoValidate=this.formnovalidate)}formtargetChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formTarget=this.formtarget)}typeChanged(e,t){this.proxy instanceof HTMLInputElement&&(this.proxy.type=this.type),t==="submit"&&this.addEventListener("click",this.handleSubmission),e==="submit"&&this.removeEventListener("click",this.handleSubmission),t==="reset"&&this.addEventListener("click",this.handleFormReset),e==="reset"&&this.removeEventListener("click",this.handleFormReset)}validate(){super.validate(this.control)}connectedCallback(){var e;super.connectedCallback(),this.proxy.setAttribute("type",this.type),this.handleUnsupportedDelegatesFocus();const t=Array.from((e=this.control)===null||e===void 0?void 0:e.children);t&&t.forEach(n=>{n.addEventListener("click",this.handleClick)})}disconnectedCallback(){var e;super.disconnectedCallback();const t=Array.from((e=this.control)===null||e===void 0?void 0:e.children);t&&t.forEach(n=>{n.removeEventListener("click",this.handleClick)})}};At([Qt({mode:"boolean"})],mv.prototype,"autofocus",void 0);At([Qt({attribute:"form"})],mv.prototype,"formId",void 0);At([Qt],mv.prototype,"formaction",void 0);At([Qt],mv.prototype,"formenctype",void 0);At([Qt],mv.prototype,"formmethod",void 0);At([Qt({mode:"boolean"})],mv.prototype,"formnovalidate",void 0);At([Qt],mv.prototype,"formtarget",void 0);At([Qt],mv.prototype,"type",void 0);At([Ar],mv.prototype,"defaultSlottedContent",void 0);class j1{}At([Qt({attribute:"aria-expanded"})],j1.prototype,"ariaExpanded",void 0);At([Qt({attribute:"aria-pressed"})],j1.prototype,"ariaPressed",void 0);qf(j1,Io);qf(mv,l0,j1);const l_={none:"none",default:"default",sticky:"sticky"},wg={default:"default",columnHeader:"columnheader",rowHeader:"rowheader"},Q0={default:"default",header:"header",stickyHeader:"sticky-header"};let dc=class extends Do{constructor(){super(...arguments),this.rowType=Q0.default,this.rowData=null,this.columnDefinitions=null,this.isActiveRow=!1,this.cellsRepeatBehavior=null,this.cellsPlaceholder=null,this.focusColumnIndex=0,this.refocusOnLoad=!1,this.updateRowStyle=()=>{this.style.gridTemplateColumns=this.gridTemplateColumns}}gridTemplateColumnsChanged(){this.$fastController.isConnected&&this.updateRowStyle()}rowTypeChanged(){this.$fastController.isConnected&&this.updateItemTemplate()}rowDataChanged(){if(this.rowData!==null&&this.isActiveRow){this.refocusOnLoad=!0;return}}cellItemTemplateChanged(){this.updateItemTemplate()}headerCellItemTemplateChanged(){this.updateItemTemplate()}connectedCallback(){super.connectedCallback(),this.cellsRepeatBehavior===null&&(this.cellsPlaceholder=document.createComment(""),this.appendChild(this.cellsPlaceholder),this.updateItemTemplate(),this.cellsRepeatBehavior=new F5(e=>e.columnDefinitions,e=>e.activeCellItemTemplate,{positioning:!0}).createBehavior(this.cellsPlaceholder),this.$fastController.addBehaviors([this.cellsRepeatBehavior])),this.addEventListener("cell-focused",this.handleCellFocus),this.addEventListener(Xm,this.handleFocusout),this.addEventListener(Km,this.handleKeydown),this.updateRowStyle(),this.refocusOnLoad&&(this.refocusOnLoad=!1,this.cellElements.length>this.focusColumnIndex&&this.cellElements[this.focusColumnIndex].focus())}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("cell-focused",this.handleCellFocus),this.removeEventListener(Xm,this.handleFocusout),this.removeEventListener(Km,this.handleKeydown)}handleFocusout(e){this.contains(e.target)||(this.isActiveRow=!1,this.focusColumnIndex=0)}handleCellFocus(e){this.isActiveRow=!0,this.focusColumnIndex=this.cellElements.indexOf(e.target),this.$emit("row-focused",this)}handleKeydown(e){if(e.defaultPrevented)return;let t=0;switch(e.key){case vb:t=Math.max(0,this.focusColumnIndex-1),this.cellElements[t].focus(),e.preventDefault();break;case pb:t=Math.min(this.cellElements.length-1,this.focusColumnIndex+1),this.cellElements[t].focus(),e.preventDefault();break;case h0:e.ctrlKey||(this.cellElements[0].focus(),e.preventDefault());break;case d0:e.ctrlKey||(this.cellElements[this.cellElements.length-1].focus(),e.preventDefault());break}}updateItemTemplate(){this.activeCellItemTemplate=this.rowType===Q0.default&&this.cellItemTemplate!==void 0?this.cellItemTemplate:this.rowType===Q0.default&&this.cellItemTemplate===void 0?this.defaultCellItemTemplate:this.headerCellItemTemplate!==void 0?this.headerCellItemTemplate:this.defaultHeaderCellItemTemplate}};At([Qt({attribute:"grid-template-columns"})],dc.prototype,"gridTemplateColumns",void 0);At([Qt({attribute:"row-type"})],dc.prototype,"rowType",void 0);At([Ar],dc.prototype,"rowData",void 0);At([Ar],dc.prototype,"columnDefinitions",void 0);At([Ar],dc.prototype,"cellItemTemplate",void 0);At([Ar],dc.prototype,"headerCellItemTemplate",void 0);At([Ar],dc.prototype,"rowIndex",void 0);At([Ar],dc.prototype,"isActiveRow",void 0);At([Ar],dc.prototype,"activeCellItemTemplate",void 0);At([Ar],dc.prototype,"defaultCellItemTemplate",void 0);At([Ar],dc.prototype,"defaultHeaderCellItemTemplate",void 0);At([Ar],dc.prototype,"cellElements",void 0);function aX(r){const e=r.tagFor(dc);return ua`
    <${e}
        :rowData="${t=>t}"
        :cellItemTemplate="${(t,n)=>n.parent.cellItemTemplate}"
        :headerCellItemTemplate="${(t,n)=>n.parent.headerCellItemTemplate}"
    ></${e}>
`}const oX=(r,e)=>{const t=aX(r),n=r.tagFor(dc);return ua`
        <template
            role="grid"
            tabindex="0"
            :rowElementTag="${()=>n}"
            :defaultRowItemTemplate="${t}"
            ${z5({property:"rowElements",filter:gA("[role=row]")})}
        >
            <slot></slot>
        </template>
    `};let vc=class QC extends Do{constructor(){super(),this.noTabbing=!1,this.generateHeader=l_.default,this.rowsData=[],this.columnDefinitions=null,this.focusRowIndex=0,this.focusColumnIndex=0,this.rowsPlaceholder=null,this.generatedHeader=null,this.isUpdatingFocus=!1,this.pendingFocusUpdate=!1,this.rowindexUpdateQueued=!1,this.columnDefinitionsStale=!0,this.generatedGridTemplateColumns="",this.focusOnCell=(e,t,n)=>{if(this.rowElements.length===0){this.focusRowIndex=0,this.focusColumnIndex=0;return}const i=Math.max(0,Math.min(this.rowElements.length-1,e)),o=this.rowElements[i].querySelectorAll('[role="cell"], [role="gridcell"], [role="columnheader"], [role="rowheader"]'),s=Math.max(0,Math.min(o.length-1,t)),u=o[s];n&&this.scrollHeight!==this.clientHeight&&(i<this.focusRowIndex&&this.scrollTop>0||i>this.focusRowIndex&&this.scrollTop<this.scrollHeight-this.clientHeight)&&u.scrollIntoView({block:"center",inline:"center"}),u.focus()},this.onChildListChange=(e,t)=>{e&&e.length&&(e.forEach(n=>{n.addedNodes.forEach(i=>{i.nodeType===1&&i.getAttribute("role")==="row"&&(i.columnDefinitions=this.columnDefinitions)})}),this.queueRowIndexUpdate())},this.queueRowIndexUpdate=()=>{this.rowindexUpdateQueued||(this.rowindexUpdateQueued=!0,ri.queueUpdate(this.updateRowIndexes))},this.updateRowIndexes=()=>{let e=this.gridTemplateColumns;if(e===void 0){if(this.generatedGridTemplateColumns===""&&this.rowElements.length>0){const t=this.rowElements[0];this.generatedGridTemplateColumns=new Array(t.cellElements.length).fill("1fr").join(" ")}e=this.generatedGridTemplateColumns}this.rowElements.forEach((t,n)=>{const i=t;i.rowIndex=n,i.gridTemplateColumns=e,this.columnDefinitionsStale&&(i.columnDefinitions=this.columnDefinitions)}),this.rowindexUpdateQueued=!1,this.columnDefinitionsStale=!1}}static generateTemplateColumns(e){let t="";return e.forEach(n=>{t=`${t}${t===""?"":" "}1fr`}),t}noTabbingChanged(){this.$fastController.isConnected&&(this.noTabbing?this.setAttribute("tabIndex","-1"):this.setAttribute("tabIndex",this.contains(document.activeElement)||this===document.activeElement?"-1":"0"))}generateHeaderChanged(){this.$fastController.isConnected&&this.toggleGeneratedHeader()}gridTemplateColumnsChanged(){this.$fastController.isConnected&&this.updateRowIndexes()}rowsDataChanged(){this.columnDefinitions===null&&this.rowsData.length>0&&(this.columnDefinitions=QC.generateColumns(this.rowsData[0])),this.$fastController.isConnected&&this.toggleGeneratedHeader()}columnDefinitionsChanged(){if(this.columnDefinitions===null){this.generatedGridTemplateColumns="";return}this.generatedGridTemplateColumns=QC.generateTemplateColumns(this.columnDefinitions),this.$fastController.isConnected&&(this.columnDefinitionsStale=!0,this.queueRowIndexUpdate())}headerCellItemTemplateChanged(){this.$fastController.isConnected&&this.generatedHeader!==null&&(this.generatedHeader.headerCellItemTemplate=this.headerCellItemTemplate)}focusRowIndexChanged(){this.$fastController.isConnected&&this.queueFocusUpdate()}focusColumnIndexChanged(){this.$fastController.isConnected&&this.queueFocusUpdate()}connectedCallback(){super.connectedCallback(),this.rowItemTemplate===void 0&&(this.rowItemTemplate=this.defaultRowItemTemplate),this.rowsPlaceholder=document.createComment(""),this.appendChild(this.rowsPlaceholder),this.toggleGeneratedHeader(),this.rowsRepeatBehavior=new F5(e=>e.rowsData,e=>e.rowItemTemplate,{positioning:!0}).createBehavior(this.rowsPlaceholder),this.$fastController.addBehaviors([this.rowsRepeatBehavior]),this.addEventListener("row-focused",this.handleRowFocus),this.addEventListener(YL,this.handleFocus),this.addEventListener(Km,this.handleKeydown),this.addEventListener(Xm,this.handleFocusOut),this.observer=new MutationObserver(this.onChildListChange),this.observer.observe(this,{childList:!0}),this.noTabbing&&this.setAttribute("tabindex","-1"),ri.queueUpdate(this.queueRowIndexUpdate)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("row-focused",this.handleRowFocus),this.removeEventListener(YL,this.handleFocus),this.removeEventListener(Km,this.handleKeydown),this.removeEventListener(Xm,this.handleFocusOut),this.observer.disconnect(),this.rowsPlaceholder=null,this.generatedHeader=null}handleRowFocus(e){this.isUpdatingFocus=!0;const t=e.target;this.focusRowIndex=this.rowElements.indexOf(t),this.focusColumnIndex=t.focusColumnIndex,this.setAttribute("tabIndex","-1"),this.isUpdatingFocus=!1}handleFocus(e){this.focusOnCell(this.focusRowIndex,this.focusColumnIndex,!0)}handleFocusOut(e){(e.relatedTarget===null||!this.contains(e.relatedTarget))&&this.setAttribute("tabIndex",this.noTabbing?"-1":"0")}handleKeydown(e){if(e.defaultPrevented)return;let t;const n=this.rowElements.length-1,i=this.offsetHeight+this.scrollTop,a=this.rowElements[n];switch(e.key){case Xy:e.preventDefault(),this.focusOnCell(this.focusRowIndex-1,this.focusColumnIndex,!0);break;case Yy:e.preventDefault(),this.focusOnCell(this.focusRowIndex+1,this.focusColumnIndex,!0);break;case KY:if(e.preventDefault(),this.rowElements.length===0){this.focusOnCell(0,0,!1);break}if(this.focusRowIndex===0){this.focusOnCell(0,this.focusColumnIndex,!1);return}for(t=this.focusRowIndex-1,t;t>=0;t--){const o=this.rowElements[t];if(o.offsetTop<this.scrollTop){this.scrollTop=o.offsetTop+o.clientHeight-this.clientHeight;break}}this.focusOnCell(t,this.focusColumnIndex,!1);break;case XY:if(e.preventDefault(),this.rowElements.length===0){this.focusOnCell(0,0,!1);break}if(this.focusRowIndex>=n||a.offsetTop+a.offsetHeight<=i){this.focusOnCell(n,this.focusColumnIndex,!1);return}for(t=this.focusRowIndex+1,t;t<=n;t++){const o=this.rowElements[t];if(o.offsetTop+o.offsetHeight>i){let s=0;this.generateHeader===l_.sticky&&this.generatedHeader!==null&&(s=this.generatedHeader.clientHeight),this.scrollTop=o.offsetTop-s;break}}this.focusOnCell(t,this.focusColumnIndex,!1);break;case h0:e.ctrlKey&&(e.preventDefault(),this.focusOnCell(0,0,!0));break;case d0:e.ctrlKey&&this.columnDefinitions!==null&&(e.preventDefault(),this.focusOnCell(this.rowElements.length-1,this.columnDefinitions.length-1,!0));break}}queueFocusUpdate(){this.isUpdatingFocus&&(this.contains(document.activeElement)||this===document.activeElement)||this.pendingFocusUpdate===!1&&(this.pendingFocusUpdate=!0,ri.queueUpdate(()=>this.updateFocus()))}updateFocus(){this.pendingFocusUpdate=!1,this.focusOnCell(this.focusRowIndex,this.focusColumnIndex,!0)}toggleGeneratedHeader(){if(this.generatedHeader!==null&&(this.removeChild(this.generatedHeader),this.generatedHeader=null),this.generateHeader!==l_.none&&this.rowsData.length>0){const e=document.createElement(this.rowElementTag);this.generatedHeader=e,this.generatedHeader.columnDefinitions=this.columnDefinitions,this.generatedHeader.gridTemplateColumns=this.gridTemplateColumns,this.generatedHeader.rowType=this.generateHeader===l_.sticky?Q0.stickyHeader:Q0.header,(this.firstChild!==null||this.rowsPlaceholder!==null)&&this.insertBefore(e,this.firstChild!==null?this.firstChild:this.rowsPlaceholder);return}}};vc.generateColumns=r=>Object.getOwnPropertyNames(r).map((e,t)=>({columnDataKey:e,gridColumn:`${t}`}));At([Qt({attribute:"no-tabbing",mode:"boolean"})],vc.prototype,"noTabbing",void 0);At([Qt({attribute:"generate-header"})],vc.prototype,"generateHeader",void 0);At([Qt({attribute:"grid-template-columns"})],vc.prototype,"gridTemplateColumns",void 0);At([Ar],vc.prototype,"rowsData",void 0);At([Ar],vc.prototype,"columnDefinitions",void 0);At([Ar],vc.prototype,"rowItemTemplate",void 0);At([Ar],vc.prototype,"cellItemTemplate",void 0);At([Ar],vc.prototype,"headerCellItemTemplate",void 0);At([Ar],vc.prototype,"focusRowIndex",void 0);At([Ar],vc.prototype,"focusColumnIndex",void 0);At([Ar],vc.prototype,"defaultRowItemTemplate",void 0);At([Ar],vc.prototype,"rowElementTag",void 0);At([Ar],vc.prototype,"rowElements",void 0);const sX=ua`
    <template>
        ${r=>r.rowData===null||r.columnDefinition===null||r.columnDefinition.columnDataKey===null?null:r.rowData[r.columnDefinition.columnDataKey]}
    </template>
`,uX=ua`
    <template>
        ${r=>r.columnDefinition===null?null:r.columnDefinition.title===void 0?r.columnDefinition.columnDataKey:r.columnDefinition.title}
    </template>
`;let Hg=class extends Do{constructor(){super(...arguments),this.cellType=wg.default,this.rowData=null,this.columnDefinition=null,this.isActiveCell=!1,this.customCellView=null,this.updateCellStyle=()=>{this.style.gridColumn=this.gridColumn}}cellTypeChanged(){this.$fastController.isConnected&&this.updateCellView()}gridColumnChanged(){this.$fastController.isConnected&&this.updateCellStyle()}columnDefinitionChanged(e,t){this.$fastController.isConnected&&this.updateCellView()}connectedCallback(){var e;super.connectedCallback(),this.addEventListener(XL,this.handleFocusin),this.addEventListener(Xm,this.handleFocusout),this.addEventListener(Km,this.handleKeydown),this.style.gridColumn=`${((e=this.columnDefinition)===null||e===void 0?void 0:e.gridColumn)===void 0?0:this.columnDefinition.gridColumn}`,this.updateCellView(),this.updateCellStyle()}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener(XL,this.handleFocusin),this.removeEventListener(Xm,this.handleFocusout),this.removeEventListener(Km,this.handleKeydown),this.disconnectCellView()}handleFocusin(e){if(!this.isActiveCell){switch(this.isActiveCell=!0,this.cellType){case wg.columnHeader:if(this.columnDefinition!==null&&this.columnDefinition.headerCellInternalFocusQueue!==!0&&typeof this.columnDefinition.headerCellFocusTargetCallback=="function"){const t=this.columnDefinition.headerCellFocusTargetCallback(this);t!==null&&t.focus()}break;default:if(this.columnDefinition!==null&&this.columnDefinition.cellInternalFocusQueue!==!0&&typeof this.columnDefinition.cellFocusTargetCallback=="function"){const t=this.columnDefinition.cellFocusTargetCallback(this);t!==null&&t.focus()}break}this.$emit("cell-focused",this)}}handleFocusout(e){this!==document.activeElement&&!this.contains(document.activeElement)&&(this.isActiveCell=!1)}handleKeydown(e){if(!(e.defaultPrevented||this.columnDefinition===null||this.cellType===wg.default&&this.columnDefinition.cellInternalFocusQueue!==!0||this.cellType===wg.columnHeader&&this.columnDefinition.headerCellInternalFocusQueue!==!0))switch(e.key){case Pb:case YY:if(this.contains(document.activeElement)&&document.activeElement!==this)return;switch(this.cellType){case wg.columnHeader:if(this.columnDefinition.headerCellFocusTargetCallback!==void 0){const t=this.columnDefinition.headerCellFocusTargetCallback(this);t!==null&&t.focus(),e.preventDefault()}break;default:if(this.columnDefinition.cellFocusTargetCallback!==void 0){const t=this.columnDefinition.cellFocusTargetCallback(this);t!==null&&t.focus(),e.preventDefault()}break}break;case L1:this.contains(document.activeElement)&&document.activeElement!==this&&(this.focus(),e.preventDefault());break}}updateCellView(){if(this.disconnectCellView(),this.columnDefinition!==null)switch(this.cellType){case wg.columnHeader:this.columnDefinition.headerCellTemplate!==void 0?this.customCellView=this.columnDefinition.headerCellTemplate.render(this,this):this.customCellView=uX.render(this,this);break;case void 0:case wg.rowHeader:case wg.default:this.columnDefinition.cellTemplate!==void 0?this.customCellView=this.columnDefinition.cellTemplate.render(this,this):this.customCellView=sX.render(this,this);break}}disconnectCellView(){this.customCellView!==null&&(this.customCellView.dispose(),this.customCellView=null)}};At([Qt({attribute:"cell-type"})],Hg.prototype,"cellType",void 0);At([Qt({attribute:"grid-column"})],Hg.prototype,"gridColumn",void 0);At([Ar],Hg.prototype,"rowData",void 0);At([Ar],Hg.prototype,"columnDefinition",void 0);function lX(r){const e=r.tagFor(Hg);return ua`
    <${e}
        cell-type="${t=>t.isRowHeader?"rowheader":void 0}"
        grid-column="${(t,n)=>n.index+1}"
        :rowData="${(t,n)=>n.parent.rowData}"
        :columnDefinition="${t=>t}"
    ></${e}>
`}function cX(r){const e=r.tagFor(Hg);return ua`
    <${e}
        cell-type="columnheader"
        grid-column="${(t,n)=>n.index+1}"
        :columnDefinition="${t=>t}"
    ></${e}>
`}const fX=(r,e)=>{const t=lX(r),n=cX(r);return ua`
        <template
            role="row"
            class="${i=>i.rowType!=="default"?i.rowType:""}"
            :defaultCellItemTemplate="${t}"
            :defaultHeaderCellItemTemplate="${n}"
            ${z5({property:"cellElements",filter:gA('[role="cell"],[role="gridcell"],[role="columnheader"],[role="rowheader"]')})}
        >
            <slot ${wd("slottedCellElements")}></slot>
        </template>
    `},hX=(r,e)=>ua`
        <template
            tabindex="-1"
            role="${t=>!t.cellType||t.cellType==="default"?"gridcell":t.cellType}"
            class="
            ${t=>t.cellType==="columnheader"?"column-header":t.cellType==="rowheader"?"row-header":""}
            "
        >
            <slot></slot>
        </template>
    `,dX=(r,e)=>ua`
    <template
        role="checkbox"
        aria-checked="${t=>t.checked}"
        aria-required="${t=>t.required}"
        aria-disabled="${t=>t.disabled}"
        aria-readonly="${t=>t.readOnly}"
        tabindex="${t=>t.disabled?null:0}"
        @keypress="${(t,n)=>t.keypressHandler(n.event)}"
        @click="${(t,n)=>t.clickHandler(n.event)}"
        class="${t=>t.readOnly?"readonly":""} ${t=>t.checked?"checked":""} ${t=>t.indeterminate?"indeterminate":""}"
    >
        <div part="control" class="control">
            <slot name="checked-indicator">
                ${e.checkedIndicator||""}
            </slot>
            <slot name="indeterminate-indicator">
                ${e.indeterminateIndicator||""}
            </slot>
        </div>
        <label
            part="label"
            class="${t=>t.defaultSlottedNodes&&t.defaultSlottedNodes.length?"label":"label label__hidden"}"
        >
            <slot ${wd("defaultSlottedNodes")}></slot>
        </label>
    </template>
`;class vX extends Do{}class pX extends Y5(vX){constructor(){super(...arguments),this.proxy=document.createElement("input")}}let B1=class extends pX{constructor(){super(),this.initialValue="on",this.indeterminate=!1,this.keypressHandler=e=>{if(!this.readOnly)switch(e.key){case Db:this.indeterminate&&(this.indeterminate=!1),this.checked=!this.checked;break}},this.clickHandler=e=>{!this.disabled&&!this.readOnly&&(this.indeterminate&&(this.indeterminate=!1),this.checked=!this.checked)},this.proxy.setAttribute("type","checkbox")}readOnlyChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.readOnly=this.readOnly)}};At([Qt({attribute:"readonly",mode:"boolean"})],B1.prototype,"readOnly",void 0);At([Ar],B1.prototype,"defaultSlottedNodes",void 0);At([Ar],B1.prototype,"indeterminate",void 0);function X5(r){return VY(r)&&(r.getAttribute("role")==="option"||r instanceof HTMLOptionElement)}class Xp extends Do{constructor(e,t,n,i){super(),this.defaultSelected=!1,this.dirtySelected=!1,this.selected=this.defaultSelected,this.dirtyValue=!1,e&&(this.textContent=e),t&&(this.initialValue=t),n&&(this.defaultSelected=n),i&&(this.selected=i),this.proxy=new Option(`${this.textContent}`,this.initialValue,this.defaultSelected,this.selected),this.proxy.disabled=this.disabled}checkedChanged(e,t){if(typeof t=="boolean"){this.ariaChecked=t?"true":"false";return}this.ariaChecked=null}contentChanged(e,t){this.proxy instanceof HTMLOptionElement&&(this.proxy.textContent=this.textContent),this.$emit("contentchange",null,{bubbles:!0})}defaultSelectedChanged(){this.dirtySelected||(this.selected=this.defaultSelected,this.proxy instanceof HTMLOptionElement&&(this.proxy.selected=this.defaultSelected))}disabledChanged(e,t){this.ariaDisabled=this.disabled?"true":"false",this.proxy instanceof HTMLOptionElement&&(this.proxy.disabled=this.disabled)}selectedAttributeChanged(){this.defaultSelected=this.selectedAttribute,this.proxy instanceof HTMLOptionElement&&(this.proxy.defaultSelected=this.defaultSelected)}selectedChanged(){this.ariaSelected=this.selected?"true":"false",this.dirtySelected||(this.dirtySelected=!0),this.proxy instanceof HTMLOptionElement&&(this.proxy.selected=this.selected)}initialValueChanged(e,t){this.dirtyValue||(this.value=this.initialValue,this.dirtyValue=!1)}get label(){var e;return(e=this.value)!==null&&e!==void 0?e:this.text}get text(){var e,t;return(t=(e=this.textContent)===null||e===void 0?void 0:e.replace(/\s+/g," ").trim())!==null&&t!==void 0?t:""}set value(e){const t=`${e??""}`;this._value=t,this.dirtyValue=!0,this.proxy instanceof HTMLOptionElement&&(this.proxy.value=t),Yn.notify(this,"value")}get value(){var e;return Yn.track(this,"value"),(e=this._value)!==null&&e!==void 0?e:this.text}get form(){return this.proxy?this.proxy.form:null}}At([Ar],Xp.prototype,"checked",void 0);At([Ar],Xp.prototype,"content",void 0);At([Ar],Xp.prototype,"defaultSelected",void 0);At([Qt({mode:"boolean"})],Xp.prototype,"disabled",void 0);At([Qt({attribute:"selected",mode:"boolean"})],Xp.prototype,"selectedAttribute",void 0);At([Ar],Xp.prototype,"selected",void 0);At([Qt({attribute:"value",mode:"fromView"})],Xp.prototype,"initialValue",void 0);class v0{}At([Ar],v0.prototype,"ariaChecked",void 0);At([Ar],v0.prototype,"ariaPosInSet",void 0);At([Ar],v0.prototype,"ariaSelected",void 0);At([Ar],v0.prototype,"ariaSetSize",void 0);qf(v0,Io);qf(Xp,l0,v0);class nf extends Do{constructor(){super(...arguments),this._options=[],this.selectedIndex=-1,this.selectedOptions=[],this.shouldSkipFocus=!1,this.typeaheadBuffer="",this.typeaheadExpired=!0,this.typeaheadTimeout=-1}get firstSelectedOption(){var e;return(e=this.selectedOptions[0])!==null&&e!==void 0?e:null}get hasSelectableOptions(){return this.options.length>0&&!this.options.every(e=>e.disabled)}get length(){var e,t;return(t=(e=this.options)===null||e===void 0?void 0:e.length)!==null&&t!==void 0?t:0}get options(){return Yn.track(this,"options"),this._options}set options(e){this._options=e,Yn.notify(this,"options")}get typeAheadExpired(){return this.typeaheadExpired}set typeAheadExpired(e){this.typeaheadExpired=e}clickHandler(e){const t=e.target.closest("option,[role=option]");if(t&&!t.disabled)return this.selectedIndex=this.options.indexOf(t),!0}focusAndScrollOptionIntoView(e=this.firstSelectedOption){this.contains(document.activeElement)&&e!==null&&(e.focus(),requestAnimationFrame(()=>{e.scrollIntoView({block:"nearest"})}))}focusinHandler(e){!this.shouldSkipFocus&&e.target===e.currentTarget&&(this.setSelectedOptions(),this.focusAndScrollOptionIntoView()),this.shouldSkipFocus=!1}getTypeaheadMatches(){const e=this.typeaheadBuffer.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&"),t=new RegExp(`^${e}`,"gi");return this.options.filter(n=>n.text.trim().match(t))}getSelectableIndex(e=this.selectedIndex,t){const n=e>t?-1:e<t?1:0,i=e+n;let a=null;switch(n){case-1:{a=this.options.reduceRight((o,s,u)=>!o&&!s.disabled&&u<i?s:o,a);break}case 1:{a=this.options.reduce((o,s,u)=>!o&&!s.disabled&&u>i?s:o,a);break}}return this.options.indexOf(a)}handleChange(e,t){switch(t){case"selected":{nf.slottedOptionFilter(e)&&(this.selectedIndex=this.options.indexOf(e)),this.setSelectedOptions();break}}}handleTypeAhead(e){this.typeaheadTimeout&&window.clearTimeout(this.typeaheadTimeout),this.typeaheadTimeout=window.setTimeout(()=>this.typeaheadExpired=!0,nf.TYPE_AHEAD_TIMEOUT_MS),!(e.length>1)&&(this.typeaheadBuffer=`${this.typeaheadExpired?"":this.typeaheadBuffer}${e}`)}keydownHandler(e){if(this.disabled)return!0;this.shouldSkipFocus=!1;const t=e.key;switch(t){case h0:{e.shiftKey||(e.preventDefault(),this.selectFirstOption());break}case Yy:{e.shiftKey||(e.preventDefault(),this.selectNextOption());break}case Xy:{e.shiftKey||(e.preventDefault(),this.selectPreviousOption());break}case d0:{e.preventDefault(),this.selectLastOption();break}case mA:return this.focusAndScrollOptionIntoView(),!0;case Pb:case L1:return!0;case Db:if(this.typeaheadExpired)return!0;default:return t.length===1&&this.handleTypeAhead(`${t}`),!0}}mousedownHandler(e){return this.shouldSkipFocus=!this.contains(document.activeElement),!0}multipleChanged(e,t){this.ariaMultiSelectable=t?"true":null}selectedIndexChanged(e,t){var n;if(!this.hasSelectableOptions){this.selectedIndex=-1;return}if(!((n=this.options[this.selectedIndex])===null||n===void 0)&&n.disabled&&typeof e=="number"){const i=this.getSelectableIndex(e,t),a=i>-1?i:e;this.selectedIndex=a,t===a&&this.selectedIndexChanged(t,a);return}this.setSelectedOptions()}selectedOptionsChanged(e,t){var n;const i=t.filter(nf.slottedOptionFilter);(n=this.options)===null||n===void 0||n.forEach(a=>{const o=Yn.getNotifier(a);o.unsubscribe(this,"selected"),a.selected=i.includes(a),o.subscribe(this,"selected")})}selectFirstOption(){var e,t;this.disabled||(this.selectedIndex=(t=(e=this.options)===null||e===void 0?void 0:e.findIndex(n=>!n.disabled))!==null&&t!==void 0?t:-1)}selectLastOption(){this.disabled||(this.selectedIndex=GY(this.options,e=>!e.disabled))}selectNextOption(){!this.disabled&&this.selectedIndex<this.options.length-1&&(this.selectedIndex+=1)}selectPreviousOption(){!this.disabled&&this.selectedIndex>0&&(this.selectedIndex=this.selectedIndex-1)}setDefaultSelectedOption(){var e,t;this.selectedIndex=(t=(e=this.options)===null||e===void 0?void 0:e.findIndex(n=>n.defaultSelected))!==null&&t!==void 0?t:-1}setSelectedOptions(){var e,t,n;!((e=this.options)===null||e===void 0)&&e.length&&(this.selectedOptions=[this.options[this.selectedIndex]],this.ariaActiveDescendant=(n=(t=this.firstSelectedOption)===null||t===void 0?void 0:t.id)!==null&&n!==void 0?n:"",this.focusAndScrollOptionIntoView())}slottedOptionsChanged(e,t){this.options=t.reduce((i,a)=>(X5(a)&&i.push(a),i),[]);const n=`${this.options.length}`;this.options.forEach((i,a)=>{i.id||(i.id=Z_("option-")),i.ariaPosInSet=`${a+1}`,i.ariaSetSize=n}),this.$fastController.isConnected&&(this.setSelectedOptions(),this.setDefaultSelectedOption())}typeaheadBufferChanged(e,t){if(this.$fastController.isConnected){const n=this.getTypeaheadMatches();if(n.length){const i=this.options.indexOf(n[0]);i>-1&&(this.selectedIndex=i)}this.typeaheadExpired=!1}}}nf.slottedOptionFilter=r=>X5(r)&&!r.hidden;nf.TYPE_AHEAD_TIMEOUT_MS=1e3;At([Qt({mode:"boolean"})],nf.prototype,"disabled",void 0);At([Ar],nf.prototype,"selectedIndex",void 0);At([Ar],nf.prototype,"selectedOptions",void 0);At([Ar],nf.prototype,"slottedOptions",void 0);At([Ar],nf.prototype,"typeaheadBuffer",void 0);class Ky{}At([Ar],Ky.prototype,"ariaActiveDescendant",void 0);At([Ar],Ky.prototype,"ariaDisabled",void 0);At([Ar],Ky.prototype,"ariaExpanded",void 0);At([Ar],Ky.prototype,"ariaMultiSelectable",void 0);qf(Ky,Io);qf(nf,Ky);const mC={above:"above",below:"below"};function JC(r){const e=r.parentElement;if(e)return e;{const t=r.getRootNode();if(t.host instanceof HTMLElement)return t.host}return null}function gX(r,e){let t=e;for(;t!==null;){if(t===r)return!0;t=JC(t)}return!1}const qp=document.createElement("div");function yX(r){return r instanceof N1}class _A{setProperty(e,t){ri.queueUpdate(()=>this.target.setProperty(e,t))}removeProperty(e){ri.queueUpdate(()=>this.target.removeProperty(e))}}class mX extends _A{constructor(e){super();const t=new CSSStyleSheet;t[A5]=!0,this.target=t.cssRules[t.insertRule(":host{}")].style,e.$fastController.addStyles(Bf.create([t]))}}class bX extends _A{constructor(){super();const e=new CSSStyleSheet;this.target=e.cssRules[e.insertRule(":root{}")].style,document.adoptedStyleSheets=[...document.adoptedStyleSheets,e]}}class _X extends _A{constructor(){super(),this.style=document.createElement("style"),document.head.appendChild(this.style);const{sheet:e}=this.style;if(e){const t=e.insertRule(":root{}",e.cssRules.length);this.target=e.cssRules[t].style}}}class K5{constructor(e){this.store=new Map,this.target=null;const t=e.$fastController;this.style=document.createElement("style"),t.addStyles(this.style),Yn.getNotifier(t).subscribe(this,"isConnected"),this.handleChange(t,"isConnected")}targetChanged(){if(this.target!==null)for(const[e,t]of this.store.entries())this.target.setProperty(e,t)}setProperty(e,t){this.store.set(e,t),ri.queueUpdate(()=>{this.target!==null&&this.target.setProperty(e,t)})}removeProperty(e){this.store.delete(e),ri.queueUpdate(()=>{this.target!==null&&this.target.removeProperty(e)})}handleChange(e,t){const{sheet:n}=this.style;if(n){const i=n.insertRule(":host{}",n.cssRules.length);this.target=n.cssRules[i].style}else this.target=null}}At([Ar],K5.prototype,"target",void 0);class wX{constructor(e){this.target=e.style}setProperty(e,t){ri.queueUpdate(()=>this.target.setProperty(e,t))}removeProperty(e){ri.queueUpdate(()=>this.target.removeProperty(e))}}class ol{setProperty(e,t){ol.properties[e]=t;for(const n of ol.roots.values())Im.getOrCreate(ol.normalizeRoot(n)).setProperty(e,t)}removeProperty(e){delete ol.properties[e];for(const t of ol.roots.values())Im.getOrCreate(ol.normalizeRoot(t)).removeProperty(e)}static registerRoot(e){const{roots:t}=ol;if(!t.has(e)){t.add(e);const n=Im.getOrCreate(this.normalizeRoot(e));for(const i in ol.properties)n.setProperty(i,ol.properties[i])}}static unregisterRoot(e){const{roots:t}=ol;if(t.has(e)){t.delete(e);const n=Im.getOrCreate(ol.normalizeRoot(e));for(const i in ol.properties)n.removeProperty(i)}}static normalizeRoot(e){return e===qp?document:e}}ol.roots=new Set;ol.properties={};const bC=new WeakMap,EX=ri.supportsAdoptedStyleSheets?mX:K5,Im=Object.freeze({getOrCreate(r){if(bC.has(r))return bC.get(r);let e;return r===qp?e=new ol:r instanceof Document?e=ri.supportsAdoptedStyleSheets?new bX:new _X:yX(r)?e=new EX(r):e=new wX(r),bC.set(r,e),e}});class rf extends M5{constructor(e){super(),this.subscribers=new WeakMap,this._appliedTo=new Set,this.name=e.name,e.cssCustomPropertyName!==null&&(this.cssCustomProperty=`--${e.cssCustomPropertyName}`,this.cssVar=`var(${this.cssCustomProperty})`),this.id=rf.uniqueId(),rf.tokensById.set(this.id,this)}get appliedTo(){return[...this._appliedTo]}static from(e){return new rf({name:typeof e=="string"?e:e.name,cssCustomPropertyName:typeof e=="string"?e:e.cssCustomPropertyName===void 0?e.name:e.cssCustomPropertyName})}static isCSSDesignToken(e){return typeof e.cssCustomProperty=="string"}static isDerivedDesignTokenValue(e){return typeof e=="function"}static getTokenById(e){return rf.tokensById.get(e)}getOrCreateSubscriberSet(e=this){return this.subscribers.get(e)||this.subscribers.set(e,new Set)&&this.subscribers.get(e)}createCSS(){return this.cssVar||""}getValueFor(e){const t=js.getOrCreate(e).get(this);if(t!==void 0)return t;throw new Error(`Value could not be retrieved for token named "${this.name}". Ensure the value is set for ${e} or an ancestor of ${e}.`)}setValueFor(e,t){return this._appliedTo.add(e),t instanceof rf&&(t=this.alias(t)),js.getOrCreate(e).set(this,t),this}deleteValueFor(e){return this._appliedTo.delete(e),js.existsFor(e)&&js.getOrCreate(e).delete(this),this}withDefault(e){return this.setValueFor(qp,e),this}subscribe(e,t){const n=this.getOrCreateSubscriberSet(t);t&&!js.existsFor(t)&&js.getOrCreate(t),n.has(e)||n.add(e)}unsubscribe(e,t){const n=this.subscribers.get(t||this);n&&n.has(e)&&n.delete(e)}notify(e){const t=Object.freeze({token:this,target:e});this.subscribers.has(this)&&this.subscribers.get(this).forEach(n=>n.handleChange(t)),this.subscribers.has(e)&&this.subscribers.get(e).forEach(n=>n.handleChange(t))}alias(e){return t=>e.getValueFor(t)}}rf.uniqueId=(()=>{let r=0;return()=>(r++,r.toString(16))})();rf.tokensById=new Map;class xX{startReflection(e,t){e.subscribe(this,t),this.handleChange({token:e,target:t})}stopReflection(e,t){e.unsubscribe(this,t),this.remove(e,t)}handleChange(e){const{token:t,target:n}=e;this.add(t,n)}add(e,t){Im.getOrCreate(t).setProperty(e.cssCustomProperty,this.resolveCSSValue(js.getOrCreate(t).get(e)))}remove(e,t){Im.getOrCreate(t).removeProperty(e.cssCustomProperty)}resolveCSSValue(e){return e&&typeof e.createCSS=="function"?e.createCSS():e}}class SX{constructor(e,t,n){this.source=e,this.token=t,this.node=n,this.dependencies=new Set,this.observer=Yn.binding(e,this,!1),this.observer.handleChange=this.observer.call,this.handleChange()}disconnect(){this.observer.disconnect()}handleChange(){try{this.node.store.set(this.token,this.observer.observe(this.node.target,K0))}catch(e){console.error(e)}}}class OX{constructor(){this.values=new Map}set(e,t){this.values.get(e)!==t&&(this.values.set(e,t),Yn.getNotifier(this).notify(e.id))}get(e){return Yn.track(this,e.id),this.values.get(e)}delete(e){this.values.delete(e),Yn.getNotifier(this).notify(e.id)}all(){return this.values.entries()}}const k0=new WeakMap,M0=new WeakMap;class js{constructor(e){this.target=e,this.store=new OX,this.children=[],this.assignedValues=new Map,this.reflecting=new Set,this.bindingObservers=new Map,this.tokenValueChangeHandler={handleChange:(t,n)=>{const i=rf.getTokenById(n);i&&(i.notify(this.target),this.updateCSSTokenReflection(t,i))}},k0.set(e,this),Yn.getNotifier(this.store).subscribe(this.tokenValueChangeHandler),e instanceof N1?e.$fastController.addBehaviors([this]):e.isConnected&&this.bind()}static getOrCreate(e){return k0.get(e)||new js(e)}static existsFor(e){return k0.has(e)}static findParent(e){if(qp!==e.target){let t=JC(e.target);for(;t!==null;){if(k0.has(t))return k0.get(t);t=JC(t)}return js.getOrCreate(qp)}return null}static findClosestAssignedNode(e,t){let n=t;do{if(n.has(e))return n;n=n.parent?n.parent:n.target!==qp?js.getOrCreate(qp):null}while(n!==null);return null}get parent(){return M0.get(this)||null}updateCSSTokenReflection(e,t){if(rf.isCSSDesignToken(t)){const n=this.parent,i=this.isReflecting(t);if(n){const a=n.get(t),o=e.get(t);a!==o&&!i?this.reflectToCSS(t):a===o&&i&&this.stopReflectToCSS(t)}else i||this.reflectToCSS(t)}}has(e){return this.assignedValues.has(e)}get(e){const t=this.store.get(e);if(t!==void 0)return t;const n=this.getRaw(e);if(n!==void 0)return this.hydrate(e,n),this.get(e)}getRaw(e){var t;return this.assignedValues.has(e)?this.assignedValues.get(e):(t=js.findClosestAssignedNode(e,this))===null||t===void 0?void 0:t.getRaw(e)}set(e,t){rf.isDerivedDesignTokenValue(this.assignedValues.get(e))&&this.tearDownBindingObserver(e),this.assignedValues.set(e,t),rf.isDerivedDesignTokenValue(t)?this.setupBindingObserver(e,t):this.store.set(e,t)}delete(e){this.assignedValues.delete(e),this.tearDownBindingObserver(e);const t=this.getRaw(e);t?this.hydrate(e,t):this.store.delete(e)}bind(){const e=js.findParent(this);e&&e.appendChild(this);for(const t of this.assignedValues.keys())t.notify(this.target)}unbind(){this.parent&&M0.get(this).removeChild(this);for(const e of this.bindingObservers.keys())this.tearDownBindingObserver(e)}appendChild(e){e.parent&&M0.get(e).removeChild(e);const t=this.children.filter(n=>e.contains(n));M0.set(e,this),this.children.push(e),t.forEach(n=>e.appendChild(n)),Yn.getNotifier(this.store).subscribe(e);for(const[n,i]of this.store.all())e.hydrate(n,this.bindingObservers.has(n)?this.getRaw(n):i),e.updateCSSTokenReflection(e.store,n)}removeChild(e){const t=this.children.indexOf(e);if(t!==-1&&this.children.splice(t,1),Yn.getNotifier(this.store).unsubscribe(e),e.parent!==this)return!1;const n=M0.delete(e);for(const[i]of this.store.all())e.hydrate(i,e.getRaw(i)),e.updateCSSTokenReflection(e.store,i);return n}contains(e){return gX(this.target,e.target)}reflectToCSS(e){this.isReflecting(e)||(this.reflecting.add(e),js.cssCustomPropertyReflector.startReflection(e,this.target))}stopReflectToCSS(e){this.isReflecting(e)&&(this.reflecting.delete(e),js.cssCustomPropertyReflector.stopReflection(e,this.target))}isReflecting(e){return this.reflecting.has(e)}handleChange(e,t){const n=rf.getTokenById(t);n&&(this.hydrate(n,this.getRaw(n)),this.updateCSSTokenReflection(this.store,n))}hydrate(e,t){if(!this.has(e)){const n=this.bindingObservers.get(e);rf.isDerivedDesignTokenValue(t)?n?n.source!==t&&(this.tearDownBindingObserver(e),this.setupBindingObserver(e,t)):this.setupBindingObserver(e,t):(n&&this.tearDownBindingObserver(e),this.store.set(e,t))}}setupBindingObserver(e,t){const n=new SX(t,e,this);return this.bindingObservers.set(e,n),n}tearDownBindingObserver(e){return this.bindingObservers.has(e)?(this.bindingObservers.get(e).disconnect(),this.bindingObservers.delete(e),!0):!1}}js.cssCustomPropertyReflector=new xX;At([Ar],js.prototype,"children",void 0);function TX(r){return rf.from(r)}const Z5=Object.freeze({create:TX,notifyConnection(r){return!r.isConnected||!js.existsFor(r)?!1:(js.getOrCreate(r).bind(),!0)},notifyDisconnection(r){return r.isConnected||!js.existsFor(r)?!1:(js.getOrCreate(r).unbind(),!0)},registerRoot(r=qp){ol.registerRoot(r)},unregisterRoot(r=qp){ol.unregisterRoot(r)}}),_C=Object.freeze({definitionCallbackOnly:null,ignoreDuplicate:Symbol()}),wC=new Map,P_=new Map;let Fm=null;const N0=Go.createInterface(r=>r.cachedCallback(e=>(Fm===null&&(Fm=new J5(null,e)),Fm))),Q5=Object.freeze({tagFor(r){return P_.get(r)},responsibleFor(r){const e=r.$$designSystem$$;return e||Go.findResponsibleContainer(r).get(N0)},getOrCreate(r){if(!r)return Fm===null&&(Fm=Go.getOrCreateDOMContainer().get(N0)),Fm;const e=r.$$designSystem$$;if(e)return e;const t=Go.getOrCreateDOMContainer(r);if(t.has(N0,!1))return t.get(N0);{const n=new J5(r,t);return t.register(db.instance(N0,n)),n}}});function CX(r,e,t){return typeof r=="string"?{name:r,type:e,callback:t}:r}class J5{constructor(e,t){this.owner=e,this.container=t,this.designTokensInitialized=!1,this.prefix="fast",this.shadowRootMode=void 0,this.disambiguate=()=>_C.definitionCallbackOnly,e!==null&&(e.$$designSystem$$=this)}withPrefix(e){return this.prefix=e,this}withShadowRootMode(e){return this.shadowRootMode=e,this}withElementDisambiguation(e){return this.disambiguate=e,this}withDesignTokenRoot(e){return this.designTokenRoot=e,this}register(...e){const t=this.container,n=[],i=this.disambiguate,a=this.shadowRootMode,o={elementPrefix:this.prefix,tryDefineElement(s,u,l){const c=CX(s,u,l),{name:f,callback:d,baseClass:v}=c;let{type:p}=c,m=f,w=wC.get(m),b=!0;for(;w;){const y=i(m,p,w);switch(y){case _C.ignoreDuplicate:return;case _C.definitionCallbackOnly:b=!1,w=void 0;break;default:m=y,w=wC.get(m);break}}b&&((P_.has(p)||p===Do)&&(p=class extends p{}),wC.set(m,p),P_.set(p,m),v&&P_.set(v,m)),n.push(new AX(t,m,p,a,d,b))}};this.designTokensInitialized||(this.designTokensInitialized=!0,this.designTokenRoot!==null&&Z5.registerRoot(this.designTokenRoot)),t.registerWithContext(o,...e);for(const s of n)s.callback(s),s.willDefine&&s.definition!==null&&s.definition.define();return this}}class AX{constructor(e,t,n,i,a,o){this.container=e,this.name=t,this.type=n,this.shadowRootMode=i,this.callback=a,this.willDefine=o,this.definition=null}definePresentation(e){V5.define(this.name,e,this.container)}defineElement(e){this.definition=new Rb(this.type,Object.assign(Object.assign({},e),{name:this.name}))}tagFor(e){return Q5.tagFor(e)}}const RX=(r,e)=>ua`
    <template role="${t=>t.role}" aria-orientation="${t=>t.orientation}"></template>
`,PX={separator:"separator"};let wA=class extends Do{constructor(){super(...arguments),this.role=PX.separator,this.orientation=yA.horizontal}};At([Qt],wA.prototype,"role",void 0);At([Qt],wA.prototype,"orientation",void 0);const DX=(r,e)=>ua`
    <template
        aria-checked="${t=>t.ariaChecked}"
        aria-disabled="${t=>t.ariaDisabled}"
        aria-posinset="${t=>t.ariaPosInSet}"
        aria-selected="${t=>t.ariaSelected}"
        aria-setsize="${t=>t.ariaSetSize}"
        class="${t=>[t.checked&&"checked",t.selected&&"selected",t.disabled&&"disabled"].filter(Boolean).join(" ")}"
        role="option"
    >
        ${f0(r,e)}
        <span class="content" part="content">
            <slot ${wd("content")}></slot>
        </span>
        ${c0(r,e)}
    </template>
`;class F1 extends nf{constructor(){super(...arguments),this.activeIndex=-1,this.rangeStartIndex=-1}get activeOption(){return this.options[this.activeIndex]}get checkedOptions(){var e;return(e=this.options)===null||e===void 0?void 0:e.filter(t=>t.checked)}get firstSelectedOptionIndex(){return this.options.indexOf(this.firstSelectedOption)}activeIndexChanged(e,t){var n,i;this.ariaActiveDescendant=(i=(n=this.options[t])===null||n===void 0?void 0:n.id)!==null&&i!==void 0?i:"",this.focusAndScrollOptionIntoView()}checkActiveIndex(){if(!this.multiple)return;const e=this.activeOption;e&&(e.checked=!0)}checkFirstOption(e=!1){e?(this.rangeStartIndex===-1&&(this.rangeStartIndex=this.activeIndex+1),this.options.forEach((t,n)=>{t.checked=u_(n,this.rangeStartIndex)})):this.uncheckAllOptions(),this.activeIndex=0,this.checkActiveIndex()}checkLastOption(e=!1){e?(this.rangeStartIndex===-1&&(this.rangeStartIndex=this.activeIndex),this.options.forEach((t,n)=>{t.checked=u_(n,this.rangeStartIndex,this.options.length)})):this.uncheckAllOptions(),this.activeIndex=this.options.length-1,this.checkActiveIndex()}connectedCallback(){super.connectedCallback(),this.addEventListener("focusout",this.focusoutHandler)}disconnectedCallback(){this.removeEventListener("focusout",this.focusoutHandler),super.disconnectedCallback()}checkNextOption(e=!1){e?(this.rangeStartIndex===-1&&(this.rangeStartIndex=this.activeIndex),this.options.forEach((t,n)=>{t.checked=u_(n,this.rangeStartIndex,this.activeIndex+1)})):this.uncheckAllOptions(),this.activeIndex+=this.activeIndex<this.options.length-1?1:0,this.checkActiveIndex()}checkPreviousOption(e=!1){e?(this.rangeStartIndex===-1&&(this.rangeStartIndex=this.activeIndex),this.checkedOptions.length===1&&(this.rangeStartIndex+=1),this.options.forEach((t,n)=>{t.checked=u_(n,this.activeIndex,this.rangeStartIndex)})):this.uncheckAllOptions(),this.activeIndex-=this.activeIndex>0?1:0,this.checkActiveIndex()}clickHandler(e){var t;if(!this.multiple)return super.clickHandler(e);const n=(t=e.target)===null||t===void 0?void 0:t.closest("[role=option]");if(!(!n||n.disabled))return this.uncheckAllOptions(),this.activeIndex=this.options.indexOf(n),this.checkActiveIndex(),this.toggleSelectedForAllCheckedOptions(),!0}focusAndScrollOptionIntoView(){super.focusAndScrollOptionIntoView(this.activeOption)}focusinHandler(e){if(!this.multiple)return super.focusinHandler(e);!this.shouldSkipFocus&&e.target===e.currentTarget&&(this.uncheckAllOptions(),this.activeIndex===-1&&(this.activeIndex=this.firstSelectedOptionIndex!==-1?this.firstSelectedOptionIndex:0),this.checkActiveIndex(),this.setSelectedOptions(),this.focusAndScrollOptionIntoView()),this.shouldSkipFocus=!1}focusoutHandler(e){this.multiple&&this.uncheckAllOptions()}keydownHandler(e){if(!this.multiple)return super.keydownHandler(e);if(this.disabled)return!0;const{key:t,shiftKey:n}=e;switch(this.shouldSkipFocus=!1,t){case h0:{this.checkFirstOption(n);return}case Yy:{this.checkNextOption(n);return}case Xy:{this.checkPreviousOption(n);return}case d0:{this.checkLastOption(n);return}case mA:return this.focusAndScrollOptionIntoView(),!0;case L1:return this.uncheckAllOptions(),this.checkActiveIndex(),!0;case Db:if(e.preventDefault(),this.typeAheadExpired){this.toggleSelectedForAllCheckedOptions();return}default:return t.length===1&&this.handleTypeAhead(`${t}`),!0}}mousedownHandler(e){if(e.offsetX>=0&&e.offsetX<=this.scrollWidth)return super.mousedownHandler(e)}multipleChanged(e,t){var n;this.ariaMultiSelectable=t?"true":null,(n=this.options)===null||n===void 0||n.forEach(i=>{i.checked=t?!1:void 0}),this.setSelectedOptions()}setSelectedOptions(){if(!this.multiple){super.setSelectedOptions();return}this.$fastController.isConnected&&this.options&&(this.selectedOptions=this.options.filter(e=>e.selected),this.focusAndScrollOptionIntoView())}sizeChanged(e,t){var n;const i=Math.max(0,parseInt((n=t==null?void 0:t.toFixed())!==null&&n!==void 0?n:"",10));i!==t&&ri.queueUpdate(()=>{this.size=i})}toggleSelectedForAllCheckedOptions(){const e=this.checkedOptions.filter(n=>!n.disabled),t=!e.every(n=>n.selected);e.forEach(n=>n.selected=t),this.selectedIndex=this.options.indexOf(e[e.length-1]),this.setSelectedOptions()}typeaheadBufferChanged(e,t){if(!this.multiple){super.typeaheadBufferChanged(e,t);return}if(this.$fastController.isConnected){const n=this.getTypeaheadMatches(),i=this.options.indexOf(n[0]);i>-1&&(this.activeIndex=i,this.uncheckAllOptions(),this.checkActiveIndex()),this.typeAheadExpired=!1}}uncheckAllOptions(e=!1){this.options.forEach(t=>t.checked=this.multiple?!1:void 0),e||(this.rangeStartIndex=-1)}}At([Ar],F1.prototype,"activeIndex",void 0);At([Qt({mode:"boolean"})],F1.prototype,"multiple",void 0);At([Qt({converter:gv})],F1.prototype,"size",void 0);class IX extends Do{}class kX extends kb(IX){constructor(){super(...arguments),this.proxy=document.createElement("input")}}const MX={text:"text"};let Oh=class extends kX{constructor(){super(...arguments),this.type=MX.text}readOnlyChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.readOnly=this.readOnly,this.validate())}autofocusChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.autofocus=this.autofocus,this.validate())}placeholderChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.placeholder=this.placeholder)}typeChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.type=this.type,this.validate())}listChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.setAttribute("list",this.list),this.validate())}maxlengthChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.maxLength=this.maxlength,this.validate())}minlengthChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.minLength=this.minlength,this.validate())}patternChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.pattern=this.pattern,this.validate())}sizeChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.size=this.size)}spellcheckChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.spellcheck=this.spellcheck)}connectedCallback(){super.connectedCallback(),this.proxy.setAttribute("type",this.type),this.validate(),this.autofocus&&ri.queueUpdate(()=>{this.focus()})}select(){this.control.select(),this.$emit("select")}handleTextInput(){this.value=this.control.value}handleChange(){this.$emit("change")}validate(){super.validate(this.control)}};At([Qt({attribute:"readonly",mode:"boolean"})],Oh.prototype,"readOnly",void 0);At([Qt({mode:"boolean"})],Oh.prototype,"autofocus",void 0);At([Qt],Oh.prototype,"placeholder",void 0);At([Qt],Oh.prototype,"type",void 0);At([Qt],Oh.prototype,"list",void 0);At([Qt({converter:gv})],Oh.prototype,"maxlength",void 0);At([Qt({converter:gv})],Oh.prototype,"minlength",void 0);At([Qt],Oh.prototype,"pattern",void 0);At([Qt({converter:gv})],Oh.prototype,"size",void 0);At([Qt({mode:"boolean"})],Oh.prototype,"spellcheck",void 0);At([Ar],Oh.prototype,"defaultSlottedNodes",void 0);class EA{}qf(EA,Io);qf(Oh,l0,EA);const t3=44,NX=(r,e)=>ua`
    <template
        role="progressbar"
        aria-valuenow="${t=>t.value}"
        aria-valuemin="${t=>t.min}"
        aria-valuemax="${t=>t.max}"
        class="${t=>t.paused?"paused":""}"
    >
        ${pA(t=>typeof t.value=="number",ua`
                <svg
                    class="progress"
                    part="progress"
                    viewBox="0 0 16 16"
                    slot="determinate"
                >
                    <circle
                        class="background"
                        part="background"
                        cx="8px"
                        cy="8px"
                        r="7px"
                    ></circle>
                    <circle
                        class="determinate"
                        part="determinate"
                        style="stroke-dasharray: ${t=>t3*t.percentComplete/100}px ${t3}px"
                        cx="8px"
                        cy="8px"
                        r="7px"
                    ></circle>
                </svg>
            `,ua`
                <slot name="indeterminate" slot="indeterminate">
                    ${e.indeterminateIndicator||""}
                </slot>
            `)}
    </template>
`;class p0 extends Do{constructor(){super(...arguments),this.percentComplete=0}valueChanged(){this.$fastController.isConnected&&this.updatePercentComplete()}minChanged(){this.$fastController.isConnected&&this.updatePercentComplete()}maxChanged(){this.$fastController.isConnected&&this.updatePercentComplete()}connectedCallback(){super.connectedCallback(),this.updatePercentComplete()}updatePercentComplete(){const e=typeof this.min=="number"?this.min:0,t=typeof this.max=="number"?this.max:100,n=typeof this.value=="number"?this.value:0,i=t-e;this.percentComplete=i===0?0:Math.fround((n-e)/i*100)}}At([Qt({converter:gv})],p0.prototype,"value",void 0);At([Qt({converter:gv})],p0.prototype,"min",void 0);At([Qt({converter:gv})],p0.prototype,"max",void 0);At([Qt({mode:"boolean"})],p0.prototype,"paused",void 0);At([Ar],p0.prototype,"percentComplete",void 0);const LX=(r,e)=>ua`
    <template
        role="radiogroup"
        aria-disabled="${t=>t.disabled}"
        aria-readonly="${t=>t.readOnly}"
        @click="${(t,n)=>t.clickHandler(n.event)}"
        @keydown="${(t,n)=>t.keydownHandler(n.event)}"
        @focusout="${(t,n)=>t.focusOutHandler(n.event)}"
    >
        <slot name="label"></slot>
        <div
            class="positioning-region ${t=>t.orientation===yA.horizontal?"horizontal":"vertical"}"
            part="positioning-region"
        >
            <slot
                ${wd({property:"slottedRadioButtons",filter:gA("[role=radio]")})}
            ></slot>
        </div>
    </template>
`;let Vg=class extends Do{constructor(){super(...arguments),this.orientation=yA.horizontal,this.radioChangeHandler=e=>{const t=e.target;t.checked&&(this.slottedRadioButtons.forEach(n=>{n!==t&&(n.checked=!1,this.isInsideFoundationToolbar||n.setAttribute("tabindex","-1"))}),this.selectedRadio=t,this.value=t.value,t.setAttribute("tabindex","0"),this.focusedRadio=t),e.stopPropagation()},this.moveToRadioByIndex=(e,t)=>{const n=e[t];this.isInsideToolbar||(n.setAttribute("tabindex","0"),n.readOnly?this.slottedRadioButtons.forEach(i=>{i!==n&&i.setAttribute("tabindex","-1")}):(n.checked=!0,this.selectedRadio=n)),this.focusedRadio=n,n.focus()},this.moveRightOffGroup=()=>{var e;(e=this.nextElementSibling)===null||e===void 0||e.focus()},this.moveLeftOffGroup=()=>{var e;(e=this.previousElementSibling)===null||e===void 0||e.focus()},this.focusOutHandler=e=>{const t=this.slottedRadioButtons,n=e.target,i=n!==null?t.indexOf(n):0,a=this.focusedRadio?t.indexOf(this.focusedRadio):-1;return(a===0&&i===a||a===t.length-1&&a===i)&&(this.selectedRadio?(this.focusedRadio=this.selectedRadio,this.isInsideFoundationToolbar||(this.selectedRadio.setAttribute("tabindex","0"),t.forEach(o=>{o!==this.selectedRadio&&o.setAttribute("tabindex","-1")}))):(this.focusedRadio=t[0],this.focusedRadio.setAttribute("tabindex","0"),t.forEach(o=>{o!==this.focusedRadio&&o.setAttribute("tabindex","-1")}))),!0},this.clickHandler=e=>{const t=e.target;if(t){const n=this.slottedRadioButtons;t.checked||n.indexOf(t)===0?(t.setAttribute("tabindex","0"),this.selectedRadio=t):(t.setAttribute("tabindex","-1"),this.selectedRadio=null),this.focusedRadio=t}e.preventDefault()},this.shouldMoveOffGroupToTheRight=(e,t,n)=>e===t.length&&this.isInsideToolbar&&n===pb,this.shouldMoveOffGroupToTheLeft=(e,t)=>(this.focusedRadio?e.indexOf(this.focusedRadio)-1:0)<0&&this.isInsideToolbar&&t===vb,this.checkFocusedRadio=()=>{this.focusedRadio!==null&&!this.focusedRadio.readOnly&&!this.focusedRadio.checked&&(this.focusedRadio.checked=!0,this.focusedRadio.setAttribute("tabindex","0"),this.focusedRadio.focus(),this.selectedRadio=this.focusedRadio)},this.moveRight=e=>{const t=this.slottedRadioButtons;let n=0;if(n=this.focusedRadio?t.indexOf(this.focusedRadio)+1:1,this.shouldMoveOffGroupToTheRight(n,t,e.key)){this.moveRightOffGroup();return}else n===t.length&&(n=0);for(;n<t.length&&t.length>1;)if(t[n].disabled){if(this.focusedRadio&&n===t.indexOf(this.focusedRadio))break;if(n+1>=t.length){if(this.isInsideToolbar)break;n=0}else n+=1}else{this.moveToRadioByIndex(t,n);break}},this.moveLeft=e=>{const t=this.slottedRadioButtons;let n=0;if(n=this.focusedRadio?t.indexOf(this.focusedRadio)-1:0,n=n<0?t.length-1:n,this.shouldMoveOffGroupToTheLeft(t,e.key)){this.moveLeftOffGroup();return}for(;n>=0&&t.length>1;)if(t[n].disabled){if(this.focusedRadio&&n===t.indexOf(this.focusedRadio))break;n-1<0?n=t.length-1:n-=1}else{this.moveToRadioByIndex(t,n);break}},this.keydownHandler=e=>{const t=e.key;if(t in ZY&&this.isInsideFoundationToolbar)return!0;switch(t){case Pb:{this.checkFocusedRadio();break}case pb:case Yy:{this.direction===Zm.ltr?this.moveRight(e):this.moveLeft(e);break}case vb:case Xy:{this.direction===Zm.ltr?this.moveLeft(e):this.moveRight(e);break}default:return!0}}}readOnlyChanged(){this.slottedRadioButtons!==void 0&&this.slottedRadioButtons.forEach(e=>{this.readOnly?e.readOnly=!0:e.readOnly=!1})}disabledChanged(){this.slottedRadioButtons!==void 0&&this.slottedRadioButtons.forEach(e=>{this.disabled?e.disabled=!0:e.disabled=!1})}nameChanged(){this.slottedRadioButtons&&this.slottedRadioButtons.forEach(e=>{e.setAttribute("name",this.name)})}valueChanged(){this.slottedRadioButtons&&this.slottedRadioButtons.forEach(e=>{e.value===this.value&&(e.checked=!0,this.selectedRadio=e)}),this.$emit("change")}slottedRadioButtonsChanged(e,t){this.slottedRadioButtons&&this.slottedRadioButtons.length>0&&this.setupRadioButtons()}get parentToolbar(){return this.closest('[role="toolbar"]')}get isInsideToolbar(){var e;return(e=this.parentToolbar)!==null&&e!==void 0?e:!1}get isInsideFoundationToolbar(){var e;return!!(!((e=this.parentToolbar)===null||e===void 0)&&e.$fastController)}connectedCallback(){super.connectedCallback(),this.direction=tX(this),this.setupRadioButtons()}disconnectedCallback(){this.slottedRadioButtons.forEach(e=>{e.removeEventListener("change",this.radioChangeHandler)})}setupRadioButtons(){const e=this.slottedRadioButtons.filter(i=>i.hasAttribute("checked")),t=e?e.length:0;if(t>1){const i=e[t-1];i.checked=!0}let n=!1;if(this.slottedRadioButtons.forEach(i=>{this.name!==void 0&&i.setAttribute("name",this.name),this.disabled&&(i.disabled=!0),this.readOnly&&(i.readOnly=!0),this.value&&this.value===i.value?(this.selectedRadio=i,this.focusedRadio=i,i.checked=!0,i.setAttribute("tabindex","0"),n=!0):(this.isInsideFoundationToolbar||i.setAttribute("tabindex","-1"),i.checked=!1),i.addEventListener("change",this.radioChangeHandler)}),this.value===void 0&&this.slottedRadioButtons.length>0){const i=this.slottedRadioButtons.filter(o=>o.hasAttribute("checked")),a=i!==null?i.length:0;if(a>0&&!n){const o=i[a-1];o.checked=!0,this.focusedRadio=o,o.setAttribute("tabindex","0")}else this.slottedRadioButtons[0].setAttribute("tabindex","0"),this.focusedRadio=this.slottedRadioButtons[0]}}};At([Qt({attribute:"readonly",mode:"boolean"})],Vg.prototype,"readOnly",void 0);At([Qt({attribute:"disabled",mode:"boolean"})],Vg.prototype,"disabled",void 0);At([Qt],Vg.prototype,"name",void 0);At([Qt],Vg.prototype,"value",void 0);At([Qt],Vg.prototype,"orientation",void 0);At([Ar],Vg.prototype,"childItems",void 0);At([Ar],Vg.prototype,"slottedRadioButtons",void 0);const jX=(r,e)=>ua`
    <template
        role="radio"
        class="${t=>t.checked?"checked":""} ${t=>t.readOnly?"readonly":""}"
        aria-checked="${t=>t.checked}"
        aria-required="${t=>t.required}"
        aria-disabled="${t=>t.disabled}"
        aria-readonly="${t=>t.readOnly}"
        @keypress="${(t,n)=>t.keypressHandler(n.event)}"
        @click="${(t,n)=>t.clickHandler(n.event)}"
    >
        <div part="control" class="control">
            <slot name="checked-indicator">
                ${e.checkedIndicator||""}
            </slot>
        </div>
        <label
            part="label"
            class="${t=>t.defaultSlottedNodes&&t.defaultSlottedNodes.length?"label":"label label__hidden"}"
        >
            <slot ${wd("defaultSlottedNodes")}></slot>
        </label>
    </template>
`;class BX extends Do{}class FX extends Y5(BX){constructor(){super(...arguments),this.proxy=document.createElement("input")}}let U1=class extends FX{constructor(){super(),this.initialValue="on",this.keypressHandler=e=>{switch(e.key){case Db:!this.checked&&!this.readOnly&&(this.checked=!0);return}return!0},this.proxy.setAttribute("type","radio")}readOnlyChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.readOnly=this.readOnly)}defaultCheckedChanged(){var e;this.$fastController.isConnected&&!this.dirtyChecked&&(this.isInsideRadioGroup()||(this.checked=(e=this.defaultChecked)!==null&&e!==void 0?e:!1,this.dirtyChecked=!1))}connectedCallback(){var e,t;super.connectedCallback(),this.validate(),((e=this.parentElement)===null||e===void 0?void 0:e.getAttribute("role"))!=="radiogroup"&&this.getAttribute("tabindex")===null&&(this.disabled||this.setAttribute("tabindex","0")),this.checkedAttribute&&(this.dirtyChecked||this.isInsideRadioGroup()||(this.checked=(t=this.defaultChecked)!==null&&t!==void 0?t:!1,this.dirtyChecked=!1))}isInsideRadioGroup(){return this.closest("[role=radiogroup]")!==null}clickHandler(e){!this.disabled&&!this.readOnly&&!this.checked&&(this.checked=!0)}};At([Qt({attribute:"readonly",mode:"boolean"})],U1.prototype,"readOnly",void 0);At([Ar],U1.prototype,"name",void 0);At([Ar],U1.prototype,"defaultSlottedNodes",void 0);function UX(r,e,t){return r.nodeType!==Node.TEXT_NODE?!0:typeof r.nodeValue=="string"&&!!r.nodeValue.trim().length}class zX extends F1{}class qX extends kb(zX){constructor(){super(...arguments),this.proxy=document.createElement("select")}}class $g extends qX{constructor(){super(...arguments),this.open=!1,this.forcedPosition=!1,this.listboxId=Z_("listbox-"),this.maxHeight=0}openChanged(e,t){if(this.collapsible){if(this.open){this.ariaControls=this.listboxId,this.ariaExpanded="true",this.setPositioning(),this.focusAndScrollOptionIntoView(),this.indexWhenOpened=this.selectedIndex,ri.queueUpdate(()=>this.focus());return}this.ariaControls="",this.ariaExpanded="false"}}get collapsible(){return!(this.multiple||typeof this.size=="number")}get value(){return Yn.track(this,"value"),this._value}set value(e){var t,n,i,a,o,s,u;const l=`${this._value}`;if(!((t=this._options)===null||t===void 0)&&t.length){const c=this._options.findIndex(v=>v.value===e),f=(i=(n=this._options[this.selectedIndex])===null||n===void 0?void 0:n.value)!==null&&i!==void 0?i:null,d=(o=(a=this._options[c])===null||a===void 0?void 0:a.value)!==null&&o!==void 0?o:null;(c===-1||f!==d)&&(e="",this.selectedIndex=c),e=(u=(s=this.firstSelectedOption)===null||s===void 0?void 0:s.value)!==null&&u!==void 0?u:e}l!==e&&(this._value=e,super.valueChanged(l,e),Yn.notify(this,"value"),this.updateDisplayValue())}updateValue(e){var t,n;this.$fastController.isConnected&&(this.value=(n=(t=this.firstSelectedOption)===null||t===void 0?void 0:t.value)!==null&&n!==void 0?n:""),e&&(this.$emit("input"),this.$emit("change",this,{bubbles:!0,composed:void 0}))}selectedIndexChanged(e,t){super.selectedIndexChanged(e,t),this.updateValue()}positionChanged(e,t){this.positionAttribute=t,this.setPositioning()}setPositioning(){const e=this.getBoundingClientRect(),n=window.innerHeight-e.bottom;this.position=this.forcedPosition?this.positionAttribute:e.top>n?mC.above:mC.below,this.positionAttribute=this.forcedPosition?this.positionAttribute:this.position,this.maxHeight=this.position===mC.above?~~e.top:~~n}get displayValue(){var e,t;return Yn.track(this,"displayValue"),(t=(e=this.firstSelectedOption)===null||e===void 0?void 0:e.text)!==null&&t!==void 0?t:""}disabledChanged(e,t){super.disabledChanged&&super.disabledChanged(e,t),this.ariaDisabled=this.disabled?"true":"false"}formResetCallback(){this.setProxyOptions(),super.setDefaultSelectedOption(),this.selectedIndex===-1&&(this.selectedIndex=0)}clickHandler(e){if(!this.disabled){if(this.open){const t=e.target.closest("option,[role=option]");if(t&&t.disabled)return}return super.clickHandler(e),this.open=this.collapsible&&!this.open,!this.open&&this.indexWhenOpened!==this.selectedIndex&&this.updateValue(!0),!0}}focusoutHandler(e){var t;if(super.focusoutHandler(e),!this.open)return!0;const n=e.relatedTarget;if(this.isSameNode(n)){this.focus();return}!((t=this.options)===null||t===void 0)&&t.includes(n)||(this.open=!1,this.indexWhenOpened!==this.selectedIndex&&this.updateValue(!0))}handleChange(e,t){super.handleChange(e,t),t==="value"&&this.updateValue()}slottedOptionsChanged(e,t){this.options.forEach(n=>{Yn.getNotifier(n).unsubscribe(this,"value")}),super.slottedOptionsChanged(e,t),this.options.forEach(n=>{Yn.getNotifier(n).subscribe(this,"value")}),this.setProxyOptions(),this.updateValue()}mousedownHandler(e){var t;return e.offsetX>=0&&e.offsetX<=((t=this.listbox)===null||t===void 0?void 0:t.scrollWidth)?super.mousedownHandler(e):this.collapsible}multipleChanged(e,t){super.multipleChanged(e,t),this.proxy&&(this.proxy.multiple=t)}selectedOptionsChanged(e,t){var n;super.selectedOptionsChanged(e,t),(n=this.options)===null||n===void 0||n.forEach((i,a)=>{var o;const s=(o=this.proxy)===null||o===void 0?void 0:o.options.item(a);s&&(s.selected=i.selected)})}setDefaultSelectedOption(){var e;const t=(e=this.options)!==null&&e!==void 0?e:Array.from(this.children).filter(nf.slottedOptionFilter),n=t==null?void 0:t.findIndex(i=>i.hasAttribute("selected")||i.selected||i.value===this.value);if(n!==-1){this.selectedIndex=n;return}this.selectedIndex=0}setProxyOptions(){this.proxy instanceof HTMLSelectElement&&this.options&&(this.proxy.options.length=0,this.options.forEach(e=>{const t=e.proxy||(e instanceof HTMLOptionElement?e.cloneNode():null);t&&this.proxy.options.add(t)}))}keydownHandler(e){super.keydownHandler(e);const t=e.key||e.key.charCodeAt(0);switch(t){case Db:{e.preventDefault(),this.collapsible&&this.typeAheadExpired&&(this.open=!this.open);break}case h0:case d0:{e.preventDefault();break}case Pb:{e.preventDefault(),this.open=!this.open;break}case L1:{this.collapsible&&this.open&&(e.preventDefault(),this.open=!1);break}case mA:return this.collapsible&&this.open&&(e.preventDefault(),this.open=!1),!0}return!this.open&&this.indexWhenOpened!==this.selectedIndex&&(this.updateValue(!0),this.indexWhenOpened=this.selectedIndex),!(t===Yy||t===Xy)}connectedCallback(){super.connectedCallback(),this.forcedPosition=!!this.positionAttribute,this.addEventListener("contentchange",this.updateDisplayValue)}disconnectedCallback(){this.removeEventListener("contentchange",this.updateDisplayValue),super.disconnectedCallback()}sizeChanged(e,t){super.sizeChanged(e,t),this.proxy&&(this.proxy.size=t)}updateDisplayValue(){this.collapsible&&Yn.notify(this,"displayValue")}}At([Qt({attribute:"open",mode:"boolean"})],$g.prototype,"open",void 0);At([VW],$g.prototype,"collapsible",null);At([Ar],$g.prototype,"control",void 0);At([Qt({attribute:"position"})],$g.prototype,"positionAttribute",void 0);At([Ar],$g.prototype,"position",void 0);At([Ar],$g.prototype,"maxHeight",void 0);class xA{}At([Ar],xA.prototype,"ariaControls",void 0);qf(xA,Ky);qf($g,l0,xA);const GX=(r,e)=>ua`
    <template
        class="${t=>[t.collapsible&&"collapsible",t.collapsible&&t.open&&"open",t.disabled&&"disabled",t.collapsible&&t.position].filter(Boolean).join(" ")}"
        aria-activedescendant="${t=>t.ariaActiveDescendant}"
        aria-controls="${t=>t.ariaControls}"
        aria-disabled="${t=>t.ariaDisabled}"
        aria-expanded="${t=>t.ariaExpanded}"
        aria-haspopup="${t=>t.collapsible?"listbox":null}"
        aria-multiselectable="${t=>t.ariaMultiSelectable}"
        ?open="${t=>t.open}"
        role="combobox"
        tabindex="${t=>t.disabled?null:"0"}"
        @click="${(t,n)=>t.clickHandler(n.event)}"
        @focusin="${(t,n)=>t.focusinHandler(n.event)}"
        @focusout="${(t,n)=>t.focusoutHandler(n.event)}"
        @keydown="${(t,n)=>t.keydownHandler(n.event)}"
        @mousedown="${(t,n)=>t.mousedownHandler(n.event)}"
    >
        ${pA(t=>t.collapsible,ua`
                <div
                    class="control"
                    part="control"
                    ?disabled="${t=>t.disabled}"
                    ${af("control")}
                >
                    ${f0(r,e)}
                    <slot name="button-container">
                        <div class="selected-value" part="selected-value">
                            <slot name="selected-value">${t=>t.displayValue}</slot>
                        </div>
                        <div aria-hidden="true" class="indicator" part="indicator">
                            <slot name="indicator">
                                ${e.indicator||""}
                            </slot>
                        </div>
                    </slot>
                    ${c0(r,e)}
                </div>
            `)}
        <div
            class="listbox"
            id="${t=>t.listboxId}"
            part="listbox"
            role="listbox"
            ?disabled="${t=>t.disabled}"
            ?hidden="${t=>t.collapsible?!t.open:!1}"
            ${af("listbox")}
        >
            <slot
                ${wd({filter:nf.slottedOptionFilter,flatten:!0,property:"slottedOptions"})}
            ></slot>
        </div>
    </template>
`,HX=(r,e)=>ua`
    <template slot="tabpanel" role="tabpanel">
        <slot></slot>
    </template>
`;class VX extends Do{}const $X=(r,e)=>ua`
    <template slot="tab" role="tab" aria-disabled="${t=>t.disabled}">
        <slot></slot>
    </template>
`;class eB extends Do{}At([Qt({mode:"boolean"})],eB.prototype,"disabled",void 0);const WX=(r,e)=>ua`
    <template class="${t=>t.orientation}">
        ${f0(r,e)}
        <div class="tablist" part="tablist" role="tablist">
            <slot class="tab" name="tab" part="tab" ${wd("tabs")}></slot>

            ${pA(t=>t.showActiveIndicator,ua`
                    <div
                        ${af("activeIndicatorRef")}
                        class="activeIndicator"
                        part="activeIndicator"
                    ></div>
                `)}
        </div>
        ${c0(r,e)}
        <div class="tabpanel" part="tabpanel">
            <slot name="tabpanel" ${wd("tabpanels")}></slot>
        </div>
    </template>
`,e2={horizontal:"horizontal"};class Kp extends Do{constructor(){super(...arguments),this.orientation=e2.horizontal,this.activeindicator=!0,this.showActiveIndicator=!0,this.prevActiveTabIndex=0,this.activeTabIndex=0,this.ticking=!1,this.change=()=>{this.$emit("change",this.activetab)},this.isDisabledElement=e=>e.getAttribute("aria-disabled")==="true",this.isHiddenElement=e=>e.hasAttribute("hidden"),this.isFocusableElement=e=>!this.isDisabledElement(e)&&!this.isHiddenElement(e),this.setTabs=()=>{const e="gridColumn",t="gridRow",n=this.isHorizontal()?e:t;this.activeTabIndex=this.getActiveIndex(),this.showActiveIndicator=!1,this.tabs.forEach((i,a)=>{if(i.slot==="tab"){const o=this.activeTabIndex===a&&this.isFocusableElement(i);this.activeindicator&&this.isFocusableElement(i)&&(this.showActiveIndicator=!0);const s=this.tabIds[a],u=this.tabpanelIds[a];i.setAttribute("id",s),i.setAttribute("aria-selected",o?"true":"false"),i.setAttribute("aria-controls",u),i.addEventListener("click",this.handleTabClick),i.addEventListener("keydown",this.handleTabKeyDown),i.setAttribute("tabindex",o?"0":"-1"),o&&(this.activetab=i,this.activeid=s)}i.style[e]="",i.style[t]="",i.style[n]=`${a+1}`,this.isHorizontal()?i.classList.remove("vertical"):i.classList.add("vertical")})},this.setTabPanels=()=>{this.tabpanels.forEach((e,t)=>{const n=this.tabIds[t],i=this.tabpanelIds[t];e.setAttribute("id",i),e.setAttribute("aria-labelledby",n),this.activeTabIndex!==t?e.setAttribute("hidden",""):e.removeAttribute("hidden")})},this.handleTabClick=e=>{const t=e.currentTarget;t.nodeType===1&&this.isFocusableElement(t)&&(this.prevActiveTabIndex=this.activeTabIndex,this.activeTabIndex=this.tabs.indexOf(t),this.setComponent())},this.handleTabKeyDown=e=>{if(this.isHorizontal())switch(e.key){case vb:e.preventDefault(),this.adjustBackward(e);break;case pb:e.preventDefault(),this.adjustForward(e);break}else switch(e.key){case Xy:e.preventDefault(),this.adjustBackward(e);break;case Yy:e.preventDefault(),this.adjustForward(e);break}switch(e.key){case h0:e.preventDefault(),this.adjust(-this.activeTabIndex);break;case d0:e.preventDefault(),this.adjust(this.tabs.length-this.activeTabIndex-1);break}},this.adjustForward=e=>{const t=this.tabs;let n=0;for(n=this.activetab?t.indexOf(this.activetab)+1:1,n===t.length&&(n=0);n<t.length&&t.length>1;)if(this.isFocusableElement(t[n])){this.moveToTabByIndex(t,n);break}else{if(this.activetab&&n===t.indexOf(this.activetab))break;n+1>=t.length?n=0:n+=1}},this.adjustBackward=e=>{const t=this.tabs;let n=0;for(n=this.activetab?t.indexOf(this.activetab)-1:0,n=n<0?t.length-1:n;n>=0&&t.length>1;)if(this.isFocusableElement(t[n])){this.moveToTabByIndex(t,n);break}else n-1<0?n=t.length-1:n-=1},this.moveToTabByIndex=(e,t)=>{const n=e[t];this.activetab=n,this.prevActiveTabIndex=this.activeTabIndex,this.activeTabIndex=t,n.focus(),this.setComponent()}}orientationChanged(){this.$fastController.isConnected&&(this.setTabs(),this.setTabPanels(),this.handleActiveIndicatorPosition())}activeidChanged(e,t){this.$fastController.isConnected&&this.tabs.length<=this.tabpanels.length&&(this.prevActiveTabIndex=this.tabs.findIndex(n=>n.id===e),this.setTabs(),this.setTabPanels(),this.handleActiveIndicatorPosition())}tabsChanged(){this.$fastController.isConnected&&this.tabs.length<=this.tabpanels.length&&(this.tabIds=this.getTabIds(),this.tabpanelIds=this.getTabPanelIds(),this.setTabs(),this.setTabPanels(),this.handleActiveIndicatorPosition())}tabpanelsChanged(){this.$fastController.isConnected&&this.tabpanels.length<=this.tabs.length&&(this.tabIds=this.getTabIds(),this.tabpanelIds=this.getTabPanelIds(),this.setTabs(),this.setTabPanels(),this.handleActiveIndicatorPosition())}getActiveIndex(){return this.activeid!==void 0?this.tabIds.indexOf(this.activeid)===-1?0:this.tabIds.indexOf(this.activeid):0}getTabIds(){return this.tabs.map(e=>{var t;return(t=e.getAttribute("id"))!==null&&t!==void 0?t:`tab-${Z_()}`})}getTabPanelIds(){return this.tabpanels.map(e=>{var t;return(t=e.getAttribute("id"))!==null&&t!==void 0?t:`panel-${Z_()}`})}setComponent(){this.activeTabIndex!==this.prevActiveTabIndex&&(this.activeid=this.tabIds[this.activeTabIndex],this.focusTab(),this.change())}isHorizontal(){return this.orientation===e2.horizontal}handleActiveIndicatorPosition(){this.showActiveIndicator&&this.activeindicator&&this.activeTabIndex!==this.prevActiveTabIndex&&(this.ticking?this.ticking=!1:(this.ticking=!0,this.animateActiveIndicator()))}animateActiveIndicator(){this.ticking=!0;const e=this.isHorizontal()?"gridColumn":"gridRow",t=this.isHorizontal()?"translateX":"translateY",n=this.isHorizontal()?"offsetLeft":"offsetTop",i=this.activeIndicatorRef[n];this.activeIndicatorRef.style[e]=`${this.activeTabIndex+1}`;const a=this.activeIndicatorRef[n];this.activeIndicatorRef.style[e]=`${this.prevActiveTabIndex+1}`;const o=a-i;this.activeIndicatorRef.style.transform=`${t}(${o}px)`,this.activeIndicatorRef.classList.add("activeIndicatorTransition"),this.activeIndicatorRef.addEventListener("transitionend",()=>{this.ticking=!1,this.activeIndicatorRef.style[e]=`${this.activeTabIndex+1}`,this.activeIndicatorRef.style.transform=`${t}(0px)`,this.activeIndicatorRef.classList.remove("activeIndicatorTransition")})}adjust(e){const t=this.tabs.filter(o=>this.isFocusableElement(o)),n=t.indexOf(this.activetab),i=QY(0,t.length-1,n+e),a=this.tabs.indexOf(t[i]);a>-1&&this.moveToTabByIndex(this.tabs,a)}focusTab(){this.tabs[this.activeTabIndex].focus()}connectedCallback(){super.connectedCallback(),this.tabIds=this.getTabIds(),this.tabpanelIds=this.getTabPanelIds(),this.activeTabIndex=this.getActiveIndex()}}At([Qt],Kp.prototype,"orientation",void 0);At([Qt],Kp.prototype,"activeid",void 0);At([Ar],Kp.prototype,"tabs",void 0);At([Ar],Kp.prototype,"tabpanels",void 0);At([Qt({mode:"boolean"})],Kp.prototype,"activeindicator",void 0);At([Ar],Kp.prototype,"activeIndicatorRef",void 0);At([Ar],Kp.prototype,"showActiveIndicator",void 0);qf(Kp,l0);class YX extends Do{}class XX extends kb(YX){constructor(){super(...arguments),this.proxy=document.createElement("textarea")}}const tB={none:"none"};let uf=class extends XX{constructor(){super(...arguments),this.resize=tB.none,this.cols=20,this.handleTextInput=()=>{this.value=this.control.value}}readOnlyChanged(){this.proxy instanceof HTMLTextAreaElement&&(this.proxy.readOnly=this.readOnly)}autofocusChanged(){this.proxy instanceof HTMLTextAreaElement&&(this.proxy.autofocus=this.autofocus)}listChanged(){this.proxy instanceof HTMLTextAreaElement&&this.proxy.setAttribute("list",this.list)}maxlengthChanged(){this.proxy instanceof HTMLTextAreaElement&&(this.proxy.maxLength=this.maxlength)}minlengthChanged(){this.proxy instanceof HTMLTextAreaElement&&(this.proxy.minLength=this.minlength)}spellcheckChanged(){this.proxy instanceof HTMLTextAreaElement&&(this.proxy.spellcheck=this.spellcheck)}select(){this.control.select(),this.$emit("select")}handleChange(){this.$emit("change")}validate(){super.validate(this.control)}};At([Qt({mode:"boolean"})],uf.prototype,"readOnly",void 0);At([Qt],uf.prototype,"resize",void 0);At([Qt({mode:"boolean"})],uf.prototype,"autofocus",void 0);At([Qt({attribute:"form"})],uf.prototype,"formId",void 0);At([Qt],uf.prototype,"list",void 0);At([Qt({converter:gv})],uf.prototype,"maxlength",void 0);At([Qt({converter:gv})],uf.prototype,"minlength",void 0);At([Qt],uf.prototype,"name",void 0);At([Qt],uf.prototype,"placeholder",void 0);At([Qt({converter:gv,mode:"fromView"})],uf.prototype,"cols",void 0);At([Qt({converter:gv,mode:"fromView"})],uf.prototype,"rows",void 0);At([Qt({mode:"boolean"})],uf.prototype,"spellcheck",void 0);At([Ar],uf.prototype,"defaultSlottedNodes",void 0);qf(uf,EA);const KX=(r,e)=>ua`
    <template
        class="
            ${t=>t.readOnly?"readonly":""}
            ${t=>t.resize!==tB.none?`resize-${t.resize}`:""}"
    >
        <label
            part="label"
            for="control"
            class="${t=>t.defaultSlottedNodes&&t.defaultSlottedNodes.length?"label":"label label__hidden"}"
        >
            <slot ${wd("defaultSlottedNodes")}></slot>
        </label>
        <textarea
            part="control"
            class="control"
            id="control"
            ?autofocus="${t=>t.autofocus}"
            cols="${t=>t.cols}"
            ?disabled="${t=>t.disabled}"
            form="${t=>t.form}"
            list="${t=>t.list}"
            maxlength="${t=>t.maxlength}"
            minlength="${t=>t.minlength}"
            name="${t=>t.name}"
            placeholder="${t=>t.placeholder}"
            ?readonly="${t=>t.readOnly}"
            ?required="${t=>t.required}"
            rows="${t=>t.rows}"
            ?spellcheck="${t=>t.spellcheck}"
            :value="${t=>t.value}"
            aria-atomic="${t=>t.ariaAtomic}"
            aria-busy="${t=>t.ariaBusy}"
            aria-controls="${t=>t.ariaControls}"
            aria-current="${t=>t.ariaCurrent}"
            aria-describedby="${t=>t.ariaDescribedby}"
            aria-details="${t=>t.ariaDetails}"
            aria-disabled="${t=>t.ariaDisabled}"
            aria-errormessage="${t=>t.ariaErrormessage}"
            aria-flowto="${t=>t.ariaFlowto}"
            aria-haspopup="${t=>t.ariaHaspopup}"
            aria-hidden="${t=>t.ariaHidden}"
            aria-invalid="${t=>t.ariaInvalid}"
            aria-keyshortcuts="${t=>t.ariaKeyshortcuts}"
            aria-label="${t=>t.ariaLabel}"
            aria-labelledby="${t=>t.ariaLabelledby}"
            aria-live="${t=>t.ariaLive}"
            aria-owns="${t=>t.ariaOwns}"
            aria-relevant="${t=>t.ariaRelevant}"
            aria-roledescription="${t=>t.ariaRoledescription}"
            @input="${(t,n)=>t.handleTextInput()}"
            @change="${t=>t.handleChange()}"
            ${af("control")}
        ></textarea>
    </template>
`,ZX=(r,e)=>ua`
    <template
        class="
            ${t=>t.readOnly?"readonly":""}
        "
    >
        <label
            part="label"
            for="control"
            class="${t=>t.defaultSlottedNodes&&t.defaultSlottedNodes.length?"label":"label label__hidden"}"
        >
            <slot
                ${wd({property:"defaultSlottedNodes",filter:UX})}
            ></slot>
        </label>
        <div class="root" part="root">
            ${f0(r,e)}
            <input
                class="control"
                part="control"
                id="control"
                @input="${t=>t.handleTextInput()}"
                @change="${t=>t.handleChange()}"
                ?autofocus="${t=>t.autofocus}"
                ?disabled="${t=>t.disabled}"
                list="${t=>t.list}"
                maxlength="${t=>t.maxlength}"
                minlength="${t=>t.minlength}"
                pattern="${t=>t.pattern}"
                placeholder="${t=>t.placeholder}"
                ?readonly="${t=>t.readOnly}"
                ?required="${t=>t.required}"
                size="${t=>t.size}"
                ?spellcheck="${t=>t.spellcheck}"
                :value="${t=>t.value}"
                type="${t=>t.type}"
                aria-atomic="${t=>t.ariaAtomic}"
                aria-busy="${t=>t.ariaBusy}"
                aria-controls="${t=>t.ariaControls}"
                aria-current="${t=>t.ariaCurrent}"
                aria-describedby="${t=>t.ariaDescribedby}"
                aria-details="${t=>t.ariaDetails}"
                aria-disabled="${t=>t.ariaDisabled}"
                aria-errormessage="${t=>t.ariaErrormessage}"
                aria-flowto="${t=>t.ariaFlowto}"
                aria-haspopup="${t=>t.ariaHaspopup}"
                aria-hidden="${t=>t.ariaHidden}"
                aria-invalid="${t=>t.ariaInvalid}"
                aria-keyshortcuts="${t=>t.ariaKeyshortcuts}"
                aria-label="${t=>t.ariaLabel}"
                aria-labelledby="${t=>t.ariaLabelledby}"
                aria-live="${t=>t.ariaLive}"
                aria-owns="${t=>t.ariaOwns}"
                aria-relevant="${t=>t.ariaRelevant}"
                aria-roledescription="${t=>t.ariaRoledescription}"
                ${af("control")}
            />
            ${c0(r,e)}
        </div>
    </template>
`,Bg="not-allowed",QX=":host([hidden]){display:none}";function pc(r){return`${QX}:host{display:${r}}`}const fc=WY()?"focus-visible":"focus",JX=new Set(["children","localName","ref","style","className"]),eK=Object.freeze(Object.create(null)),r3="_default",c_=new Map;function tK(r,e){typeof r=="function"?r(e):r.current=e}function rB(r,e){if(!e.name){const t=Rb.forType(r);if(t)e.name=t.name;else throw new Error("React wrappers must wrap a FASTElement or be configured with a name.")}return e.name}function t2(r){return r.events||(r.events={})}function n3(r,e,t){return JX.has(t)?(console.warn(`${rB(r,e)} contains property ${t} which is a React reserved property. It will be used by React and not set on the element.`),!1):!0}function rK(r,e){if(!e.keys)if(e.properties)e.keys=new Set(e.properties.concat(Object.keys(t2(e))));else{const t=new Set(Object.keys(t2(e))),n=Yn.getAccessors(r.prototype);if(n.length>0)for(const i of n)n3(r,e,i.name)&&t.add(i.name);else for(const i in r.prototype)!(i in HTMLElement.prototype)&&n3(r,e,i)&&t.add(i);e.keys=t}return e.keys}function nK(r,e){let t=[];const n={register(a,...o){t.forEach(s=>s.register(a,...o)),t=[]}};function i(a,o={}){var s,u;a instanceof $5&&(e?e.register(a):t.push(a),a=a.type);const l=c_.get(a);if(l){const d=l.get((s=o.name)!==null&&s!==void 0?s:r3);if(d)return d}class c extends r.Component{constructor(){super(...arguments),this._element=null}_updateElement(v){const p=this._element;if(p===null)return;const m=this.props,w=v||eK,b=t2(o);for(const y in this._elementProps){const _=m[y],S=b[y];if(S===void 0)p[y]=_;else{const A=w[y];if(_===A)continue;A!==void 0&&p.removeEventListener(S,A),_!==void 0&&p.addEventListener(S,_)}}}componentDidMount(){this._updateElement()}componentDidUpdate(v){this._updateElement(v)}render(){const v=this.props.__forwardedRef;(this._ref===void 0||this._userRef!==v)&&(this._ref=y=>{this._element===null&&(this._element=y),v!==null&&tK(v,y),this._userRef=v});const p={ref:this._ref},m=this._elementProps={},w=rK(a,o),b=this.props;for(const y in b){const _=b[y];w.has(y)?m[y]=_:p[y==="className"?"class":y]=_}return r.createElement(rB(a,o),p)}}const f=r.forwardRef((d,v)=>r.createElement(c,Object.assign(Object.assign({},d),{__forwardedRef:v}),d==null?void 0:d.children));return c_.has(a)||c_.set(a,new Map),c_.get(a).set((u=o.name)!==null&&u!==void 0?u:r3,f),f}return{wrap:i,registry:n}}function iK(r){return Q5.getOrCreate(r).withPrefix("vscode")}function aK(r){window.addEventListener("load",()=>{new MutationObserver(()=>{i3(r)}).observe(document.body,{attributes:!0,attributeFilter:["class"]}),i3(r)})}function i3(r){const e=getComputedStyle(document.body),t=document.querySelector("body");if(t){const n=t.getAttribute("data-vscode-theme-kind");for(const[i,a]of r){let o=e.getPropertyValue(i).toString();if(n==="vscode-high-contrast")o.length===0&&a.name.includes("background")&&(o="transparent"),a.name==="button-icon-hover-background"&&(o="transparent");else if(n==="vscode-high-contrast-light"){if(o.length===0&&a.name.includes("background"))switch(a.name){case"button-primary-hover-background":o="#0F4A85";break;case"button-secondary-hover-background":o="transparent";break;case"button-icon-hover-background":o="transparent";break}}else a.name==="contrast-active-border"&&(o="transparent");a.setValueFor(t,o)}}}const a3=new Map;let o3=!1;function Or(r,e){const t=Z5.create(r);if(e){if(e.includes("--fake-vscode-token")){const n="id"+Math.random().toString(16).slice(2);e=`${e}-${n}`}a3.set(e,t)}return o3||(aK(a3),o3=!0),t}const oK=Or("background","--vscode-editor-background").withDefault("#1e1e1e"),Si=Or("border-width").withDefault(1),nB=Or("contrast-active-border","--vscode-contrastActiveBorder").withDefault("#f38518");Or("contrast-border","--vscode-contrastBorder").withDefault("#6fc3df");const Mb=Or("corner-radius").withDefault(0),Um=Or("corner-radius-round").withDefault(2),fn=Or("design-unit").withDefault(4),Zy=Or("disabled-opacity").withDefault(.4),Bs=Or("focus-border","--vscode-focusBorder").withDefault("#007fd4"),xd=Or("font-family","--vscode-font-family").withDefault("-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol");Or("font-weight","--vscode-font-weight").withDefault("400");const uc=Or("foreground","--vscode-foreground").withDefault("#cccccc"),D_=Or("input-height").withDefault("26"),SA=Or("input-min-width").withDefault("100px"),of=Or("type-ramp-base-font-size","--vscode-font-size").withDefault("13px"),Uf=Or("type-ramp-base-line-height").withDefault("normal"),iB=Or("type-ramp-minus1-font-size").withDefault("11px"),aB=Or("type-ramp-minus1-line-height").withDefault("16px");Or("type-ramp-minus2-font-size").withDefault("9px");Or("type-ramp-minus2-line-height").withDefault("16px");Or("type-ramp-plus1-font-size").withDefault("16px");Or("type-ramp-plus1-line-height").withDefault("24px");const sK=Or("scrollbarWidth").withDefault("10px"),uK=Or("scrollbarHeight").withDefault("10px"),lK=Or("scrollbar-slider-background","--vscode-scrollbarSlider-background").withDefault("#79797966"),cK=Or("scrollbar-slider-hover-background","--vscode-scrollbarSlider-hoverBackground").withDefault("#646464b3"),fK=Or("scrollbar-slider-active-background","--vscode-scrollbarSlider-activeBackground").withDefault("#bfbfbf66"),oB=Or("badge-background","--vscode-badge-background").withDefault("#4d4d4d"),sB=Or("badge-foreground","--vscode-badge-foreground").withDefault("#ffffff"),OA=Or("button-border","--vscode-button-border").withDefault("transparent"),s3=Or("button-icon-background").withDefault("transparent"),hK=Or("button-icon-corner-radius").withDefault("5px"),dK=Or("button-icon-outline-offset").withDefault(0),u3=Or("button-icon-hover-background","--fake-vscode-token").withDefault("rgba(90, 93, 94, 0.31)"),vK=Or("button-icon-padding").withDefault("3px"),zm=Or("button-primary-background","--vscode-button-background").withDefault("#0e639c"),uB=Or("button-primary-foreground","--vscode-button-foreground").withDefault("#ffffff"),lB=Or("button-primary-hover-background","--vscode-button-hoverBackground").withDefault("#1177bb"),EC=Or("button-secondary-background","--vscode-button-secondaryBackground").withDefault("#3a3d41"),pK=Or("button-secondary-foreground","--vscode-button-secondaryForeground").withDefault("#ffffff"),gK=Or("button-secondary-hover-background","--vscode-button-secondaryHoverBackground").withDefault("#45494e"),yK=Or("button-padding-horizontal").withDefault("11px"),mK=Or("button-padding-vertical").withDefault("4px"),Fp=Or("checkbox-background","--vscode-checkbox-background").withDefault("#3c3c3c"),km=Or("checkbox-border","--vscode-checkbox-border").withDefault("#3c3c3c"),bK=Or("checkbox-corner-radius").withDefault(3);Or("checkbox-foreground","--vscode-checkbox-foreground").withDefault("#f0f0f0");const Ay=Or("list-active-selection-background","--vscode-list-activeSelectionBackground").withDefault("#094771"),qm=Or("list-active-selection-foreground","--vscode-list-activeSelectionForeground").withDefault("#ffffff"),_K=Or("list-hover-background","--vscode-list-hoverBackground").withDefault("#2a2d2e"),wK=Or("divider-background","--vscode-settings-dropdownListBorder").withDefault("#454545"),f_=Or("dropdown-background","--vscode-dropdown-background").withDefault("#3c3c3c"),Ag=Or("dropdown-border","--vscode-dropdown-border").withDefault("#3c3c3c");Or("dropdown-foreground","--vscode-dropdown-foreground").withDefault("#f0f0f0");const EK=Or("dropdown-list-max-height").withDefault("200px"),Dy=Or("input-background","--vscode-input-background").withDefault("#3c3c3c"),cB=Or("input-foreground","--vscode-input-foreground").withDefault("#cccccc");Or("input-placeholder-foreground","--vscode-input-placeholderForeground").withDefault("#cccccc");const l3=Or("link-active-foreground","--vscode-textLink-activeForeground").withDefault("#3794ff"),xK=Or("link-foreground","--vscode-textLink-foreground").withDefault("#3794ff"),SK=Or("progress-background","--vscode-progressBar-background").withDefault("#0e70c0"),OK=Or("panel-tab-active-border","--vscode-panelTitle-activeBorder").withDefault("#e7e7e7"),Cm=Or("panel-tab-active-foreground","--vscode-panelTitle-activeForeground").withDefault("#e7e7e7"),TK=Or("panel-tab-foreground","--vscode-panelTitle-inactiveForeground").withDefault("#e7e7e799");Or("panel-view-background","--vscode-panel-background").withDefault("#1e1e1e");Or("panel-view-border","--vscode-panel-border").withDefault("#80808059");const CK=Or("tag-corner-radius").withDefault("2px"),AK=(r,e)=>$o`
	${pc("inline-block")} :host {
		box-sizing: border-box;
		font-family: ${xd};
		font-size: ${iB};
		line-height: ${aB};
		text-align: center;
	}
	.control {
		align-items: center;
		background-color: ${oB};
		border: calc(${Si} * 1px) solid ${OA};
		border-radius: 11px;
		box-sizing: border-box;
		color: ${sB};
		display: flex;
		height: calc(${fn} * 4px);
		justify-content: center;
		min-width: calc(${fn} * 4px + 2px);
		min-height: calc(${fn} * 4px + 2px);
		padding: 3px 6px;
	}
`;class RK extends Ib{connectedCallback(){super.connectedCallback(),this.circular||(this.circular=!0)}}const PK=RK.compose({baseName:"badge",template:W5,styles:AK});function DK(r,e,t,n){var i=arguments.length,a=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(o=r[s])&&(a=(i<3?o(a):i>3?o(e,t,a):o(e,t))||a);return i>3&&a&&Object.defineProperty(e,t,a),a}const IK=$o`
	${pc("inline-flex")} :host {
		outline: none;
		font-family: ${xd};
		font-size: ${of};
		line-height: ${Uf};
		color: ${uB};
		background: ${zm};
		border-radius: calc(${Um} * 1px);
		fill: currentColor;
		cursor: pointer;
	}
	.control {
		background: transparent;
		height: inherit;
		flex-grow: 1;
		box-sizing: border-box;
		display: inline-flex;
		justify-content: center;
		align-items: center;
		padding: ${mK} ${yK};
		white-space: wrap;
		outline: none;
		text-decoration: none;
		border: calc(${Si} * 1px) solid ${OA};
		color: inherit;
		border-radius: inherit;
		fill: inherit;
		cursor: inherit;
		font-family: inherit;
	}
	:host(:hover) {
		background: ${lB};
	}
	:host(:active) {
		background: ${zm};
	}
	.control:${fc} {
		outline: calc(${Si} * 1px) solid ${Bs};
		outline-offset: calc(${Si} * 2px);
	}
	.control::-moz-focus-inner {
		border: 0;
	}
	:host([disabled]) {
		opacity: ${Zy};
		background: ${zm};
		cursor: ${Bg};
	}
	.content {
		display: flex;
	}
	.start {
		display: flex;
	}
	::slotted(svg),
	::slotted(span) {
		width: calc(${fn} * 4px);
		height: calc(${fn} * 4px);
	}
	.start {
		margin-inline-end: 8px;
	}
`,kK=$o`
	:host([appearance='primary']) {
		background: ${zm};
		color: ${uB};
	}
	:host([appearance='primary']:hover) {
		background: ${lB};
	}
	:host([appearance='primary']:active) .control:active {
		background: ${zm};
	}
	:host([appearance='primary']) .control:${fc} {
		outline: calc(${Si} * 1px) solid ${Bs};
		outline-offset: calc(${Si} * 2px);
	}
	:host([appearance='primary'][disabled]) {
		background: ${zm};
	}
`,MK=$o`
	:host([appearance='secondary']) {
		background: ${EC};
		color: ${pK};
	}
	:host([appearance='secondary']:hover) {
		background: ${gK};
	}
	:host([appearance='secondary']:active) .control:active {
		background: ${EC};
	}
	:host([appearance='secondary']) .control:${fc} {
		outline: calc(${Si} * 1px) solid ${Bs};
		outline-offset: calc(${Si} * 2px);
	}
	:host([appearance='secondary'][disabled]) {
		background: ${EC};
	}
`,NK=$o`
	:host([appearance='icon']) {
		background: ${s3};
		border-radius: ${hK};
		color: ${uc};
	}
	:host([appearance='icon']:hover) {
		background: ${u3};
		outline: 1px dotted ${nB};
		outline-offset: -1px;
	}
	:host([appearance='icon']) .control {
		padding: ${vK};
		border: none;
	}
	:host([appearance='icon']:active) .control:active {
		background: ${u3};
	}
	:host([appearance='icon']) .control:${fc} {
		outline: calc(${Si} * 1px) solid ${Bs};
		outline-offset: ${dK};
	}
	:host([appearance='icon'][disabled]) {
		background: ${s3};
	}
`,LK=(r,e)=>$o`
	${IK}
	${kK}
	${MK}
	${NK}
`;class fB extends mv{connectedCallback(){if(super.connectedCallback(),!this.appearance){const e=this.getAttribute("appearance");this.appearance=e}}attributeChangedCallback(e,t,n){e==="appearance"&&n==="icon"&&(this.getAttribute("aria-label")||(this.ariaLabel="Icon Button")),e==="aria-label"&&(this.ariaLabel=n),e==="disabled"&&(this.disabled=n!==null)}}DK([Qt],fB.prototype,"appearance",void 0);const jK=fB.compose({baseName:"button",template:rX,styles:LK,shadowOptions:{delegatesFocus:!0}}),BK=(r,e)=>$o`
	${pc("inline-flex")} :host {
		align-items: center;
		outline: none;
		margin: calc(${fn} * 1px) 0;
		user-select: none;
		font-size: ${of};
		line-height: ${Uf};
	}
	.control {
		position: relative;
		width: calc(${fn} * 4px + 2px);
		height: calc(${fn} * 4px + 2px);
		box-sizing: border-box;
		border-radius: calc(${bK} * 1px);
		border: calc(${Si} * 1px) solid ${km};
		background: ${Fp};
		outline: none;
		cursor: pointer;
	}
	.label {
		font-family: ${xd};
		color: ${uc};
		padding-inline-start: calc(${fn} * 2px + 2px);
		margin-inline-end: calc(${fn} * 2px + 2px);
		cursor: pointer;
	}
	.label__hidden {
		display: none;
		visibility: hidden;
	}
	.checked-indicator {
		width: 100%;
		height: 100%;
		display: block;
		fill: ${uc};
		opacity: 0;
		pointer-events: none;
	}
	.indeterminate-indicator {
		border-radius: 2px;
		background: ${uc};
		position: absolute;
		top: 50%;
		left: 50%;
		width: 50%;
		height: 50%;
		transform: translate(-50%, -50%);
		opacity: 0;
	}
	:host(:enabled) .control:hover {
		background: ${Fp};
		border-color: ${km};
	}
	:host(:enabled) .control:active {
		background: ${Fp};
		border-color: ${Bs};
	}
	:host(:${fc}) .control {
		border: calc(${Si} * 1px) solid ${Bs};
	}
	:host(.disabled) .label,
	:host(.readonly) .label,
	:host(.readonly) .control,
	:host(.disabled) .control {
		cursor: ${Bg};
	}
	:host(.checked:not(.indeterminate)) .checked-indicator,
	:host(.indeterminate) .indeterminate-indicator {
		opacity: 1;
	}
	:host(.disabled) {
		opacity: ${Zy};
	}
`;class FK extends B1{connectedCallback(){super.connectedCallback(),this.textContent?this.setAttribute("aria-label",this.textContent):this.setAttribute("aria-label","Checkbox")}}const UK=FK.compose({baseName:"checkbox",template:dX,styles:BK,checkedIndicator:`
		<svg 
			part="checked-indicator"
			class="checked-indicator"
			width="16" 
			height="16" 
			viewBox="0 0 16 16" 
			xmlns="http://www.w3.org/2000/svg" 
			fill="currentColor"
		>
			<path 
				fill-rule="evenodd" 
				clip-rule="evenodd" 
				d="M14.431 3.323l-8.47 10-.79-.036-3.35-4.77.818-.574 2.978 4.24 8.051-9.506.764.646z"
			/>
		</svg>
	`,indeterminateIndicator:`
		<div part="indeterminate-indicator" class="indeterminate-indicator"></div>
	`}),zK=(r,e)=>$o`
	:host {
		display: flex;
		position: relative;
		flex-direction: column;
		width: 100%;
	}
`,qK=(r,e)=>$o`
	:host {
		display: grid;
		padding: calc((${fn} / 4) * 1px) 0;
		box-sizing: border-box;
		width: 100%;
		background: transparent;
	}
	:host(.header) {
	}
	:host(.sticky-header) {
		background: ${oK};
		position: sticky;
		top: 0;
	}
	:host(:hover) {
		background: ${_K};
		outline: 1px dotted ${nB};
		outline-offset: -1px;
	}
`,GK=(r,e)=>$o`
	:host {
		padding: calc(${fn} * 1px) calc(${fn} * 3px);
		color: ${uc};
		opacity: 1;
		box-sizing: border-box;
		font-family: ${xd};
		font-size: ${of};
		line-height: ${Uf};
		font-weight: 400;
		border: solid calc(${Si} * 1px) transparent;
		border-radius: calc(${Mb} * 1px);
		white-space: wrap;
		overflow-wrap: anywhere;
	}
	:host(.column-header) {
		font-weight: 600;
	}
	:host(:${fc}),
	:host(:focus),
	:host(:active) {
		background: ${Ay};
		border: solid calc(${Si} * 1px) ${Bs};
		color: ${qm};
		outline: none;
	}
	:host(:${fc}) ::slotted(*),
	:host(:focus) ::slotted(*),
	:host(:active) ::slotted(*) {
		color: ${qm} !important;
	}
`;class HK extends vc{connectedCallback(){super.connectedCallback(),this.getAttribute("aria-label")||this.setAttribute("aria-label","Data Grid")}}const VK=HK.compose({baseName:"data-grid",baseClass:vc,template:oX,styles:zK});class $K extends dc{}const WK=$K.compose({baseName:"data-grid-row",baseClass:dc,template:fX,styles:qK});class YK extends Hg{}const XK=YK.compose({baseName:"data-grid-cell",baseClass:Hg,template:hX,styles:GK}),KK=(r,e)=>$o`
	${pc("block")} :host {
		border: none;
		border-top: calc(${Si} * 1px) solid ${wK};
		box-sizing: content-box;
		height: 0;
		margin: calc(${fn} * 1px) 0;
		width: 100%;
	}
`;class ZK extends wA{}const QK=ZK.compose({baseName:"divider",template:RX,styles:KK}),JK=(r,e)=>$o`
	${pc("inline-flex")} :host {
		background: ${f_};
		border-radius: calc(${Um} * 1px);
		box-sizing: border-box;
		color: ${uc};
		contain: contents;
		font-family: ${xd};
		height: calc(${D_} * 1px);
		position: relative;
		user-select: none;
		min-width: ${SA};
		outline: none;
		vertical-align: top;
	}
	.control {
		align-items: center;
		box-sizing: border-box;
		border: calc(${Si} * 1px) solid ${Ag};
		border-radius: calc(${Um} * 1px);
		cursor: pointer;
		display: flex;
		font-family: inherit;
		font-size: ${of};
		line-height: ${Uf};
		min-height: 100%;
		padding: 2px 6px 2px 8px;
		width: 100%;
	}
	.listbox {
		background: ${f_};
		border: calc(${Si} * 1px) solid ${Bs};
		border-radius: calc(${Um} * 1px);
		box-sizing: border-box;
		display: inline-flex;
		flex-direction: column;
		left: 0;
		max-height: ${EK};
		padding: 0;
		overflow-y: auto;
		position: absolute;
		width: 100%;
		z-index: 1;
	}
	.listbox[hidden] {
		display: none;
	}
	:host(:${fc}) .control {
		border-color: ${Bs};
	}
	:host(:not([disabled]):hover) {
		background: ${f_};
		border-color: ${Ag};
	}
	:host(:${fc}) ::slotted([aria-selected="true"][role="option"]:not([disabled])) {
		background: ${Ay};
		border: calc(${Si} * 1px) solid transparent;
		color: ${qm};
	}
	:host([disabled]) {
		cursor: ${Bg};
		opacity: ${Zy};
	}
	:host([disabled]) .control {
		cursor: ${Bg};
		user-select: none;
	}
	:host([disabled]:hover) {
		background: ${f_};
		color: ${uc};
		fill: currentcolor;
	}
	:host(:not([disabled])) .control:active {
		border-color: ${Bs};
	}
	:host(:empty) .listbox {
		display: none;
	}
	:host([open]) .control {
		border-color: ${Bs};
	}
	:host([open][position='above']) .listbox {
		border-bottom-left-radius: 0;
		border-bottom-right-radius: 0;
	}
	:host([open][position='below']) .listbox {
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}
	:host([open][position='above']) .listbox {
		bottom: calc(${D_} * 1px);
	}
	:host([open][position='below']) .listbox {
		top: calc(${D_} * 1px);
	}
	.selected-value {
		flex: 1 1 auto;
		font-family: inherit;
		overflow: hidden;
		text-align: start;
		text-overflow: ellipsis;
		white-space: nowrap;
	}
	.indicator {
		flex: 0 0 auto;
		margin-inline-start: 1em;
	}
	slot[name='listbox'] {
		display: none;
		width: 100%;
	}
	:host([open]) slot[name='listbox'] {
		display: flex;
		position: absolute;
	}
	.end {
		margin-inline-start: auto;
	}
	.start,
	.end,
	.indicator,
	.select-indicator,
	::slotted(svg),
	::slotted(span) {
		fill: currentcolor;
		height: 1em;
		min-height: calc(${fn} * 4px);
		min-width: calc(${fn} * 4px);
		width: 1em;
	}
	::slotted([role='option']),
	::slotted(option) {
		flex: 0 0 auto;
	}
`;class eZ extends $g{}const tZ=eZ.compose({baseName:"dropdown",template:GX,styles:JK,indicator:`
		<svg 
			class="select-indicator"
			part="select-indicator"
			width="16" 
			height="16" 
			viewBox="0 0 16 16" 
			xmlns="http://www.w3.org/2000/svg" 
			fill="currentColor"
		>
			<path 
				fill-rule="evenodd" 
				clip-rule="evenodd" 
				d="M7.976 10.072l4.357-4.357.62.618L8.284 11h-.618L3 6.333l.619-.618 4.357 4.357z"
			/>
		</svg>
	`}),rZ=(r,e)=>$o`
	${pc("inline-flex")} :host {
		background: transparent;
		box-sizing: border-box;
		color: ${xK};
		cursor: pointer;
		fill: currentcolor;
		font-family: ${xd};
		font-size: ${of};
		line-height: ${Uf};
		outline: none;
	}
	.control {
		background: transparent;
		border: calc(${Si} * 1px) solid transparent;
		border-radius: calc(${Mb} * 1px);
		box-sizing: border-box;
		color: inherit;
		cursor: inherit;
		fill: inherit;
		font-family: inherit;
		height: inherit;
		padding: 0;
		outline: none;
		text-decoration: none;
		word-break: break-word;
	}
	.control::-moz-focus-inner {
		border: 0;
	}
	:host(:hover) {
		color: ${l3};
	}
	:host(:hover) .content {
		text-decoration: underline;
	}
	:host(:active) {
		background: transparent;
		color: ${l3};
	}
	:host(:${fc}) .control,
	:host(:focus) .control {
		border: calc(${Si} * 1px) solid ${Bs};
	}
`;class nZ extends yv{}const iZ=nZ.compose({baseName:"link",template:eX,styles:rZ,shadowOptions:{delegatesFocus:!0}}),aZ=(r,e)=>$o`
	${pc("inline-flex")} :host {
		font-family: var(--body-font);
		border-radius: ${Mb};
		border: calc(${Si} * 1px) solid transparent;
		box-sizing: border-box;
		color: ${uc};
		cursor: pointer;
		fill: currentcolor;
		font-size: ${of};
		line-height: ${Uf};
		margin: 0;
		outline: none;
		overflow: hidden;
		padding: 0 calc((${fn} / 2) * 1px)
			calc((${fn} / 4) * 1px);
		user-select: none;
		white-space: nowrap;
	}
	:host(:${fc}) {
		border-color: ${Bs};
		background: ${Ay};
		color: ${uc};
	}
	:host([aria-selected='true']) {
		background: ${Ay};
		border: calc(${Si} * 1px) solid transparent;
		color: ${qm};
	}
	:host(:active) {
		background: ${Ay};
		color: ${qm};
	}
	:host(:not([aria-selected='true']):hover) {
		background: ${Ay};
		border: calc(${Si} * 1px) solid transparent;
		color: ${qm};
	}
	:host(:not([aria-selected='true']):active) {
		background: ${Ay};
		color: ${uc};
	}
	:host([disabled]) {
		cursor: ${Bg};
		opacity: ${Zy};
	}
	:host([disabled]:hover) {
		background-color: inherit;
	}
	.content {
		grid-column-start: 2;
		justify-self: start;
		overflow: hidden;
		text-overflow: ellipsis;
	}
`;let oZ=class extends Xp{connectedCallback(){super.connectedCallback(),this.textContent?this.setAttribute("aria-label",this.textContent):this.setAttribute("aria-label","Option")}};const sZ=oZ.compose({baseName:"option",template:DX,styles:aZ}),uZ=(r,e)=>$o`
	${pc("grid")} :host {
		box-sizing: border-box;
		font-family: ${xd};
		font-size: ${of};
		line-height: ${Uf};
		color: ${uc};
		grid-template-columns: auto 1fr auto;
		grid-template-rows: auto 1fr;
		overflow-x: auto;
	}
	.tablist {
		display: grid;
		grid-template-rows: auto auto;
		grid-template-columns: auto;
		column-gap: calc(${fn} * 8px);
		position: relative;
		width: max-content;
		align-self: end;
		padding: calc(${fn} * 1px) calc(${fn} * 1px) 0;
		box-sizing: border-box;
	}
	.start,
	.end {
		align-self: center;
	}
	.activeIndicator {
		grid-row: 2;
		grid-column: 1;
		width: 100%;
		height: calc((${fn} / 4) * 1px);
		justify-self: center;
		background: ${Cm};
		margin: 0;
		border-radius: calc(${Mb} * 1px);
	}
	.activeIndicatorTransition {
		transition: transform 0.01s linear;
	}
	.tabpanel {
		grid-row: 2;
		grid-column-start: 1;
		grid-column-end: 4;
		position: relative;
	}
`,lZ=(r,e)=>$o`
	${pc("inline-flex")} :host {
		box-sizing: border-box;
		font-family: ${xd};
		font-size: ${of};
		line-height: ${Uf};
		height: calc(${fn} * 7px);
		padding: calc(${fn} * 1px) 0;
		color: ${TK};
		fill: currentcolor;
		border-radius: calc(${Mb} * 1px);
		border: solid calc(${Si} * 1px) transparent;
		align-items: center;
		justify-content: center;
		grid-row: 1;
		cursor: pointer;
	}
	:host(:hover) {
		color: ${Cm};
		fill: currentcolor;
	}
	:host(:active) {
		color: ${Cm};
		fill: currentcolor;
	}
	:host([aria-selected='true']) {
		background: transparent;
		color: ${Cm};
		fill: currentcolor;
	}
	:host([aria-selected='true']:hover) {
		background: transparent;
		color: ${Cm};
		fill: currentcolor;
	}
	:host([aria-selected='true']:active) {
		background: transparent;
		color: ${Cm};
		fill: currentcolor;
	}
	:host(:${fc}) {
		outline: none;
		border: solid calc(${Si} * 1px) ${OK};
	}
	:host(:focus) {
		outline: none;
	}
	::slotted(vscode-badge) {
		margin-inline-start: calc(${fn} * 2px);
	}
`,cZ=(r,e)=>$o`
	${pc("flex")} :host {
		color: inherit;
		background-color: transparent;
		border: solid calc(${Si} * 1px) transparent;
		box-sizing: border-box;
		font-size: ${of};
		line-height: ${Uf};
		padding: 10px calc((${fn} + 2) * 1px);
	}
`;class fZ extends Kp{connectedCallback(){super.connectedCallback(),this.orientation&&(this.orientation=e2.horizontal),this.getAttribute("aria-label")||this.setAttribute("aria-label","Panels")}}const hZ=fZ.compose({baseName:"panels",template:WX,styles:uZ});class dZ extends eB{connectedCallback(){super.connectedCallback(),this.disabled&&(this.disabled=!1),this.textContent&&this.setAttribute("aria-label",this.textContent)}}const vZ=dZ.compose({baseName:"panel-tab",template:$X,styles:lZ});class pZ extends VX{}const gZ=pZ.compose({baseName:"panel-view",template:HX,styles:cZ}),yZ=(r,e)=>$o`
	${pc("flex")} :host {
		align-items: center;
		outline: none;
		height: calc(${fn} * 7px);
		width: calc(${fn} * 7px);
		margin: 0;
	}
	.progress {
		height: 100%;
		width: 100%;
	}
	.background {
		fill: none;
		stroke: transparent;
		stroke-width: calc(${fn} / 2 * 1px);
	}
	.indeterminate-indicator-1 {
		fill: none;
		stroke: ${SK};
		stroke-width: calc(${fn} / 2 * 1px);
		stroke-linecap: square;
		transform-origin: 50% 50%;
		transform: rotate(-90deg);
		transition: all 0.2s ease-in-out;
		animation: spin-infinite 2s linear infinite;
	}
	@keyframes spin-infinite {
		0% {
			stroke-dasharray: 0.01px 43.97px;
			transform: rotate(0deg);
		}
		50% {
			stroke-dasharray: 21.99px 21.99px;
			transform: rotate(450deg);
		}
		100% {
			stroke-dasharray: 0.01px 43.97px;
			transform: rotate(1080deg);
		}
	}
`;class mZ extends p0{connectedCallback(){super.connectedCallback(),this.paused&&(this.paused=!1),this.setAttribute("aria-label","Loading"),this.setAttribute("aria-live","assertive"),this.setAttribute("role","alert")}attributeChangedCallback(e,t,n){e==="value"&&this.removeAttribute("value")}}const bZ=mZ.compose({baseName:"progress-ring",template:NX,styles:yZ,indeterminateIndicator:`
		<svg class="progress" part="progress" viewBox="0 0 16 16">
			<circle
				class="background"
				part="background"
				cx="8px"
				cy="8px"
				r="7px"
			></circle>
			<circle
				class="indeterminate-indicator-1"
				part="indeterminate-indicator-1"
				cx="8px"
				cy="8px"
				r="7px"
			></circle>
		</svg>
	`}),_Z=(r,e)=>$o`
	${pc("flex")} :host {
		align-items: flex-start;
		margin: calc(${fn} * 1px) 0;
		flex-direction: column;
	}
	.positioning-region {
		display: flex;
		flex-wrap: wrap;
	}
	:host([orientation='vertical']) .positioning-region {
		flex-direction: column;
	}
	:host([orientation='horizontal']) .positioning-region {
		flex-direction: row;
	}
	::slotted([slot='label']) {
		color: ${uc};
		font-size: ${of};
		margin: calc(${fn} * 1px) 0;
	}
`;class wZ extends Vg{connectedCallback(){super.connectedCallback();const e=this.querySelector("label");if(e){const t="radio-group-"+Math.random().toString(16).slice(2);e.setAttribute("id",t),this.setAttribute("aria-labelledby",t)}}}const EZ=wZ.compose({baseName:"radio-group",template:LX,styles:_Z}),xZ=(r,e)=>$o`
	${pc("inline-flex")} :host {
		align-items: center;
		flex-direction: row;
		font-size: ${of};
		line-height: ${Uf};
		margin: calc(${fn} * 1px) 0;
		outline: none;
		position: relative;
		transition: all 0.2s ease-in-out;
		user-select: none;
	}
	.control {
		background: ${Fp};
		border-radius: 999px;
		border: calc(${Si} * 1px) solid ${km};
		box-sizing: border-box;
		cursor: pointer;
		height: calc(${fn} * 4px);
		position: relative;
		outline: none;
		width: calc(${fn} * 4px);
	}
	.label {
		color: ${uc};
		cursor: pointer;
		font-family: ${xd};
		margin-inline-end: calc(${fn} * 2px + 2px);
		padding-inline-start: calc(${fn} * 2px + 2px);
	}
	.label__hidden {
		display: none;
		visibility: hidden;
	}
	.control,
	.checked-indicator {
		flex-shrink: 0;
	}
	.checked-indicator {
		background: ${uc};
		border-radius: 999px;
		display: inline-block;
		inset: calc(${fn} * 1px);
		opacity: 0;
		pointer-events: none;
		position: absolute;
	}
	:host(:not([disabled])) .control:hover {
		background: ${Fp};
		border-color: ${km};
	}
	:host(:not([disabled])) .control:active {
		background: ${Fp};
		border-color: ${Bs};
	}
	:host(:${fc}) .control {
		border: calc(${Si} * 1px) solid ${Bs};
	}
	:host([aria-checked='true']) .control {
		background: ${Fp};
		border: calc(${Si} * 1px) solid ${km};
	}
	:host([aria-checked='true']:not([disabled])) .control:hover {
		background: ${Fp};
		border: calc(${Si} * 1px) solid ${km};
	}
	:host([aria-checked='true']:not([disabled])) .control:active {
		background: ${Fp};
		border: calc(${Si} * 1px) solid ${Bs};
	}
	:host([aria-checked="true"]:${fc}:not([disabled])) .control {
		border: calc(${Si} * 1px) solid ${Bs};
	}
	:host([disabled]) .label,
	:host([readonly]) .label,
	:host([readonly]) .control,
	:host([disabled]) .control {
		cursor: ${Bg};
	}
	:host([aria-checked='true']) .checked-indicator {
		opacity: 1;
	}
	:host([disabled]) {
		opacity: ${Zy};
	}
`;class SZ extends U1{connectedCallback(){super.connectedCallback(),this.textContent?this.setAttribute("aria-label",this.textContent):this.setAttribute("aria-label","Radio")}}const OZ=SZ.compose({baseName:"radio",template:jX,styles:xZ,checkedIndicator:`
		<div part="checked-indicator" class="checked-indicator"></div>
	`}),TZ=(r,e)=>$o`
	${pc("inline-block")} :host {
		box-sizing: border-box;
		font-family: ${xd};
		font-size: ${iB};
		line-height: ${aB};
	}
	.control {
		background-color: ${oB};
		border: calc(${Si} * 1px) solid ${OA};
		border-radius: ${CK};
		color: ${sB};
		padding: calc(${fn} * 0.5px) calc(${fn} * 1px);
		text-transform: uppercase;
	}
`;class CZ extends Ib{connectedCallback(){super.connectedCallback(),this.circular&&(this.circular=!1)}}const AZ=CZ.compose({baseName:"tag",template:W5,styles:TZ}),RZ=(r,e)=>$o`
	${pc("inline-block")} :host {
		font-family: ${xd};
		outline: none;
		user-select: none;
	}
	.control {
		box-sizing: border-box;
		position: relative;
		color: ${cB};
		background: ${Dy};
		border-radius: calc(${Um} * 1px);
		border: calc(${Si} * 1px) solid ${Ag};
		font: inherit;
		font-size: ${of};
		line-height: ${Uf};
		padding: calc(${fn} * 2px + 1px);
		width: 100%;
		min-width: ${SA};
		resize: none;
	}
	.control:hover:enabled {
		background: ${Dy};
		border-color: ${Ag};
	}
	.control:active:enabled {
		background: ${Dy};
		border-color: ${Bs};
	}
	.control:hover,
	.control:${fc},
	.control:disabled,
	.control:active {
		outline: none;
	}
	.control::-webkit-scrollbar {
		width: ${sK};
		height: ${uK};
	}
	.control::-webkit-scrollbar-corner {
		background: ${Dy};
	}
	.control::-webkit-scrollbar-thumb {
		background: ${lK};
	}
	.control::-webkit-scrollbar-thumb:hover {
		background: ${cK};
	}
	.control::-webkit-scrollbar-thumb:active {
		background: ${fK};
	}
	:host(:focus-within:not([disabled])) .control {
		border-color: ${Bs};
	}
	:host([resize='both']) .control {
		resize: both;
	}
	:host([resize='horizontal']) .control {
		resize: horizontal;
	}
	:host([resize='vertical']) .control {
		resize: vertical;
	}
	.label {
		display: block;
		color: ${uc};
		cursor: pointer;
		font-size: ${of};
		line-height: ${Uf};
		margin-bottom: 2px;
	}
	.label__hidden {
		display: none;
		visibility: hidden;
	}
	:host([disabled]) .label,
	:host([readonly]) .label,
	:host([readonly]) .control,
	:host([disabled]) .control {
		cursor: ${Bg};
	}
	:host([disabled]) {
		opacity: ${Zy};
	}
	:host([disabled]) .control {
		border-color: ${Ag};
	}
`;class PZ extends uf{connectedCallback(){super.connectedCallback(),this.textContent?this.setAttribute("aria-label",this.textContent):this.setAttribute("aria-label","Text area")}}const DZ=PZ.compose({baseName:"text-area",template:KX,styles:RZ,shadowOptions:{delegatesFocus:!0}}),IZ=(r,e)=>$o`
	${pc("inline-block")} :host {
		font-family: ${xd};
		outline: none;
		user-select: none;
	}
	.root {
		box-sizing: border-box;
		position: relative;
		display: flex;
		flex-direction: row;
		color: ${cB};
		background: ${Dy};
		border-radius: calc(${Um} * 1px);
		border: calc(${Si} * 1px) solid ${Ag};
		height: calc(${D_} * 1px);
		min-width: ${SA};
	}
	.control {
		-webkit-appearance: none;
		font: inherit;
		background: transparent;
		border: 0;
		color: inherit;
		height: calc(100% - (${fn} * 1px));
		width: 100%;
		margin-top: auto;
		margin-bottom: auto;
		border: none;
		padding: 0 calc(${fn} * 2px + 1px);
		font-size: ${of};
		line-height: ${Uf};
	}
	.control:hover,
	.control:${fc},
	.control:disabled,
	.control:active {
		outline: none;
	}
	.label {
		display: block;
		color: ${uc};
		cursor: pointer;
		font-size: ${of};
		line-height: ${Uf};
		margin-bottom: 2px;
	}
	.label__hidden {
		display: none;
		visibility: hidden;
	}
	.start,
	.end {
		display: flex;
		margin: auto;
		fill: currentcolor;
	}
	::slotted(svg),
	::slotted(span) {
		width: calc(${fn} * 4px);
		height: calc(${fn} * 4px);
	}
	.start {
		margin-inline-start: calc(${fn} * 2px);
	}
	.end {
		margin-inline-end: calc(${fn} * 2px);
	}
	:host(:hover:not([disabled])) .root {
		background: ${Dy};
		border-color: ${Ag};
	}
	:host(:active:not([disabled])) .root {
		background: ${Dy};
		border-color: ${Bs};
	}
	:host(:focus-within:not([disabled])) .root {
		border-color: ${Bs};
	}
	:host([disabled]) .label,
	:host([readonly]) .label,
	:host([readonly]) .control,
	:host([disabled]) .control {
		cursor: ${Bg};
	}
	:host([disabled]) {
		opacity: ${Zy};
	}
	:host([disabled]) .control {
		border-color: ${Ag};
	}
`;class kZ extends Oh{connectedCallback(){super.connectedCallback(),this.textContent?this.setAttribute("aria-label",this.textContent):this.setAttribute("aria-label","Text field")}}const MZ=kZ.compose({baseName:"text-field",template:ZX,styles:IZ,shadowOptions:{delegatesFocus:!0}}),{wrap:Iu}=nK(UB,iK());Iu(PK(),{name:"vscode-badge"});const c3=Iu(jK(),{name:"vscode-button"});Iu(UK(),{name:"vscode-checkbox",events:{onChange:"change"}});Iu(VK(),{name:"vscode-data-grid"});Iu(XK(),{name:"vscode-data-grid-cell"});Iu(WK(),{name:"vscode-data-grid-row"});Iu(QK(),{name:"vscode-divider"});Iu(tZ(),{name:"vscode-dropdown",events:{onChange:"change"}});Iu(iZ(),{name:"vscode-link"});Iu(sZ(),{name:"vscode-option"});Iu(hZ(),{name:"vscode-panels",events:{onChange:"change"}});Iu(vZ(),{name:"vscode-panel-tab"});Iu(gZ(),{name:"vscode-panel-view"});Iu(bZ(),{name:"vscode-progress-ring"});Iu(OZ(),{name:"vscode-radio",events:{onChange:"change"}});Iu(EZ(),{name:"vscode-radio-group",events:{onChange:"change"}});Iu(AZ(),{name:"vscode-tag"});Iu(DZ(),{name:"vscode-text-area",events:{onChange:"change",onInput:"input"}});const NZ=Iu(MZ(),{name:"vscode-text-field",events:{onChange:"change",onInput:"input"}});function LZ(){const[r,e]=_i.useState(""),[t,n]=_i.useState([{id:"0",caption:"Jonny"},{id:"1",caption:"Advanced Model Engineering"}]),[i,a]=_i.useState([{from:"0",to:"1",id:"10",caption:"is taking"}]),[o,s]=_i.useState([]),u=()=>{const f={id:String(t.length),caption:r};n([...t,f]),e("")},l=()=>{if(o.length===2&&r.trim()){const f=o[0].id,d=o[1].id,v={id:String(Date.now()),from:f,to:d,caption:r};a([...i,v]),s([]),e("")}},c={onNodeClick:f=>{s(d=>d.find(p=>p.id===f.id)?d.filter(p=>p.id!==f.id):d.length<2?[...d,f]:[f])},onHover:(f,d,v)=>{console.log("onHover",f,d,v)},onRelationshipClick:(f,d,v)=>{console.log("onRelationshipClick",f,d,v)},onCanvasClick:f=>console.log("onCanvasClick",f),onDrag:f=>console.log("onDrag",f),onZoom:f=>console.log("onZoom",f)};return np.jsxs("div",{style:{width:"100%",height:"120vh"},children:[np.jsxs("div",{className:"w-full flex gap-3 mb-2",children:[np.jsx(NZ,{value:r,onChange:f=>{e(f.target.value)},placeholder:"Enter node name or relationship label",className:"w-1/2"}),np.jsx(c3,{onClick:u,children:"Add Node"}),np.jsx(c3,{onClick:l,disabled:o.length!==2||!r,children:"Connect Selected Nodes"})]}),np.jsx(HW,{nvlOptions:{initialZoom:3},nodes:t,rels:i,mouseEventCallbacks:c})]})}WB.createRoot(document.getElementById("root")).render(np.jsx(_i.StrictMode,{children:np.jsx(LZ,{})}));export{Wm as C,Z2 as P,Gr as _,Hr as a,Au as b,or as c,g5 as d,Ey as e,BZ as f,FZ as g,bd as h,lb as i,G4 as j,tA as k,tC as l,j$ as m,Y0 as n,Gp as o,T$ as p,TV as q,n_ as r,fv as s,lV as t,UZ as u,B$ as v,Qm as w};
